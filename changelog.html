

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Changelog &mdash; KubeInit  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Playbook diagrams" href="playbook_diagrams.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          


  <a href="http://www.kubeinit.com">



  
  <img src="_static/white_text_logo.png" class="logo" alt="Logo"/>

</a>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="roles.html">Documented roles in KubeInit</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Documented modules in KubeInit</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos_and_presentations.html">HowTo’s and presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory_diagrams.html">Inventory diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="playbook_diagrams.html">Playbook diagrams</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#unreleased">(unreleased)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chore">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-0-2-release-date-2021-03-19">v1.0.2 - Release date: 2021-03-19</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-0-1-release-date-2021-03-10">v1.0.1 - Release date: 2021-03-10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-0-0-release-date-2021-02-05">v1.0.0 - Release date: 2021-02-05</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-6-5-release-date-2020-12-15">v0.6.5 - Release date: 2020-12-15</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id12">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-6-4-release-date-2020-12-09">v0.6.4 - Release date: 2020-12-09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#refactor">Refactor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-6-3-release-date-2020-12-08">v0.6.3 - Release date: 2020-12-08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id18">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-6-2-release-date-2020-12-04">v0.6.2 - Release date: 2020-12-04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id21">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-6-1-release-date-2020-11-23">v0.6.1 - Release date: 2020-11-23</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-6-0-release-date-2020-11-20">v0.6.0 - Release date: 2020-11-20</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id27">Chore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id28">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id29">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id30">Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id31">Refactor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-5-7-release-date-2020-10-21">v0.5.7 - Release date: 2020-10-21</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-5-6-release-date-2020-10-21">v0.5.6 - Release date: 2020-10-21</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-5-4-release-date-2020-10-21">v0.5.4 - Release date: 2020-10-21</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">KubeInit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Changelog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/changelog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="unreleased">
<h2>(unreleased)<a class="headerlink" href="#unreleased" title="Permalink to this headline">¶</a></h2>
<div class="section" id="chore">
<h3>Chore<a class="headerlink" href="#chore" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Include disable disruptive. [Carlos Camacho]</p>
<p>This commit enables the disruptive mode
in the subctl verify on demand.</p>
</li>
<li><p>Reduce timeouts. [Carlos Camacho]</p>
<p>This commit reduces the timeouts when testing submariner.</p>
</li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Include all_nodes and fix the task path for cleaning. [Carlos Camacho]</p>
<p>This commit fixes the documentation about how to clean the
environment.</p>
</li>
</ul>
</div>
<div class="section" id="features">
<h3>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Include upload logs to CDN. [Carlos Camacho]</p>
<p>This commit adds the hability to
upload the CI logs to GC instead
of pushing them to GH.</p>
</li>
<li><p>Normalize inventory groups and cleanup. [Glenn Marcy]</p>
<p>This commit remove the distro prefix from the group names in
the inventory files so that the names are consistent and are
common across distros.  Additional cleanup to refactor tasks
like systemd user services to be shared across service roles,
moving certificate info to common config and moving tasks to
check that nodes are up into the tasks which create them.</p>
</li>
<li><p>Allow two machines per OVN deployment. [Carlos Camacho]</p>
<p>This commit changes the default nyctea host by
nyteaa (note the extra a) which allows to deploy
the OVN scenario in a different set of nodes.</p>
</li>
<li><p>Include a multi HV deployment. [Carlos Camacho]</p>
<p>This commits adds a multi HV deployment
in the CI jobs.</p>
</li>
<li><p>Improve the task flow on multi-hypervisor clusters. [Glenn Marcy]</p>
<p>This commit reorganizes many of the hypervisor tasks so that
they can be run in parallel on multiple hypervisors.  Other
minor cleanup preparing for future deliverables.</p>
</li>
<li><p>Continue with minor cleanup. [Glenn Marcy]</p>
<p>This commit includes mostly minor cleanup for consistency, highlights
are splitting up some of the prepare to be called from different plays
in the playbook and improvements to the nexus role to get it closer to
and operational state.</p>
</li>
<li><p>Add new services role, cleanup several areas of the code. [Glenn
Marcy]</p>
<p>This commit adds a new kubeinit_services role which will eventually be used
to replace the current services virtual machine with podman services pods.
Other changes include:
- removal of all ansible tags left over from early prototyping
- removal of all external interface code, which has been replaced by a new</p>
<blockquote>
<div><p>create-external-ingress script</p>
</div></blockquote>
<ul class="simple">
<li><p>consolidation of all podman login checks into a new prepare_podman step</p></li>
<li><p>other smaller miscellaneous changes</p></li>
</ul>
</li>
<li><p>Move more common facts to prepare and use them in roles. [Glenn Marcy]</p>
<p>This commit add more consolidation of facts into the prepare role
so that the other roles can depend on that information being available
to them later.</p>
</li>
<li><p>Sleep for x seconds before the subctl verify. [Carlos Camacho]</p>
<p>The CI triggers the subctl verify command
just after the cluster is deployed. Let’s give
some time to the cluster to converge prior the test.</p>
</li>
<li><p>Initial prepare role reorg and cleanup. [Glenn Marcy]</p>
<p>This commit starts to pull the initial prepare phase tasks
together to provide more consistency in how facts are defined
and made available for the roles that depend on those facts.</p>
</li>
<li><p>Change all distros to share the same playbook. [Glenn Marcy]</p>
<p>This commit replaces all current distro specific playbooks
with symbolic links to a new common playbook.  Further
refactoring is expected as we pivot to a common flow that
they all would share, with minor changes as needed per
distro, rather than the current case where each distro
has it’s only copy of the entire deployment which is for
the most part the same for all distros.  Also fixed a
broken symlink for the eks host group vars.</p>
</li>
<li><p>Reorganize and cleanup service nodes. [Glenn Marcy]</p>
<p>This commit makes some initial changes in preparation for future
changes to how services are handled.  Now that services are all in
containers the process of moving those containers from a service
virtual machine into container pods can begin.</p>
</li>
<li><p>Allow deploying released versions. [Carlos Camacho]</p>
<p>This commit allows to deploy submariner released versions.</p>
</li>
<li><p>Make dynamic the docker version in rke. [Carlos Camacho]</p>
<p>This commit allows to pin an specific docker version
in the RKE cluster.</p>
</li>
<li><p>Bump k8s version to 1.20. [Carlos Camacho]</p>
<p>This commit updates k8s from 1.18 to 1.20
and configures extra variables for choosing
the distro and the k8s version to be deployed.</p>
</li>
<li><p>Update OKD to latest 4.6. [Carlos Camacho]</p>
<p>This commit updates OKD to the latest version prior 4.7</p>
</li>
<li><p>Include  submariner in the periodic jobs. [Carlos Camacho]</p>
<p>This commit includes submariner in the periodic jobs.</p>
</li>
<li><p>Include a prepare role. [Carlos Camacho]</p>
<p>This commit includes a prepare role
agnostic from the distribution or the
infrastructure provider to be deployed.</p>
</li>
<li><p>Configure nexus. [Carlos Camacho]</p>
<p>This commit configures nexus to replace the container registry.</p>
</li>
<li><p>Include nexus container registry. [Carlos Camacho]</p>
<p>This commit adds the skeleton templates
to deploy nexus.</p>
</li>
<li><p>Run haproxy service from a container. [Glenn Marcy]</p>
<p>This commit runs the haproxy server from a container instead of installing
it into the service node virtual machine.</p>
</li>
<li><p>Run local registry container with podman instead of docker. [Glenn
Marcy]</p>
<p>This commit changes the local registry service from running in a
container with docker to using podman to run the container.</p>
</li>
<li><p>Run bind9 DNS service from a container. [Glenn Marcy]</p>
<p>This commit runs the bind9 server from a container instead of installing
it into the service node virtual machine.</p>
</li>
<li><p>Run apache http service from a container. [Glenn Marcy]</p>
<p>This commit runs the http server from a container instead of installing
it into the service node virtual machine.</p>
</li>
<li><p>Update service node from centos 8.3.2011 to 8-stream. [Glenn Marcy]</p>
<p>This commit will switch the VM we create for the service node from
CentOS 8.3.2011 to CentOS Stream.</p>
</li>
</ul>
</div>
<div class="section" id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Pull from docker. [Carlos Camacho]</p>
<p>By default we use python:slim
to deploy the kubeinit container.
This commit makes explicit where to
pull from.</p>
</li>
<li><p>Allow fetch EKS images from distro.eks directly. [Carlos Camacho]</p>
<p>This commit fixes the step that fetch the images,
before the images were in a single text file and
now we fetch them directly from the EKS registry.</p>
</li>
<li><p>Add pin to ansible &lt;4. [Carlos Camacho]</p>
<p>This commit excludes ansible 4 from the CI.</p>
</li>
<li><p>Move OVN scenario from OKD to vanilla K8s. [Carlos Camacho]</p>
<p>The OKD deployment takes too much resources, this commit
moves the OVN job to a lighter scenario.</p>
</li>
<li><p>Pull directly from CDN. [Carlos Camacho]</p>
<p>This commit makes the job to pull directly the images from the CDN.</p>
</li>
<li><p>Enable 4 hypervisors. [Carlos Camacho]</p>
<p>The OVN job fails because there is not enough capacity
this commit, enables 4 machines for the OVN jobs.</p>
</li>
<li><p>Change the ovn periodic job tag. [Carlos Camacho]</p>
<p>This commit fixes the tag in the OVN job
for the periodic run.</p>
</li>
<li><p>Make jobs to force use latest ubuntu and python 3.8. [Carlos Camacho]</p>
<p>This commit adjust the GitHub jobs to use the
same status check (build 3.8).</p>
</li>
<li><p>Delete other blank line. [Glenn Marcy]</p></li>
<li><p>Remove extra blank line. [Glenn Marcy]</p></li>
<li><p>Change state from stopped to created for service pod. [Glenn Marcy]</p></li>
<li><p>Remove extra spaces. [Carlos Camacho]</p>
<p>This commit removes an extra expace when executing subctl verify.</p>
</li>
<li><p>Adjust CI scripts. [Carlos Camacho]</p>
<p>This commit adjusts the CI scripts
as there are two worker nodes by default
in the inventory file.</p>
</li>
<li><p>Increase the timeout for checking the connection. [Carlos Camacho]</p>
<p>This commit increases the retry number for
checking that the submariner connection is up
and running.</p>
</li>
<li><p>Pass distro to ansible-playbook-grapher. [Glenn Marcy]</p>
<p>This commit addresses the new kubeinit_inventory_cluster_distro
reference in the playbook by defining it for each distro on the
command line.</p>
</li>
<li><p>Add a second worker to each distro inventory. [Glenn Marcy]</p>
<p>This commit adds a second worker node so that we can run
a cluster version update when a newer release is available.</p>
</li>
<li><p>Change haprocy stats port from 9090 to 9000. [Glenn Marcy]</p>
<p>This commit moves the stats port so that it does not conflict
with the cockpit port.</p>
</li>
<li><p>Change subctl–linux-amd64 with subctl. [Carlos Camacho]</p>
<p>This commit changes subctl–linux-amd64 with
subctl–linux-amd64 because is the new name
for this binary.</p>
</li>
<li><p>Remove the ignore errors in submariner. [Carlos Camacho]</p>
<p>This commit removes some workarounds
for creating the submariner operator
images.</p>
</li>
<li><p>Adjust submariner labels based on the workers number. [Carlos Camacho]</p>
<p>This commit adds the correct nodes labels for
the submariner operator to work in HA when its
possible.</p>
</li>
<li><p>Nit removal. [Carlos Camacho]</p>
<p>This commit fixes the YAML lint check.</p>
</li>
<li><p>Do not upgrade Docker. [Carlos Camacho]</p>
<p>This commit removes the docker upgrade command,
we need to pin a specific version.</p>
</li>
<li><p>Nit fix in the ci script. [Carlos Camacho]</p>
<p>This commit fixes a nit in the ci scripts.</p>
</li>
<li><p>Include registry auth in .docker. [Carlos Camacho]</p>
<p>It is still required to have the authentication
details in the .docker folder defore pushing
to the local registry.</p>
</li>
<li><p>Adjust podman login in secondary cluster. [Carlos Camacho]</p>
<p>This commit fixes the podman login to configure
the secondary submariner cluster.</p>
</li>
<li><p>Addsubmariner periodic to readme. [Carlos Camacho]</p>
<p>This commit adds the periodic jobs results to the project’s readme.</p>
</li>
<li><p>Adjust submariner make steps. [Carlos Camacho]</p>
<p>Currently there is a bug when using
the make module as the submariner make
file has some errors captured by Ansible.</p>
</li>
<li><p>Include pending submariner config. [Carlos Camacho]</p>
<p>This commit adds the pending config details for
submariner.</p>
</li>
<li><p>Make submariner playbooks aligned with the other roles. [Carlos
Camacho]</p>
<p>This commit aligns submariner role to the pattern used in
all the other roles.</p>
</li>
<li><p>Build subctl in the docker cluster. [Carlos Camacho]</p>
<p>This commit fixes the build of submariner,
now this is executed in the RKE cluster
and syncronized to the OKD cluster (docker -&gt; podman).</p>
</li>
<li><p>Replace wrong ci strings. [Carlos Camacho]</p>
<p>This commit fixes a nit in the ci scripts
that causes k8s periodic job to run cdk.</p>
</li>
<li><p>Remove docker from submariner. [Carlos Camacho]</p>
<p>This commit removes docker commands from
the submariner role.</p>
</li>
<li><p>Move to shell and sort parameters. [Carlos Camacho]</p>
<p>This commit moves to shell the podman login
commands as the dont work correctly with
different OS distros.</p>
</li>
<li><p>Move docker pass to each role. [Carlos Camacho]</p>
<p>This commit moves the docker auth file to each
role using it.</p>
</li>
<li><p>Login to docker.io from text file auth. [Carlos Camacho]</p>
<p>This commit changes the docker.io auth from CLI to
use a text file.</p>
</li>
<li><p>Move shell to command. [Carlos Camacho]</p>
<p>This commit moves shell to command.</p>
</li>
<li><p>Securize podman login. [Carlos Camacho]</p>
<p>This patch fixes showing the podman login
password in the Ansible logs.</p>
</li>
<li><p>Allow requests to wait 1600s. [Carlos Camacho]</p>
<p>This commit increases the timeout
for the NFS resources.</p>
</li>
<li><p>Add a timeout to the imageregistry provider commands. [Carlos Camacho]</p>
<p>This adds a higher timeout when pathing the imageregistry
operator.</p>
</li>
<li><p>Remove docker and create haproxy files. [Carlos Camacho]</p>
<p>This commit removes the docker bits in the registry role
and some missing requisites for haproxy to be configured in
Ubuntu.</p>
</li>
<li><p>Lint errors. [Glenn Marcy]</p>
<p>Commit to fix lint errors.</p>
</li>
<li><p>Add missing cluster name to several places generating cluster FQDNs.
[Glenn Marcy]</p>
<p>This commit fixes several locations where the FQDN for a cluster node was
missing the cluster name.</p>
</li>
<li><p>Enforce detach parameters. [Carlos Camacho]</p>
<p>This commit enfoces the parameters
when calling the detach script.</p>
</li>
<li><p>Enable or disable master schedulable depending on worker nodes.
[Carlos Camacho]</p>
<p>This commit disables or enables the master nodes as schedulable
depending only if there are or not worker nodes.</p>
</li>
<li><p>Wait for 60 retries. [Carlos Camacho]</p>
<p>This commit increases the retries waiting
for the NFS resources to start.</p>
</li>
<li><p>Add ignore_errors when waiting for nfs resources to start. [Carlos
Camacho]</p>
<p>This commit adds an ignore_errors when waiting for the NFS resources
to start.</p>
</li>
<li><p>Enable mastersSchedulable if no workers. [Carlos Camacho]</p>
<p>This commit enables mastersSchedulable when there
are no worker nodes in the cluster.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v1-0-2-release-date-2021-03-19">
<h2>v1.0.2 - Release date: 2021-03-19<a class="headerlink" href="#v1-0-2-release-date-2021-03-19" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Chore<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Release 1.0.2. [Carlos Camacho]</p>
<p>This commit releases KubeInit 1.0.2.</p>
</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Features<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Allow to deploy OpenShift. [Carlos Camacho]</p>
<p>This commit allows to deploy OpenShift from the
automation used to deploy OKD.</p>
</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Fixes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Wait for image registry resource exists. [Carlos Camacho]</p>
<p>This commit fixes a race condition in the CI,
we try to patch resources that might not exists.</p>
</li>
<li><p>Adjust removing the bootstrap node in single master configs. [Carlos
Camacho]</p>
<p>This commit adjust the step of removing the bootstrap
node in single master configurations.</p>
</li>
<li><p>Disable NFS if not OKD. [Carlos Camacho]</p>
<p>This commit disables NFS until the commands
changes from oc to kubectl.</p>
</li>
<li><p>Move ansible-lint to args. [Carlos Camacho]</p>
<p>This commit fixes the way we call ansible-lint.</p>
</li>
<li><p>Update tox.ini. [Glenn Marcy]</p>
<p>This commit replaces the -name with -wholename for the roles yaml files</p>
</li>
<li><p>Update nfs role to latest k8s sig practice. [Glenn Marcy]</p>
<p>This commit refreshes the way we generate the yaml artifacts for
managed-nfs-storage and also now uses that storage class to allocate
the volume for the image registry.</p>
</li>
<li><p>Include dns server in static ip config. [Carlos Camacho]</p>
<p>This commit includes the DNS servers when
configuring the external interface bridge.</p>
</li>
<li><p>Enable kiextbr0 interface after configuring the static IP. [Carlos
Camacho]</p>
<p>This commit enables the interface just afet the manual IP is
configured.</p>
</li>
<li><p>Include error for non supported distros. [Carlos Camacho]</p>
<p>This commit checks that the detach script
fails if they hypervisors are Ubuntu or
Debian as they are not yet supported.</p>
</li>
<li><p>Include NetworkManager OVS package. [Carlos Camacho]</p>
<p>This commit adds the NetworkManager-ovs
in CentOS.</p>
</li>
<li><p>Adjust treeinfo for RHCOS. [Carlos Camacho]</p>
<p>This commit adds a correct treeinfo file to deploy rhcos
images.</p>
</li>
<li><p>Check if the distro is Centos or Fedora in the detach script. [Carlos
Camacho]</p>
<p>This commit validates that the detach script install the
correct packages when creating the OVS bridge.</p>
</li>
<li><p>Organize pending libvirt files. [Carlos Camacho]</p>
<p>This commit finishes to organize the
pending files fomr the libvirt role.</p>
</li>
<li><p>Backup install manifests. [Carlos Camacho]</p>
<p>This commit store the install manifests
before rendering the ignition files for
having a better debugging.</p>
</li>
<li><p>Adjust tasks files names. [Carlos Camacho]</p>
<p>This commit adjust the k8s distros roles file names to be consistent
about how they run.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v1-0-1-release-date-2021-03-10">
<h2>v1.0.1 - Release date: 2021-03-10<a class="headerlink" href="#v1-0-1-release-date-2021-03-10" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>Chore<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Release 1.0.1. [Carlos Camacho]</p>
<p>This commit releases Kubeinit 1.0.1
with full OVN support for multinode cluster deployments.</p>
</li>
<li><p>Mirror to GitLab. [Carlos Camacho]</p>
<p>This commit after every merge, will push the latest version to GitLab.</p>
</li>
<li><p>Update version of fcos. [sean-m-sullivan]</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>Documentation<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add the cleanup section. [Carlos Camacho]</p>
<p>This commit adds a playbook to clean the environment
in the documentation.</p>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Features<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Render detach script in the external interface host. [Carlos Camacho]</p>
<p>This commit renders the detach script in the host that needs
to have external access to the service guest.</p>
</li>
<li><p>Allow deploying the service node in any chassis. [Carlos Camacho]</p>
<p>This commit allows to deploy the service machine
with the exterenal interface in any of the chassis.</p>
</li>
<li><p>Replace ssh config.kubeinit file with ssh -o ProxyCommand. [Glenn
Marcy]</p>
<p>This commit removes the creation (and cleanup) of an ssh config file
and replaces it with an ssh ProxyCommand option when accessing the
cluster nodes.</p>
</li>
<li><p>Collect all of the non-hypervisor nodes into all_nodes group. [Glenn
Marcy]</p>
<p>This commit adds a new all_nodes group to make it easier to iterate
over that list and to prevent confusion when additional items are
added to the all group after reading the inventory.</p>
</li>
<li><p>Add view to bind for public bridge network. [Glenn Marcy]</p>
<p>This commit allows for hosts on the public bridge network to make
dns requests that will resolve on the service node to internal
addresses accessible to those hosts.</p>
</li>
<li><p>Add the external interface to OVN deployment. [Carlos Camacho]</p>
<p>This commit connects the service external interface
to the OVN network.</p>
</li>
<li><p>Split OVN nat rules. [Carlos Camacho]</p>
<p>This commit splits the OVN iptables rules
to allow adding the external interface details.</p>
</li>
<li><p>Validate physical cores per guest. [Carlos Camacho]</p>
<p>This commit checks that per each physical
core there can be up to 4 virtual cores.</p>
</li>
<li><p>Use source based routing in the service node. [Carlos Camacho]</p>
<p>Now the service node has two interfaces if we require
to have external access to the cluster resources.
This commit implements the usage of
Policy-Based-Routing Rules to ensure
the traffic from one interface comes out using the
same interface.</p>
</li>
<li><p>Include ci scripts. [Carlos Camacho]</p>
<p>This commit includes the worker node prepare script
for the GitLab runner and fixes the script to enslave
the external access interface.</p>
</li>
<li><p>Include OVN clean tasks in the cleanup file. [Carlos Camacho]</p>
<p>This PR includes the OVN cleaning tasks and
install Python3 in the CentOS guests.</p>
</li>
<li><p>Split the cleanup tasks in a separate file. [Carlos Camacho]</p>
<p>This PR makes easier to execute only the cleanup tasks.</p>
</li>
<li><p>Centralize health check in libvirt. [Carlos Camacho]</p>
<p>This PR centralize all the checks that
verify that the cluster nodes are up and
running.</p>
</li>
<li><p>Add more timeout parameters. [Carlos Camacho]</p>
<p>This PR adds some additional timeout parameters.</p>
</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Fixes<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Update when conditions for external bridge checks. [Glenn Marcy]</p>
<p>This commit changes the conditions so that we only check for the
correct status return from nmcli con show after we have checked
the conditions which were used to run those commands.</p>
</li>
<li><p>Update how we iterate over validation maps. [Glenn Marcy]</p>
<p>This commit changes the way we iterate over resources when we are
checking them.  Check that for each resource that we need that the
hypervisor providing those has sufficient capacity.</p>
</li>
<li><p>Replace stricthostkeychecking with StrictHostKeyChecking. [Glenn
Marcy]</p>
<p>This commit updates all the hosts inventory files to use the same
case convention as the rest of the project for ssh options.</p>
</li>
<li><p>Patch the external interface to the OVS bridge. [Carlos Camacho]</p>
<p>This commit is the last step to have
access to the external cluster interface.
This patches both OVS bridges from the
cluster network and the host physical interface.</p>
</li>
<li><p>Add enslaver helpers. [Carlos Camacho]</p>
<p>This commir helps to enslave the
physical interface.</p>
</li>
<li><p>Update ansible in the docs release job. [Carlos Camacho]</p>
<p>This commit updates ansible in the job that
publishes the docs.</p>
</li>
<li><p>Make sure we use latest ansible in CI. [Carlos Camacho]</p>
<p>Because of <a class="reference external" href="https://github.com/ansible/ansible/pull/71824">https://github.com/ansible/ansible/pull/71824</a>
we need to make sure we use the latest version of
Ansible in the CI.</p>
</li>
<li><p>Move haproxy port to 9090 and disable ipv6. [Carlos Camacho]</p>
<p>This commit shifts the default 9000 port to
9090 because it might conflict with the default
cockpit port and disables ipv6 by default in
the guests.</p>
</li>
<li><p>Parse correctly args. [Carlos Camacho]</p>
<p>This commit parses correctly the
arguments.</p>
</li>
<li><p>Split periodic job in multiple smaller jobs. [Carlos Camacho]</p>
<p>This commit splits the periodic job into multiple
jobs because it takes too much time to execute all the
posible scenarios in a single run.</p>
</li>
<li><p>Wait for bootstrap to complete. [Carlos Camacho]</p>
<p>This commit force the deployment
to wait until the bootstrap step completes.</p>
</li>
<li><p>Detect the external interface. [Carlos Camacho]</p>
<p>This commit replaces eno1 with the
correct interface nem of the router gateway in
the OVN deployment.</p>
</li>
<li><p>Run bridge check only in the external host. [Carlos Camacho]</p>
<p>This PR checks that the external bridge is only
created in the node with the service node.</p>
</li>
<li><p>Fetching all branches returns 1 if they already exists. [Carlos
Camacho]</p>
<p>This commit makes sure fetching the branches never returns 1.</p>
</li>
<li><p>Move GitLab mirror to sw release. [Carlos Camacho]</p>
<p>This commit moves the repo sync to the correct place.</p>
</li>
<li><p>Fix ansible lint issues. [Carlos Camacho]</p>
<p>This commit fixes some ansible-lint issues in the code.</p>
</li>
<li><p>Include ansible-lint checks again. [Carlos Camacho]</p>
<p>This PR enables back the ansible-lint check
that was failing in the past.</p>
</li>
<li><p>Cleanup and configure ssh proxy once and wait for guest. [Carlos
Camacho]</p>
<p>This PR makes sure we ssh proxy is configured once, also, cleaned
once in the first hypervisor.</p>
<p>Also makes sure each guest boots before continue, if we
create multiple guests at the same time libvirt may crash.</p>
</li>
<li><p>Use local ssh config instead of proxy settings. [Carlos Camacho]</p>
<p>This patch configures the SSH config file instead
of the Ansible proxy settings, Ansible for some
reason is not honoring them anymore.</p>
</li>
<li><p>Adjust inventory to honor the ssh proxy. [Carlos Camacho]</p>
<p>This PR fixes a breakage in the way the collection
connects to the guests. The previous approach is not
honored by Ansible anymore so we can not connect to the
guests. We now use ansible_ssh_extra_args instead of
ansible_ssh_common_args.</p>
</li>
<li><p>Align OVN network parameters with inventory variables. [Carlos
Camacho]</p>
<p>This PR aligns the OVN network parameters
with the values from the inventory files, currently
they are hardwired.</p>
</li>
<li><p>Name check nodes correctly. [Carlos Camacho]</p>
<p>This PR renames correctly a task that checks that nodes are ready.</p>
</li>
<li><p>Replace wait_for by wait_for_connection. [Carlos Camacho]</p>
<p>Listening to port 22 do not guarantee that ansible is able to login
so we can hit race conditions.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v1-0-0-release-date-2021-02-05">
<h2>v1.0.0 - Release date: 2021-02-05<a class="headerlink" href="#v1-0-0-release-date-2021-02-05" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>Chore<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Release 1.0.0. [Carlos Camacho]</p>
<p>This PR releases kubeinit 1.0.0
with mutiple features amongs them
support for 5 kubernetes distributions,
multicluster and multinode deployments.</p>
</li>
<li><p>Template updates and logo img. [Carlos Camacho]</p>
<p>This patch updates some templates and logos.</p>
</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Documentation<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Update link. [Carlos Camacho]</p>
<p>Change links to GH repo</p>
</li>
</ul>
</div>
<div class="section" id="id10">
<h3>Features<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Make OVN available for multinode deployments. [Carlos Camacho]</p>
<p>This PR makes available to deploy kubeinit in a multinode
environment.</p>
</li>
<li><p>Add more OVN steps. [Carlos Camacho]</p>
<p>This PR adds more steps for the OVN
configuration NAT+DHCP</p>
</li>
<li><p>Add post OVN deployment steps. [Carlos Camacho]</p>
<p>This patch adds a post deployment step for OVN.</p>
</li>
<li><p>Allow deployments using OVN. [Carlos Camacho]</p>
<p>This patch allows to deploy
Kubeinit using OVN.</p>
</li>
<li><p>Lint the fqcn playbooks. [Carlos Camacho]</p>
<p>This patch checks that all tasks use fqcn</p>
<blockquote>
<div><p>Please enter the commit message for your changes. Lines starting</p>
</div></blockquote>
</li>
<li><p>Convert to fqcn. [Carlos Camacho]</p>
<p>This patch converts the roles content to fqcn</p>
</li>
<li><p>Use fqcn in skeleton and playbooks. [Carlos Camacho]</p>
<p>This is the first iteration to use the fqcn in the project.</p>
</li>
<li><p>Make OVN parameters available from the role defaults. [Carlos Camacho]</p>
<p>This patch adds the OVN configuration parameters
available from the role defaults.</p>
</li>
<li><p>Include OVN configuration steps. [Carlos Camacho]</p>
<p>This PR includes the steps for configuring OVN
in a multi-HV environment.</p>
</li>
<li><p>Add more changes to support multiple hypervisors. [Carlos Camacho]</p>
<p>This is anoter patch to support multiple HVs in any
distro deployment.</p>
</li>
<li><p>Include initial support for multiple hypervisors. [Carlos Camacho]</p>
<p>This is the first series of patches to add support for
multiple hypervisors.</p>
<p>This updates the inventory files and updates the
disk space validation.</p>
</li>
<li><p>Include initial ui PoC. [Carlos Camacho]</p>
<p>This patch reuse a PoC I had from the
past.</p>
</li>
</ul>
</div>
<div class="section" id="id11">
<h3>Fixes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Allow not waiting for okd to converge. [Carlos Camacho]</p>
<p>This includes a variable to wait or not until
the cluster converges, mostly the autoupdate
can take more than 1 hour to finish.</p>
</li>
<li><p>Allow bind to forward requests. [Carlos Camacho]</p>
<p>This patch allows to forward requests
between multiple clusters.</p>
</li>
<li><p>Include internal dns in CI deployments. [Carlos Camacho]</p>
<p>This PR includes a missing parameter to update
an internal DNS.</p>
</li>
<li><p>Do not enable OVN yet. [Carlos Camacho]</p>
<p>OVN is no ready yet, so dont enable it.</p>
</li>
<li><p>Adjust OVN config deployment. [Carlos Camacho]</p>
<p>Added some minor fixes for the OVN deployment.</p>
</li>
<li><p>Register correctly eks worker nodes. [Carlos Camacho]</p>
<p>There is a wrong conditional breaking eks
deployments with a single master node.</p>
</li>
<li><p>Make sure libvirtd is enabled. [Carlos Camacho]</p>
<p>By default libvirtd is not enabled
so the deployments might fail.</p>
<p>Also add a failsafe path for libvirt default
folder.</p>
<p>And label the eks nodes at the end of the
deployment.</p>
</li>
<li><p>Install docker everywhere in cdk. [Carlos Camacho]</p>
<p>Execute the common steps in all the cdk nodes.</p>
</li>
<li><p>Remove unneeded tasks and tags. [Carlos Camacho]</p>
<p>This patch removes a few unneeded tags and tasks.</p>
</li>
<li><p>Adjust playbook files to avoid duplicated steps. [Carlos Camacho]</p>
<p>This PR fixes a duplication step when configuring the
services nodes.</p>
</li>
<li><p>Adjust missing inventory files. [Carlos Camacho]</p>
<p>We missed to comment the hypervisors in
some distros, breaking the disk space validation.</p>
</li>
<li><p>Update variables. [Carlos Camacho]</p>
<p>This patch updates some misc variables</p>
</li>
<li><p>Openshift sdk is not required. [Carlos Camacho]</p>
<p>This patch removes the openshift requirement which is
not necesary.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-6-5-release-date-2020-12-15">
<h2>v0.6.5 - Release date: 2020-12-15<a class="headerlink" href="#v0-6-5-release-date-2020-12-15" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id12">
<h3>Chore<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Keep ara version. [Carlos Camacho]</p>
<p>Latest ara is faulty.</p>
</li>
<li><p>Update readme content. [Carlos Camacho]</p>
<p>This patch simplifies the project’s
readme file.</p>
</li>
</ul>
</div>
<div class="section" id="id13">
<h3>Features<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add simple agent skeleton. [Carlos Camacho]</p>
<p>This patch adds a simple skeleton code for the agent</p>
</li>
<li><p>Trigger submariner jobs. [Carlos Camacho]</p>
<p>This patch triggers submariner jobs
and update its labels and status
accordingly.</p>
</li>
<li><p>Deploy OKD 4.6. [Carlos Camacho]</p>
<p>This patch bumps the default deployed version
of OKD to 4.6</p>
</li>
</ul>
</div>
<div class="section" id="id14">
<h3>Fixes<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Do not update logs link if cant upload to GitHub. [Carlos Camacho]</p>
<p>This patch makes the jobs in GH to keep
the original link if the file upload
failed pushing the logs to GitHub.</p>
</li>
<li><p>Add workarounds for 1 master OKD cluster. [Carlos Camacho]</p>
<p>There are some missing parameters that
needs to be adjusted in OKD 4.6 to deploy
single node clusters.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-6-4-release-date-2020-12-09">
<h2>v0.6.4 - Release date: 2020-12-09<a class="headerlink" href="#v0-6-4-release-date-2020-12-09" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id15">
<h3>Chore<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Release 0.6.4. [Carlos Camacho]</p>
<p>This patch releases v0.6.4</p>
</li>
</ul>
</div>
<div class="section" id="id16">
<h3>Documentation<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Fix link. [Carlos Camacho]</p>
<p>Fix broken link</p>
</li>
<li><p>Remove unneeded notes. [Carlos Camacho]</p>
<p>This patch removes some unneeded notes</p>
</li>
</ul>
</div>
<div class="section" id="id17">
<h3>Fixes<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Fix template indentation. [Carlos Camacho]</p>
<p>This patch fixes somw wrong identation
in the NFS templates.</p>
</li>
<li><p>Replace okd by service regex. [Carlos Camacho]</p>
<p>This patch changes a hardwired okd
in the NFS templates for a regex.</p>
<p>Do not merge this.</p>
</li>
</ul>
</div>
<div class="section" id="refactor">
<h3>Refactor<a class="headerlink" href="#refactor" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Refines task clause naming and removes obsolete code. [Brendan Boyd]</p></li>
<li><p>Adds changed_when and when clauses to nfs provisioner. [Brendan Boyd]</p></li>
<li><p>Adds nfs storage class and moves nfs config to post deployment.
[Brendan Boyd]</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-6-3-release-date-2020-12-08">
<h2>v0.6.3 - Release date: 2020-12-08<a class="headerlink" href="#v0-6-3-release-date-2020-12-08" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id18">
<h3>Chore<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Release and update docs. [Carlos Camacho]</p>
<p>This patch builds a new release
and amends the documentation.</p>
</li>
</ul>
</div>
<div class="section" id="id19">
<h3>Features<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Include eks as a new distro. [Carlos Camacho]</p>
<p>The following patch allows the deployment of EKS-d</p>
</li>
</ul>
</div>
<div class="section" id="id20">
<h3>Fixes<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Remove common.yml from the inventory grapher. [Carlos Camacho]</p>
<p>This patch excludes common.yml from the
docs graphing tooling.</p>
</li>
<li><p>Include pending variables. [Carlos Camacho]</p>
<p>This patch adds some pending variables to configure
EKS correctly.</p>
</li>
<li><p>Allow insecure registry with docker in OKD. [Carlos Camacho]</p>
<p>This patch enables insecure registries in OKD when using with
docker.</p>
</li>
<li><p>Allow insecure registry with docker in OKD. [Carlos Camacho]</p>
<p>This patch enables insecure registries in OKD when using with
docker.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-6-2-release-date-2020-12-04">
<h2>v0.6.2 - Release date: 2020-12-04<a class="headerlink" href="#v0-6-2-release-date-2020-12-04" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id21">
<h3>Chore<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Release 0.6.2. [Carlos Camacho]</p>
<p>This patch releases 0.6.2 fix a major fix
for the new podman version breaking all distros
deployments.</p>
</li>
<li><p>Pre-deploy OKD 4.6. [Carlos Camacho]</p>
<p>This patch configures the
requirements to deploy OKD 4.6.</p>
</li>
<li><p>Include date in job name. [Carlos Camacho]</p>
<p>This patch includes the date
in the patch names.</p>
</li>
<li><p>Clean unneeded titles. [Carlos Camacho]</p>
<p>This patch cleans up some unneeded titles
in the roles.</p>
</li>
<li><p>Sync all ci scripts. [Carlos Camacho]</p>
<p>This patch syncs both CI scripts</p>
</li>
<li><p>Docs fix. [Carlos Camacho]</p>
<p>2 simple empty lines</p>
</li>
<li><p>Update readme. [Carlos Camacho]</p>
<p>This patch updates the readme
with the way to run kubeinit
from a quay container and a
docs update.</p>
</li>
</ul>
</div>
<div class="section" id="id22">
<h3>Documentation<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add readme as part of docs. [Carlos Camacho]</p>
<p>This patch adds the readme file as part of the documentation.</p>
</li>
</ul>
</div>
<div class="section" id="id23">
<h3>Features<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Include subctl verify as a new playbook. [Carlos Camacho]</p>
<p>This patch adds an new playbook for running
subctl verify so the CI logs are in a different
section.</p>
</li>
<li><p>Include ara in the ci results. [Carlos Camacho]</p>
<p>This path includes ara as part of the CI jobs
execution</p>
</li>
</ul>
</div>
<div class="section" id="id24">
<h3>Fixes<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Allow docker and podman in the local registry container. [Carlos
Camacho]</p>
<p>This patch allows choosing between docker or podman in the
service machine when installing the local registry.</p>
</li>
<li><p>Merge CI logs in a single commit. [Carlos Camacho]</p>
<p>WE had issues to push the CI logs with binary
files, this patch fix that issue and commits only
one change.</p>
</li>
<li><p>Pull from local registry explicitly. [Carlos Camacho]</p>
<p>When deploying submariner the newly created
container images need to be tagged and pointed
to the local registry.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-6-1-release-date-2020-11-23">
<h2>v0.6.1 - Release date: 2020-11-23<a class="headerlink" href="#v0-6-1-release-date-2020-11-23" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id25">
<h3>Chore<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add container image in quay. [Carlos Camacho]</p>
<p>After each release we push a new tag to quay</p>
</li>
<li><p>Split code for better readability. [Carlos Camacho]</p>
<p>This patch splits a few tasks for better readability.</p>
</li>
<li><p>Print PR inf in the submariner playbook. [Carlos Camacho]</p>
<p>This patch adds some debung information
when getting the submariner operator code</p>
</li>
</ul>
</div>
<div class="section" id="id26">
<h3>Fixes<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Adjust operator image overrides. [Carlos Camacho]</p>
<p>This patch fix the parameter to override the submariner operator</p>
</li>
<li><p>Remove quotes from eof. [Carlos Camacho]</p>
<p>Quotes in OEF blocks variable expansion which is the
default behavior inside of here-docs.
This was disabled by quoting the label (with single or double quotes).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-6-0-release-date-2020-11-20">
<h2>v0.6.0 - Release date: 2020-11-20<a class="headerlink" href="#v0-6-0-release-date-2020-11-20" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id27">
<h3>Chore<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Cut 0.6.0. [Carlos Camacho]</p>
<p>This releases KubeInit’s 0.6.0</p>
</li>
</ul>
</div>
<div class="section" id="id28">
<h3>Documentation<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add inventory and playbook diagrams. [Carlos Camacho]</p>
<p>This patch renders automatically the
inventory and supported playbooks
for the supported scenarios.</p>
</li>
<li><p>Add syntax check docs for commits. [Carlos Camacho]</p>
<p>This patch updates the docs for adding a
<a class="reference external" href="https://www.conventionalcommits.org">https://www.conventionalcommits.org</a> reference</p>
</li>
</ul>
</div>
<div class="section" id="id29">
<h3>Features<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Add fixed mac address to the external interface. [BK, Carlos Camacho]</p>
<p>This patch adds support for adding a fixed mac
address to the external interface in the service node.</p>
</li>
<li><p>Include submariner container image build deployments. [Carlos Camacho]</p>
<p>This patch adds a PoC for building the container
images for the submariner-operator repo based on a PR.</p>
</li>
<li><p>Enable the container registry by default. [Carlos Camacho]</p>
<p>This patch synchronize the remote registry with the local
registry instance for the current supported Kubernetes
distributions.</p>
</li>
<li><p>Include a local disconnected registry. [Carlos Camacho]</p>
<p>This patch enables the ability to use
a disconnected local container image
registry to speed up the deployments.</p>
</li>
<li><p>Add vcpus configurable for okd bootstrap. [cgoguyer]</p></li>
<li><p>Make vcpus configurable. [cgoguyer]</p></li>
<li><p>Make globalnet configurable. [Carlos Camacho]</p>
<p>This patch adds a new role variable to make
globalnet optinal.</p>
</li>
<li><p>Use fqdn in cluster definition. [Carlos Camacho]</p>
<p>This patch introduces the FQDN usage in the Ubuntu based
clusters, also, triggers cloud-init in every node after the
initial package update.</p>
</li>
<li><p>Include submariner job. [Carlos Camacho]</p>
<p>This patch adds the submariner job.</p>
</li>
<li><p>Include submariner playbook. [Carlos Camacho]</p>
<p>This patch includes the Ansible
automation to connect two KubeInit
clusters with OKD and RKE.</p>
</li>
<li><p>Include a commitlint check. [Carlos Camacho]</p>
<p>This patch adds a commitlint check for
every pull request.</p>
</li>
<li><p>Include submariner and registry roles. [Carlos Camacho]</p>
<p>This patch adds the skeleton of the new roles to be integrated</p>
</li>
</ul>
</div>
<div class="section" id="id30">
<h3>Fixes<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Include –image-override in the submariner playbook. [Carlos Camacho]</p>
<p>This patch makes fully usable the submariner job and the
CI deployment.</p>
</li>
<li><p>Adjust ci job variables and insecure registries. [Carlos Camacho]</p>
<p>This patch fixes some CI job variables not validated
properly and the RKE insecure registry deployment.</p>
</li>
<li><p>Appends okd pullsecret to disconnected install. [Carlos Camacho]</p>
<p>This patch appends the disconnected install auth token
to the pullsecrets variable so its added to the pullSecret
install-config variable when deploying the OKD cluster.</p>
</li>
<li><p>Stop install on CentOS7. [Juan Badia Payno]</p></li>
<li><p>Solve masquerade issues. [Carlos Camacho]</p>
<p>This patch solves some masquerading issues in the hypervisor.</p>
</li>
<li><p>Adjust subctl commands. [Carlos Camacho]</p>
<p>This patch adjust both broker and secondary
cluster deployment.</p>
</li>
<li><p>Include no-label and remove comment from script. [Carlos Camacho]</p>
<p>This patch makes the join cluster command non interactive.
Also removes some comments in the scrips first line.</p>
</li>
<li><p>Adjust subctl commands. [Carlos Camacho]</p>
<p>This patch adjust both broker and secondary
cluster deployment.</p>
</li>
<li><p>Swapped variable names within kubeinit_okd_dependencies. [Bilal
Khoukhi]</p>
<p>Swaps the variables within kubeinit_okd_dependencies.
Client was given the Installer’s URL, and vice versa.</p>
</li>
<li><p>Move from virt-resize to qemu-img resize. [Carlos Camacho]</p>
<p>Current libguestfs 1.40.2 fails with
virt-resize: error: libguestfs error: f2fs: unknown group</p>
</li>
<li><p>Fix permalinks in theme. [Carlos Camacho]</p></li>
</ul>
</div>
<div class="section" id="id31">
<h3>Refactor<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Move auth pullsecret as a role variable. [Carlos Camacho]</p>
<p>This change moves the pullsecret JSON data in
the OKD role as a variable.</p>
</li>
<li><p>Code split. [Carlos Camacho]</p>
<p>This patch organizes better the
template configs for deploying okd and rke.</p>
</li>
<li><p>Add regexp for changelog. [Carlos Camacho]</p>
<p>This adds the correct regular expressions for the
changelog.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-5-7-release-date-2020-10-21">
<h2>v0.5.7 - Release date: 2020-10-21<a class="headerlink" href="#v0-5-7-release-date-2020-10-21" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Prune changelog, add job dependency, and release. [Carlos Camacho]</p></li>
</ul>
</div>
<div class="section" id="v0-5-6-release-date-2020-10-21">
<h2>v0.5.6 - Release date: 2020-10-21<a class="headerlink" href="#v0-5-6-release-date-2020-10-21" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fetch all history. [Carlos Camacho]</p></li>
</ul>
</div>
<div class="section" id="v0-5-4-release-date-2020-10-21">
<h2>v0.5.4 - Release date: 2020-10-21<a class="headerlink" href="#v0-5-4-release-date-2020-10-21" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Build with changelog. [Carlos Camacho]</p>
<p>This patch renders the buildlog and
creates automatically the project’s first release</p>
</li>
<li><p>Update jobs and render first GH release. [Carlos Camacho]</p></li>
<li><p>Pass env var. [Carlos Camacho]</p></li>
<li><p>Update script. [Carlos Camacho]</p></li>
<li><p>Auto release. [Carlos Camacho]</p></li>
<li><p>Release to galaxy. [Carlos Camacho]</p></li>
<li><p>Bad. [Carlos Camacho]</p></li>
<li><p>Test. [Carlos Camacho]</p></li>
<li><p>Test. [Carlos Camacho]</p></li>
<li><p>Test job. [Carlos Camacho]</p></li>
<li><p>Fix bundle. [Carlos Camacho]</p></li>
<li><p>Deploy cdk 3 master nodes. [Carlos Camacho]</p></li>
<li><p>Fix report path. [Carlos Camacho]</p></li>
<li><p>Podman to docker. [Carlos Camacho]</p></li>
<li><p>Fix molecule. [Carlos Camacho]</p></li>
<li><p>Clean. [Carlos Camacho]</p></li>
<li><p>Cdk content. [Carlos Camacho]</p></li>
<li><p>New roles. [Carlos Camacho]</p></li>
<li><p>Ubuntu. [Carlos Camacho]</p></li>
<li><p>Upgrade. [Carlos Camacho]</p></li>
<li><p>Add haproxy role. [Carlos Camacho]</p></li>
<li><p>Split bind. [Carlos Camacho]</p></li>
<li><p>Split nfs. [Carlos Camacho]</p></li>
<li><p>Include apache role. [Carlos Camacho]</p></li>
<li><p>Ha k8s. [Carlos Camacho]</p></li>
<li><p>Include raw k8s. [Carlos Camacho]</p></li>
<li><p>Include stale job. [Carlos Camacho]</p></li>
<li><p>Include ci envs. [Carlos Camacho]</p></li>
<li><p>Allow multiple clusters per host. [Carlos Camacho]</p></li>
<li><p>Rem bootstrap node. [Carlos Camacho]</p></li>
<li><p>Match PV-PVC. [Carlos Camacho]</p></li>
<li><p>Slides. [Carlos Camacho]</p></li>
<li><p>Add firewalld rules. [Carlos Camacho]</p></li>
<li><p>From container. [Carlos Camacho]</p></li>
<li><p>Add dockerfile. [Carlos Camacho]</p></li>
<li><p>Cleanup. [Carlos Camacho]</p></li>
<li><p>Roles refactor. [Carlos Camacho]</p></li>
<li><p>Partial organization. [Carlos Camacho]</p></li>
<li><p>Include readme in docs. [Carlos Camacho]</p></li>
<li><p>Update README. [Carlos Camacho]</p></li>
<li><p>Add manifests for day 1 autoapprover. [Yolanda Robla]</p></li>
<li><p>Add modifications for rhcos download. [Yolanda Robla]</p></li>
<li><p>Add changes to move to 4.6 and full iso. [Yolanda Robla]</p></li>
<li><p>Changes for using new full ISO image. [Yolanda Robla]</p></li>
<li><p>Changes needed for 4.6 and customizing iso. [Yolanda Robla]</p></li>
<li><p>Add new script to prepare iso for offline install. [Yolanda Robla]</p></li>
<li><p>Add pipeline to deploy a cluster. [Yolanda Robla]</p></li>
<li><p>Add fixes for ignition configuration. [Yolanda Robla]</p></li>
<li><p>Add login command to produce image. [Yolanda Robla]</p></li>
<li><p>Add fixes for libvirt dns. [Yolanda Robla]</p></li>
<li><p>Add ci for building image. [Yolanda Robla]</p></li>
<li><p>Add modifications for local dns. [Yolanda Robla]</p></li>
<li><p>Add README.md file. [Yolanda Robla]</p></li>
<li><p>Remove inventory/hosts file. [Yolanda Robla]</p></li>
<li><p>Upload sample inventory.hosts with all settings. [Yolanda Robla]</p></li>
<li><p>Add fixes for worker vms. [Yolanda Robla]</p></li>
<li><p>Add new changes for bootstrap. [Yolanda Robla]</p></li>
<li><p>Add fixes to create addresses for hosts. [Yolanda Robla]</p></li>
<li><p>Add changes for iso install. [Yolanda Robla]</p></li>
<li><p>Add changes in coreos installer service. [Yolanda Robla]</p></li>
<li><p>Add management of bootstrap vm. [Yolanda Robla]</p></li>
<li><p>Add new task to prepare the isos to be installed. [Yolanda Robla]</p></li>
<li><p>Add tasks for generating ignition files. [Yolanda Robla]</p></li>
<li><p>Add new changes for pulling live cd. [Yolanda Robla]</p></li>
<li><p>Add steps for configuring installer. [Yolanda Robla]</p></li>
<li><p>New changes for preparing install. [Yolanda Robla]</p></li>
<li><p>Add initial preparation tasks. [Yolanda Robla]</p></li>
<li><p>Initial commit. [Yolanda Robla]</p></li>
<li><p>Add collection. [Carlos Camacho]</p></li>
<li><p>Fix lints. [Carlos Camacho]</p></li>
<li><p>Include CI scripts. [Carlos Camacho]</p></li>
<li><p>Fix logo link. [Carlos Camacho]</p></li>
<li><p>Add sanity galaxy check. [Carlos Camacho]</p></li>
<li><p>Tetst Galaxy automation. [Carlos Camacho]</p></li>
<li><p>Update galaxy file. [Carlos Camacho]</p></li>
<li><p>Reduce RAM reqs and add RAM validation. [Carlos Camacho]</p></li>
<li><p>Add tool to publish to Galaxy. [Carlos Camacho]</p></li>
<li><p>Fix vars prefix. [Carlos Camacho]</p></li>
<li><p>Include validations role. [Carlos Camacho]</p></li>
<li><p>Replace pending old ref. [Carlos Camacho]</p></li>
<li><p>Replace ccamacho with Kubeinit where applicable. [Glenn Marcy]</p></li>
<li><p>Add HowTo’s to readme. [Carlos Camacho]</p></li>
<li><p>Adjust external variable. [Carlos Camacho]</p></li>
<li><p>Allow DNS queries for external view. [Carlos Camacho]</p></li>
<li><p>WIP external interface, multizone bind, and remove template in
conditionals. [Carlos Camacho]</p></li>
<li><p>Allow Debian/Ubuntu hosts + Kubevirt. [Carlos Camacho]</p></li>
<li><p>Cleanup KubeVirt role. [Carlos Camacho]</p></li>
<li><p>Add Kubevirt support. [Carlos Camacho]</p></li>
<li><p>Fix lint. [Carlos Camacho]</p></li>
<li><p>Add kubevirt steps. [Carlos Camacho]</p></li>
<li><p>Replace hyphens by underscore. [Carlos Camacho]</p></li>
<li><p>Kubevirt changes. [Carlos Camacho]</p></li>
<li><p>Add kubevirt WIP. [Carlos Camacho]</p></li>
<li><p>Update logo. [Carlos Camacho]</p></li>
<li><p>Minor fixes. [Carlos Camacho]</p></li>
<li><p>Fix lint nits. [Carlos Camacho]</p></li>
<li><p>Testing basic molecule coverage. [Carlos Camacho]</p></li>
<li><p>REadme fix. [Carlos Camacho]</p></li>
<li><p>Include html badges. [Carlos Camacho]</p></li>
<li><p>Include badges in readme. [Carlos Camacho]</p></li>
<li><p>Install ansible in docs build. [Carlos Camacho]</p></li>
<li><p>Include render autodoc. [Carlos Camacho]</p></li>
<li><p>Force push pages. [Carlos Camacho]</p></li>
<li><p>Link docs. [Carlos Camacho]</p></li>
<li><p>Add symlink. [Carlos Camacho]</p></li>
<li><p>Create docs. [Carlos Camacho]</p></li>
<li><p>Print final debug information. [Carlos Camacho]</p></li>
<li><p>Get some final details. [Carlos Camacho]</p></li>
<li><p>Adjust ignition files. [Carlos Camacho]</p></li>
<li><p>Fix nits. [Carlos Camacho]</p></li>
<li><p>Nits. [Carlos Camacho]</p></li>
<li><p>REsize disk. [Carlos Camacho]</p></li>
<li><p>Cleanup. [Carlos Camacho]</p></li>
<li><p>Deploy correctly okd4.5. [Carlos Camacho]</p></li>
<li><p>Clean. [Carlos Camacho]</p></li>
<li><p>Cleanup. [Carlos Camacho]</p></li>
<li><p>Cleanup. [Carlos Camacho]</p></li>
<li><p>Okd4.5. [Carlos Camacho]</p></li>
<li><p>Fixed ip and workaround. [Carlos Camacho]</p></li>
<li><p>Include ifc renaming. [Carlos Camacho]</p></li>
<li><p>Include OKD draft. [Carlos Camacho]</p></li>
<li><p>Fix deplot crio 1.18 and kubeadm 1.18 in centos 8. [Carlos Camacho]</p></li>
<li><p>Update tasks. [Carlos Camacho]</p></li>
<li><p>Passing lint. [Carlos Camacho]</p></li>
<li><p>Update deps. [Carlos Camacho]</p></li>
<li><p>Lint cleanup. [Carlos Camacho]</p></li>
<li><p>Readme. [Carlos Camacho]</p></li>
<li><p>New readme. [Carlos Camacho]</p></li>
<li><p>Group linters. [Carlos Camacho]</p></li>
<li><p>Yamllint. [Carlos Camacho]</p></li>
<li><p>Rename job. [Carlos Camacho]</p></li>
<li><p>Move to cri-o and centos 8. [Carlos Camacho]</p></li>
<li><p>Push howto and minor templates fixes. [Carlos Camacho]</p></li>
<li><p>Adjust VM templates. [Carlos Camacho]</p></li>
<li><p>Adjust ram and hypervisor IP. [Carlos Camacho]</p></li>
<li><p>Forgot minor fixes push. [Carlos Camacho]</p></li>
<li><p>Fix templates, first verison done. [Carlos Camacho]</p></li>
<li><p>Clean lint. [Carlos Camacho]</p></li>
<li><p>Comment socond reboot. [Carlos Camacho]</p></li>
<li><p>Fix req file. [Carlos Camacho]</p></li>
<li><p>Ansible execution fixes. [Carlos Camacho]</p></li>
<li><p>Add more fixes. [Carlos Camacho]</p></li>
<li><p>Fix zombi guests. [Carlos Camacho]</p></li>
<li><p>Fix/finish provisioning templates. [Carlos Camacho]</p></li>
<li><p>Introduce Ansible automation. [Carlos Camacho]</p></li>
<li><p>Initial commit. [Carlos Camacho]</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="playbook_diagrams.html" class="btn btn-neutral float-left" title="Playbook diagrams" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, KubeInit.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>