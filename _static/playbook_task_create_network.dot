digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_9f00b649 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#08c461" fontcolor="#ffffff" id=play_9f00b649 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_9f00b649 [label="1 " color="#08c461" fontcolor="#08c461" id=edge_7f7b8cd7 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_be59eb34 [label="[role] Gather kubeinit secrets" color="#08c461" id=role_be59eb34 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7c510897 [label="[role] Gather additional facts from localhost for kubeinit" color="#08c461" id=role_7c510897 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_4eefff7f [label="[role] Create ssh config file from template" color="#08c461" id=role_4eefff7f tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_a121fb76 [label="[role] task-gather-facts" color="#08c461" id=role_a121fb76 tooltip="task-gather-facts"]
		role_a121fb76 -> role_be59eb34 [label="1 " color="#08c461" fontcolor="#08c461" id=edge_6cbeb9b3 labeltooltip="1 " tooltip="1 "]
		role_a121fb76 -> role_7c510897 [label="2 " color="#08c461" fontcolor="#08c461" id=edge_d4806489 labeltooltip="2 " tooltip="2 "]
		role_a121fb76 -> role_4eefff7f [label="3 " color="#08c461" fontcolor="#08c461" id=edge_fdbafadb labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a47ed2a6 [label="[role] Gather kubeinit secrets" color="#08c461" id=role_a47ed2a6 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_3c43819a [label="[role] Gather additional facts from localhost for kubeinit" color="#08c461" id=role_3c43819a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_36c9ef7e [label="[role] Create ssh config file from template" color="#08c461" id=role_36c9ef7e tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_22534e0b [label="[role] task-prepare-hypervisors" color="#08c461" id=role_22534e0b tooltip="task-prepare-hypervisors"]
		role_22534e0b -> role_a47ed2a6 [label="1 " color="#08c461" fontcolor="#08c461" id=edge_870d0355 labeltooltip="1 " tooltip="1 "]
		role_22534e0b -> role_3c43819a [label="2 " color="#08c461" fontcolor="#08c461" id=edge_090130ac labeltooltip="2 " tooltip="2 "]
		role_22534e0b -> role_36c9ef7e [label="3 " color="#08c461" fontcolor="#08c461" id=edge_76b9dc95 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_9f00b649 -> block_41befd5b [label=1 color="#08c461" fontcolor="#08c461" id=edge_feaca9d5 labeltooltip=1 tooltip=1]
		subgraph cluster_block_41befd5b {
			block_41befd5b [label="[block] Gather facts about the deployment environment" color="#08c461" id=block_41befd5b labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_41befd5b -> role_a121fb76 [label="1 " color="#08c461" fontcolor="#08c461" id=edge_98feca26 labeltooltip="1 " tooltip="1 "]
		}
		play_9f00b649 -> block_61738810 [label=2 color="#08c461" fontcolor="#08c461" id=edge_162cfa71 labeltooltip=2 tooltip=2]
		subgraph cluster_block_61738810 {
			block_61738810 [label="[block] Prepare the hypervisors" color="#08c461" id=block_61738810 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_61738810 -> role_22534e0b [label="1 " color="#08c461" fontcolor="#08c461" id=edge_4f8debb4 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_9a65ff7e [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#1daf47" fontcolor="#ffffff" id=play_9a65ff7e shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_9a65ff7e [label="2 " color="#1daf47" fontcolor="#1daf47" id=edge_cbe9552b labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_4e3d7caa [label="[role] Provision the libvirt services on the hypervisor" color="#1daf47" id=role_4e3d7caa tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_8035499f [label="[role] Prepare each hypervisor in the deployment" color="#1daf47" id=role_8035499f tooltip="Prepare each hypervisor in the deployment"]
		role_8035499f -> role_4e3d7caa [label="1 " color="#1daf47" fontcolor="#1daf47" id=edge_18ce54ea labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_9a65ff7e -> block_15e9217a [label=1 color="#1daf47" fontcolor="#1daf47" id=edge_1ca5720e labeltooltip=1 tooltip=1]
		subgraph cluster_block_15e9217a {
			block_15e9217a [label="[block] Prepare individual hypervisors" color="#1daf47" id=block_15e9217a labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_15e9217a -> role_8035499f [label="1 " color="#1daf47" fontcolor="#1daf47" id=edge_d91c8d40 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ec952db0 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#2f9d41" fontcolor="#ffffff" id=play_ec952db0 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_ec952db0 [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_aaab941c labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_04af949f [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_04af949f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_04e39b2a [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_04e39b2a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_5023933f [label="[role] Create ssh config file from template" color="#2f9d41" id=role_5023933f tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_7e2de49f [label="[role] task-prepare-environment" color="#2f9d41" id=role_7e2de49f tooltip="task-prepare-environment"]
		role_7e2de49f -> role_04af949f [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_bd524dbd labeltooltip="1 " tooltip="1 "]
		role_7e2de49f -> role_04e39b2a [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_49d92763 labeltooltip="2 " tooltip="2 "]
		role_7e2de49f -> role_5023933f [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_97d686ad labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_24e4c049 [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_24e4c049 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_c2ebc3ec [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_c2ebc3ec tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_22ce42a3 [label="[role] Create ssh config file from template" color="#2f9d41" id=role_22ce42a3 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d2d64a9b [label="[role] Prepare environment if not prepared" color="#2f9d41" id=role_d2d64a9b tooltip="Prepare environment if not prepared"]
		role_d2d64a9b -> role_24e4c049 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_475bf8bd labeltooltip="1 " tooltip="1 "]
		role_d2d64a9b -> role_c2ebc3ec [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_d9b39deb labeltooltip="2 " tooltip="2 "]
		role_d2d64a9b -> role_22ce42a3 [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_892d5f91 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_5f817468 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2f9d41" id=role_5f817468 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_bce1eb75 [label="[role] task-cleanup-hypervisors" color="#2f9d41" id=role_bce1eb75 tooltip="task-cleanup-hypervisors"]
		role_bce1eb75 -> role_d2d64a9b [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_70039ae6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bce1eb75 -> role_5f817468 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_4748220c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6e8824f8 [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_6e8824f8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_e12eb3ea [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_e12eb3ea tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_5e805e36 [label="[role] Create ssh config file from template" color="#2f9d41" id=role_5e805e36 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_3a0946c5 [label="[role] Prepare environment if not prepared" color="#2f9d41" id=role_3a0946c5 tooltip="Prepare environment if not prepared"]
		role_3a0946c5 -> role_6e8824f8 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_bb4a61cd labeltooltip="1 " tooltip="1 "]
		role_3a0946c5 -> role_e12eb3ea [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_4d0265ee labeltooltip="2 " tooltip="2 "]
		role_3a0946c5 -> role_5e805e36 [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_c12a0a35 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_db618ce5 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2f9d41" id=role_db618ce5 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_2c9e8df3 [label="[role] Cleanup hypervisors if needed" color="#2f9d41" id=role_2c9e8df3 tooltip="Cleanup hypervisors if needed"]
		role_2c9e8df3 -> role_3a0946c5 [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_e255cc25 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2c9e8df3 -> role_db618ce5 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_ccb478f7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_ab42acff [label="[role] task-run-validations" color="#2f9d41" id=role_ab42acff tooltip="task-run-validations"]
		role_ab42acff -> role_2c9e8df3 [label="1 [when: not hypervisors_cleaned]" color="#2f9d41" fontcolor="#2f9d41" id=edge_c9e768e3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_f418c4fa [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_f418c4fa tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_46f1d153 [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_46f1d153 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_bf628dba [label="[role] Create ssh config file from template" color="#2f9d41" id=role_bf628dba tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e64e6bce [label="[role] Prepare environment if not prepared" color="#2f9d41" id=role_e64e6bce tooltip="Prepare environment if not prepared"]
		role_e64e6bce -> role_f418c4fa [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_a4dbeed0 labeltooltip="1 " tooltip="1 "]
		role_e64e6bce -> role_46f1d153 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_6eb19d47 labeltooltip="2 " tooltip="2 "]
		role_e64e6bce -> role_bf628dba [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_13c3e4a7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_6344ceda [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2f9d41" id=role_6344ceda tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_fb8907a7 [label="[role] Cleanup hypervisors if needed" color="#2f9d41" id=role_fb8907a7 tooltip="Cleanup hypervisors if needed"]
		role_fb8907a7 -> role_e64e6bce [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_c9088be1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_fb8907a7 -> role_6344ceda [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_51384824 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_66c28763 [label="[role] task-create-network" color="#2f9d41" id=role_66c28763 tooltip="task-create-network"]
		role_66c28763 -> role_fb8907a7 [label="1 [when: not hypervisors_cleaned]" color="#2f9d41" fontcolor="#2f9d41" id=edge_5c125e86 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
		task_5551e113 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in CentOS/RHEL" color="#2f9d41" id=task_5551e113 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in CentOS/RHEL"]
		role_66c28763 -> task_5551e113 [label="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']" color="#2f9d41" fontcolor="#2f9d41" id=edge_ea29d739 labeltooltip="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']" tooltip="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']"]
		task_a947a16f [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Fedora" color="#2f9d41" id=task_a947a16f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Fedora"]
		role_66c28763 -> task_a947a16f [label="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']" color="#2f9d41" fontcolor="#2f9d41" id=edge_3b7f5154 labeltooltip="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']" tooltip="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']"]
		task_6a1f376c [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Ubuntu/Debian" color="#2f9d41" id=task_6a1f376c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Ubuntu/Debian"]
		role_66c28763 -> task_6a1f376c [label="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" color="#2f9d41" fontcolor="#2f9d41" id=edge_1ba4b65f labeltooltip="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" tooltip="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']"]
		task_401c4af7 [label="kubeinit.kubeinit.kubeinit_libvirt : Collect all HVs which are not the ovn-central host" color="#2f9d41" id=task_401c4af7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Collect all HVs which are not the ovn-central host"]
		role_66c28763 -> task_401c4af7 [label="5 [when: ovn_host not in kubeinit_ovn_central_host]" color="#2f9d41" fontcolor="#2f9d41" id=edge_c8609c78 labeltooltip="5 [when: ovn_host not in kubeinit_ovn_central_host]" tooltip="5 [when: ovn_host not in kubeinit_ovn_central_host]"]
		task_2a9e461d [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in CentOS/RHEL" color="#2f9d41" id=task_2a9e461d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in CentOS/RHEL"]
		role_66c28763 -> task_2a9e461d [label="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']" color="#2f9d41" fontcolor="#2f9d41" id=edge_d4787be5 labeltooltip="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']" tooltip="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']"]
		task_7dbf3fe6 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Fedora" color="#2f9d41" id=task_7dbf3fe6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Fedora"]
		role_66c28763 -> task_7dbf3fe6 [label="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']" color="#2f9d41" fontcolor="#2f9d41" id=edge_1510c533 labeltooltip="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']" tooltip="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']"]
		task_93102cc1 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Ubuntu/Debian" color="#2f9d41" id=task_93102cc1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Ubuntu/Debian"]
		role_66c28763 -> task_93102cc1 [label="8 [when: hostvars[ovn_host].distribution_family == 'Debian']" color="#2f9d41" fontcolor="#2f9d41" id=edge_650e07c6 labeltooltip="8 [when: hostvars[ovn_host].distribution_family == 'Debian']" tooltip="8 [when: hostvars[ovn_host].distribution_family == 'Debian']"]
		task_104499a7 [label="kubeinit.kubeinit.kubeinit_libvirt : Gather current firewalld rules for ovn hosts" color="#2f9d41" id=task_104499a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Gather current firewalld rules for ovn hosts"]
		role_66c28763 -> task_104499a7 [label="9 [when: hostvars[ovn_host].firewalld_is_active]" color="#2f9d41" fontcolor="#2f9d41" id=edge_85bdf436 labeltooltip="9 [when: hostvars[ovn_host].firewalld_is_active]" tooltip="9 [when: hostvars[ovn_host].firewalld_is_active]"]
		task_417389f4 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for expected rich_rule result" color="#2f9d41" id=task_417389f4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for expected rich_rule result"]
		role_66c28763 -> task_417389f4 [label="10 " color="#2f9d41" fontcolor="#2f9d41" id=edge_3e892bad labeltooltip="10 " tooltip="10 "]
		task_b4c80f5b [label="kubeinit.kubeinit.kubeinit_libvirt : Check firewalld services and rich_rules for existing entries" color="#2f9d41" id=task_b4c80f5b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check firewalld services and rich_rules for existing entries"]
		role_66c28763 -> task_b4c80f5b [label="11 [when: item.firewalld_info is defined]" color="#2f9d41" fontcolor="#2f9d41" id=edge_101088c4 labeltooltip="11 [when: item.firewalld_info is defined]" tooltip="11 [when: item.firewalld_info is defined]"]
		task_350c8390 [label="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list to pick up ovn services" color="#2f9d41" id=task_350c8390 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list to pick up ovn services"]
		role_66c28763 -> task_350c8390 [label="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]" color="#2f9d41" fontcolor="#2f9d41" id=edge_34def15e labeltooltip="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]" tooltip="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]"]
		task_f3600c34 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN central in firewalld" color="#2f9d41" id=task_f3600c34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN central in firewalld"]
		role_66c28763 -> task_f3600c34 [label="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]" color="#2f9d41" fontcolor="#2f9d41" id=edge_a1cd1ea6 labeltooltip="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]" tooltip="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]"]
		task_4ddaa303 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN NAT in firewalld" color="#2f9d41" id=task_4ddaa303 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN NAT in firewalld"]
		role_66c28763 -> task_4ddaa303 [label="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]" color="#2f9d41" fontcolor="#2f9d41" id=edge_dfb048ab labeltooltip="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]" tooltip="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]"]
		task_774b3294 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN host in firewalld" color="#2f9d41" id=task_774b3294 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN host in firewalld"]
		role_66c28763 -> task_774b3294 [label="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]" color="#2f9d41" fontcolor="#2f9d41" id=edge_55f0b20e labeltooltip="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]" tooltip="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]"]
		task_ccc73776 [label="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list" color="#2f9d41" id=task_ccc73776 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list"]
		role_66c28763 -> task_ccc73776 [label="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]" color="#2f9d41" fontcolor="#2f9d41" id=edge_64876726 labeltooltip="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]" tooltip="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]"]
		task_98ac5664 [label="kubeinit.kubeinit.kubeinit_libvirt : Reload podman networks" color="#2f9d41" id=task_98ac5664 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reload podman networks"]
		role_66c28763 -> task_98ac5664 [label="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]" color="#2f9d41" fontcolor="#2f9d41" id=edge_ecdd3d83 labeltooltip="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]" tooltip="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]"]
		task_b121ac1c [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (CentOS based)" color="#2f9d41" id=task_b121ac1c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (CentOS based)"]
		role_66c28763 -> task_b121ac1c [label="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']" color="#2f9d41" fontcolor="#2f9d41" id=edge_7772f450 labeltooltip="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']" tooltip="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']"]
		task_f89471fa [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (CentOS based)" color="#2f9d41" id=task_f89471fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (CentOS based)"]
		role_66c28763 -> task_f89471fa [label="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']" color="#2f9d41" fontcolor="#2f9d41" id=edge_4ce86011 labeltooltip="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']" tooltip="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']"]
		task_43af4efa [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (Debian/Ubuntu based)" color="#2f9d41" id=task_43af4efa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (Debian/Ubuntu based)"]
		role_66c28763 -> task_43af4efa [label="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" color="#2f9d41" fontcolor="#2f9d41" id=edge_da8b18b8 labeltooltip="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" tooltip="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']"]
		task_71a277b6 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (Debian/Ubuntu based)" color="#2f9d41" id=task_71a277b6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (Debian/Ubuntu based)"]
		role_66c28763 -> task_71a277b6 [label="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']" color="#2f9d41" fontcolor="#2f9d41" id=edge_58d1ac4e labeltooltip="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']" tooltip="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']"]
		task_b7601126 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait until OVN services are running" color="#2f9d41" id=task_b7601126 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait until OVN services are running"]
		role_66c28763 -> task_b7601126 [label="22 [when: kubeinit_destroy_ovn_network]" color="#2f9d41" fontcolor="#2f9d41" id=edge_9eb184b3 labeltooltip="22 [when: kubeinit_destroy_ovn_network]" tooltip="22 [when: kubeinit_destroy_ovn_network]"]
		task_ee8451e8 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#2f9d41" id=task_ee8451e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_66c28763 -> task_ee8451e8 [label="23 " color="#2f9d41" fontcolor="#2f9d41" id=edge_e801ee87 labeltooltip="23 " tooltip="23 "]
		task_48ba6535 [label="kubeinit.kubeinit.kubeinit_libvirt : Configure OVS on the Hypervisors" color="#2f9d41" id=task_48ba6535 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configure OVS on the Hypervisors"]
		role_66c28763 -> task_48ba6535 [label="24 [when: kubeinit_destroy_ovn_network]" color="#2f9d41" fontcolor="#2f9d41" id=edge_4b2bd35f labeltooltip="24 [when: kubeinit_destroy_ovn_network]" tooltip="24 [when: kubeinit_destroy_ovn_network]"]
		task_80a38be2 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#2f9d41" id=task_80a38be2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_66c28763 -> task_80a38be2 [label="25 " color="#2f9d41" fontcolor="#2f9d41" id=edge_4b96e419 labeltooltip="25 " tooltip="25 "]
		task_0e5d8e52 [label="kubeinit.kubeinit.kubeinit_libvirt : Configure OVN in the ovn-central hypervisor" color="#2f9d41" id=task_0e5d8e52 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configure OVN in the ovn-central hypervisor"]
		role_66c28763 -> task_0e5d8e52 [label="26 [when: kubeinit_destroy_ovn_network]" color="#2f9d41" fontcolor="#2f9d41" id=edge_add6d8f3 labeltooltip="26 [when: kubeinit_destroy_ovn_network]" tooltip="26 [when: kubeinit_destroy_ovn_network]"]
		task_8a25ba5a [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#2f9d41" id=task_8a25ba5a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_66c28763 -> task_8a25ba5a [label="27 " color="#2f9d41" fontcolor="#2f9d41" id=edge_5fe4e95c labeltooltip="27 " tooltip="27 "]
		task_187e2bee [label="kubeinit.kubeinit.kubeinit_libvirt : Remove and create the cluster switch if exists" color="#2f9d41" id=task_187e2bee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove and create the cluster switch if exists"]
		role_66c28763 -> task_187e2bee [label="28 " color="#2f9d41" fontcolor="#2f9d41" id=edge_8d3891c3 labeltooltip="28 " tooltip="28 "]
		task_e20afa98 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#2f9d41" id=task_e20afa98 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_66c28763 -> task_e20afa98 [label="29 " color="#2f9d41" fontcolor="#2f9d41" id=edge_9d522fd3 labeltooltip="29 " tooltip="29 "]
		task_510424e0 [label="kubeinit.kubeinit.kubeinit_libvirt : Create OVS/OVN bindings for the VMs ports" color="#2f9d41" id=task_510424e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create OVS/OVN bindings for the VMs ports"]
		role_66c28763 -> task_510424e0 [label="30 " color="#2f9d41" fontcolor="#2f9d41" id=edge_08498ce9 labeltooltip="30 " tooltip="30 "]
		task_1ecb6e3a [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#2f9d41" id=task_1ecb6e3a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_66c28763 -> task_1ecb6e3a [label="31 " color="#2f9d41" fontcolor="#2f9d41" id=edge_6ee3ff1b labeltooltip="31 " tooltip="31 "]
		task_3c60b65b [label="kubeinit.kubeinit.kubeinit_libvirt : Configuring a router connected to the guests switch" color="#2f9d41" id=task_3c60b65b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configuring a router connected to the guests switch"]
		role_66c28763 -> task_3c60b65b [label="32 [when: kubeinit_destroy_ovn_network]" color="#2f9d41" fontcolor="#2f9d41" id=edge_1e8cbd9c labeltooltip="32 [when: kubeinit_destroy_ovn_network]" tooltip="32 [when: kubeinit_destroy_ovn_network]"]
		task_bda410cb [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#2f9d41" id=task_bda410cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_66c28763 -> task_bda410cb [label="33 " color="#2f9d41" fontcolor="#2f9d41" id=edge_644c5584 labeltooltip="33 " tooltip="33 "]
		task_4ea1a7f3 [label="kubeinit.kubeinit.kubeinit_libvirt : Attach our cluster network to the logical router" color="#2f9d41" id=task_4ea1a7f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Attach our cluster network to the logical router"]
		role_66c28763 -> task_4ea1a7f3 [label="34 " color="#2f9d41" fontcolor="#2f9d41" id=edge_06d3f3c8 labeltooltip="34 " tooltip="34 "]
		task_ec4d1636 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#2f9d41" id=task_ec4d1636 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_66c28763 -> task_ec4d1636 [label="35 " color="#2f9d41" fontcolor="#2f9d41" id=edge_3431b6a9 labeltooltip="35 " tooltip="35 "]
		task_2ea97e85 [label="kubeinit.kubeinit.kubeinit_libvirt : Configuring NAT" color="#2f9d41" id=task_2ea97e85 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configuring NAT"]
		role_66c28763 -> task_2ea97e85 [label="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]" color="#2f9d41" fontcolor="#2f9d41" id=edge_278fa0d6 labeltooltip="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]" tooltip="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]"]
		task_6fa18854 [label="kubeinit.kubeinit.kubeinit_libvirt : Render KubeInit networks for debugging" color="#2f9d41" id=task_6fa18854 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Render KubeInit networks for debugging"]
		role_66c28763 -> task_6fa18854 [label="37 " color="#2f9d41" fontcolor="#2f9d41" id=edge_da9241f4 labeltooltip="37 " tooltip="37 "]
		task_9af153e8 [label="kubeinit.kubeinit.kubeinit_libvirt : Define KubeInit networks" color="#2f9d41" id=task_9af153e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Define KubeInit networks"]
		role_66c28763 -> task_9af153e8 [label="38 " color="#2f9d41" fontcolor="#2f9d41" id=edge_67e49bcb labeltooltip="38 " tooltip="38 "]
		task_c4e41fc0 [label="kubeinit.kubeinit.kubeinit_libvirt : Activate KubeInit networks" color="#2f9d41" id=task_c4e41fc0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Activate KubeInit networks"]
		role_66c28763 -> task_c4e41fc0 [label="39 " color="#2f9d41" fontcolor="#2f9d41" id=edge_397a01a8 labeltooltip="39 " tooltip="39 "]
		task_16810cb5 [label="kubeinit.kubeinit.kubeinit_libvirt : Autostart KubeInit networks" color="#2f9d41" id=task_16810cb5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Autostart KubeInit networks"]
		role_66c28763 -> task_16810cb5 [label="40 " color="#2f9d41" fontcolor="#2f9d41" id=edge_cf56868d labeltooltip="40 " tooltip="40 "]
		task_c4fb57ac [label="kubeinit.kubeinit.kubeinit_libvirt : Show northbound status" color="#2f9d41" id=task_c4fb57ac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show northbound status"]
		role_66c28763 -> task_c4fb57ac [label="41 " color="#2f9d41" fontcolor="#2f9d41" id=edge_c560372f labeltooltip="41 " tooltip="41 "]
		task_a3b77955 [label="kubeinit.kubeinit.kubeinit_libvirt : Show southbound status" color="#2f9d41" id=task_a3b77955 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show southbound status"]
		role_66c28763 -> task_a3b77955 [label="42 " color="#2f9d41" fontcolor="#2f9d41" id=edge_3a41ce67 labeltooltip="42 " tooltip="42 "]
		task_55ed9d6d [label="kubeinit.kubeinit.kubeinit_libvirt : Show openvswitch status" color="#2f9d41" id=task_55ed9d6d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show openvswitch status"]
		role_66c28763 -> task_55ed9d6d [label="43 " color="#2f9d41" fontcolor="#2f9d41" id=edge_ff58108f labeltooltip="43 " tooltip="43 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_2b0000f8 [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_2b0000f8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a717e626 [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_a717e626 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_ef1b7316 [label="[role] Create ssh config file from template" color="#2f9d41" id=role_ef1b7316 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_4320c783 [label="[role] Prepare environment if not prepared" color="#2f9d41" id=role_4320c783 tooltip="Prepare environment if not prepared"]
		role_4320c783 -> role_2b0000f8 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_22402236 labeltooltip="1 " tooltip="1 "]
		role_4320c783 -> role_a717e626 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_d4450602 labeltooltip="2 " tooltip="2 "]
		role_4320c783 -> role_ef1b7316 [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_1f41a521 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_db5ec5fa [label="[role] Prepare podman" color="#2f9d41" id=role_db5ec5fa tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_683df819 [label="[role] Create systemd service for podman container" color="#2f9d41" id=role_683df819 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_2509d3b0 [label="[role] Configure Bind" color="#2f9d41" id=role_2509d3b0 tooltip="Configure Bind"]
		role_2509d3b0 -> role_683df819 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_0a7a4a08 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f22e7cbf [label="[role] Create systemd service for podman container" color="#2f9d41" id=role_f22e7cbf tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_169e2258 [label="[role] Configure Dnsmasq" color="#2f9d41" id=role_169e2258 tooltip="Configure Dnsmasq"]
		role_169e2258 -> role_f22e7cbf [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_51009dd8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2beb5ea5 [label="[role] Create systemd service for podman container" color="#2f9d41" id=role_2beb5ea5 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_677d683b [label="[role] Configure HAProxy" color="#2f9d41" id=role_677d683b tooltip="Configure HAProxy"]
		role_677d683b -> role_2beb5ea5 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_69922053 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_cb2bb06d [label="[role] Create systemd service for podman container" color="#2f9d41" id=role_cb2bb06d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_17aea17e [label="[role] Configure Nexus" color="#2f9d41" id=role_17aea17e tooltip="Configure Nexus"]
		role_17aea17e -> role_cb2bb06d [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_11f267f0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_37be05e4 [label="[role] Create systemd service for podman container" color="#2f9d41" id=role_37be05e4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_65f8633b [label="[role] Configure Apache" color="#2f9d41" id=role_65f8633b tooltip="Configure Apache"]
		role_65f8633b -> role_37be05e4 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_18574bd9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a528b653 [label="[role] Create systemd service for podman container" color="#2f9d41" id=role_a528b653 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_bc7ad28f [label="[role] Configure a local container image registry" color="#2f9d41" id=role_bc7ad28f tooltip="Configure a local container image registry"]
		role_bc7ad28f -> role_a528b653 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_c3ba699c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_f6b594d2 [label="[role] task-create-services" color="#2f9d41" id=role_f6b594d2 tooltip="task-create-services"]
		role_f6b594d2 -> role_4320c783 [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_e4208b24 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f6b594d2 -> role_db5ec5fa [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_f03915b2 labeltooltip="2 " tooltip="2 "]
		role_f6b594d2 -> role_2509d3b0 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#2f9d41" fontcolor="#2f9d41" id=edge_18e9d77b labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f6b594d2 -> role_169e2258 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#2f9d41" fontcolor="#2f9d41" id=edge_169ce2bb labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f6b594d2 -> role_677d683b [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#2f9d41" fontcolor="#2f9d41" id=edge_fa89c002 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f6b594d2 -> role_17aea17e [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#2f9d41" fontcolor="#2f9d41" id=edge_8de0a9e3 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f6b594d2 -> role_65f8633b [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#2f9d41" fontcolor="#2f9d41" id=edge_50d70d14 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f6b594d2 -> role_bc7ad28f [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#2f9d41" fontcolor="#2f9d41" id=edge_88094078 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_707c5deb [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_707c5deb tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_e0d4bc2b [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_e0d4bc2b tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_4553fe66 [label="[role] Create ssh config file from template" color="#2f9d41" id=role_4553fe66 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_8ea65405 [label="[role] Prepare environment if needed" color="#2f9d41" id=role_8ea65405 tooltip="Prepare environment if needed"]
		role_8ea65405 -> role_707c5deb [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_9b9d0d9d labeltooltip="1 " tooltip="1 "]
		role_8ea65405 -> role_e0d4bc2b [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_1424667d labeltooltip="2 " tooltip="2 "]
		role_8ea65405 -> role_4553fe66 [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_31e22e0f labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_a1791421 [label="[role] Gather network and host facts for guest" color="#2f9d41" id=role_a1791421 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_3b5102bf [label="[role] Prepare services if needed" color="#2f9d41" id=role_3b5102bf tooltip="Prepare services if needed"]
		role_3b5102bf -> role_8ea65405 [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_34948504 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3b5102bf -> role_a1791421 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_4df8ebca labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a8f6bcc7 [label="[role] Create systemd service for podman container" color="#2f9d41" id=role_a8f6bcc7 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_ccf7a1c5 [label="[role] Gather network and host facts for provision service" color="#2f9d41" id=role_ccf7a1c5 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_3deb4484 [label="[role] Setup the cluster provision container" color="#2f9d41" id=role_3deb4484 tooltip="Setup the cluster provision container"]
		role_3deb4484 -> role_a8f6bcc7 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_97a55345 labeltooltip="1 " tooltip="1 "]
		role_3deb4484 -> role_ccf7a1c5 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_e119fad3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_f1359751 [label="[role] Delegate to the distro role to prepare the cluster" color="#2f9d41" id=role_f1359751 tooltip="Delegate to the distro role to prepare the cluster"]
		role_f1359751 -> role_3deb4484 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_c480c198 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_c10e6f85 [label="[role] task-prepare-cluster" color="#2f9d41" id=role_c10e6f85 tooltip="task-prepare-cluster"]
		role_c10e6f85 -> role_3b5102bf [label="1 [when: not services_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_b615cc44 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c10e6f85 -> role_f1359751 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_d090c616 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a0c6dc0f [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_a0c6dc0f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_d0ce1572 [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_d0ce1572 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_a5cee0dd [label="[role] Create ssh config file from template" color="#2f9d41" id=role_a5cee0dd tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9826b272 [label="[role] Prepare environment if not prepared" color="#2f9d41" id=role_9826b272 tooltip="Prepare environment if not prepared"]
		role_9826b272 -> role_a0c6dc0f [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_d637f452 labeltooltip="1 " tooltip="1 "]
		role_9826b272 -> role_d0ce1572 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_62db264e labeltooltip="2 " tooltip="2 "]
		role_9826b272 -> role_a5cee0dd [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_1766d262 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_258860b4 [label="[role] task-download-images" color="#2f9d41" id=role_258860b4 tooltip="task-download-images"]
		role_258860b4 -> role_9826b272 [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_14ba2759 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_a494af0f [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_a494af0f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_481b7b28 [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_481b7b28 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_caa4974c [label="[role] Create ssh config file from template" color="#2f9d41" id=role_caa4974c tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_837a43b7 [label="[role] Prepare environment if needed" color="#2f9d41" id=role_837a43b7 tooltip="Prepare environment if needed"]
		role_837a43b7 -> role_a494af0f [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_2dd51d0f labeltooltip="1 " tooltip="1 "]
		role_837a43b7 -> role_481b7b28 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_38c1fcab labeltooltip="2 " tooltip="2 "]
		role_837a43b7 -> role_caa4974c [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_935ec9a8 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_35b19fe9 [label="[role] Gather network and host facts for guest" color="#2f9d41" id=role_35b19fe9 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_618ee2f4 [label="[role] Prepare services if needed" color="#2f9d41" id=role_618ee2f4 tooltip="Prepare services if needed"]
		role_618ee2f4 -> role_837a43b7 [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_2a0d0023 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_618ee2f4 -> role_35b19fe9 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_f5985e6e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_a9474257 [label="[role] Deploy the cluster bootstrap node" color="#2f9d41" id=role_a9474257 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_1fda17c3 [label="[role] Deploy the cluster controller nodes" color="#2f9d41" id=role_1fda17c3 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_27d5b37d [label="[role] Deploy the cluster compute nodes" color="#2f9d41" id=role_27d5b37d tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_2eca6433 [label="[role] Delegate to the distro role to deploy the cluster" color="#2f9d41" id=role_2eca6433 tooltip="Delegate to the distro role to deploy the cluster"]
		role_2eca6433 -> role_a9474257 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_b112df50 labeltooltip="1 " tooltip="1 "]
		role_2eca6433 -> role_1fda17c3 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_085fbe9d labeltooltip="2 " tooltip="2 "]
		role_2eca6433 -> role_27d5b37d [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_4853c2d6 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_be8091b0 [label="[role] task-deploy-cluster" color="#2f9d41" id=role_be8091b0 tooltip="task-deploy-cluster"]
		role_be8091b0 -> role_618ee2f4 [label="1 [when: not services_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_dc5d9f06 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_be8091b0 -> role_2eca6433 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_2ed6d3d2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_912b6173 [label="[role] Gather kubeinit secrets" color="#2f9d41" id=role_912b6173 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_fdbf3c99 [label="[role] Gather additional facts from localhost for kubeinit" color="#2f9d41" id=role_fdbf3c99 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2e1a5075 [label="[role] Create ssh config file from template" color="#2f9d41" id=role_2e1a5075 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_8ef084e0 [label="[role] Prepare environment if needed" color="#2f9d41" id=role_8ef084e0 tooltip="Prepare environment if needed"]
		role_8ef084e0 -> role_912b6173 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_02813bfe labeltooltip="1 " tooltip="1 "]
		role_8ef084e0 -> role_fdbf3c99 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_5e420326 labeltooltip="2 " tooltip="2 "]
		role_8ef084e0 -> role_2e1a5075 [label="3 " color="#2f9d41" fontcolor="#2f9d41" id=edge_5e7476d1 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_3321bfc5 [label="[role] Gather network and host facts for guest" color="#2f9d41" id=role_3321bfc5 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_88526d99 [label="[role] Prepare services if needed" color="#2f9d41" id=role_88526d99 tooltip="Prepare services if needed"]
		role_88526d99 -> role_8ef084e0 [label="1 [when: not environment_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_301f7ef7 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_88526d99 -> role_3321bfc5 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_a2aa82ae labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_37625e11 [label="[role] Configure NFS" color="#2f9d41" id=role_37625e11 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_2048e187 [label="[role] Deploy the apps" color="#2f9d41" id=role_2048e187 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_4685a034 [label="[role] Deploy KubeVirt" color="#2f9d41" id=role_4685a034 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_3ad8ef37 [label="[role] Deploy Submariner" color="#2f9d41" id=role_3ad8ef37 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_b52ea0a9 [label="[role] Delegate to distro role to run post-deployment tasks" color="#2f9d41" id=role_b52ea0a9 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_b52ea0a9 -> role_37625e11 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#2f9d41" fontcolor="#2f9d41" id=edge_e4d03b21 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_b52ea0a9 -> role_2048e187 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_ae8af936 labeltooltip="2 " tooltip="2 "]
		role_b52ea0a9 -> role_4685a034 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#2f9d41" fontcolor="#2f9d41" id=edge_2dd40053 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_b52ea0a9 -> role_3ad8ef37 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#2f9d41" fontcolor="#2f9d41" id=edge_6e09bc8c labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_f9ae4de6 [label="[role] task-post-deployment" color="#2f9d41" id=role_f9ae4de6 tooltip="task-post-deployment"]
		role_f9ae4de6 -> role_88526d99 [label="1 [when: not services_prepared]" color="#2f9d41" fontcolor="#2f9d41" id=edge_a26e3624 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f9ae4de6 -> role_b52ea0a9 [label="2 " color="#2f9d41" fontcolor="#2f9d41" id=edge_6dbdcece labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_ec952db0 -> block_fa5a27ab [label=1 color="#2f9d41" fontcolor="#2f9d41" id=edge_555ae7bc labeltooltip=1 tooltip=1]
		subgraph cluster_block_fa5a27ab {
			block_fa5a27ab [label="[block] Prepare the environment" color="#2f9d41" id=block_fa5a27ab labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_fa5a27ab -> role_7e2de49f [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_0927bf4e labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_88801c36 [label=2 color="#2f9d41" fontcolor="#2f9d41" id=edge_502638e1 labeltooltip=2 tooltip=2]
		subgraph cluster_block_88801c36 {
			block_88801c36 [label="[block] Cleanup hypervisors" color="#2f9d41" id=block_88801c36 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_88801c36 -> role_bce1eb75 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_2bc698ec labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_ef2e4857 [label=3 color="#2f9d41" fontcolor="#2f9d41" id=edge_b3c15256 labeltooltip=3 tooltip=3]
		subgraph cluster_block_ef2e4857 {
			block_ef2e4857 [label="[block] Run validations on cluster resources" color="#2f9d41" id=block_ef2e4857 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_ef2e4857 -> role_ab42acff [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_c6d1c7e0 labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_f53961b2 [label=4 color="#2f9d41" fontcolor="#2f9d41" id=edge_d34b8f06 labeltooltip=4 tooltip=4]
		subgraph cluster_block_f53961b2 {
			block_f53961b2 [label="[block] Create the cluster network resources" color="#2f9d41" id=block_f53961b2 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_f53961b2 -> role_66c28763 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_38bc3fa1 labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_01696cc4 [label=5 color="#2f9d41" fontcolor="#2f9d41" id=edge_ff60de37 labeltooltip=5 tooltip=5]
		subgraph cluster_block_01696cc4 {
			block_01696cc4 [label="[block] Create services the cluster will need" color="#2f9d41" id=block_01696cc4 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_01696cc4 -> role_f6b594d2 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_38615832 labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_34f1cbe5 [label=6 color="#2f9d41" fontcolor="#2f9d41" id=edge_7d7e546a labeltooltip=6 tooltip=6]
		subgraph cluster_block_34f1cbe5 {
			block_34f1cbe5 [label="[block] Prepare to deploy the cluster" color="#2f9d41" id=block_34f1cbe5 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_34f1cbe5 -> role_c10e6f85 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_79e8e319 labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_c851c8ea [label=7 color="#2f9d41" fontcolor="#2f9d41" id=edge_94ad384d labeltooltip=7 tooltip=7]
		subgraph cluster_block_c851c8ea {
			block_c851c8ea [label="[block] Download cloud images" color="#2f9d41" id=block_c851c8ea labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_c851c8ea -> role_258860b4 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_87334759 labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_62f1980c [label=8 color="#2f9d41" fontcolor="#2f9d41" id=edge_0dd37084 labeltooltip=8 tooltip=8]
		subgraph cluster_block_62f1980c {
			block_62f1980c [label="[block] Deploy the cluster" color="#2f9d41" id=block_62f1980c labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_62f1980c -> role_be8091b0 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_b6017915 labeltooltip="1 " tooltip="1 "]
		}
		play_ec952db0 -> block_4cb778d2 [label=9 color="#2f9d41" fontcolor="#2f9d41" id=edge_119dd2e2 labeltooltip=9 tooltip=9]
		subgraph cluster_block_4cb778d2 {
			block_4cb778d2 [label="[block] Run any post-deployment tasks" color="#2f9d41" id=block_4cb778d2 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_4cb778d2 -> role_f9ae4de6 [label="1 " color="#2f9d41" fontcolor="#2f9d41" id=edge_c9b2eb38 labeltooltip="1 " tooltip="1 "]
		}
	}
}
