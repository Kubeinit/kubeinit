digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_525cce23 [label="Play: Initial setup (1)" color="#345498" fontcolor="#ffffff" id=play_525cce23 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_525cce23 [label="1 " color="#345498" fontcolor="#345498" id=edge_72352a7f labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_bd49c0d7 [label="[role] Read podman secrets if running from the container" color="#345498" id=role_bd49c0d7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_8d314b58 [label="[role] task-gather-facts" color="#345498" id=role_8d314b58 tooltip="task-gather-facts"]
		role_8d314b58 -> role_bd49c0d7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#345498" fontcolor="#345498" id=edge_1aefca15 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_81139a7f [label="[role] Read podman secrets if running from the container" color="#345498" id=role_81139a7f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_aabe633f [label="[role] task-prepare-hypervisors" color="#345498" id=role_aabe633f tooltip="task-prepare-hypervisors"]
		role_aabe633f -> role_81139a7f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#345498" fontcolor="#345498" id=edge_3b7934a7 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_525cce23 -> block_a3ddc29b [label=1 color="#345498" fontcolor="#345498" id=edge_fadf79fe labeltooltip=1 tooltip=1]
		subgraph cluster_block_a3ddc29b {
			block_a3ddc29b [label="[block] Gather facts about the deployment environment" color="#345498" id=block_a3ddc29b labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_a3ddc29b -> role_8d314b58 [label="1 " color="#345498" fontcolor="#345498" id=edge_49701035 labeltooltip="1 " tooltip="1 "]
		}
		play_525cce23 -> block_739f6bcc [label=2 color="#345498" fontcolor="#345498" id=edge_8db74b17 labeltooltip=2 tooltip=2]
		subgraph cluster_block_739f6bcc {
			block_739f6bcc [label="[block] Prepare the hypervisors" color="#345498" id=block_739f6bcc labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_739f6bcc -> role_aabe633f [label="1 " color="#345498" fontcolor="#345498" id=edge_f85ef5cb labeltooltip="1 " tooltip="1 "]
		}
	}
	play_47b4b34c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#a012ba" fontcolor="#ffffff" id=play_47b4b34c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_47b4b34c [label="2 " color="#a012ba" fontcolor="#a012ba" id=edge_94766b13 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_53ff555d [label="[role] Provision the libvirt services on the hypervisor" color="#a012ba" id=role_53ff555d tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_2742c7de [label="[role] Prepare each hypervisor in the deployment" color="#a012ba" id=role_2742c7de tooltip="Prepare each hypervisor in the deployment"]
		role_2742c7de -> role_53ff555d [label="1 " color="#a012ba" fontcolor="#a012ba" id=edge_b25d3455 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_47b4b34c -> block_50418e05 [label=1 color="#a012ba" fontcolor="#a012ba" id=edge_6897ed36 labeltooltip=1 tooltip=1]
		subgraph cluster_block_50418e05 {
			block_50418e05 [label="[block] Prepare individual hypervisors" color="#a012ba" id=block_50418e05 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_50418e05 -> role_2742c7de [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#a012ba" fontcolor="#a012ba" id=edge_0c7c64d6 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_0baa2c85 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#19b34c" fontcolor="#ffffff" id=play_0baa2c85 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_0baa2c85 [label="3 " color="#19b34c" fontcolor="#19b34c" id=edge_0affd53c labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_aae78301 [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_aae78301 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_813b547a [label="[role] task-prepare-environment" color="#19b34c" id=role_813b547a tooltip="task-prepare-environment"]
		role_813b547a -> role_aae78301 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_c059bca9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_eacae035 [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_eacae035 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_89bd0981 [label="[role] Prepare environment if not prepared" color="#19b34c" id=role_89bd0981 tooltip="Prepare environment if not prepared"]
		role_89bd0981 -> role_eacae035 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_4ecb603a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_ccf81e7f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#19b34c" id=role_ccf81e7f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_9ab0ff21 [label="[role] task-cleanup-hypervisors" color="#19b34c" id=role_9ab0ff21 tooltip="task-cleanup-hypervisors"]
		role_9ab0ff21 -> role_89bd0981 [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_ae5a9173 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9ab0ff21 -> role_ccf81e7f [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_6f14ec27 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a1675d65 [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_a1675d65 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_54da64b5 [label="[role] Prepare environment if not prepared" color="#19b34c" id=role_54da64b5 tooltip="Prepare environment if not prepared"]
		role_54da64b5 -> role_a1675d65 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_eb2e65b1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_45af88e8 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#19b34c" id=role_45af88e8 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_d0f74663 [label="[role] Cleanup hypervisors if needed" color="#19b34c" id=role_d0f74663 tooltip="Cleanup hypervisors if needed"]
		role_d0f74663 -> role_54da64b5 [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_a443a6ed labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d0f74663 -> role_45af88e8 [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_c415829e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_3978b5c6 [label="[role] task-run-validations" color="#19b34c" id=role_3978b5c6 tooltip="task-run-validations"]
		role_3978b5c6 -> role_d0f74663 [label="1 [when: not hypervisors_cleaned]" color="#19b34c" fontcolor="#19b34c" id=edge_96278ea7 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9e37a3f5 [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_9e37a3f5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_905fe0a9 [label="[role] Prepare environment if not prepared" color="#19b34c" id=role_905fe0a9 tooltip="Prepare environment if not prepared"]
		role_905fe0a9 -> role_9e37a3f5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_14f7f238 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_819239e6 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#19b34c" id=role_819239e6 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_f7449ad1 [label="[role] Cleanup hypervisors if needed" color="#19b34c" id=role_f7449ad1 tooltip="Cleanup hypervisors if needed"]
		role_f7449ad1 -> role_905fe0a9 [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_e8e87569 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f7449ad1 -> role_819239e6 [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_fa25d743 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_0d8ffae7 [label="[role] task-create-network" color="#19b34c" id=role_0d8ffae7 tooltip="task-create-network"]
		role_0d8ffae7 -> role_f7449ad1 [label="1 [when: not hypervisors_cleaned]" color="#19b34c" fontcolor="#19b34c" id=edge_505c4c56 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
		task_f145755b [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in CentOS/RHEL" color="#19b34c" id=task_f145755b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in CentOS/RHEL"]
		role_0d8ffae7 -> task_f145755b [label="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']" color="#19b34c" fontcolor="#19b34c" id=edge_7fbfc234 labeltooltip="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']" tooltip="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']"]
		task_55b869cd [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Fedora" color="#19b34c" id=task_55b869cd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Fedora"]
		role_0d8ffae7 -> task_55b869cd [label="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']" color="#19b34c" fontcolor="#19b34c" id=edge_9d12c025 labeltooltip="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']" tooltip="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']"]
		task_189c93f9 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Ubuntu/Debian" color="#19b34c" id=task_189c93f9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Ubuntu/Debian"]
		role_0d8ffae7 -> task_189c93f9 [label="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" color="#19b34c" fontcolor="#19b34c" id=edge_84c99f7d labeltooltip="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" tooltip="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']"]
		task_d5bca08b [label="kubeinit.kubeinit.kubeinit_libvirt : Collect all HVs which are not the ovn-central host" color="#19b34c" id=task_d5bca08b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Collect all HVs which are not the ovn-central host"]
		role_0d8ffae7 -> task_d5bca08b [label="5 [when: ovn_host not in kubeinit_ovn_central_host]" color="#19b34c" fontcolor="#19b34c" id=edge_ac3f9eb3 labeltooltip="5 [when: ovn_host not in kubeinit_ovn_central_host]" tooltip="5 [when: ovn_host not in kubeinit_ovn_central_host]"]
		task_be782f1c [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in CentOS/RHEL" color="#19b34c" id=task_be782f1c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in CentOS/RHEL"]
		role_0d8ffae7 -> task_be782f1c [label="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']" color="#19b34c" fontcolor="#19b34c" id=edge_1533a0ae labeltooltip="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']" tooltip="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']"]
		task_8b0de99c [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Fedora" color="#19b34c" id=task_8b0de99c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Fedora"]
		role_0d8ffae7 -> task_8b0de99c [label="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']" color="#19b34c" fontcolor="#19b34c" id=edge_ad34bc76 labeltooltip="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']" tooltip="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']"]
		task_f904aae9 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Ubuntu/Debian" color="#19b34c" id=task_f904aae9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Ubuntu/Debian"]
		role_0d8ffae7 -> task_f904aae9 [label="8 [when: hostvars[ovn_host].distribution_family == 'Debian']" color="#19b34c" fontcolor="#19b34c" id=edge_32ea4c7b labeltooltip="8 [when: hostvars[ovn_host].distribution_family == 'Debian']" tooltip="8 [when: hostvars[ovn_host].distribution_family == 'Debian']"]
		task_01b37a34 [label="kubeinit.kubeinit.kubeinit_libvirt : Gather current firewalld rules for ovn hosts" color="#19b34c" id=task_01b37a34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Gather current firewalld rules for ovn hosts"]
		role_0d8ffae7 -> task_01b37a34 [label="9 [when: hostvars[ovn_host].firewalld_is_active]" color="#19b34c" fontcolor="#19b34c" id=edge_de0a8c8e labeltooltip="9 [when: hostvars[ovn_host].firewalld_is_active]" tooltip="9 [when: hostvars[ovn_host].firewalld_is_active]"]
		task_2d54d3ce [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for expected rich_rule result" color="#19b34c" id=task_2d54d3ce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for expected rich_rule result"]
		role_0d8ffae7 -> task_2d54d3ce [label="10 " color="#19b34c" fontcolor="#19b34c" id=edge_1395565f labeltooltip="10 " tooltip="10 "]
		task_f0c52bf0 [label="kubeinit.kubeinit.kubeinit_libvirt : Check firewalld services and rich_rules for existing entries" color="#19b34c" id=task_f0c52bf0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check firewalld services and rich_rules for existing entries"]
		role_0d8ffae7 -> task_f0c52bf0 [label="11 [when: item.firewalld_info is defined]" color="#19b34c" fontcolor="#19b34c" id=edge_291cd3bd labeltooltip="11 [when: item.firewalld_info is defined]" tooltip="11 [when: item.firewalld_info is defined]"]
		task_db82b65d [label="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list to pick up ovn services" color="#19b34c" id=task_db82b65d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list to pick up ovn services"]
		role_0d8ffae7 -> task_db82b65d [label="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]" color="#19b34c" fontcolor="#19b34c" id=edge_27af2876 labeltooltip="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]" tooltip="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]"]
		task_a533f8cb [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN central in firewalld" color="#19b34c" id=task_a533f8cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN central in firewalld"]
		role_0d8ffae7 -> task_a533f8cb [label="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]" color="#19b34c" fontcolor="#19b34c" id=edge_4815bccc labeltooltip="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]" tooltip="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]"]
		task_c1358cf0 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN NAT in firewalld" color="#19b34c" id=task_c1358cf0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN NAT in firewalld"]
		role_0d8ffae7 -> task_c1358cf0 [label="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]" color="#19b34c" fontcolor="#19b34c" id=edge_eada0c2b labeltooltip="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]" tooltip="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]"]
		task_fe2c2101 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN host in firewalld" color="#19b34c" id=task_fe2c2101 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN host in firewalld"]
		role_0d8ffae7 -> task_fe2c2101 [label="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]" color="#19b34c" fontcolor="#19b34c" id=edge_466dd460 labeltooltip="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]" tooltip="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]"]
		task_6ef4a1d0 [label="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list" color="#19b34c" id=task_6ef4a1d0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list"]
		role_0d8ffae7 -> task_6ef4a1d0 [label="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]" color="#19b34c" fontcolor="#19b34c" id=edge_e421aba4 labeltooltip="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]" tooltip="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]"]
		task_9bd7a321 [label="kubeinit.kubeinit.kubeinit_libvirt : Reload podman networks" color="#19b34c" id=task_9bd7a321 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reload podman networks"]
		role_0d8ffae7 -> task_9bd7a321 [label="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]" color="#19b34c" fontcolor="#19b34c" id=edge_a2e0a8ce labeltooltip="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]" tooltip="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]"]
		task_26b5926e [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (CentOS based)" color="#19b34c" id=task_26b5926e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (CentOS based)"]
		role_0d8ffae7 -> task_26b5926e [label="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']" color="#19b34c" fontcolor="#19b34c" id=edge_89861e5f labeltooltip="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']" tooltip="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']"]
		task_ce33e614 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (CentOS based)" color="#19b34c" id=task_ce33e614 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (CentOS based)"]
		role_0d8ffae7 -> task_ce33e614 [label="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']" color="#19b34c" fontcolor="#19b34c" id=edge_5bea5ea4 labeltooltip="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']" tooltip="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']"]
		task_f8a6e251 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (Debian/Ubuntu based)" color="#19b34c" id=task_f8a6e251 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (Debian/Ubuntu based)"]
		role_0d8ffae7 -> task_f8a6e251 [label="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" color="#19b34c" fontcolor="#19b34c" id=edge_158ab40b labeltooltip="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" tooltip="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']"]
		task_8c6e5194 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (Debian/Ubuntu based)" color="#19b34c" id=task_8c6e5194 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (Debian/Ubuntu based)"]
		role_0d8ffae7 -> task_8c6e5194 [label="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']" color="#19b34c" fontcolor="#19b34c" id=edge_00a1d3fe labeltooltip="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']" tooltip="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']"]
		task_e353ee25 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait until OVN services are running" color="#19b34c" id=task_e353ee25 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait until OVN services are running"]
		role_0d8ffae7 -> task_e353ee25 [label="22 [when: kubeinit_destroy_ovn_network]" color="#19b34c" fontcolor="#19b34c" id=edge_3a0f17a4 labeltooltip="22 [when: kubeinit_destroy_ovn_network]" tooltip="22 [when: kubeinit_destroy_ovn_network]"]
		task_7dd39800 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#19b34c" id=task_7dd39800 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_0d8ffae7 -> task_7dd39800 [label="23 " color="#19b34c" fontcolor="#19b34c" id=edge_e12c2311 labeltooltip="23 " tooltip="23 "]
		task_04a330c3 [label="kubeinit.kubeinit.kubeinit_libvirt : Configure OVS on the Hypervisors" color="#19b34c" id=task_04a330c3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configure OVS on the Hypervisors"]
		role_0d8ffae7 -> task_04a330c3 [label="24 [when: kubeinit_destroy_ovn_network]" color="#19b34c" fontcolor="#19b34c" id=edge_a8b17d95 labeltooltip="24 [when: kubeinit_destroy_ovn_network]" tooltip="24 [when: kubeinit_destroy_ovn_network]"]
		task_3ec6ef72 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#19b34c" id=task_3ec6ef72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_0d8ffae7 -> task_3ec6ef72 [label="25 " color="#19b34c" fontcolor="#19b34c" id=edge_15c91c88 labeltooltip="25 " tooltip="25 "]
		task_de606a9a [label="kubeinit.kubeinit.kubeinit_libvirt : Configure OVN in the ovn-central hypervisor" color="#19b34c" id=task_de606a9a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configure OVN in the ovn-central hypervisor"]
		role_0d8ffae7 -> task_de606a9a [label="26 [when: kubeinit_destroy_ovn_network]" color="#19b34c" fontcolor="#19b34c" id=edge_2af63888 labeltooltip="26 [when: kubeinit_destroy_ovn_network]" tooltip="26 [when: kubeinit_destroy_ovn_network]"]
		task_10a45725 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#19b34c" id=task_10a45725 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_0d8ffae7 -> task_10a45725 [label="27 " color="#19b34c" fontcolor="#19b34c" id=edge_2f5c46ea labeltooltip="27 " tooltip="27 "]
		task_d0874baf [label="kubeinit.kubeinit.kubeinit_libvirt : Remove and create the cluster switch if exists" color="#19b34c" id=task_d0874baf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove and create the cluster switch if exists"]
		role_0d8ffae7 -> task_d0874baf [label="28 " color="#19b34c" fontcolor="#19b34c" id=edge_88387968 labeltooltip="28 " tooltip="28 "]
		task_befab2be [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#19b34c" id=task_befab2be shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_0d8ffae7 -> task_befab2be [label="29 " color="#19b34c" fontcolor="#19b34c" id=edge_f2f3dcce labeltooltip="29 " tooltip="29 "]
		task_e7c90fe6 [label="kubeinit.kubeinit.kubeinit_libvirt : Create OVS/OVN bindings for the VMs ports" color="#19b34c" id=task_e7c90fe6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create OVS/OVN bindings for the VMs ports"]
		role_0d8ffae7 -> task_e7c90fe6 [label="30 " color="#19b34c" fontcolor="#19b34c" id=edge_f58dbf53 labeltooltip="30 " tooltip="30 "]
		task_ee7237c2 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#19b34c" id=task_ee7237c2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_0d8ffae7 -> task_ee7237c2 [label="31 " color="#19b34c" fontcolor="#19b34c" id=edge_36c0ffa0 labeltooltip="31 " tooltip="31 "]
		task_4cc2eb55 [label="kubeinit.kubeinit.kubeinit_libvirt : Configuring a router connected to the guests switch" color="#19b34c" id=task_4cc2eb55 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configuring a router connected to the guests switch"]
		role_0d8ffae7 -> task_4cc2eb55 [label="32 [when: kubeinit_destroy_ovn_network]" color="#19b34c" fontcolor="#19b34c" id=edge_8b134808 labeltooltip="32 [when: kubeinit_destroy_ovn_network]" tooltip="32 [when: kubeinit_destroy_ovn_network]"]
		task_6a5655e8 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#19b34c" id=task_6a5655e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_0d8ffae7 -> task_6a5655e8 [label="33 " color="#19b34c" fontcolor="#19b34c" id=edge_cd364e0d labeltooltip="33 " tooltip="33 "]
		task_ad5ef19a [label="kubeinit.kubeinit.kubeinit_libvirt : Attach our cluster network to the logical router" color="#19b34c" id=task_ad5ef19a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Attach our cluster network to the logical router"]
		role_0d8ffae7 -> task_ad5ef19a [label="34 " color="#19b34c" fontcolor="#19b34c" id=edge_f66fef04 labeltooltip="34 " tooltip="34 "]
		task_ee1f9073 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#19b34c" id=task_ee1f9073 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_0d8ffae7 -> task_ee1f9073 [label="35 " color="#19b34c" fontcolor="#19b34c" id=edge_461b7bcd labeltooltip="35 " tooltip="35 "]
		task_cf32996b [label="kubeinit.kubeinit.kubeinit_libvirt : Configuring NAT" color="#19b34c" id=task_cf32996b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configuring NAT"]
		role_0d8ffae7 -> task_cf32996b [label="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]" color="#19b34c" fontcolor="#19b34c" id=edge_f5efdfe0 labeltooltip="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]" tooltip="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]"]
		task_93958e23 [label="kubeinit.kubeinit.kubeinit_libvirt : Render KubeInit networks for debugging" color="#19b34c" id=task_93958e23 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Render KubeInit networks for debugging"]
		role_0d8ffae7 -> task_93958e23 [label="37 " color="#19b34c" fontcolor="#19b34c" id=edge_ff37c581 labeltooltip="37 " tooltip="37 "]
		task_8572825f [label="kubeinit.kubeinit.kubeinit_libvirt : Define KubeInit networks" color="#19b34c" id=task_8572825f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Define KubeInit networks"]
		role_0d8ffae7 -> task_8572825f [label="38 " color="#19b34c" fontcolor="#19b34c" id=edge_9de5f741 labeltooltip="38 " tooltip="38 "]
		task_217a71f4 [label="kubeinit.kubeinit.kubeinit_libvirt : Activate KubeInit networks" color="#19b34c" id=task_217a71f4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Activate KubeInit networks"]
		role_0d8ffae7 -> task_217a71f4 [label="39 " color="#19b34c" fontcolor="#19b34c" id=edge_b5a50aae labeltooltip="39 " tooltip="39 "]
		task_9eb830f0 [label="kubeinit.kubeinit.kubeinit_libvirt : Autostart KubeInit networks" color="#19b34c" id=task_9eb830f0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Autostart KubeInit networks"]
		role_0d8ffae7 -> task_9eb830f0 [label="40 " color="#19b34c" fontcolor="#19b34c" id=edge_273431c0 labeltooltip="40 " tooltip="40 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9f22f4e8 [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_9f22f4e8 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_75a2f974 [label="[role] Prepare environment if not prepared" color="#19b34c" id=role_75a2f974 tooltip="Prepare environment if not prepared"]
		role_75a2f974 -> role_9f22f4e8 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_deb60c12 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_206c9b91 [label="[role] Prepare podman" color="#19b34c" id=role_206c9b91 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_f4dbb037 [label="[role] Create systemd service for podman container" color="#19b34c" id=role_f4dbb037 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_dca2ee73 [label="[role] Configure Bind" color="#19b34c" id=role_dca2ee73 tooltip="Configure Bind"]
		role_dca2ee73 -> role_f4dbb037 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_4ce420f7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_fa0517f8 [label="[role] Create systemd service for podman container" color="#19b34c" id=role_fa0517f8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_e5c30cb0 [label="[role] Configure Dnsmasq" color="#19b34c" id=role_e5c30cb0 tooltip="Configure Dnsmasq"]
		role_e5c30cb0 -> role_fa0517f8 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_1b168eaf labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c9accb7e [label="[role] Create systemd service for podman container" color="#19b34c" id=role_c9accb7e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_4a3786f6 [label="[role] Configure HAProxy" color="#19b34c" id=role_4a3786f6 tooltip="Configure HAProxy"]
		role_4a3786f6 -> role_c9accb7e [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_9776d0c3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_68777b9f [label="[role] Create systemd service for podman container" color="#19b34c" id=role_68777b9f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_0c848de4 [label="[role] Configure Nexus" color="#19b34c" id=role_0c848de4 tooltip="Configure Nexus"]
		role_0c848de4 -> role_68777b9f [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_9030307a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4dad647e [label="[role] Create systemd service for podman container" color="#19b34c" id=role_4dad647e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_3af01774 [label="[role] Configure Apache" color="#19b34c" id=role_3af01774 tooltip="Configure Apache"]
		role_3af01774 -> role_4dad647e [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_2f3411ce labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_86cc9700 [label="[role] Create systemd service for podman container" color="#19b34c" id=role_86cc9700 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_ba744035 [label="[role] Configure a local container image registry" color="#19b34c" id=role_ba744035 tooltip="Configure a local container image registry"]
		role_ba744035 -> role_86cc9700 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_c69ba51f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_5d46eebc [label="[role] task-create-services" color="#19b34c" id=role_5d46eebc tooltip="task-create-services"]
		role_5d46eebc -> role_75a2f974 [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_87949543 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5d46eebc -> role_206c9b91 [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_b633b444 labeltooltip="2 " tooltip="2 "]
		role_5d46eebc -> role_dca2ee73 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#19b34c" fontcolor="#19b34c" id=edge_55194e02 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5d46eebc -> role_e5c30cb0 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#19b34c" fontcolor="#19b34c" id=edge_9cc9080c labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5d46eebc -> role_4a3786f6 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#19b34c" fontcolor="#19b34c" id=edge_90847df8 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5d46eebc -> role_0c848de4 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#19b34c" fontcolor="#19b34c" id=edge_bcdc2e6b labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5d46eebc -> role_3af01774 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#19b34c" fontcolor="#19b34c" id=edge_d5502eb5 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5d46eebc -> role_ba744035 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#19b34c" fontcolor="#19b34c" id=edge_92e85f49 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_fc32335d [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_fc32335d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_62420354 [label="[role] Prepare environment if needed" color="#19b34c" id=role_62420354 tooltip="Prepare environment if needed"]
		role_62420354 -> role_fc32335d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_93bfbecd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_e4404c8e [label="[role] Gather network and host facts for guest" color="#19b34c" id=role_e4404c8e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_90e59d30 [label="[role] Prepare services if needed" color="#19b34c" id=role_90e59d30 tooltip="Prepare services if needed"]
		role_90e59d30 -> role_62420354 [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_8bb0b5aa labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_90e59d30 -> role_e4404c8e [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_947a8f9b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_59541912 [label="[role] Create systemd service for podman container" color="#19b34c" id=role_59541912 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_33a4598b [label="[role] Gather network and host facts for provision service" color="#19b34c" id=role_33a4598b tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_6c600eed [label="[role] Setup the cluster provision container" color="#19b34c" id=role_6c600eed tooltip="Setup the cluster provision container"]
		role_6c600eed -> role_59541912 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_63232b2f labeltooltip="1 " tooltip="1 "]
		role_6c600eed -> role_33a4598b [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_0bc49d78 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_f2e127a8 [label="[role] Delegate to the distro role to prepare the cluster" color="#19b34c" id=role_f2e127a8 tooltip="Delegate to the distro role to prepare the cluster"]
		role_f2e127a8 -> role_6c600eed [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_cb6f42eb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_9a20df51 [label="[role] task-prepare-cluster" color="#19b34c" id=role_9a20df51 tooltip="task-prepare-cluster"]
		role_9a20df51 -> role_90e59d30 [label="1 [when: not services_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_9e2b458a labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_9a20df51 -> role_f2e127a8 [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_1665f6db labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ef52c972 [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_ef52c972 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_919d5b2a [label="[role] Prepare environment if not prepared" color="#19b34c" id=role_919d5b2a tooltip="Prepare environment if not prepared"]
		role_919d5b2a -> role_ef52c972 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_cb4feeda labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_f48ba326 [label="[role] task-download-images" color="#19b34c" id=role_f48ba326 tooltip="task-download-images"]
		role_f48ba326 -> role_919d5b2a [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_bf65ce54 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ddf0e441 [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_ddf0e441 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_67978218 [label="[role] Prepare environment if needed" color="#19b34c" id=role_67978218 tooltip="Prepare environment if needed"]
		role_67978218 -> role_ddf0e441 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_226a0f03 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_5891c239 [label="[role] Gather network and host facts for guest" color="#19b34c" id=role_5891c239 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_2d20975f [label="[role] Prepare services if needed" color="#19b34c" id=role_2d20975f tooltip="Prepare services if needed"]
		role_2d20975f -> role_67978218 [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_33980040 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2d20975f -> role_5891c239 [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_29b0cb64 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_00fedd46 [label="[role] Deploy the cluster bootstrap node" color="#19b34c" id=role_00fedd46 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_c046a55b [label="[role] Deploy the cluster controller nodes" color="#19b34c" id=role_c046a55b tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_57988389 [label="[role] Deploy the cluster compute nodes" color="#19b34c" id=role_57988389 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_a7b7c132 [label="[role] Delegate to the distro role to deploy the cluster" color="#19b34c" id=role_a7b7c132 tooltip="Delegate to the distro role to deploy the cluster"]
		role_a7b7c132 -> role_00fedd46 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_a0ef15fc labeltooltip="1 " tooltip="1 "]
		role_a7b7c132 -> role_c046a55b [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_1301fff5 labeltooltip="2 " tooltip="2 "]
		role_a7b7c132 -> role_57988389 [label="3 " color="#19b34c" fontcolor="#19b34c" id=edge_803f78e2 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_1d43e934 [label="[role] task-deploy-cluster" color="#19b34c" id=role_1d43e934 tooltip="task-deploy-cluster"]
		role_1d43e934 -> role_2d20975f [label="1 [when: not services_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_830e2bb0 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_1d43e934 -> role_a7b7c132 [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_c34bb2d0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e47f791d [label="[role] Read podman secrets if running from the container" color="#19b34c" id=role_e47f791d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d0d3aa57 [label="[role] Prepare environment if needed" color="#19b34c" id=role_d0d3aa57 tooltip="Prepare environment if needed"]
		role_d0d3aa57 -> role_e47f791d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#19b34c" fontcolor="#19b34c" id=edge_c7896028 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_1dcf988a [label="[role] Gather network and host facts for guest" color="#19b34c" id=role_1dcf988a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_6f919d4f [label="[role] Prepare services if needed" color="#19b34c" id=role_6f919d4f tooltip="Prepare services if needed"]
		role_6f919d4f -> role_d0d3aa57 [label="1 [when: not environment_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_f0509e7a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6f919d4f -> role_1dcf988a [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_189ebd67 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_99dd576e [label="[role] Configure NFS" color="#19b34c" id=role_99dd576e tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_325906ca [label="[role] Deploy the apps" color="#19b34c" id=role_325906ca tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_7c73eddb [label="[role] Deploy KubeVirt" color="#19b34c" id=role_7c73eddb tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_4b05c7c6 [label="[role] Deploy Submariner" color="#19b34c" id=role_4b05c7c6 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_e5b893b5 [label="[role] Delegate to distro role to run post-deployment tasks" color="#19b34c" id=role_e5b893b5 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_e5b893b5 -> role_99dd576e [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#19b34c" fontcolor="#19b34c" id=edge_1d14f664 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_e5b893b5 -> role_325906ca [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_13dd11ce labeltooltip="2 " tooltip="2 "]
		role_e5b893b5 -> role_7c73eddb [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#19b34c" fontcolor="#19b34c" id=edge_cf3bd294 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_e5b893b5 -> role_4b05c7c6 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#19b34c" fontcolor="#19b34c" id=edge_7a1ad319 labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_a3006583 [label="[role] task-post-deployment" color="#19b34c" id=role_a3006583 tooltip="task-post-deployment"]
		role_a3006583 -> role_6f919d4f [label="1 [when: not services_prepared]" color="#19b34c" fontcolor="#19b34c" id=edge_84565909 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_a3006583 -> role_e5b893b5 [label="2 " color="#19b34c" fontcolor="#19b34c" id=edge_2eec13d9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_0baa2c85 -> block_c0ad7f92 [label=1 color="#19b34c" fontcolor="#19b34c" id=edge_7ad9d31d labeltooltip=1 tooltip=1]
		subgraph cluster_block_c0ad7f92 {
			block_c0ad7f92 [label="[block] Prepare the environment" color="#19b34c" id=block_c0ad7f92 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_c0ad7f92 -> role_813b547a [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_20b59f45 labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_6b2bc483 [label=2 color="#19b34c" fontcolor="#19b34c" id=edge_ec52aa4f labeltooltip=2 tooltip=2]
		subgraph cluster_block_6b2bc483 {
			block_6b2bc483 [label="[block] Cleanup hypervisors" color="#19b34c" id=block_6b2bc483 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_6b2bc483 -> role_9ab0ff21 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_ffce976c labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_179e20b7 [label=3 color="#19b34c" fontcolor="#19b34c" id=edge_4eb99772 labeltooltip=3 tooltip=3]
		subgraph cluster_block_179e20b7 {
			block_179e20b7 [label="[block] Run validations on cluster resources" color="#19b34c" id=block_179e20b7 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_179e20b7 -> role_3978b5c6 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_d0d340e8 labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_32c362ac [label=4 color="#19b34c" fontcolor="#19b34c" id=edge_9a2128ed labeltooltip=4 tooltip=4]
		subgraph cluster_block_32c362ac {
			block_32c362ac [label="[block] Create the cluster network resources" color="#19b34c" id=block_32c362ac labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_32c362ac -> role_0d8ffae7 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_e93b5da6 labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_5c9310df [label=5 color="#19b34c" fontcolor="#19b34c" id=edge_f964b866 labeltooltip=5 tooltip=5]
		subgraph cluster_block_5c9310df {
			block_5c9310df [label="[block] Create services the cluster will need" color="#19b34c" id=block_5c9310df labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_5c9310df -> role_5d46eebc [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_9bc4a966 labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_a3169e88 [label=6 color="#19b34c" fontcolor="#19b34c" id=edge_636e0b6f labeltooltip=6 tooltip=6]
		subgraph cluster_block_a3169e88 {
			block_a3169e88 [label="[block] Prepare to deploy the cluster" color="#19b34c" id=block_a3169e88 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_a3169e88 -> role_9a20df51 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_0ea11f85 labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_995a6370 [label=7 color="#19b34c" fontcolor="#19b34c" id=edge_daf14710 labeltooltip=7 tooltip=7]
		subgraph cluster_block_995a6370 {
			block_995a6370 [label="[block] Download cloud images" color="#19b34c" id=block_995a6370 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_995a6370 -> role_f48ba326 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_eedad61c labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_fddb92eb [label=8 color="#19b34c" fontcolor="#19b34c" id=edge_6e88ca77 labeltooltip=8 tooltip=8]
		subgraph cluster_block_fddb92eb {
			block_fddb92eb [label="[block] Deploy the cluster" color="#19b34c" id=block_fddb92eb labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_fddb92eb -> role_1d43e934 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_da789715 labeltooltip="1 " tooltip="1 "]
		}
		play_0baa2c85 -> block_9429a103 [label=9 color="#19b34c" fontcolor="#19b34c" id=edge_e38af22c labeltooltip=9 tooltip=9]
		subgraph cluster_block_9429a103 {
			block_9429a103 [label="[block] Run any post-deployment tasks" color="#19b34c" id=block_9429a103 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_9429a103 -> role_a3006583 [label="1 " color="#19b34c" fontcolor="#19b34c" id=edge_8bbf1b68 labeltooltip="1 " tooltip="1 "]
		}
	}
}
