digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_d4f866b0 [label="Play: Initial setup (1)" color="#c36808" fontcolor="#ffffff" id=play_d4f866b0 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_d4f866b0 [label="1 " color="#c36808" fontcolor="#c36808" id=edge_71bf5b68 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_6a71abd3 [label="[role] Read podman secrets if running from the container" color="#c36808" id=role_6a71abd3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_837347f8 [label="[role] task-gather-facts" color="#c36808" id=role_837347f8 tooltip="task-gather-facts"]
		role_837347f8 -> role_6a71abd3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c36808" fontcolor="#c36808" id=edge_41435e7b labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_71c7adf5 [label="[role] Read podman secrets if running from the container" color="#c36808" id=role_71c7adf5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_b5f8c12e [label="[role] task-prepare-hypervisors" color="#c36808" id=role_b5f8c12e tooltip="task-prepare-hypervisors"]
		role_b5f8c12e -> role_71c7adf5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c36808" fontcolor="#c36808" id=edge_0a08bfb7 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_d4f866b0 -> block_23924dc3 [label=1 color="#c36808" fontcolor="#c36808" id=edge_4d57e213 labeltooltip=1 tooltip=1]
		subgraph cluster_block_23924dc3 {
			block_23924dc3 [label="[block] Gather facts about the deployment environment" color="#c36808" id=block_23924dc3 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_23924dc3 -> role_837347f8 [label="1 " color="#c36808" fontcolor="#c36808" id=edge_34fa5637 labeltooltip="1 " tooltip="1 "]
		}
		play_d4f866b0 -> block_f1906313 [label=2 color="#c36808" fontcolor="#c36808" id=edge_3f8f1d6d labeltooltip=2 tooltip=2]
		subgraph cluster_block_f1906313 {
			block_f1906313 [label="[block] Prepare the hypervisors" color="#c36808" id=block_f1906313 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_f1906313 -> role_b5f8c12e [label="1 " color="#c36808" fontcolor="#c36808" id=edge_54e1a6ce labeltooltip="1 " tooltip="1 "]
		}
	}
	play_6028d162 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#359735" fontcolor="#ffffff" id=play_6028d162 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_6028d162 [label="2 " color="#359735" fontcolor="#359735" id=edge_fae33ba9 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_14ad86cc [label="[role] Provision the libvirt services on the hypervisor" color="#359735" id=role_14ad86cc tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_4d89da01 [label="[role] Prepare each hypervisor in the deployment" color="#359735" id=role_4d89da01 tooltip="Prepare each hypervisor in the deployment"]
		role_4d89da01 -> role_14ad86cc [label="1 " color="#359735" fontcolor="#359735" id=edge_db7a3b24 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_6028d162 -> block_457a0795 [label=1 color="#359735" fontcolor="#359735" id=edge_f86cb63a labeltooltip=1 tooltip=1]
		subgraph cluster_block_457a0795 {
			block_457a0795 [label="[block] Prepare individual hypervisors" color="#359735" id=block_457a0795 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_457a0795 -> role_4d89da01 [label="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" color="#359735" fontcolor="#359735" id=edge_50e0d99f labeltooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]"]
		}
	}
	play_0b6b5637 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#0cc013" fontcolor="#ffffff" id=play_0b6b5637 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_0b6b5637 [label="3 " color="#0cc013" fontcolor="#0cc013" id=edge_d678f0eb labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_081b0005 [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_081b0005 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_71e5564f [label="[role] task-prepare-environment" color="#0cc013" id=role_71e5564f tooltip="task-prepare-environment"]
		role_71e5564f -> role_081b0005 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_af016a5c labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_10df8c01 [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_10df8c01 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_36b469c6 [label="[role] Prepare environment if not prepared" color="#0cc013" id=role_36b469c6 tooltip="Prepare environment if not prepared"]
		role_36b469c6 -> role_10df8c01 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_149f27d9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_2985ab58 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0cc013" id=role_2985ab58 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_cdb5263d [label="[role] task-cleanup-hypervisors" color="#0cc013" id=role_cdb5263d tooltip="task-cleanup-hypervisors"]
		role_cdb5263d -> role_36b469c6 [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_00193d1e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_cdb5263d -> role_2985ab58 [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_5ae62e33 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e5f5af77 [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_e5f5af77 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ac9fb70c [label="[role] Prepare environment if not prepared" color="#0cc013" id=role_ac9fb70c tooltip="Prepare environment if not prepared"]
		role_ac9fb70c -> role_e5f5af77 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_5ca33a36 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_ca3e815d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0cc013" id=role_ca3e815d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_aa3202d6 [label="[role] Cleanup hypervisors if needed" color="#0cc013" id=role_aa3202d6 tooltip="Cleanup hypervisors if needed"]
		role_aa3202d6 -> role_ac9fb70c [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_7a54ec1e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_aa3202d6 -> role_ca3e815d [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_e08a0784 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_efa40409 [label="[role] task-run-validations" color="#0cc013" id=role_efa40409 tooltip="task-run-validations"]
		role_efa40409 -> role_aa3202d6 [label="1 [when: not hypervisors_cleaned]" color="#0cc013" fontcolor="#0cc013" id=edge_41805a7d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1883afdc [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_1883afdc tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_81a38d65 [label="[role] Prepare environment if not prepared" color="#0cc013" id=role_81a38d65 tooltip="Prepare environment if not prepared"]
		role_81a38d65 -> role_1883afdc [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_5f501379 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_dbfba357 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0cc013" id=role_dbfba357 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_13205234 [label="[role] Cleanup hypervisors if needed" color="#0cc013" id=role_13205234 tooltip="Cleanup hypervisors if needed"]
		role_13205234 -> role_81a38d65 [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_90edc506 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_13205234 -> role_dbfba357 [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_298e53d3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_1409c19b [label="[role] task-create-network" color="#0cc013" id=role_1409c19b tooltip="task-create-network"]
		role_1409c19b -> role_13205234 [label="1 [when: not hypervisors_cleaned]" color="#0cc013" fontcolor="#0cc013" id=edge_fa4b087e labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
		task_d9f69112 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in CentOS/RHEL" color="#0cc013" id=task_d9f69112 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in CentOS/RHEL"]
		role_1409c19b -> task_d9f69112 [label="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']" color="#0cc013" fontcolor="#0cc013" id=edge_113ae206 labeltooltip="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']" tooltip="2 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'CentOS']"]
		task_507da677 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Fedora" color="#0cc013" id=task_507da677 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Fedora"]
		role_1409c19b -> task_507da677 [label="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']" color="#0cc013" fontcolor="#0cc013" id=edge_7b1d8ed9 labeltooltip="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']" tooltip="3 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Fedora']"]
		task_f8f63cbf [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Ubuntu/Debian" color="#0cc013" id=task_f8f63cbf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN central packages in Ubuntu/Debian"]
		role_1409c19b -> task_f8f63cbf [label="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" color="#0cc013" fontcolor="#0cc013" id=edge_68c393ca labeltooltip="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" tooltip="4 [when: hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']"]
		task_0b22fc40 [label="kubeinit.kubeinit.kubeinit_libvirt : Collect all HVs which are not the ovn-central host" color="#0cc013" id=task_0b22fc40 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Collect all HVs which are not the ovn-central host"]
		role_1409c19b -> task_0b22fc40 [label="5 [when: ovn_host not in kubeinit_ovn_central_host]" color="#0cc013" fontcolor="#0cc013" id=edge_cfb28242 labeltooltip="5 [when: ovn_host not in kubeinit_ovn_central_host]" tooltip="5 [when: ovn_host not in kubeinit_ovn_central_host]"]
		task_6968d609 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in CentOS/RHEL" color="#0cc013" id=task_6968d609 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in CentOS/RHEL"]
		role_1409c19b -> task_6968d609 [label="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']" color="#0cc013" fontcolor="#0cc013" id=edge_b4ab6867 labeltooltip="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']" tooltip="6 [when: hostvars[ovn_host].distribution_family == 'CentOS']"]
		task_f83129ba [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Fedora" color="#0cc013" id=task_f83129ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Fedora"]
		role_1409c19b -> task_f83129ba [label="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']" color="#0cc013" fontcolor="#0cc013" id=edge_3a293651 labeltooltip="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']" tooltip="7 [when: hostvars[ovn_host].distribution_family == 'Fedora']"]
		task_185e60d8 [label="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Ubuntu/Debian" color="#0cc013" id=task_185e60d8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install OVN host packages in Ubuntu/Debian"]
		role_1409c19b -> task_185e60d8 [label="8 [when: hostvars[ovn_host].distribution_family == 'Debian']" color="#0cc013" fontcolor="#0cc013" id=edge_7d81a4cf labeltooltip="8 [when: hostvars[ovn_host].distribution_family == 'Debian']" tooltip="8 [when: hostvars[ovn_host].distribution_family == 'Debian']"]
		task_927a7b2a [label="kubeinit.kubeinit.kubeinit_libvirt : Gather current firewalld rules for ovn hosts" color="#0cc013" id=task_927a7b2a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Gather current firewalld rules for ovn hosts"]
		role_1409c19b -> task_927a7b2a [label="9 [when: hostvars[ovn_host].firewalld_is_active]" color="#0cc013" fontcolor="#0cc013" id=edge_e7117bbf labeltooltip="9 [when: hostvars[ovn_host].firewalld_is_active]" tooltip="9 [when: hostvars[ovn_host].firewalld_is_active]"]
		task_31c07221 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for expected rich_rule result" color="#0cc013" id=task_31c07221 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for expected rich_rule result"]
		role_1409c19b -> task_31c07221 [label="10 " color="#0cc013" fontcolor="#0cc013" id=edge_c7e53703 labeltooltip="10 " tooltip="10 "]
		task_ddd09e2b [label="kubeinit.kubeinit.kubeinit_libvirt : Check firewalld services and rich_rules for existing entries" color="#0cc013" id=task_ddd09e2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check firewalld services and rich_rules for existing entries"]
		role_1409c19b -> task_ddd09e2b [label="11 [when: item.firewalld_info is defined]" color="#0cc013" fontcolor="#0cc013" id=edge_f3aec49c labeltooltip="11 [when: item.firewalld_info is defined]" tooltip="11 [when: item.firewalld_info is defined]"]
		task_8193841c [label="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list to pick up ovn services" color="#0cc013" id=task_8193841c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list to pick up ovn services"]
		role_1409c19b -> task_8193841c [label="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]" color="#0cc013" fontcolor="#0cc013" id=edge_6031fa5b labeltooltip="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]" tooltip="12 [when: hostvars[ovn_host].reload_firewalld | default(false)]"]
		task_7859a66b [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN central in firewalld" color="#0cc013" id=task_7859a66b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN central in firewalld"]
		role_1409c19b -> task_7859a66b [label="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]" color="#0cc013" fontcolor="#0cc013" id=edge_fe32b4c4 labeltooltip="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]" tooltip="13 [when: hostvars[kubeinit_ovn_central_host].add_ovn_central_service | default(false)]"]
		task_455ff850 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN NAT in firewalld" color="#0cc013" id=task_455ff850 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN NAT in firewalld"]
		role_1409c19b -> task_455ff850 [label="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]" color="#0cc013" fontcolor="#0cc013" id=edge_85dcc7ea labeltooltip="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]" tooltip="14 [when: hostvars[kubeinit_ovn_central_host].add_ovn_rich_rule | default(false)]"]
		task_b4614d2b [label="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN host in firewalld" color="#0cc013" id=task_b4614d2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable OVN host in firewalld"]
		role_1409c19b -> task_b4614d2b [label="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]" color="#0cc013" fontcolor="#0cc013" id=edge_0738cf2d labeltooltip="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]" tooltip="15 [when: hostvars[ovn_host].add_ovn_host_service | default(false)]"]
		task_eb88c840 [label="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list" color="#0cc013" id=task_eb88c840 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Refresh firewalld services list"]
		role_1409c19b -> task_eb88c840 [label="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]" color="#0cc013" fontcolor="#0cc013" id=edge_9eea0486 labeltooltip="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]" tooltip="16 [when: hostvars[ovn_host].reload_firewalld | default(false)]"]
		task_6459473b [label="kubeinit.kubeinit.kubeinit_libvirt : Reload podman networks" color="#0cc013" id=task_6459473b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reload podman networks"]
		role_1409c19b -> task_6459473b [label="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]" color="#0cc013" fontcolor="#0cc013" id=edge_6274dc23 labeltooltip="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]" tooltip="17 [when: hostvars[ovn_host].reload_firewalld | default(false) and hostvars[ovn_host].podman_is_installed | default(false)]"]
		task_86d72d71 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (CentOS based)" color="#0cc013" id=task_86d72d71 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (CentOS based)"]
		role_1409c19b -> task_86d72d71 [label="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']" color="#0cc013" fontcolor="#0cc013" id=edge_9b4d535f labeltooltip="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']" tooltip="18 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family != 'Debian']"]
		task_67dd13b1 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (CentOS based)" color="#0cc013" id=task_67dd13b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (CentOS based)"]
		role_1409c19b -> task_67dd13b1 [label="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']" color="#0cc013" fontcolor="#0cc013" id=edge_f47ac8d0 labeltooltip="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']" tooltip="19 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family != 'Debian']"]
		task_21bcbb0f [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (Debian/Ubuntu based)" color="#0cc013" id=task_21bcbb0f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the ovn-central hypervisor (Debian/Ubuntu based)"]
		role_1409c19b -> task_21bcbb0f [label="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" color="#0cc013" fontcolor="#0cc013" id=edge_a87ae5de labeltooltip="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']" tooltip="20 [when: kubeinit_destroy_ovn_network and hostvars[kubeinit_ovn_central_host].distribution_family == 'Debian']"]
		task_a6a69fb1 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (Debian/Ubuntu based)" color="#0cc013" id=task_a6a69fb1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start OVN services in the rest of the hypervisors (Debian/Ubuntu based)"]
		role_1409c19b -> task_a6a69fb1 [label="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']" color="#0cc013" fontcolor="#0cc013" id=edge_099db34e labeltooltip="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']" tooltip="21 [when: kubeinit_destroy_ovn_network and hostvars[ovn_host].distribution_family == 'Debian']"]
		task_093aa2cc [label="kubeinit.kubeinit.kubeinit_libvirt : Wait until OVN services are running" color="#0cc013" id=task_093aa2cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait until OVN services are running"]
		role_1409c19b -> task_093aa2cc [label="22 [when: kubeinit_destroy_ovn_network]" color="#0cc013" fontcolor="#0cc013" id=edge_b23c9909 labeltooltip="22 [when: kubeinit_destroy_ovn_network]" tooltip="22 [when: kubeinit_destroy_ovn_network]"]
		task_4756d2db [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#0cc013" id=task_4756d2db shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_1409c19b -> task_4756d2db [label="23 " color="#0cc013" fontcolor="#0cc013" id=edge_6fe5aef9 labeltooltip="23 " tooltip="23 "]
		task_e31cfe9b [label="kubeinit.kubeinit.kubeinit_libvirt : Configure OVS on the Hypervisors" color="#0cc013" id=task_e31cfe9b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configure OVS on the Hypervisors"]
		role_1409c19b -> task_e31cfe9b [label="24 [when: kubeinit_destroy_ovn_network]" color="#0cc013" fontcolor="#0cc013" id=edge_d4999f10 labeltooltip="24 [when: kubeinit_destroy_ovn_network]" tooltip="24 [when: kubeinit_destroy_ovn_network]"]
		task_99f0d9c0 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#0cc013" id=task_99f0d9c0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_1409c19b -> task_99f0d9c0 [label="25 " color="#0cc013" fontcolor="#0cc013" id=edge_82b97f49 labeltooltip="25 " tooltip="25 "]
		task_6c739d4b [label="kubeinit.kubeinit.kubeinit_libvirt : Configure OVN in the ovn-central hypervisor" color="#0cc013" id=task_6c739d4b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configure OVN in the ovn-central hypervisor"]
		role_1409c19b -> task_6c739d4b [label="26 [when: kubeinit_destroy_ovn_network]" color="#0cc013" fontcolor="#0cc013" id=edge_14738051 labeltooltip="26 [when: kubeinit_destroy_ovn_network]" tooltip="26 [when: kubeinit_destroy_ovn_network]"]
		task_747607f4 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#0cc013" id=task_747607f4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_1409c19b -> task_747607f4 [label="27 " color="#0cc013" fontcolor="#0cc013" id=edge_4e06d457 labeltooltip="27 " tooltip="27 "]
		task_31f32499 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove and create the cluster switch if exists" color="#0cc013" id=task_31f32499 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove and create the cluster switch if exists"]
		role_1409c19b -> task_31f32499 [label="28 " color="#0cc013" fontcolor="#0cc013" id=edge_6224b1e9 labeltooltip="28 " tooltip="28 "]
		task_de0ee585 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#0cc013" id=task_de0ee585 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_1409c19b -> task_de0ee585 [label="29 " color="#0cc013" fontcolor="#0cc013" id=edge_118a853f labeltooltip="29 " tooltip="29 "]
		task_fe305e01 [label="kubeinit.kubeinit.kubeinit_libvirt : Create OVS/OVN bindings for the VMs ports" color="#0cc013" id=task_fe305e01 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create OVS/OVN bindings for the VMs ports"]
		role_1409c19b -> task_fe305e01 [label="30 " color="#0cc013" fontcolor="#0cc013" id=edge_c6c54bcb labeltooltip="30 " tooltip="30 "]
		task_42d24356 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#0cc013" id=task_42d24356 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_1409c19b -> task_42d24356 [label="31 " color="#0cc013" fontcolor="#0cc013" id=edge_8e28ceb7 labeltooltip="31 " tooltip="31 "]
		task_8f58def7 [label="kubeinit.kubeinit.kubeinit_libvirt : Configuring a router connected to the guests switch" color="#0cc013" id=task_8f58def7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configuring a router connected to the guests switch"]
		role_1409c19b -> task_8f58def7 [label="32 [when: kubeinit_destroy_ovn_network]" color="#0cc013" fontcolor="#0cc013" id=edge_73f188b0 labeltooltip="32 [when: kubeinit_destroy_ovn_network]" tooltip="32 [when: kubeinit_destroy_ovn_network]"]
		task_19131e7f [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#0cc013" id=task_19131e7f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_1409c19b -> task_19131e7f [label="33 " color="#0cc013" fontcolor="#0cc013" id=edge_9099bf56 labeltooltip="33 " tooltip="33 "]
		task_3479891d [label="kubeinit.kubeinit.kubeinit_libvirt : Attach our cluster network to the logical router" color="#0cc013" id=task_3479891d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Attach our cluster network to the logical router"]
		role_1409c19b -> task_3479891d [label="34 " color="#0cc013" fontcolor="#0cc013" id=edge_2966d10b labeltooltip="34 " tooltip="34 "]
		task_25c5bf4e [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#0cc013" id=task_25c5bf4e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_1409c19b -> task_25c5bf4e [label="35 " color="#0cc013" fontcolor="#0cc013" id=edge_5fe584f2 labeltooltip="35 " tooltip="35 "]
		task_1c113ccc [label="kubeinit.kubeinit.kubeinit_libvirt : Configuring NAT" color="#0cc013" id=task_1c113ccc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Configuring NAT"]
		role_1409c19b -> task_1c113ccc [label="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]" color="#0cc013" fontcolor="#0cc013" id=edge_e9ef5f5b labeltooltip="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]" tooltip="36 [when: not hostvars[kubeinit_ovn_central_host].firewalld_is_active]"]
		task_73159174 [label="kubeinit.kubeinit.kubeinit_libvirt : Render KubeInit networks for debugging" color="#0cc013" id=task_73159174 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Render KubeInit networks for debugging"]
		role_1409c19b -> task_73159174 [label="37 " color="#0cc013" fontcolor="#0cc013" id=edge_c6ce4a2d labeltooltip="37 " tooltip="37 "]
		task_e72dea98 [label="kubeinit.kubeinit.kubeinit_libvirt : Define KubeInit networks" color="#0cc013" id=task_e72dea98 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Define KubeInit networks"]
		role_1409c19b -> task_e72dea98 [label="38 " color="#0cc013" fontcolor="#0cc013" id=edge_9732f226 labeltooltip="38 " tooltip="38 "]
		task_f38ab211 [label="kubeinit.kubeinit.kubeinit_libvirt : Activate KubeInit networks" color="#0cc013" id=task_f38ab211 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Activate KubeInit networks"]
		role_1409c19b -> task_f38ab211 [label="39 " color="#0cc013" fontcolor="#0cc013" id=edge_545efd07 labeltooltip="39 " tooltip="39 "]
		task_48f6c06e [label="kubeinit.kubeinit.kubeinit_libvirt : Autostart KubeInit networks" color="#0cc013" id=task_48f6c06e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Autostart KubeInit networks"]
		role_1409c19b -> task_48f6c06e [label="40 " color="#0cc013" fontcolor="#0cc013" id=edge_1e579749 labeltooltip="40 " tooltip="40 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2ed6a2ff [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_2ed6a2ff tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0a7fe5b2 [label="[role] Prepare environment if not prepared" color="#0cc013" id=role_0a7fe5b2 tooltip="Prepare environment if not prepared"]
		role_0a7fe5b2 -> role_2ed6a2ff [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_2f28d963 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_89cb2bce [label="[role] Prepare podman" color="#0cc013" id=role_89cb2bce tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_54b77325 [label="[role] Create systemd service for podman container" color="#0cc013" id=role_54b77325 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_632a696d [label="[role] Configure Bind" color="#0cc013" id=role_632a696d tooltip="Configure Bind"]
		role_632a696d -> role_54b77325 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_505230b2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7f8abb8b [label="[role] Create systemd service for podman container" color="#0cc013" id=role_7f8abb8b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_d7fda61d [label="[role] Configure Dnsmasq" color="#0cc013" id=role_d7fda61d tooltip="Configure Dnsmasq"]
		role_d7fda61d -> role_7f8abb8b [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_a4a83e0e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_807a91b8 [label="[role] Create systemd service for podman container" color="#0cc013" id=role_807a91b8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_5811744b [label="[role] Configure HAProxy" color="#0cc013" id=role_5811744b tooltip="Configure HAProxy"]
		role_5811744b -> role_807a91b8 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_e1ad2c72 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_9dd29034 [label="[role] Create systemd service for podman container" color="#0cc013" id=role_9dd29034 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_21ab8484 [label="[role] Configure Nexus" color="#0cc013" id=role_21ab8484 tooltip="Configure Nexus"]
		role_21ab8484 -> role_9dd29034 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_5b809722 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a1d0a39c [label="[role] Create systemd service for podman container" color="#0cc013" id=role_a1d0a39c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_8b10a6f4 [label="[role] Configure Apache" color="#0cc013" id=role_8b10a6f4 tooltip="Configure Apache"]
		role_8b10a6f4 -> role_a1d0a39c [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_d5cae351 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_bb352cb2 [label="[role] Create systemd service for podman container" color="#0cc013" id=role_bb352cb2 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_dbf01172 [label="[role] Configure a local container image registry" color="#0cc013" id=role_dbf01172 tooltip="Configure a local container image registry"]
		role_dbf01172 -> role_bb352cb2 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_c9a69ef6 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_4a6b8367 [label="[role] task-create-services" color="#0cc013" id=role_4a6b8367 tooltip="task-create-services"]
		role_4a6b8367 -> role_0a7fe5b2 [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_c8d5b7e8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4a6b8367 -> role_89cb2bce [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_ff4c0478 labeltooltip="2 " tooltip="2 "]
		role_4a6b8367 -> role_632a696d [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#0cc013" fontcolor="#0cc013" id=edge_4eb54d80 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4a6b8367 -> role_d7fda61d [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#0cc013" fontcolor="#0cc013" id=edge_faf502bb labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4a6b8367 -> role_5811744b [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#0cc013" fontcolor="#0cc013" id=edge_bcd15823 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4a6b8367 -> role_21ab8484 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#0cc013" fontcolor="#0cc013" id=edge_f9a2d35b labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4a6b8367 -> role_8b10a6f4 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#0cc013" fontcolor="#0cc013" id=edge_51d37c05 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4a6b8367 -> role_dbf01172 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#0cc013" fontcolor="#0cc013" id=edge_6d9e13b0 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1620cd3d [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_1620cd3d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_5a97e810 [label="[role] Prepare environment if needed" color="#0cc013" id=role_5a97e810 tooltip="Prepare environment if needed"]
		role_5a97e810 -> role_1620cd3d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_2b930677 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_1b54651c [label="[role] Gather network and host facts for guest" color="#0cc013" id=role_1b54651c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_cf1e6414 [label="[role] Prepare services if needed" color="#0cc013" id=role_cf1e6414 tooltip="Prepare services if needed"]
		role_cf1e6414 -> role_5a97e810 [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_f39baea2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_cf1e6414 -> role_1b54651c [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_92f6eaa9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d29cef7c [label="[role] Create systemd service for podman container" color="#0cc013" id=role_d29cef7c tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_6276ceab [label="[role] Gather network and host facts for provision service" color="#0cc013" id=role_6276ceab tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_0c48eb64 [label="[role] Setup the cluster provision container" color="#0cc013" id=role_0c48eb64 tooltip="Setup the cluster provision container"]
		role_0c48eb64 -> role_d29cef7c [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_40689dad labeltooltip="1 " tooltip="1 "]
		role_0c48eb64 -> role_6276ceab [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_59447b29 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_d4f133a2 [label="[role] Delegate to the distro role to prepare the cluster" color="#0cc013" id=role_d4f133a2 tooltip="Delegate to the distro role to prepare the cluster"]
		role_d4f133a2 -> role_0c48eb64 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_4316e2d9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_58821b17 [label="[role] task-prepare-cluster" color="#0cc013" id=role_58821b17 tooltip="task-prepare-cluster"]
		role_58821b17 -> role_cf1e6414 [label="1 [when: not services_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_19e98a77 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_58821b17 -> role_d4f133a2 [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_68710389 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b5557972 [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_b5557972 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_11cb5183 [label="[role] Prepare environment if not prepared" color="#0cc013" id=role_11cb5183 tooltip="Prepare environment if not prepared"]
		role_11cb5183 -> role_b5557972 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_6ddb2cd1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_08421ae0 [label="[role] task-download-images" color="#0cc013" id=role_08421ae0 tooltip="task-download-images"]
		role_08421ae0 -> role_11cb5183 [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_46e39b2c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3872799a [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_3872799a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_041d0323 [label="[role] Prepare environment if needed" color="#0cc013" id=role_041d0323 tooltip="Prepare environment if needed"]
		role_041d0323 -> role_3872799a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_494afc10 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_21f1c80c [label="[role] Gather network and host facts for guest" color="#0cc013" id=role_21f1c80c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d371dae5 [label="[role] Prepare services if needed" color="#0cc013" id=role_d371dae5 tooltip="Prepare services if needed"]
		role_d371dae5 -> role_041d0323 [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_a71f9ec8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d371dae5 -> role_21f1c80c [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_7a249e0c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_119272b9 [label="[role] Deploy the cluster bootstrap node" color="#0cc013" id=role_119272b9 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_3e64018e [label="[role] Deploy the cluster controller nodes" color="#0cc013" id=role_3e64018e tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_2c9f867f [label="[role] Deploy the cluster compute nodes" color="#0cc013" id=role_2c9f867f tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_7ddbbf1a [label="[role] Delegate to the distro role to deploy the cluster" color="#0cc013" id=role_7ddbbf1a tooltip="Delegate to the distro role to deploy the cluster"]
		role_7ddbbf1a -> role_119272b9 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_1dfffe21 labeltooltip="1 " tooltip="1 "]
		role_7ddbbf1a -> role_3e64018e [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_810002fa labeltooltip="2 " tooltip="2 "]
		role_7ddbbf1a -> role_2c9f867f [label="3 " color="#0cc013" fontcolor="#0cc013" id=edge_cc149760 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_956100eb [label="[role] task-deploy-cluster" color="#0cc013" id=role_956100eb tooltip="task-deploy-cluster"]
		role_956100eb -> role_d371dae5 [label="1 [when: not services_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_0327ddc1 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_956100eb -> role_7ddbbf1a [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_e5213d1a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_eee51d1d [label="[role] Read podman secrets if running from the container" color="#0cc013" id=role_eee51d1d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_82483850 [label="[role] Prepare environment if needed" color="#0cc013" id=role_82483850 tooltip="Prepare environment if needed"]
		role_82483850 -> role_eee51d1d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0cc013" fontcolor="#0cc013" id=edge_f5fd20fb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_309af51d [label="[role] Gather network and host facts for guest" color="#0cc013" id=role_309af51d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_b3ebc5cd [label="[role] Prepare services if needed" color="#0cc013" id=role_b3ebc5cd tooltip="Prepare services if needed"]
		role_b3ebc5cd -> role_82483850 [label="1 [when: not environment_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_fdea0e06 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b3ebc5cd -> role_309af51d [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_d9678e8c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_fbae4830 [label="[role] Configure NFS" color="#0cc013" id=role_fbae4830 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_0fb41820 [label="[role] Deploy the apps" color="#0cc013" id=role_0fb41820 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_79648db3 [label="[role] Deploy KubeVirt" color="#0cc013" id=role_79648db3 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_99e01de8 [label="[role] Deploy Submariner" color="#0cc013" id=role_99e01de8 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_10655f30 [label="[role] Delegate to distro role to run post-deployment tasks" color="#0cc013" id=role_10655f30 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_10655f30 -> role_fbae4830 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#0cc013" fontcolor="#0cc013" id=edge_94367d7b labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_10655f30 -> role_0fb41820 [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_7e6725ef labeltooltip="2 " tooltip="2 "]
		role_10655f30 -> role_79648db3 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#0cc013" fontcolor="#0cc013" id=edge_db09130e labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_10655f30 -> role_99e01de8 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#0cc013" fontcolor="#0cc013" id=edge_9db6935c labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_4e38cd37 [label="[role] task-post-deployment" color="#0cc013" id=role_4e38cd37 tooltip="task-post-deployment"]
		role_4e38cd37 -> role_b3ebc5cd [label="1 [when: not services_prepared]" color="#0cc013" fontcolor="#0cc013" id=edge_9ac9683c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_4e38cd37 -> role_10655f30 [label="2 " color="#0cc013" fontcolor="#0cc013" id=edge_ed67b019 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_0b6b5637 -> block_dd17f61b [label=1 color="#0cc013" fontcolor="#0cc013" id=edge_f5015881 labeltooltip=1 tooltip=1]
		subgraph cluster_block_dd17f61b {
			block_dd17f61b [label="[block] Prepare the environment" color="#0cc013" id=block_dd17f61b labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_dd17f61b -> role_71e5564f [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_1751187c labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_c0281a30 [label=2 color="#0cc013" fontcolor="#0cc013" id=edge_2bae2a79 labeltooltip=2 tooltip=2]
		subgraph cluster_block_c0281a30 {
			block_c0281a30 [label="[block] Cleanup hypervisors" color="#0cc013" id=block_c0281a30 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_c0281a30 -> role_cdb5263d [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_bf48392d labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_c03ebb51 [label=3 color="#0cc013" fontcolor="#0cc013" id=edge_5291e638 labeltooltip=3 tooltip=3]
		subgraph cluster_block_c03ebb51 {
			block_c03ebb51 [label="[block] Run validations on cluster resources" color="#0cc013" id=block_c03ebb51 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_c03ebb51 -> role_efa40409 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_6116f733 labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_f18665ef [label=4 color="#0cc013" fontcolor="#0cc013" id=edge_586b9805 labeltooltip=4 tooltip=4]
		subgraph cluster_block_f18665ef {
			block_f18665ef [label="[block] Create the cluster network resources" color="#0cc013" id=block_f18665ef labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_f18665ef -> role_1409c19b [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_91849475 labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_e78e42f4 [label=5 color="#0cc013" fontcolor="#0cc013" id=edge_fb785872 labeltooltip=5 tooltip=5]
		subgraph cluster_block_e78e42f4 {
			block_e78e42f4 [label="[block] Create services the cluster will need" color="#0cc013" id=block_e78e42f4 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_e78e42f4 -> role_4a6b8367 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_74a39e1f labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_6ed47e61 [label=6 color="#0cc013" fontcolor="#0cc013" id=edge_1f592db3 labeltooltip=6 tooltip=6]
		subgraph cluster_block_6ed47e61 {
			block_6ed47e61 [label="[block] Prepare to deploy the cluster" color="#0cc013" id=block_6ed47e61 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_6ed47e61 -> role_58821b17 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_03a57410 labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_1e6429b6 [label=7 color="#0cc013" fontcolor="#0cc013" id=edge_affdd7d2 labeltooltip=7 tooltip=7]
		subgraph cluster_block_1e6429b6 {
			block_1e6429b6 [label="[block] Download cloud images" color="#0cc013" id=block_1e6429b6 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_1e6429b6 -> role_08421ae0 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_d94ffda6 labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_da7e51e9 [label=8 color="#0cc013" fontcolor="#0cc013" id=edge_35b922f0 labeltooltip=8 tooltip=8]
		subgraph cluster_block_da7e51e9 {
			block_da7e51e9 [label="[block] Deploy the cluster" color="#0cc013" id=block_da7e51e9 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_da7e51e9 -> role_956100eb [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_e950571a labeltooltip="1 " tooltip="1 "]
		}
		play_0b6b5637 -> block_bc9a97ef [label=9 color="#0cc013" fontcolor="#0cc013" id=edge_2f9d81af labeltooltip=9 tooltip=9]
		subgraph cluster_block_bc9a97ef {
			block_bc9a97ef [label="[block] Run any post-deployment tasks" color="#0cc013" id=block_bc9a97ef labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_bc9a97ef -> role_4e38cd37 [label="1 " color="#0cc013" fontcolor="#0cc013" id=edge_48efbdda labeltooltip="1 " tooltip="1 "]
		}
	}
}
