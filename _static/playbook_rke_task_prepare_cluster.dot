digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_a2522e3e [label="Play: Initial setup (1)" color="#3516b6" fontcolor="#ffffff" id=play_a2522e3e shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_a2522e3e [label="1 " color="#3516b6" fontcolor="#3516b6" id=edge_661b0ae8 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_d1043577 [label="[role] Read podman secrets if running from the container" color="#3516b6" id=role_d1043577 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_f79df89d [label="[role] task-gather-facts" color="#3516b6" id=role_f79df89d tooltip="task-gather-facts"]
		role_f79df89d -> role_d1043577 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3516b6" fontcolor="#3516b6" id=edge_d43c328d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_45b0ebb2 [label="[role] Read podman secrets if running from the container" color="#3516b6" id=role_45b0ebb2 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_b9e482b8 [label="[role] task-prepare-hypervisors" color="#3516b6" id=role_b9e482b8 tooltip="task-prepare-hypervisors"]
		role_b9e482b8 -> role_45b0ebb2 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3516b6" fontcolor="#3516b6" id=edge_421bdb83 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_a2522e3e -> block_bbb444ee [label=1 color="#3516b6" fontcolor="#3516b6" id=edge_beac68b4 labeltooltip=1 tooltip=1]
		subgraph cluster_block_bbb444ee {
			block_bbb444ee [label="[block] Gather facts about the deployment environment" color="#3516b6" id=block_bbb444ee labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_bbb444ee -> role_f79df89d [label="1 " color="#3516b6" fontcolor="#3516b6" id=edge_0481dd68 labeltooltip="1 " tooltip="1 "]
		}
		play_a2522e3e -> block_eb7ba53e [label=2 color="#3516b6" fontcolor="#3516b6" id=edge_fefa4bed labeltooltip=2 tooltip=2]
		subgraph cluster_block_eb7ba53e {
			block_eb7ba53e [label="[block] Prepare the hypervisors" color="#3516b6" id=block_eb7ba53e labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_eb7ba53e -> role_b9e482b8 [label="1 " color="#3516b6" fontcolor="#3516b6" id=edge_9daf92e8 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_66054ac5 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#2e05c7" fontcolor="#ffffff" id=play_66054ac5 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_66054ac5 [label="2 " color="#2e05c7" fontcolor="#2e05c7" id=edge_45662dff labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_aaf44dd1 [label="[role] Provision the libvirt services on the hypervisor" color="#2e05c7" id=role_aaf44dd1 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_e4c0e9ca [label="[role] Prepare each hypervisor in the deployment" color="#2e05c7" id=role_e4c0e9ca tooltip="Prepare each hypervisor in the deployment"]
		role_e4c0e9ca -> role_aaf44dd1 [label="1 " color="#2e05c7" fontcolor="#2e05c7" id=edge_38bce83b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_66054ac5 -> block_0a008e4b [label=1 color="#2e05c7" fontcolor="#2e05c7" id=edge_3f7cdabb labeltooltip=1 tooltip=1]
		subgraph cluster_block_0a008e4b {
			block_0a008e4b [label="[block] Prepare individual hypervisors" color="#2e05c7" id=block_0a008e4b labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_0a008e4b -> role_e4c0e9ca [label="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" color="#2e05c7" fontcolor="#2e05c7" id=edge_09d84b48 labeltooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]"]
		}
	}
	play_3d2b64c5 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#ae521e" fontcolor="#ffffff" id=play_3d2b64c5 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_3d2b64c5 [label="3 " color="#ae521e" fontcolor="#ae521e" id=edge_dee8eec0 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_da005f17 [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_da005f17 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_cef592b7 [label="[role] task-prepare-environment" color="#ae521e" id=role_cef592b7 tooltip="task-prepare-environment"]
		role_cef592b7 -> role_da005f17 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_26693901 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a0478f91 [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_a0478f91 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9ee420b6 [label="[role] Prepare environment if not prepared" color="#ae521e" id=role_9ee420b6 tooltip="Prepare environment if not prepared"]
		role_9ee420b6 -> role_a0478f91 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_cf999453 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_6d6fa0ab [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#ae521e" id=role_6d6fa0ab tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_87fd2181 [label="[role] task-cleanup-hypervisors" color="#ae521e" id=role_87fd2181 tooltip="task-cleanup-hypervisors"]
		role_87fd2181 -> role_9ee420b6 [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_1444ec44 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_87fd2181 -> role_6d6fa0ab [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_6b0f8420 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5532a6e4 [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_5532a6e4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_936cdf0b [label="[role] Prepare environment if not prepared" color="#ae521e" id=role_936cdf0b tooltip="Prepare environment if not prepared"]
		role_936cdf0b -> role_5532a6e4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_6ab5a394 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_0249219c [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#ae521e" id=role_0249219c tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_9042f11b [label="[role] Cleanup hypervisors if needed" color="#ae521e" id=role_9042f11b tooltip="Cleanup hypervisors if needed"]
		role_9042f11b -> role_936cdf0b [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_4956c749 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9042f11b -> role_0249219c [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_9bf70b48 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_716ef19e [label="[role] task-run-validations" color="#ae521e" id=role_716ef19e tooltip="task-run-validations"]
		role_716ef19e -> role_9042f11b [label="1 [when: not hypervisors_cleaned]" color="#ae521e" fontcolor="#ae521e" id=edge_e12ad29a labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_451e33d6 [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_451e33d6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_15778d04 [label="[role] Prepare environment if not prepared" color="#ae521e" id=role_15778d04 tooltip="Prepare environment if not prepared"]
		role_15778d04 -> role_451e33d6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_e1a01e93 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d530fa01 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#ae521e" id=role_d530fa01 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_d50ee3a7 [label="[role] Cleanup hypervisors if needed" color="#ae521e" id=role_d50ee3a7 tooltip="Cleanup hypervisors if needed"]
		role_d50ee3a7 -> role_15778d04 [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_725c0895 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d50ee3a7 -> role_d530fa01 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_dc5281e5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_0df22587 [label="[role] task-create-network" color="#ae521e" id=role_0df22587 tooltip="task-create-network"]
		role_0df22587 -> role_d50ee3a7 [label="1 [when: not hypervisors_cleaned]" color="#ae521e" fontcolor="#ae521e" id=edge_85ea34cd labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a361cf85 [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_a361cf85 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e9525444 [label="[role] Prepare environment if not prepared" color="#ae521e" id=role_e9525444 tooltip="Prepare environment if not prepared"]
		role_e9525444 -> role_a361cf85 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_975a998b labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_6afe9c12 [label="[role] Prepare podman" color="#ae521e" id=role_6afe9c12 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_fa2f02aa [label="[role] Create systemd service for podman container" color="#ae521e" id=role_fa2f02aa tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_8593ca4b [label="[role] Configure Bind" color="#ae521e" id=role_8593ca4b tooltip="Configure Bind"]
		role_8593ca4b -> role_fa2f02aa [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_4276c474 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f1067db2 [label="[role] Create systemd service for podman container" color="#ae521e" id=role_f1067db2 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_70a04672 [label="[role] Configure Dnsmasq" color="#ae521e" id=role_70a04672 tooltip="Configure Dnsmasq"]
		role_70a04672 -> role_f1067db2 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_2b0e8a9e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a4e17918 [label="[role] Create systemd service for podman container" color="#ae521e" id=role_a4e17918 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_3076c375 [label="[role] Configure HAProxy" color="#ae521e" id=role_3076c375 tooltip="Configure HAProxy"]
		role_3076c375 -> role_a4e17918 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_757c8916 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c55c3fc8 [label="[role] Create systemd service for podman container" color="#ae521e" id=role_c55c3fc8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_244e4d43 [label="[role] Configure Nexus" color="#ae521e" id=role_244e4d43 tooltip="Configure Nexus"]
		role_244e4d43 -> role_c55c3fc8 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_b29fac51 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_b25b0493 [label="[role] Create systemd service for podman container" color="#ae521e" id=role_b25b0493 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_d1a39b75 [label="[role] Configure Apache" color="#ae521e" id=role_d1a39b75 tooltip="Configure Apache"]
		role_d1a39b75 -> role_b25b0493 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_31a9fb7d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0db1f760 [label="[role] Create systemd service for podman container" color="#ae521e" id=role_0db1f760 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_d691d1f5 [label="[role] Configure a local container image registry" color="#ae521e" id=role_d691d1f5 tooltip="Configure a local container image registry"]
		role_d691d1f5 -> role_0db1f760 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_2e720750 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_12a838c2 [label="[role] task-create-services" color="#ae521e" id=role_12a838c2 tooltip="task-create-services"]
		role_12a838c2 -> role_e9525444 [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_9b71c6c0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_12a838c2 -> role_6afe9c12 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_fbcfdbf0 labeltooltip="2 " tooltip="2 "]
		role_12a838c2 -> role_8593ca4b [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#ae521e" fontcolor="#ae521e" id=edge_432b0387 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_12a838c2 -> role_70a04672 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#ae521e" fontcolor="#ae521e" id=edge_cddba9e4 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_12a838c2 -> role_3076c375 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#ae521e" fontcolor="#ae521e" id=edge_7c86d2da labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_12a838c2 -> role_244e4d43 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#ae521e" fontcolor="#ae521e" id=edge_21d56072 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_12a838c2 -> role_d1a39b75 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#ae521e" fontcolor="#ae521e" id=edge_89754792 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_12a838c2 -> role_d691d1f5 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#ae521e" fontcolor="#ae521e" id=edge_53cae131 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_f6c1736d [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_f6c1736d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_abf2e4b2 [label="[role] Prepare environment if needed" color="#ae521e" id=role_abf2e4b2 tooltip="Prepare environment if needed"]
		role_abf2e4b2 -> role_f6c1736d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_ab49a6b1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_0771c044 [label="[role] Gather network and host facts for guest" color="#ae521e" id=role_0771c044 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_65f74c53 [label="[role] Prepare services if needed" color="#ae521e" id=role_65f74c53 tooltip="Prepare services if needed"]
		role_65f74c53 -> role_abf2e4b2 [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_80bb39f2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_65f74c53 -> role_0771c044 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_72208528 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1b75fc87 [label="[role] Create systemd service for podman container" color="#ae521e" id=role_1b75fc87 tooltip="Create systemd service for podman container"]
		task_989d47bb [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#ae521e" id=task_989d47bb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_1b75fc87 -> task_989d47bb [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_fd647002 labeltooltip="1 " tooltip="1 "]
		task_25b157ae [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#ae521e" id=task_25b157ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_1b75fc87 -> task_25b157ae [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_959085a0 labeltooltip="2 " tooltip="2 "]
		task_5bf38985 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#ae521e" id=task_5bf38985 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_1b75fc87 -> task_5bf38985 [label="3 " color="#ae521e" fontcolor="#ae521e" id=edge_8bc74f55 labeltooltip="3 " tooltip="3 "]
		task_19d612dc [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#ae521e" id=task_19d612dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_1b75fc87 -> task_19d612dc [label="4 " color="#ae521e" fontcolor="#ae521e" id=edge_ba941786 labeltooltip="4 " tooltip="4 "]
		task_c221bc42 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#ae521e" id=task_c221bc42 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_1b75fc87 -> task_c221bc42 [label="5 " color="#ae521e" fontcolor="#ae521e" id=edge_bac1e0a5 labeltooltip="5 " tooltip="5 "]
		task_c73b9b2f [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#ae521e" id=task_c73b9b2f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_1b75fc87 -> task_c73b9b2f [label="6 " color="#ae521e" fontcolor="#ae521e" id=edge_37ca840f labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_377e487e [label="[role] Gather network and host facts for provision service" color="#ae521e" id=role_377e487e tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_4061c400 [label="[role] Setup the cluster provision container" color="#ae521e" id=role_4061c400 tooltip="Setup the cluster provision container"]
		task_dba5cbac [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#ae521e" id=task_dba5cbac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_4061c400 -> task_dba5cbac [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_1f1dd522 labeltooltip="1 " tooltip="1 "]
		task_b7c26e2e [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#ae521e" id=task_b7c26e2e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_4061c400 -> task_b7c26e2e [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_1d4f6d6e labeltooltip="2 " tooltip="2 "]
		task_4fa5d49a [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#ae521e" id=task_4fa5d49a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_4061c400 -> task_4fa5d49a [label="3 [when: kubeinit_deployment_os == 'centos']" color="#ae521e" fontcolor="#ae521e" id=edge_48e31a69 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_42352032 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#ae521e" id=task_42352032 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_4061c400 -> task_42352032 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#ae521e" fontcolor="#ae521e" id=edge_9e82a3df labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_220eccfe [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#ae521e" id=task_220eccfe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_4061c400 -> task_220eccfe [label="5 [when: kubeinit_deployment_os == 'centos']" color="#ae521e" fontcolor="#ae521e" id=edge_7820cb62 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_b52c57f6 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#ae521e" id=task_b52c57f6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_4061c400 -> task_b52c57f6 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#ae521e" fontcolor="#ae521e" id=edge_b2554cd6 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_a97941ff [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#ae521e" id=task_a97941ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_4061c400 -> task_a97941ff [label="7 [when: kubeinit_deployment_os == 'debian']" color="#ae521e" fontcolor="#ae521e" id=edge_06b2fe6e labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_80257f44 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#ae521e" id=task_80257f44 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_4061c400 -> task_80257f44 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#ae521e" fontcolor="#ae521e" id=edge_7fb0165a labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_c3c89285 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#ae521e" id=task_c3c89285 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_4061c400 -> task_c3c89285 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#ae521e" fontcolor="#ae521e" id=edge_997b417f labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_49129525 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#ae521e" id=task_49129525 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_4061c400 -> task_49129525 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#ae521e" fontcolor="#ae521e" id=edge_bdb4a740 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_6c3af097 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#ae521e" id=task_6c3af097 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_4061c400 -> task_6c3af097 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#ae521e" fontcolor="#ae521e" id=edge_852cc83c labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_b61a9836 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#ae521e" id=task_b61a9836 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_4061c400 -> task_b61a9836 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#ae521e" fontcolor="#ae521e" id=edge_55912fdd labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_cafd1afa [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#ae521e" id=task_cafd1afa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_4061c400 -> task_cafd1afa [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#ae521e" fontcolor="#ae521e" id=edge_bced8f6a labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_f0276b13 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#ae521e" id=task_f0276b13 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_4061c400 -> task_f0276b13 [label="14 " color="#ae521e" fontcolor="#ae521e" id=edge_02069d7f labeltooltip="14 " tooltip="14 "]
		task_089d898a [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#ae521e" id=task_089d898a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_4061c400 -> task_089d898a [label="15 " color="#ae521e" fontcolor="#ae521e" id=edge_204f715e labeltooltip="15 " tooltip="15 "]
		task_aa4570fa [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#ae521e" id=task_aa4570fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_4061c400 -> task_aa4570fa [label="16 " color="#ae521e" fontcolor="#ae521e" id=edge_07c578bb labeltooltip="16 " tooltip="16 "]
		task_92e3ecfa [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#ae521e" id=task_92e3ecfa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_4061c400 -> task_92e3ecfa [label="17 " color="#ae521e" fontcolor="#ae521e" id=edge_abcd5ca3 labeltooltip="17 " tooltip="17 "]
		task_dae3aea2 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#ae521e" id=task_dae3aea2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_4061c400 -> task_dae3aea2 [label="18 " color="#ae521e" fontcolor="#ae521e" id=edge_c572b41c labeltooltip="18 " tooltip="18 "]
		task_94ede3a1 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#ae521e" id=task_94ede3a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_4061c400 -> task_94ede3a1 [label="19 " color="#ae521e" fontcolor="#ae521e" id=edge_13ec7daf labeltooltip="19 " tooltip="19 "]
		task_c1ddc166 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#ae521e" id=task_c1ddc166 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_4061c400 -> task_c1ddc166 [label="20 " color="#ae521e" fontcolor="#ae521e" id=edge_58ace51f labeltooltip="20 " tooltip="20 "]
		task_5416d10b [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#ae521e" id=task_5416d10b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_4061c400 -> task_5416d10b [label="21 " color="#ae521e" fontcolor="#ae521e" id=edge_75c7488f labeltooltip="21 " tooltip="21 "]
		task_70b2ac7a [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#ae521e" id=task_70b2ac7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_4061c400 -> task_70b2ac7a [label="22 " color="#ae521e" fontcolor="#ae521e" id=edge_600b2127 labeltooltip="22 " tooltip="22 "]
		role_4061c400 -> role_1b75fc87 [label="23 " color="#ae521e" fontcolor="#ae521e" id=edge_9a14c9ec labeltooltip="23 " tooltip="23 "]
		task_4245b94a [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#ae521e" id=task_4245b94a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_4061c400 -> task_4245b94a [label="24 " color="#ae521e" fontcolor="#ae521e" id=edge_27765b3a labeltooltip="24 " tooltip="24 "]
		task_d10e6199 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#ae521e" id=task_d10e6199 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_4061c400 -> task_d10e6199 [label="25 " color="#ae521e" fontcolor="#ae521e" id=edge_87bbb5f4 labeltooltip="25 " tooltip="25 "]
		task_6a818644 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#ae521e" id=task_6a818644 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_4061c400 -> task_6a818644 [label="26 " color="#ae521e" fontcolor="#ae521e" id=edge_c33ff4eb labeltooltip="26 " tooltip="26 "]
		task_26212009 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#ae521e" id=task_26212009 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_4061c400 -> task_26212009 [label="27 " color="#ae521e" fontcolor="#ae521e" id=edge_783a7a51 labeltooltip="27 " tooltip="27 "]
		task_3374ae6e [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#ae521e" id=task_3374ae6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_4061c400 -> task_3374ae6e [label="28 " color="#ae521e" fontcolor="#ae521e" id=edge_48273d5f labeltooltip="28 " tooltip="28 "]
		task_b3abe3f2 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#ae521e" id=task_b3abe3f2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_4061c400 -> task_b3abe3f2 [label="29 " color="#ae521e" fontcolor="#ae521e" id=edge_08935894 labeltooltip="29 " tooltip="29 "]
		task_4c63aaa0 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#ae521e" id=task_4c63aaa0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_4061c400 -> task_4c63aaa0 [label="30 " color="#ae521e" fontcolor="#ae521e" id=edge_c2b96a4d labeltooltip="30 " tooltip="30 "]
		task_6e6b8095 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#ae521e" id=task_6e6b8095 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_4061c400 -> task_6e6b8095 [label="31 " color="#ae521e" fontcolor="#ae521e" id=edge_1b094d7e labeltooltip="31 " tooltip="31 "]
		task_1bc478b6 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#ae521e" id=task_1bc478b6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_4061c400 -> task_1bc478b6 [label="32 " color="#ae521e" fontcolor="#ae521e" id=edge_3c73a1fd labeltooltip="32 " tooltip="32 "]
		task_48cd1f29 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#ae521e" id=task_48cd1f29 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_4061c400 -> task_48cd1f29 [label="33 " color="#ae521e" fontcolor="#ae521e" id=edge_36dbcc90 labeltooltip="33 " tooltip="33 "]
		task_1d62eae3 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#ae521e" id=task_1d62eae3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_4061c400 -> task_1d62eae3 [label="34 " color="#ae521e" fontcolor="#ae521e" id=edge_43fd6c87 labeltooltip="34 " tooltip="34 "]
		task_059a97bb [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#ae521e" id=task_059a97bb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_4061c400 -> task_059a97bb [label="35 " color="#ae521e" fontcolor="#ae521e" id=edge_2c4240ff labeltooltip="35 " tooltip="35 "]
		task_7eb20513 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#ae521e" id=task_7eb20513 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_4061c400 -> task_7eb20513 [label="36 " color="#ae521e" fontcolor="#ae521e" id=edge_ee4598fe labeltooltip="36 " tooltip="36 "]
		task_b0162989 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#ae521e" id=task_b0162989 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_4061c400 -> task_b0162989 [label="37 " color="#ae521e" fontcolor="#ae521e" id=edge_6f8f8a02 labeltooltip="37 " tooltip="37 "]
		task_629e46ca [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#ae521e" id=task_629e46ca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_4061c400 -> task_629e46ca [label="38 " color="#ae521e" fontcolor="#ae521e" id=edge_7e30031d labeltooltip="38 " tooltip="38 "]
		task_298cad72 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#ae521e" id=task_298cad72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_4061c400 -> task_298cad72 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#ae521e" fontcolor="#ae521e" id=edge_5381cd87 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_f5d2808b [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#ae521e" id=task_f5d2808b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_4061c400 -> task_f5d2808b [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#ae521e" fontcolor="#ae521e" id=edge_67e4fb20 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_dccad552 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#ae521e" id=task_dccad552 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_4061c400 -> task_dccad552 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#ae521e" fontcolor="#ae521e" id=edge_7dd6e418 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_1bf1a48f [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#ae521e" id=task_1bf1a48f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_4061c400 -> task_1bf1a48f [label="42 [when: kubeinit_deployment_os == 'centos']" color="#ae521e" fontcolor="#ae521e" id=edge_8a84e6e0 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_3db39ab6 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#ae521e" id=task_3db39ab6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_4061c400 -> task_3db39ab6 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#ae521e" fontcolor="#ae521e" id=edge_940daee8 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_271dd2c9 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#ae521e" id=task_271dd2c9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_4061c400 -> task_271dd2c9 [label="44 " color="#ae521e" fontcolor="#ae521e" id=edge_88cd4633 labeltooltip="44 " tooltip="44 "]
		task_eb9d2d65 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#ae521e" id=task_eb9d2d65 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_4061c400 -> task_eb9d2d65 [label="45 " color="#ae521e" fontcolor="#ae521e" id=edge_ebc39e16 labeltooltip="45 " tooltip="45 "]
		task_f4d2c87d [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#ae521e" id=task_f4d2c87d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_4061c400 -> task_f4d2c87d [label="46 " color="#ae521e" fontcolor="#ae521e" id=edge_a0856e49 labeltooltip="46 " tooltip="46 "]
		task_bc319d34 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#ae521e" id=task_bc319d34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_4061c400 -> task_bc319d34 [label="47 " color="#ae521e" fontcolor="#ae521e" id=edge_ccf8a375 labeltooltip="47 " tooltip="47 "]
		task_90390422 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#ae521e" id=task_90390422 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_4061c400 -> task_90390422 [label="48 " color="#ae521e" fontcolor="#ae521e" id=edge_8d47f32e labeltooltip="48 " tooltip="48 "]
		task_78232c9f [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#ae521e" id=task_78232c9f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_4061c400 -> task_78232c9f [label="49 " color="#ae521e" fontcolor="#ae521e" id=edge_6c24cf92 labeltooltip="49 " tooltip="49 "]
		task_add23129 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#ae521e" id=task_add23129 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_4061c400 -> task_add23129 [label="50 " color="#ae521e" fontcolor="#ae521e" id=edge_a7618769 labeltooltip="50 " tooltip="50 "]
		task_6f7a82cd [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#ae521e" id=task_6f7a82cd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_4061c400 -> task_6f7a82cd [label="51 " color="#ae521e" fontcolor="#ae521e" id=edge_2a73ea05 labeltooltip="51 " tooltip="51 "]
		task_afe3d55f [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#ae521e" id=task_afe3d55f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_4061c400 -> task_afe3d55f [label="52 " color="#ae521e" fontcolor="#ae521e" id=edge_fb1b4f67 labeltooltip="52 " tooltip="52 "]
		task_e9b46106 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" color="#ae521e" id=task_e9b46106 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_4061c400 -> task_e9b46106 [label="53 " color="#ae521e" fontcolor="#ae521e" id=edge_a41bef17 labeltooltip="53 " tooltip="53 "]
		role_4061c400 -> role_377e487e [label="54 " color="#ae521e" fontcolor="#ae521e" id=edge_72ea5a86 labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_8910888a [label="[role] Delegate to the distro role to prepare the cluster" color="#ae521e" id=role_8910888a tooltip="Delegate to the distro role to prepare the cluster"]
		role_8910888a -> role_4061c400 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_c80d2ed9 labeltooltip="1 " tooltip="1 "]
		task_10444a67 [label="kubeinit.kubeinit.kubeinit_rke : Add kubernetes repo for latest kubectl (Ubuntu)" color="#ae521e" id=task_10444a67 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Add kubernetes repo for latest kubectl (Ubuntu)"]
		role_8910888a -> task_10444a67 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_eef82b6b labeltooltip="2 " tooltip="2 "]
		task_04c72ec5 [label="kubeinit.kubeinit.kubeinit_rke : Install services requirements" color="#ae521e" id=task_04c72ec5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Install services requirements"]
		role_8910888a -> task_04c72ec5 [label="3 " color="#ae521e" fontcolor="#ae521e" id=edge_266343c3 labeltooltip="3 " tooltip="3 "]
		task_58254655 [label="kubeinit.kubeinit.kubeinit_rke : Render net info" color="#ae521e" id=task_58254655 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Render net info"]
		role_8910888a -> task_58254655 [label="4 " color="#ae521e" fontcolor="#ae521e" id=edge_2c64ad65 labeltooltip="4 " tooltip="4 "]
		task_02f1c50d [label="kubeinit.kubeinit.kubeinit_rke : Render the cluster template" color="#ae521e" id=task_02f1c50d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Render the cluster template"]
		role_8910888a -> task_02f1c50d [label="5 " color="#ae521e" fontcolor="#ae521e" id=edge_843b39d3 labeltooltip="5 " tooltip="5 "]
		task_376f1cc4 [label="kubeinit.kubeinit.kubeinit_rke : Download rancher" color="#ae521e" id=task_376f1cc4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Download rancher"]
		role_8910888a -> task_376f1cc4 [label="6 " color="#ae521e" fontcolor="#ae521e" id=edge_b0353fbe labeltooltip="6 " tooltip="6 "]
		task_861fef05 [label="kubeinit.kubeinit.kubeinit_rke : Adjust installer" color="#ae521e" id=task_861fef05 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Adjust installer"]
		role_8910888a -> task_861fef05 [label="7 " color="#ae521e" fontcolor="#ae521e" id=edge_7dc6390f labeltooltip="7 " tooltip="7 "]
		task_45a9d142 [label="kubeinit.kubeinit.kubeinit_rke : Render the required container images" color="#ae521e" id=task_45a9d142 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Render the required container images"]
		role_8910888a -> task_45a9d142 [label="8 " color="#ae521e" fontcolor="#ae521e" id=edge_2fc361cd labeltooltip="8 " tooltip="8 "]
		task_94dd884c [label="kubeinit.kubeinit.kubeinit_rke : Mirror RKE remote registry to local" color="#ae521e" id=task_94dd884c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Mirror RKE remote registry to local"]
		role_8910888a -> task_94dd884c [label="9 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#ae521e" fontcolor="#ae521e" id=edge_f25dc527 labeltooltip="9 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="9 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-prepare-cluster" {
		role_24cfc12f [label="[role] task-prepare-cluster" color="#ae521e" id=role_24cfc12f tooltip="task-prepare-cluster"]
		role_24cfc12f -> role_65f74c53 [label="1 [when: not services_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_05b412b0 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_24cfc12f -> role_8910888a [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_f0864d67 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_67ce0b9c [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_67ce0b9c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_a211076b [label="[role] Prepare environment if not prepared" color="#ae521e" id=role_a211076b tooltip="Prepare environment if not prepared"]
		role_a211076b -> role_67ce0b9c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_2dea6278 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_cfad1baa [label="[role] task-download-images" color="#ae521e" id=role_cfad1baa tooltip="task-download-images"]
		role_cfad1baa -> role_a211076b [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_4d4ca5c1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a2617640 [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_a2617640 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_4c0bfcfc [label="[role] Prepare environment if needed" color="#ae521e" id=role_4c0bfcfc tooltip="Prepare environment if needed"]
		role_4c0bfcfc -> role_a2617640 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_7b505e67 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_f7ed7832 [label="[role] Gather network and host facts for guest" color="#ae521e" id=role_f7ed7832 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d3453ee8 [label="[role] Prepare services if needed" color="#ae521e" id=role_d3453ee8 tooltip="Prepare services if needed"]
		role_d3453ee8 -> role_4c0bfcfc [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_f255a277 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d3453ee8 -> role_f7ed7832 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_b2f482e2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_9ce445d0 [label="[role] Deploy the cluster nodes" color="#ae521e" id=role_9ce445d0 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_1b8ec0d8 [label="[role] Delegate to the distro role to deploy the cluster" color="#ae521e" id=role_1b8ec0d8 tooltip="Delegate to the distro role to deploy the cluster"]
		role_1b8ec0d8 -> role_9ce445d0 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#ae521e" fontcolor="#ae521e" id=edge_e484207e labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_3160b6be [label="[role] task-deploy-cluster" color="#ae521e" id=role_3160b6be tooltip="task-deploy-cluster"]
		role_3160b6be -> role_d3453ee8 [label="1 [when: not services_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_bd06c01b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_3160b6be -> role_1b8ec0d8 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_5b7dd0ec labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2055d62f [label="[role] Read podman secrets if running from the container" color="#ae521e" id=role_2055d62f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_b6df2a3f [label="[role] Prepare environment if needed" color="#ae521e" id=role_b6df2a3f tooltip="Prepare environment if needed"]
		role_b6df2a3f -> role_2055d62f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#ae521e" fontcolor="#ae521e" id=edge_03392fd7 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_c2dc8274 [label="[role] Gather network and host facts for guest" color="#ae521e" id=role_c2dc8274 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_df0429d2 [label="[role] Prepare services if needed" color="#ae521e" id=role_df0429d2 tooltip="Prepare services if needed"]
		role_df0429d2 -> role_b6df2a3f [label="1 [when: not environment_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_445cb673 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_df0429d2 -> role_c2dc8274 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_f0689c8a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_0047f8ed [label="[role] Deploy the apps" color="#ae521e" id=role_0047f8ed tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_fbaa1064 [label="[role] Configure NFS" color="#ae521e" id=role_fbaa1064 tooltip="Configure NFS"]
	}
	subgraph "Deploy Submariner" {
		role_32d7956e [label="[role] Deploy Submariner" color="#ae521e" id=role_32d7956e tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_13296354 [label="[role] Delegate to distro role to run post-deployment tasks" color="#ae521e" id=role_13296354 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_13296354 -> role_0047f8ed [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_712995ed labeltooltip="1 " tooltip="1 "]
		role_13296354 -> role_fbaa1064 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#ae521e" fontcolor="#ae521e" id=edge_ef6cb868 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_13296354 -> role_32d7956e [label="3 [when: 'submariner' in kubeinit_cluster_hostvars.post_deployment_services | default(False)]" color="#ae521e" fontcolor="#ae521e" id=edge_14904d19 labeltooltip="3 [when: 'submariner' in kubeinit_cluster_hostvars.post_deployment_services | default(False)]" tooltip="3 [when: 'submariner' in kubeinit_cluster_hostvars.post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_0c87eb9b [label="[role] task-post-deployment" color="#ae521e" id=role_0c87eb9b tooltip="task-post-deployment"]
		role_0c87eb9b -> role_df0429d2 [label="1 [when: not services_prepared]" color="#ae521e" fontcolor="#ae521e" id=edge_b3ad3156 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0c87eb9b -> role_13296354 [label="2 " color="#ae521e" fontcolor="#ae521e" id=edge_22384ab6 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_3d2b64c5 -> block_823960d2 [label=1 color="#ae521e" fontcolor="#ae521e" id=edge_5cd63db8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_823960d2 {
			block_823960d2 [label="[block] Prepare the environment" color="#ae521e" id=block_823960d2 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_823960d2 -> role_cef592b7 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_49043414 labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_2cf08255 [label=2 color="#ae521e" fontcolor="#ae521e" id=edge_4797ac48 labeltooltip=2 tooltip=2]
		subgraph cluster_block_2cf08255 {
			block_2cf08255 [label="[block] Cleanup hypervisors" color="#ae521e" id=block_2cf08255 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_2cf08255 -> role_87fd2181 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_3e15acfa labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_c4b243d3 [label=3 color="#ae521e" fontcolor="#ae521e" id=edge_69d3ccac labeltooltip=3 tooltip=3]
		subgraph cluster_block_c4b243d3 {
			block_c4b243d3 [label="[block] Run validations on cluster resources" color="#ae521e" id=block_c4b243d3 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_c4b243d3 -> role_716ef19e [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_fe7dd61c labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_f5794dd5 [label=4 color="#ae521e" fontcolor="#ae521e" id=edge_5a5ae5e6 labeltooltip=4 tooltip=4]
		subgraph cluster_block_f5794dd5 {
			block_f5794dd5 [label="[block] Create the cluster network resources" color="#ae521e" id=block_f5794dd5 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_f5794dd5 -> role_0df22587 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_8b9086ec labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_eb07376c [label=5 color="#ae521e" fontcolor="#ae521e" id=edge_738e7346 labeltooltip=5 tooltip=5]
		subgraph cluster_block_eb07376c {
			block_eb07376c [label="[block] Create services the cluster will need" color="#ae521e" id=block_eb07376c labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_eb07376c -> role_12a838c2 [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_a05591ab labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_cdb358b6 [label=6 color="#ae521e" fontcolor="#ae521e" id=edge_6d4b0d4f labeltooltip=6 tooltip=6]
		subgraph cluster_block_cdb358b6 {
			block_cdb358b6 [label="[block] Prepare to deploy the cluster" color="#ae521e" id=block_cdb358b6 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_cdb358b6 -> role_24cfc12f [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_8a72d45e labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_22cdd5a1 [label=7 color="#ae521e" fontcolor="#ae521e" id=edge_19423385 labeltooltip=7 tooltip=7]
		subgraph cluster_block_22cdd5a1 {
			block_22cdd5a1 [label="[block] Download cloud images" color="#ae521e" id=block_22cdd5a1 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_22cdd5a1 -> role_cfad1baa [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_b5467e42 labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_d6a6a625 [label=8 color="#ae521e" fontcolor="#ae521e" id=edge_a55b7727 labeltooltip=8 tooltip=8]
		subgraph cluster_block_d6a6a625 {
			block_d6a6a625 [label="[block] Deploy the cluster" color="#ae521e" id=block_d6a6a625 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_d6a6a625 -> role_3160b6be [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_99b3602e labeltooltip="1 " tooltip="1 "]
		}
		play_3d2b64c5 -> block_5ca02810 [label=9 color="#ae521e" fontcolor="#ae521e" id=edge_7c713d6e labeltooltip=9 tooltip=9]
		subgraph cluster_block_5ca02810 {
			block_5ca02810 [label="[block] Run any post-deployment tasks" color="#ae521e" id=block_5ca02810 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_5ca02810 -> role_0c87eb9b [label="1 " color="#ae521e" fontcolor="#ae521e" id=edge_27edbc15 labeltooltip="1 " tooltip="1 "]
		}
	}
}
