digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_f1583fa1 style=dotted]
	"kubeinit/playbook.yml" -> play_3523cf1a [label="1 " color="#c2c804" fontcolor="#c2c804" id=edge_e6574ac7 labeltooltip="1 " tooltip="1 "]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_3523cf1a [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c2c804" fontcolor="#ffffff" id=play_3523cf1a shape=box style=filled tooltip=localhost]
		play_3523cf1a -> block_0d57a293 [label=1 color="#c2c804" fontcolor="#c2c804" id=edge_f708312f labeltooltip=1 tooltip=1]
		subgraph cluster_block_0d57a293 {
			block_0d57a293 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c2c804" id=block_0d57a293 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_0d57a293 -> role_363fa1a9 [label="1 " color="#c2c804" fontcolor="#c2c804" id=edge_0da1a22b labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_363fa1a9 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c2c804" id=role_363fa1a9 tooltip="task-gather-facts"]
				role_363fa1a9 -> role_adbcf7a7 [label="1 " color="#c2c804" fontcolor="#c2c804" id=edge_7923f760 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_adbcf7a7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c2c804" id=role_adbcf7a7 tooltip="Gather kubeinit secrets"]
				}
				role_363fa1a9 -> role_e567cdbe [label="2 " color="#c2c804" fontcolor="#c2c804" id=edge_75639af6 labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_e567cdbe [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c2c804" id=role_e567cdbe tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_363fa1a9 -> role_db42e3c8 [label="3 " color="#c2c804" fontcolor="#c2c804" id=edge_1c40c993 labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_db42e3c8 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c2c804" id=role_db42e3c8 tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_9a6f6c3f [label="2 " color="#1bafb1" fontcolor="#1bafb1" id=edge_c94f4409 labeltooltip="2 " tooltip="2 "]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_9a6f6c3f [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#1bafb1" fontcolor="#ffffff" id=play_9a6f6c3f shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_9a6f6c3f -> block_28cb986f [label=1 color="#1bafb1" fontcolor="#1bafb1" id=edge_4d35d853 labeltooltip=1 tooltip=1]
		subgraph cluster_block_28cb986f {
			block_28cb986f [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#1bafb1" id=block_28cb986f labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_28cb986f -> role_e74fa79a [label="1 " color="#1bafb1" fontcolor="#1bafb1" id=edge_05e97a4c labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_e74fa79a [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#1bafb1" id=role_e74fa79a tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_130f8120 [label="3 " color="#798a42" fontcolor="#798a42" id=edge_ac3f7e1b labeltooltip="3 " tooltip="3 "]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_130f8120 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#798a42" fontcolor="#ffffff" id=play_130f8120 shape=box style=filled tooltip=localhost]
		play_130f8120 -> block_f9eb4373 [label=1 color="#798a42" fontcolor="#798a42" id=edge_b4398782 labeltooltip=1 tooltip=1]
		subgraph cluster_block_f9eb4373 {
			block_f9eb4373 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#798a42" id=block_f9eb4373 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_f9eb4373 -> role_72b01117 [label="1 " color="#798a42" fontcolor="#798a42" id=edge_622a8390 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_72b01117 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#798a42" id=role_72b01117 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_72b01117 -> role_7c6bf603 [label="1 " color="#798a42" fontcolor="#798a42" id=edge_92392ba4 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_7c6bf603 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#798a42" id=role_7c6bf603 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_130f8120 -> block_0d473d90 [label=2 color="#798a42" fontcolor="#798a42" id=edge_d56424c9 labeltooltip=2 tooltip=2]
		subgraph cluster_block_0d473d90 {
			block_0d473d90 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#798a42" id=block_0d473d90 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_0d473d90 -> role_33f9daae [label="1 " color="#798a42" fontcolor="#798a42" id=edge_9eb518c7 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_33f9daae [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#798a42" id=role_33f9daae tooltip="task-prepare-hypervisors"]
				role_33f9daae -> role_dbcdf1ce [label="1 " color="#798a42" fontcolor="#798a42" id=edge_14e35728 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_dbcdf1ce [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#798a42" id=role_dbcdf1ce tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_9bd3ffb3 [label="4 " color="#c10b5f" fontcolor="#c10b5f" id=edge_e7d35c37 labeltooltip="4 " tooltip="4 "]
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_9bd3ffb3 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10b5f" fontcolor="#ffffff" id=play_9bd3ffb3 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
		play_9bd3ffb3 -> block_aefc6ac1 [label=1 color="#c10b5f" fontcolor="#c10b5f" id=edge_38eaac56 labeltooltip=1 tooltip=1]
		subgraph cluster_block_aefc6ac1 {
			block_aefc6ac1 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10b5f" id=block_aefc6ac1 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_aefc6ac1 -> role_84087872 [label="1 " color="#c10b5f" fontcolor="#c10b5f" id=edge_cad9f2ef labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_84087872 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10b5f" id=role_84087872 tooltip="Prepare each hypervisor in the deployment"]
				role_84087872 -> role_1363d79b [label="1 " color="#c10b5f" fontcolor="#c10b5f" id=edge_6c284671 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_1363d79b [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#c10b5f" id=role_1363d79b tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_2a37fafb [label="5 " color="#66b11b" fontcolor="#66b11b" id=edge_00c37f0b labeltooltip="5 " tooltip="5 "]
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_2a37fafb [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" fontcolor="#ffffff" id=play_2a37fafb shape=box style=filled tooltip=localhost]
		play_2a37fafb -> block_748b71f2 [label=1 color="#66b11b" fontcolor="#66b11b" id=edge_61da0675 labeltooltip=1 tooltip=1]
		subgraph cluster_block_748b71f2 {
			block_748b71f2 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_748b71f2 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_748b71f2 -> role_0b90e78e [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_86b6d967 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_0b90e78e [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_0b90e78e tooltip="task-prepare-environment"]
				role_0b90e78e -> role_efaa7a60 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_a0a3700b labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_efaa7a60 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_efaa7a60 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_2a37fafb -> block_d1611c09 [label=2 color="#66b11b" fontcolor="#66b11b" id=edge_2407a9e4 labeltooltip=2 tooltip=2]
		subgraph cluster_block_d1611c09 {
			block_d1611c09 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_d1611c09 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_d1611c09 -> role_ed3c77b9 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_a3e235b2 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_ed3c77b9 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_ed3c77b9 tooltip="task-cleanup-hypervisors"]
				role_ed3c77b9 -> role_5ed71916 [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_af1a2dda labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_5ed71916 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#66b11b" id=role_5ed71916 tooltip="Prepare environment if not prepared"]
					role_5ed71916 -> role_181663c9 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_a8bfd70c labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_181663c9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_181663c9 tooltip="Gather kubeinit secrets"]
					}
				}
				role_ed3c77b9 -> role_4343d1bc [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_e2b9bc15 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_4343d1bc [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#66b11b" id=role_4343d1bc tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_2a37fafb -> block_2b606604 [label=3 color="#66b11b" fontcolor="#66b11b" id=edge_f55bb4fc labeltooltip=3 tooltip=3]
		subgraph cluster_block_2b606604 {
			block_2b606604 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_2b606604 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_2b606604 -> role_2230fb98 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_8649bc32 labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_2230fb98 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_2230fb98 tooltip="task-run-validations"]
				role_2230fb98 -> role_8525bb02 [label="1 [when: not hypervisors_cleaned]" color="#66b11b" fontcolor="#66b11b" id=edge_6ce26756 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_8525bb02 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#66b11b" id=role_8525bb02 tooltip="Cleanup hypervisors if needed"]
					role_8525bb02 -> role_9a8181c4 [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_deddfe70 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_9a8181c4 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#66b11b" id=role_9a8181c4 tooltip="Prepare environment if not prepared"]
						role_9a8181c4 -> role_912d16f5 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_48597b85 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_912d16f5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_912d16f5 tooltip="Gather kubeinit secrets"]
						}
					}
					role_8525bb02 -> role_328ab209 [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_315968ae labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_328ab209 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#66b11b" id=role_328ab209 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_2a37fafb -> block_fdb5a10b [label=4 color="#66b11b" fontcolor="#66b11b" id=edge_c3647d5e labeltooltip=4 tooltip=4]
		subgraph cluster_block_fdb5a10b {
			block_fdb5a10b [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_fdb5a10b labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_fdb5a10b -> role_19de5f85 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_29ddc7dc labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_19de5f85 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_19de5f85 tooltip="task-create-network"]
				role_19de5f85 -> role_2cfd4322 [label="1 [when: not hypervisors_cleaned]" color="#66b11b" fontcolor="#66b11b" id=edge_d6c3f783 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_2cfd4322 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#66b11b" id=role_2cfd4322 tooltip="Cleanup hypervisors if needed"]
					role_2cfd4322 -> role_7427d769 [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_32271c58 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_7427d769 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#66b11b" id=role_7427d769 tooltip="Prepare environment if not prepared"]
						role_7427d769 -> role_b94a88c8 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_f26324fd labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_b94a88c8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_b94a88c8 tooltip="Gather kubeinit secrets"]
						}
					}
					role_2cfd4322 -> role_b47cdd5e [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_64858eb3 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_b47cdd5e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#66b11b" id=role_b47cdd5e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_2a37fafb -> block_cacfa048 [label=5 color="#66b11b" fontcolor="#66b11b" id=edge_64dbaa61 labeltooltip=5 tooltip=5]
		subgraph cluster_block_cacfa048 {
			block_cacfa048 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_cacfa048 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_cacfa048 -> role_5419860a [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_4f48f82f labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_5419860a [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_5419860a tooltip="task-create-services"]
				role_5419860a -> role_9e8c9bb2 [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_5f474fb9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_9e8c9bb2 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#66b11b" id=role_9e8c9bb2 tooltip="Prepare environment if not prepared"]
					role_9e8c9bb2 -> role_57041064 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_1b7a3bc7 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_57041064 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_57041064 tooltip="Gather kubeinit secrets"]
					}
				}
				role_5419860a -> role_a5b57a57 [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_606c4386 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_a5b57a57 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#66b11b" id=role_a5b57a57 tooltip="Prepare podman"]
				}
				role_5419860a -> role_8db3b331 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#66b11b" fontcolor="#66b11b" id=edge_8812f34f labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_8db3b331 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#66b11b" id=role_8db3b331 tooltip="Configure Bind"]
					role_8db3b331 -> role_6a3cb0ec [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_cef16002 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_6a3cb0ec [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#66b11b" id=role_6a3cb0ec tooltip="Create systemd service for podman container"]
					}
				}
				role_5419860a -> role_66c9ffbd [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#66b11b" fontcolor="#66b11b" id=edge_6a1b2dab labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_66c9ffbd [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#66b11b" id=role_66c9ffbd tooltip="Configure Dnsmasq"]
					role_66c9ffbd -> role_174035f3 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_c4d3b52d labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_174035f3 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#66b11b" id=role_174035f3 tooltip="Create systemd service for podman container"]
					}
				}
				role_5419860a -> role_53e78d0e [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#66b11b" fontcolor="#66b11b" id=edge_f99bd508 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_53e78d0e [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#66b11b" id=role_53e78d0e tooltip="Configure HAProxy"]
					role_53e78d0e -> role_cda4ebdb [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_9cf54b04 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_cda4ebdb [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#66b11b" id=role_cda4ebdb tooltip="Create systemd service for podman container"]
					}
				}
				role_5419860a -> role_fa2a15d5 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#66b11b" fontcolor="#66b11b" id=edge_c75b4df8 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_fa2a15d5 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#66b11b" id=role_fa2a15d5 tooltip="Configure Nexus"]
					role_fa2a15d5 -> role_eb2e2105 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_88ebc686 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_eb2e2105 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#66b11b" id=role_eb2e2105 tooltip="Create systemd service for podman container"]
					}
				}
				role_5419860a -> role_31d08857 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#66b11b" fontcolor="#66b11b" id=edge_114b32a5 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_31d08857 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#66b11b" id=role_31d08857 tooltip="Configure Apache"]
					role_31d08857 -> role_7636cb52 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_62fa1d00 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_7636cb52 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#66b11b" id=role_7636cb52 tooltip="Create systemd service for podman container"]
					}
				}
				role_5419860a -> role_86ad8f9d [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#66b11b" fontcolor="#66b11b" id=edge_c2dd6d8a labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_86ad8f9d [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#66b11b" id=role_86ad8f9d tooltip="Configure a local container image registry"]
					role_86ad8f9d -> role_9f594c60 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_3a4a7231 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_9f594c60 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#66b11b" id=role_9f594c60 tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_2a37fafb -> block_0a7f7577 [label=6 color="#66b11b" fontcolor="#66b11b" id=edge_3825981e labeltooltip=6 tooltip=6]
		subgraph cluster_block_0a7f7577 {
			block_0a7f7577 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_0a7f7577 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_0a7f7577 -> role_b1444f8b [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_9c27ef4d labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_b1444f8b [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_b1444f8b tooltip="task-prepare-cluster"]
				role_b1444f8b -> role_c553a6f1 [label="1 [when: not services_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_c46ad910 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_c553a6f1 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#66b11b" id=role_c553a6f1 tooltip="Prepare services if needed"]
					role_c553a6f1 -> role_56a96f1d [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_3029d077 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_56a96f1d [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#66b11b" id=role_56a96f1d tooltip="Prepare environment if needed"]
						role_56a96f1d -> role_6390af85 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_cd320ab5 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_6390af85 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_6390af85 tooltip="Gather kubeinit secrets"]
						}
					}
					role_c553a6f1 -> role_19f0fc0f [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_80007397 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_19f0fc0f [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#66b11b" id=role_19f0fc0f tooltip="Gather network and host facts for guest"]
					}
				}
				role_b1444f8b -> role_20701137 [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_832a9144 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_20701137 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#66b11b" id=role_20701137 tooltip="Delegate to the distro role to prepare the cluster"]
					role_20701137 -> role_457efd1c [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_3b187c83 labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_457efd1c [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=role_457efd1c tooltip="Setup the cluster provision container"]
						task_88e377a8 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_88e377a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
						role_457efd1c -> task_88e377a8 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_b1a6fc66 labeltooltip="1 " tooltip="1 "]
						task_36190ffc [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_36190ffc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
						role_457efd1c -> task_36190ffc [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_7c8c3d07 labeltooltip="2 " tooltip="2 "]
						task_35c9ce3e [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_35c9ce3e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
						role_457efd1c -> task_35c9ce3e [label="3 [when: kubeinit_deployment_os == 'centos']" color="#66b11b" fontcolor="#66b11b" id=edge_ece835bb labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
						task_9937ac5d [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_9937ac5d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_457efd1c -> task_9937ac5d [label="4 [when: kubeinit_deployment_os == 'centos']" color="#66b11b" fontcolor="#66b11b" id=edge_58fecce9 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
						task_cd3cd4f0 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_cd3cd4f0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_457efd1c -> task_cd3cd4f0 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#66b11b" fontcolor="#66b11b" id=edge_4cbfcd87 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
						task_880457b6 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_880457b6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_457efd1c -> task_880457b6 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#66b11b" fontcolor="#66b11b" id=edge_35af1b0c labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
						task_150f9f20 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_150f9f20 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_457efd1c -> task_150f9f20 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#66b11b" fontcolor="#66b11b" id=edge_38b27a42 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
						task_94585776 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_94585776 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_457efd1c -> task_94585776 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#66b11b" fontcolor="#66b11b" id=edge_dcad9df1 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
						task_81d70e9f [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_81d70e9f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
						role_457efd1c -> task_81d70e9f [label="9 [when: kubeinit_deployment_os == 'debian']" color="#66b11b" fontcolor="#66b11b" id=edge_268364d3 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
						task_91f83518 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_91f83518 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_457efd1c -> task_91f83518 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#66b11b" fontcolor="#66b11b" id=edge_965c865f labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_00d09f8f [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_00d09f8f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_457efd1c -> task_00d09f8f [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#66b11b" fontcolor="#66b11b" id=edge_823e20a7 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_8f579f87 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_8f579f87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_457efd1c -> task_8f579f87 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#66b11b" fontcolor="#66b11b" id=edge_d2adebd8 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_abcd8c86 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_abcd8c86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
						role_457efd1c -> task_abcd8c86 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#66b11b" fontcolor="#66b11b" id=edge_3d5f1702 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_0178df7b [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_0178df7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
						role_457efd1c -> task_0178df7b [label="14 " color="#66b11b" fontcolor="#66b11b" id=edge_401500c4 labeltooltip="14 " tooltip="14 "]
						task_c350f814 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_c350f814 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
						role_457efd1c -> task_c350f814 [label="15 " color="#66b11b" fontcolor="#66b11b" id=edge_6947e1e1 labeltooltip="15 " tooltip="15 "]
						task_6ccf271f [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_6ccf271f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
						role_457efd1c -> task_6ccf271f [label="16 " color="#66b11b" fontcolor="#66b11b" id=edge_0fc4c087 labeltooltip="16 " tooltip="16 "]
						task_e336450f [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_e336450f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
						role_457efd1c -> task_e336450f [label="17 " color="#66b11b" fontcolor="#66b11b" id=edge_456f9a92 labeltooltip="17 " tooltip="17 "]
						task_190831a4 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_190831a4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
						role_457efd1c -> task_190831a4 [label="18 " color="#66b11b" fontcolor="#66b11b" id=edge_ba0ca253 labeltooltip="18 " tooltip="18 "]
						task_edf0f24d [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_edf0f24d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
						role_457efd1c -> task_edf0f24d [label="19 " color="#66b11b" fontcolor="#66b11b" id=edge_0c678234 labeltooltip="19 " tooltip="19 "]
						task_846825c4 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_846825c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
						role_457efd1c -> task_846825c4 [label="20 " color="#66b11b" fontcolor="#66b11b" id=edge_788b1384 labeltooltip="20 " tooltip="20 "]
						task_35ab23d6 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_35ab23d6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
						role_457efd1c -> task_35ab23d6 [label="21 " color="#66b11b" fontcolor="#66b11b" id=edge_054e2598 labeltooltip="21 " tooltip="21 "]
						task_72148ae6 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_72148ae6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
						role_457efd1c -> task_72148ae6 [label="22 " color="#66b11b" fontcolor="#66b11b" id=edge_457533e3 labeltooltip="22 " tooltip="22 "]
						role_457efd1c -> role_070e7414 [label="23 " color="#66b11b" fontcolor="#66b11b" id=edge_845227e2 labeltooltip="23 " tooltip="23 "]
						subgraph "Create systemd service for podman container" {
							role_070e7414 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=role_070e7414 tooltip="Create systemd service for podman container"]
							task_9071b57e [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#66b11b" id=task_9071b57e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
							role_070e7414 -> task_9071b57e [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_9ce63efb labeltooltip="1 " tooltip="1 "]
							task_b01be751 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#66b11b" id=task_b01be751 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
							role_070e7414 -> task_b01be751 [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_25ba17f7 labeltooltip="2 " tooltip="2 "]
							task_61e0eb6c [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#66b11b" id=task_61e0eb6c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
							role_070e7414 -> task_61e0eb6c [label="3 " color="#66b11b" fontcolor="#66b11b" id=edge_270ef378 labeltooltip="3 " tooltip="3 "]
							task_0bb81c33 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#66b11b" id=task_0bb81c33 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
							role_070e7414 -> task_0bb81c33 [label="4 " color="#66b11b" fontcolor="#66b11b" id=edge_a80964a8 labeltooltip="4 " tooltip="4 "]
							task_58bd8c56 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#66b11b" id=task_58bd8c56 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
							role_070e7414 -> task_58bd8c56 [label="5 " color="#66b11b" fontcolor="#66b11b" id=edge_bd759adc labeltooltip="5 " tooltip="5 "]
							task_50fb9080 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#66b11b" id=task_50fb9080 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
							role_070e7414 -> task_50fb9080 [label="6 " color="#66b11b" fontcolor="#66b11b" id=edge_baa09707 labeltooltip="6 " tooltip="6 "]
						}
						task_0a423dac [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_0a423dac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
						role_457efd1c -> task_0a423dac [label="24 " color="#66b11b" fontcolor="#66b11b" id=edge_0468bbd4 labeltooltip="24 " tooltip="24 "]
						task_854352e5 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_854352e5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
						role_457efd1c -> task_854352e5 [label="25 " color="#66b11b" fontcolor="#66b11b" id=edge_c6fc9fe5 labeltooltip="25 " tooltip="25 "]
						task_24a2f5ab [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_24a2f5ab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
						role_457efd1c -> task_24a2f5ab [label="26 " color="#66b11b" fontcolor="#66b11b" id=edge_3769348a labeltooltip="26 " tooltip="26 "]
						task_b4ed4301 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_b4ed4301 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
						role_457efd1c -> task_b4ed4301 [label="27 " color="#66b11b" fontcolor="#66b11b" id=edge_b5e8a0f2 labeltooltip="27 " tooltip="27 "]
						task_c3d5b96c [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_c3d5b96c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
						role_457efd1c -> task_c3d5b96c [label="28 " color="#66b11b" fontcolor="#66b11b" id=edge_64bf2dfe labeltooltip="28 " tooltip="28 "]
						task_4f360817 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_4f360817 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
						role_457efd1c -> task_4f360817 [label="29 " color="#66b11b" fontcolor="#66b11b" id=edge_4cbe4ffd labeltooltip="29 " tooltip="29 "]
						task_95f86ddc [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_95f86ddc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
						role_457efd1c -> task_95f86ddc [label="30 " color="#66b11b" fontcolor="#66b11b" id=edge_11af6b5d labeltooltip="30 " tooltip="30 "]
						task_0669091d [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_0669091d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
						role_457efd1c -> task_0669091d [label="31 " color="#66b11b" fontcolor="#66b11b" id=edge_8626e900 labeltooltip="31 " tooltip="31 "]
						task_ad480049 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_ad480049 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
						role_457efd1c -> task_ad480049 [label="32 " color="#66b11b" fontcolor="#66b11b" id=edge_7da1de5a labeltooltip="32 " tooltip="32 "]
						task_89a7802b [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_89a7802b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
						role_457efd1c -> task_89a7802b [label="33 " color="#66b11b" fontcolor="#66b11b" id=edge_c884771f labeltooltip="33 " tooltip="33 "]
						task_5c191155 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_5c191155 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
						role_457efd1c -> task_5c191155 [label="34 " color="#66b11b" fontcolor="#66b11b" id=edge_36036481 labeltooltip="34 " tooltip="34 "]
						task_4aea126b [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_4aea126b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
						role_457efd1c -> task_4aea126b [label="35 " color="#66b11b" fontcolor="#66b11b" id=edge_55941172 labeltooltip="35 " tooltip="35 "]
						task_df6616cc [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_df6616cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
						role_457efd1c -> task_df6616cc [label="36 " color="#66b11b" fontcolor="#66b11b" id=edge_03cd87a5 labeltooltip="36 " tooltip="36 "]
						task_f6d79ba2 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_f6d79ba2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
						role_457efd1c -> task_f6d79ba2 [label="37 " color="#66b11b" fontcolor="#66b11b" id=edge_a2c781ac labeltooltip="37 " tooltip="37 "]
						task_5c966852 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_5c966852 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
						role_457efd1c -> task_5c966852 [label="38 " color="#66b11b" fontcolor="#66b11b" id=edge_5f2957fa labeltooltip="38 " tooltip="38 "]
						task_60e8226a [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_60e8226a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_457efd1c -> task_60e8226a [label="39 [when: kubeinit_deployment_os == 'centos']" color="#66b11b" fontcolor="#66b11b" id=edge_eda999b2 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
						task_8307a474 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_8307a474 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_457efd1c -> task_8307a474 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#66b11b" fontcolor="#66b11b" id=edge_b57d2095 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_9e85221b [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_9e85221b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
						role_457efd1c -> task_9e85221b [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#66b11b" fontcolor="#66b11b" id=edge_9be38c92 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_fcdc85b4 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_fcdc85b4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_457efd1c -> task_fcdc85b4 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#66b11b" fontcolor="#66b11b" id=edge_27645495 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
						task_9d1c04a0 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_9d1c04a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_457efd1c -> task_9d1c04a0 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#66b11b" fontcolor="#66b11b" id=edge_16688753 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_bccc46a9 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_bccc46a9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
						role_457efd1c -> task_bccc46a9 [label="44 " color="#66b11b" fontcolor="#66b11b" id=edge_a3d796d7 labeltooltip="44 " tooltip="44 "]
						task_866d4c57 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_866d4c57 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
						role_457efd1c -> task_866d4c57 [label="45 " color="#66b11b" fontcolor="#66b11b" id=edge_729fa21a labeltooltip="45 " tooltip="45 "]
						task_86d30445 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_86d30445 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
						role_457efd1c -> task_86d30445 [label="46 " color="#66b11b" fontcolor="#66b11b" id=edge_4ec96e99 labeltooltip="46 " tooltip="46 "]
						task_75b65302 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_75b65302 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
						role_457efd1c -> task_75b65302 [label="47 " color="#66b11b" fontcolor="#66b11b" id=edge_84132f02 labeltooltip="47 " tooltip="47 "]
						task_a31138dd [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_a31138dd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
						role_457efd1c -> task_a31138dd [label="48 " color="#66b11b" fontcolor="#66b11b" id=edge_d0a42c95 labeltooltip="48 " tooltip="48 "]
						task_3ec1dc94 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_3ec1dc94 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
						role_457efd1c -> task_3ec1dc94 [label="49 " color="#66b11b" fontcolor="#66b11b" id=edge_6e46fec1 labeltooltip="49 " tooltip="49 "]
						task_269433bf [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_269433bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
						role_457efd1c -> task_269433bf [label="50 " color="#66b11b" fontcolor="#66b11b" id=edge_94384859 labeltooltip="50 " tooltip="50 "]
						task_72aa0e37 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_72aa0e37 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
						role_457efd1c -> task_72aa0e37 [label="51 " color="#66b11b" fontcolor="#66b11b" id=edge_9e3b993d labeltooltip="51 " tooltip="51 "]
						task_d52fa082 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_d52fa082 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
						role_457efd1c -> task_d52fa082 [label="52 " color="#66b11b" fontcolor="#66b11b" id=edge_409d690f labeltooltip="52 " tooltip="52 "]
						task_e195ef32 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=task_e195ef32 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
						role_457efd1c -> task_e195ef32 [label="53 " color="#66b11b" fontcolor="#66b11b" id=edge_fa0b1dba labeltooltip="53 " tooltip="53 "]
						role_457efd1c -> role_0ea390b9 [label="54 " color="#66b11b" fontcolor="#66b11b" id=edge_cce832b9 labeltooltip="54 " tooltip="54 "]
						subgraph "Gather network and host facts for provision service" {
							role_0ea390b9 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#66b11b" id=role_0ea390b9 tooltip="Gather network and host facts for provision service"]
						}
					}
					task_1a47d2cf [label="kubeinit.kubeinit.kubeinit_rke : Add kubernetes repo for latest kubectl (Ubuntu)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_1a47d2cf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Add kubernetes repo for latest kubectl (Ubuntu)"]
					role_20701137 -> task_1a47d2cf [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_3f311fdc labeltooltip="2 " tooltip="2 "]
					task_ad1fc943 [label="kubeinit.kubeinit.kubeinit_rke : Install services requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_ad1fc943 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Install services requirements"]
					role_20701137 -> task_ad1fc943 [label="3 " color="#66b11b" fontcolor="#66b11b" id=edge_9d82622a labeltooltip="3 " tooltip="3 "]
					task_8b459d1f [label="kubeinit.kubeinit.kubeinit_rke : Render net info" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_8b459d1f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Render net info"]
					role_20701137 -> task_8b459d1f [label="4 " color="#66b11b" fontcolor="#66b11b" id=edge_ba1e59a0 labeltooltip="4 " tooltip="4 "]
					task_097cb916 [label="kubeinit.kubeinit.kubeinit_rke : Render the cluster template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_097cb916 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Render the cluster template"]
					role_20701137 -> task_097cb916 [label="5 " color="#66b11b" fontcolor="#66b11b" id=edge_752a9558 labeltooltip="5 " tooltip="5 "]
					task_66708906 [label="kubeinit.kubeinit.kubeinit_rke : Download rancher" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_66708906 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Download rancher"]
					role_20701137 -> task_66708906 [label="6 " color="#66b11b" fontcolor="#66b11b" id=edge_033fef2e labeltooltip="6 " tooltip="6 "]
					task_12f8fee0 [label="kubeinit.kubeinit.kubeinit_rke : Adjust installer" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_12f8fee0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Adjust installer"]
					role_20701137 -> task_12f8fee0 [label="7 " color="#66b11b" fontcolor="#66b11b" id=edge_99bc6490 labeltooltip="7 " tooltip="7 "]
					task_e8670670 [label="kubeinit.kubeinit.kubeinit_rke : Render the required container images" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_e8670670 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Render the required container images"]
					role_20701137 -> task_e8670670 [label="8 " color="#66b11b" fontcolor="#66b11b" id=edge_95d43598 labeltooltip="8 " tooltip="8 "]
					task_c48cec16 [label="kubeinit.kubeinit.kubeinit_rke : Mirror RKE remote registry to local" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/prepare_cluster.yml" color="#66b11b" id=task_c48cec16 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Mirror RKE remote registry to local"]
					role_20701137 -> task_c48cec16 [label="9 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#66b11b" fontcolor="#66b11b" id=edge_9c5c6a7e labeltooltip="9 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="9 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
				}
			}
		}
		play_2a37fafb -> block_3ecfbe3c [label=7 color="#66b11b" fontcolor="#66b11b" id=edge_6fc8f5f1 labeltooltip=7 tooltip=7]
		subgraph cluster_block_3ecfbe3c {
			block_3ecfbe3c [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_3ecfbe3c labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_3ecfbe3c -> role_2ddf676c [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_42a676d2 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_2ddf676c [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_2ddf676c tooltip="task-download-images"]
				role_2ddf676c -> role_a902f988 [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_3637a397 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_a902f988 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#66b11b" id=role_a902f988 tooltip="Prepare environment if not prepared"]
					role_a902f988 -> role_d601facd [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_167c8ef6 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_d601facd [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_d601facd tooltip="Gather kubeinit secrets"]
					}
				}
			}
		}
		play_2a37fafb -> block_f5ac73a9 [label=8 color="#66b11b" fontcolor="#66b11b" id=edge_527a7054 labeltooltip=8 tooltip=8]
		subgraph cluster_block_f5ac73a9 {
			block_f5ac73a9 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_f5ac73a9 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_f5ac73a9 -> role_ceedbcb3 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_cefa296e labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_ceedbcb3 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_ceedbcb3 tooltip="task-deploy-cluster"]
				role_ceedbcb3 -> role_e829e005 [label="1 [when: not services_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_8efa12ef labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_e829e005 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#66b11b" id=role_e829e005 tooltip="Prepare services if needed"]
					role_e829e005 -> role_6871ce9e [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_66b08f99 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_6871ce9e [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#66b11b" id=role_6871ce9e tooltip="Prepare environment if needed"]
						role_6871ce9e -> role_f2c4d99c [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_39d28be0 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_f2c4d99c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_f2c4d99c tooltip="Gather kubeinit secrets"]
						}
					}
					role_e829e005 -> role_de8cd60b [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_b40fa88a labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_de8cd60b [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#66b11b" id=role_de8cd60b tooltip="Gather network and host facts for guest"]
					}
				}
				role_ceedbcb3 -> role_015f88ea [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_cbd78540 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_015f88ea [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#66b11b" id=role_015f88ea tooltip="Delegate to the distro role to deploy the cluster"]
					role_015f88ea -> role_14575791 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#66b11b" fontcolor="#66b11b" id=edge_b36c6474 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
					subgraph "Deploy the cluster nodes" {
						role_14575791 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/main.yml" color="#66b11b" id=role_14575791 tooltip="Deploy the cluster nodes"]
					}
				}
			}
		}
		play_2a37fafb -> block_9fbfbfbb [label=9 color="#66b11b" fontcolor="#66b11b" id=edge_350954cb labeltooltip=9 tooltip=9]
		subgraph cluster_block_9fbfbfbb {
			block_9fbfbfbb [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=block_9fbfbfbb labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_9fbfbfbb -> role_8fb6429c [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_852697ff labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_8fb6429c [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#66b11b" id=role_8fb6429c tooltip="task-post-deployment"]
				role_8fb6429c -> role_2b2c6fe1 [label="1 [when: not services_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_b74b2262 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_2b2c6fe1 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#66b11b" id=role_2b2c6fe1 tooltip="Prepare services if needed"]
					role_2b2c6fe1 -> role_3044a3d6 [label="1 [when: not environment_prepared]" color="#66b11b" fontcolor="#66b11b" id=edge_38691af6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_3044a3d6 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#66b11b" id=role_3044a3d6 tooltip="Prepare environment if needed"]
						role_3044a3d6 -> role_0733d9b1 [label="1 " color="#66b11b" fontcolor="#66b11b" id=edge_283eccde labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_0733d9b1 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#66b11b" id=role_0733d9b1 tooltip="Gather kubeinit secrets"]
						}
					}
					role_2b2c6fe1 -> role_a1929b7c [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_bbbb4803 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_a1929b7c [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#66b11b" id=role_a1929b7c tooltip="Gather network and host facts for guest"]
					}
				}
				role_8fb6429c -> role_c61de9cd [label="2 " color="#66b11b" fontcolor="#66b11b" id=edge_1734d746 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_c61de9cd [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#66b11b" id=role_c61de9cd tooltip="Delegate to distro role to run post-deployment tasks"]
					role_c61de9cd -> role_cc4d6e74 [label="1 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#66b11b" fontcolor="#66b11b" id=edge_576a8f4f labeltooltip="1 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_cc4d6e74 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/post_deployment_tasks.yml" color="#66b11b" id=role_cc4d6e74 tooltip="Deploy the apps"]
					}
					role_c61de9cd -> role_27b00954 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#66b11b" fontcolor="#66b11b" id=edge_43b077b7 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_27b00954 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/post_deployment_tasks.yml" color="#66b11b" id=role_27b00954 tooltip="Configure NFS"]
					}
					role_c61de9cd -> role_2eae54a3 [label="3 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#66b11b" fontcolor="#66b11b" id=edge_c490e73f labeltooltip="3 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy Submariner" {
						role_2eae54a3 [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_rke/tasks/post_deployment_tasks.yml" color="#66b11b" id=role_2eae54a3 tooltip="Deploy Submariner"]
					}
				}
			}
		}
	}
}
