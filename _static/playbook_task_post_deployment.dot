digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_c5972661 [label="Play: Initial setup (1)" color="#4f09c3" fontcolor="#ffffff" id=play_c5972661 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_c5972661 [label="1 " color="#4f09c3" fontcolor="#4f09c3" id=edge_94f243e3 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_33358b65 [label="[role] Read podman secrets if running from the container" color="#4f09c3" id=role_33358b65 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_0d086860 [label="[role] task-gather-facts" color="#4f09c3" id=role_0d086860 tooltip="task-gather-facts"]
		role_0d086860 -> role_33358b65 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#4f09c3" fontcolor="#4f09c3" id=edge_311e04c8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_eece2823 [label="[role] Read podman secrets if running from the container" color="#4f09c3" id=role_eece2823 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_d350674c [label="[role] task-prepare-hypervisors" color="#4f09c3" id=role_d350674c tooltip="task-prepare-hypervisors"]
		role_d350674c -> role_eece2823 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#4f09c3" fontcolor="#4f09c3" id=edge_5557865e labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_c5972661 -> block_c7d86148 [label=1 color="#4f09c3" fontcolor="#4f09c3" id=edge_234dd322 labeltooltip=1 tooltip=1]
		subgraph cluster_block_c7d86148 {
			block_c7d86148 [label="[block] Gather facts about the deployment environment" color="#4f09c3" id=block_c7d86148 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_c7d86148 -> role_0d086860 [label="1 " color="#4f09c3" fontcolor="#4f09c3" id=edge_86259975 labeltooltip="1 " tooltip="1 "]
		}
		play_c5972661 -> block_e265aa23 [label=2 color="#4f09c3" fontcolor="#4f09c3" id=edge_881e653c labeltooltip=2 tooltip=2]
		subgraph cluster_block_e265aa23 {
			block_e265aa23 [label="[block] Prepare the hypervisors" color="#4f09c3" id=block_e265aa23 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_e265aa23 -> role_d350674c [label="1 " color="#4f09c3" fontcolor="#4f09c3" id=edge_6c651088 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_56a1bbf4 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#47bf0d" fontcolor="#ffffff" id=play_56a1bbf4 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_56a1bbf4 [label="2 " color="#47bf0d" fontcolor="#47bf0d" id=edge_7ae618b4 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_02debd2c [label="[role] Provision the libvirt services on the hypervisor" color="#47bf0d" id=role_02debd2c tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_73ca37b1 [label="[role] Prepare each hypervisor in the deployment" color="#47bf0d" id=role_73ca37b1 tooltip="Prepare each hypervisor in the deployment"]
		role_73ca37b1 -> role_02debd2c [label="1 " color="#47bf0d" fontcolor="#47bf0d" id=edge_3659646c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_56a1bbf4 -> block_d76f3d27 [label=1 color="#47bf0d" fontcolor="#47bf0d" id=edge_020efb50 labeltooltip=1 tooltip=1]
		subgraph cluster_block_d76f3d27 {
			block_d76f3d27 [label="[block] Prepare individual hypervisors" color="#47bf0d" id=block_d76f3d27 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_d76f3d27 -> role_73ca37b1 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#47bf0d" fontcolor="#47bf0d" id=edge_5590bc17 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_3a4c50c7 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#91a527" fontcolor="#ffffff" id=play_3a4c50c7 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_3a4c50c7 [label="3 " color="#91a527" fontcolor="#91a527" id=edge_8b28542a labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_0f6cdc24 [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_0f6cdc24 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_f54f461c [label="[role] task-prepare-environment" color="#91a527" id=role_f54f461c tooltip="task-prepare-environment"]
		role_f54f461c -> role_0f6cdc24 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_fbcf2f93 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_15f063d6 [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_15f063d6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_252c6394 [label="[role] Prepare environment if not prepared" color="#91a527" id=role_252c6394 tooltip="Prepare environment if not prepared"]
		role_252c6394 -> role_15f063d6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_a1433dfe labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_a004781e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#91a527" id=role_a004781e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_61241b45 [label="[role] task-cleanup-hypervisors" color="#91a527" id=role_61241b45 tooltip="task-cleanup-hypervisors"]
		role_61241b45 -> role_252c6394 [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_4f2c7fe2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_61241b45 -> role_a004781e [label="2 " color="#91a527" fontcolor="#91a527" id=edge_b2dc744f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_549eef6e [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_549eef6e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_46844490 [label="[role] Prepare environment if not prepared" color="#91a527" id=role_46844490 tooltip="Prepare environment if not prepared"]
		role_46844490 -> role_549eef6e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_f17ae514 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_965e75c4 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#91a527" id=role_965e75c4 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_25915ad2 [label="[role] Cleanup hypervisors if needed" color="#91a527" id=role_25915ad2 tooltip="Cleanup hypervisors if needed"]
		role_25915ad2 -> role_46844490 [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_c45b0394 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_25915ad2 -> role_965e75c4 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_21beff0f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_b1655fc2 [label="[role] task-run-validations" color="#91a527" id=role_b1655fc2 tooltip="task-run-validations"]
		role_b1655fc2 -> role_25915ad2 [label="1 [when: not hypervisors_cleaned]" color="#91a527" fontcolor="#91a527" id=edge_51f5fae6 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_01213eca [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_01213eca tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ff46cd1e [label="[role] Prepare environment if not prepared" color="#91a527" id=role_ff46cd1e tooltip="Prepare environment if not prepared"]
		role_ff46cd1e -> role_01213eca [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_3d688e18 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_9b221b4b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#91a527" id=role_9b221b4b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_bcafd8c6 [label="[role] Cleanup hypervisors if needed" color="#91a527" id=role_bcafd8c6 tooltip="Cleanup hypervisors if needed"]
		role_bcafd8c6 -> role_ff46cd1e [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_a073d67f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bcafd8c6 -> role_9b221b4b [label="2 " color="#91a527" fontcolor="#91a527" id=edge_cfd050a8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_a4e059a0 [label="[role] task-create-network" color="#91a527" id=role_a4e059a0 tooltip="task-create-network"]
		role_a4e059a0 -> role_bcafd8c6 [label="1 [when: not hypervisors_cleaned]" color="#91a527" fontcolor="#91a527" id=edge_4a85f881 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_03b00819 [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_03b00819 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_df108eed [label="[role] Prepare environment if not prepared" color="#91a527" id=role_df108eed tooltip="Prepare environment if not prepared"]
		role_df108eed -> role_03b00819 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_214fd277 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_89b0222d [label="[role] Prepare podman" color="#91a527" id=role_89b0222d tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_1e23f759 [label="[role] Create systemd service for podman container" color="#91a527" id=role_1e23f759 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_1f49a38d [label="[role] Configure Bind" color="#91a527" id=role_1f49a38d tooltip="Configure Bind"]
		role_1f49a38d -> role_1e23f759 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_9bd10c7f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5f38708c [label="[role] Create systemd service for podman container" color="#91a527" id=role_5f38708c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_e624e687 [label="[role] Configure Dnsmasq" color="#91a527" id=role_e624e687 tooltip="Configure Dnsmasq"]
		role_e624e687 -> role_5f38708c [label="1 " color="#91a527" fontcolor="#91a527" id=edge_38f820ba labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6cd56fdf [label="[role] Create systemd service for podman container" color="#91a527" id=role_6cd56fdf tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_2f3ff827 [label="[role] Configure HAProxy" color="#91a527" id=role_2f3ff827 tooltip="Configure HAProxy"]
		role_2f3ff827 -> role_6cd56fdf [label="1 " color="#91a527" fontcolor="#91a527" id=edge_de7d8801 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4ac230d6 [label="[role] Create systemd service for podman container" color="#91a527" id=role_4ac230d6 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_a21f4532 [label="[role] Configure Nexus" color="#91a527" id=role_a21f4532 tooltip="Configure Nexus"]
		role_a21f4532 -> role_4ac230d6 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_cb9fef3e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8ea3f08a [label="[role] Create systemd service for podman container" color="#91a527" id=role_8ea3f08a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_fd3f00e7 [label="[role] Configure Apache" color="#91a527" id=role_fd3f00e7 tooltip="Configure Apache"]
		role_fd3f00e7 -> role_8ea3f08a [label="1 " color="#91a527" fontcolor="#91a527" id=edge_b673ac01 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d27eddb0 [label="[role] Create systemd service for podman container" color="#91a527" id=role_d27eddb0 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_8b931c81 [label="[role] Configure a local container image registry" color="#91a527" id=role_8b931c81 tooltip="Configure a local container image registry"]
		role_8b931c81 -> role_d27eddb0 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_5672aa07 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_d54e9597 [label="[role] task-create-services" color="#91a527" id=role_d54e9597 tooltip="task-create-services"]
		role_d54e9597 -> role_df108eed [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_25419452 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d54e9597 -> role_89b0222d [label="2 " color="#91a527" fontcolor="#91a527" id=edge_e505b628 labeltooltip="2 " tooltip="2 "]
		role_d54e9597 -> role_1f49a38d [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#91a527" fontcolor="#91a527" id=edge_4669f6ea labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d54e9597 -> role_e624e687 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#91a527" fontcolor="#91a527" id=edge_5d7f597c labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d54e9597 -> role_2f3ff827 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#91a527" fontcolor="#91a527" id=edge_960fd600 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d54e9597 -> role_a21f4532 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#91a527" fontcolor="#91a527" id=edge_3cd5511c labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d54e9597 -> role_fd3f00e7 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#91a527" fontcolor="#91a527" id=edge_f9a51c09 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d54e9597 -> role_8b931c81 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#91a527" fontcolor="#91a527" id=edge_ac4fb724 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_cde2e704 [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_cde2e704 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_de5f869c [label="[role] Prepare environment if needed" color="#91a527" id=role_de5f869c tooltip="Prepare environment if needed"]
		role_de5f869c -> role_cde2e704 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_f1e41387 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_13759432 [label="[role] Gather network and host facts for guest" color="#91a527" id=role_13759432 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_a7106353 [label="[role] Prepare services if needed" color="#91a527" id=role_a7106353 tooltip="Prepare services if needed"]
		role_a7106353 -> role_de5f869c [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_ebd0925a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a7106353 -> role_13759432 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_2758a7f0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0ff1ed4a [label="[role] Create systemd service for podman container" color="#91a527" id=role_0ff1ed4a tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_e037323e [label="[role] Gather network and host facts for provision service" color="#91a527" id=role_e037323e tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_f2f4705a [label="[role] Setup the cluster provision container" color="#91a527" id=role_f2f4705a tooltip="Setup the cluster provision container"]
		role_f2f4705a -> role_0ff1ed4a [label="1 " color="#91a527" fontcolor="#91a527" id=edge_2636f5db labeltooltip="1 " tooltip="1 "]
		role_f2f4705a -> role_e037323e [label="2 " color="#91a527" fontcolor="#91a527" id=edge_9ad02317 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_aa83e637 [label="[role] Delegate to the distro role to prepare the cluster" color="#91a527" id=role_aa83e637 tooltip="Delegate to the distro role to prepare the cluster"]
		role_aa83e637 -> role_f2f4705a [label="1 " color="#91a527" fontcolor="#91a527" id=edge_1521a518 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_28ee45ae [label="[role] task-prepare-cluster" color="#91a527" id=role_28ee45ae tooltip="task-prepare-cluster"]
		role_28ee45ae -> role_a7106353 [label="1 [when: not services_prepared]" color="#91a527" fontcolor="#91a527" id=edge_e825a402 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_28ee45ae -> role_aa83e637 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_f3cfea99 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_01509832 [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_01509832 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_8bfb9ab7 [label="[role] Prepare environment if not prepared" color="#91a527" id=role_8bfb9ab7 tooltip="Prepare environment if not prepared"]
		role_8bfb9ab7 -> role_01509832 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_641ec4d9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_619e785b [label="[role] task-download-images" color="#91a527" id=role_619e785b tooltip="task-download-images"]
		role_619e785b -> role_8bfb9ab7 [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_1c5c0371 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_76c87974 [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_76c87974 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_a68828d9 [label="[role] Prepare environment if needed" color="#91a527" id=role_a68828d9 tooltip="Prepare environment if needed"]
		role_a68828d9 -> role_76c87974 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_c8edafe0 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_ac693380 [label="[role] Gather network and host facts for guest" color="#91a527" id=role_ac693380 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_1ba5711a [label="[role] Prepare services if needed" color="#91a527" id=role_1ba5711a tooltip="Prepare services if needed"]
		role_1ba5711a -> role_a68828d9 [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_31b91be1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1ba5711a -> role_ac693380 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_b2a3d751 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_6a8ab4a9 [label="[role] Deploy the cluster bootstrap node" color="#91a527" id=role_6a8ab4a9 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_abbec991 [label="[role] Deploy the cluster controller nodes" color="#91a527" id=role_abbec991 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_553b4238 [label="[role] Deploy the cluster compute nodes" color="#91a527" id=role_553b4238 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_91513af2 [label="[role] Delegate to the distro role to deploy the cluster" color="#91a527" id=role_91513af2 tooltip="Delegate to the distro role to deploy the cluster"]
		role_91513af2 -> role_6a8ab4a9 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_2c94e86f labeltooltip="1 " tooltip="1 "]
		role_91513af2 -> role_abbec991 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_591923df labeltooltip="2 " tooltip="2 "]
		role_91513af2 -> role_553b4238 [label="3 " color="#91a527" fontcolor="#91a527" id=edge_09db2306 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_81ff4b2d [label="[role] task-deploy-cluster" color="#91a527" id=role_81ff4b2d tooltip="task-deploy-cluster"]
		role_81ff4b2d -> role_1ba5711a [label="1 [when: not services_prepared]" color="#91a527" fontcolor="#91a527" id=edge_75e3feb1 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_81ff4b2d -> role_91513af2 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_40f145ed labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_815d202a [label="[role] Read podman secrets if running from the container" color="#91a527" id=role_815d202a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_4d5f3071 [label="[role] Prepare environment if needed" color="#91a527" id=role_4d5f3071 tooltip="Prepare environment if needed"]
		role_4d5f3071 -> role_815d202a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91a527" fontcolor="#91a527" id=edge_c8c4dd63 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_9e7f82da [label="[role] Gather network and host facts for guest" color="#91a527" id=role_9e7f82da tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_58e2b7ea [label="[role] Prepare services if needed" color="#91a527" id=role_58e2b7ea tooltip="Prepare services if needed"]
		role_58e2b7ea -> role_4d5f3071 [label="1 [when: not environment_prepared]" color="#91a527" fontcolor="#91a527" id=edge_a869f1cd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_58e2b7ea -> role_9e7f82da [label="2 " color="#91a527" fontcolor="#91a527" id=edge_b3412c9d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_043a0131 [label="[role] Configure NFS" color="#91a527" id=role_043a0131 tooltip="Configure NFS"]
		task_f590879e [label="kubeinit.kubeinit.kubeinit_nfs : Install NFS packages" color="#91a527" id=task_f590879e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Install NFS packages"]
		role_043a0131 -> task_f590879e [label="1 " color="#91a527" fontcolor="#91a527" id=edge_f90bedb1 labeltooltip="1 " tooltip="1 "]
		task_a1785151 [label="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of CentOS based guests" color="#91a527" id=task_a1785151 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of CentOS based guests"]
		role_043a0131 -> task_a1785151 [label="2 [when: hostvars[kubeinit_deployment_node_name].os == 'centos']" color="#91a527" fontcolor="#91a527" id=edge_71c07cbc labeltooltip="2 [when: hostvars[kubeinit_deployment_node_name].os == 'centos']" tooltip="2 [when: hostvars[kubeinit_deployment_node_name].os == 'centos']"]
		task_849fe52a [label="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of Ubuntu based guests" color="#91a527" id=task_849fe52a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of Ubuntu based guests"]
		role_043a0131 -> task_849fe52a [label="3 [when: hostvars[kubeinit_deployment_node_name].os == 'ubuntu' or hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#91a527" fontcolor="#91a527" id=edge_57877327 labeltooltip="3 [when: hostvars[kubeinit_deployment_node_name].os == 'ubuntu' or hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="3 [when: hostvars[kubeinit_deployment_node_name].os == 'ubuntu' or hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_4db2b768 [label="kubeinit.kubeinit.kubeinit_nfs : Add nfs provisioning role" color="#91a527" id=task_4db2b768 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Add nfs provisioning role"]
		role_043a0131 -> task_4db2b768 [label="4 " color="#91a527" fontcolor="#91a527" id=edge_d1d61dfe labeltooltip="4 " tooltip="4 "]
		task_f006984d [label="kubeinit.kubeinit.kubeinit_nfs : Add nfs client provisioner deployment" color="#91a527" id=task_f006984d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Add nfs client provisioner deployment"]
		role_043a0131 -> task_f006984d [label="5 " color="#91a527" fontcolor="#91a527" id=edge_37f1d7ac labeltooltip="5 " tooltip="5 "]
		task_4c726e38 [label="kubeinit.kubeinit.kubeinit_nfs : Add default nfs storage class" color="#91a527" id=task_4c726e38 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Add default nfs storage class"]
		role_043a0131 -> task_4c726e38 [label="6 " color="#91a527" fontcolor="#91a527" id=edge_e8d99e8b labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Deploy the apps" {
		role_766d558c [label="[role] Deploy the apps" color="#91a527" id=role_766d558c tooltip="Deploy the apps"]
		task_4ba62150 [label="kubeinit.kubeinit.kubeinit_apps : Create the sampleapp template file" color="#91a527" id=task_4ba62150 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Create the sampleapp template file"]
		role_766d558c -> task_4ba62150 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_725ff1e1 labeltooltip="1 " tooltip="1 "]
		task_ec202423 [label="kubeinit.kubeinit.kubeinit_apps : Install the sample app" color="#91a527" id=task_ec202423 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Install the sample app"]
		role_766d558c -> task_ec202423 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_dda7e48d labeltooltip="2 " tooltip="2 "]
		task_ffb992a0 [label="kubeinit.kubeinit.kubeinit_apps : Wait until pods are created" color="#91a527" id=task_ffb992a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Wait until pods are created"]
		role_766d558c -> task_ffb992a0 [label="3 " color="#91a527" fontcolor="#91a527" id=edge_e063cccc labeltooltip="3 " tooltip="3 "]
		task_f17872fe [label="kubeinit.kubeinit.kubeinit_apps : Wait until pods are running" color="#91a527" id=task_f17872fe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Wait until pods are running"]
		role_766d558c -> task_f17872fe [label="4 " color="#91a527" fontcolor="#91a527" id=edge_c2433ed6 labeltooltip="4 " tooltip="4 "]
		task_17e41fd4 [label="kubeinit.kubeinit.kubeinit_apps : Delete the sampleapp" color="#91a527" id=task_17e41fd4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Delete the sampleapp"]
		role_766d558c -> task_17e41fd4 [label="5 " color="#91a527" fontcolor="#91a527" id=edge_cdcae55f labeltooltip="5 " tooltip="5 "]
	}
	subgraph "Deploy KubeVirt" {
		role_75a5bb5d [label="[role] Deploy KubeVirt" color="#91a527" id=role_75a5bb5d tooltip="Deploy KubeVirt"]
		task_e74522c4 [label="kubeinit.kubeinit.kubeinit_kubevirt : Install KubeVirt" color="#91a527" id=task_e74522c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kubevirt : Install KubeVirt"]
		role_75a5bb5d -> task_e74522c4 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_d695ed5a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Deploy Submariner" {
		role_e974ec5e [label="[role] Deploy Submariner" color="#91a527" id=role_e974ec5e tooltip="Deploy Submariner"]
		task_4e081c4b [label="kubeinit.kubeinit.kubeinit_submariner : Remove repo file" color="#91a527" id=task_4e081c4b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Remove repo file"]
		role_e974ec5e -> task_4e081c4b [label="1 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_9fd191ae labeltooltip="1 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="1 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_5346c04b [label="kubeinit.kubeinit.kubeinit_submariner : Get submariner-operator repository content" color="#91a527" id=task_5346c04b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get submariner-operator repository content"]
		role_e974ec5e -> task_5346c04b [label="2 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_66cda50f labeltooltip="2 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="2 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_beee3215 [label="kubeinit.kubeinit.kubeinit_submariner : Get the PR ID" color="#91a527" id=task_beee3215 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get the PR ID"]
		role_e974ec5e -> task_beee3215 [label="3 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_dd56cabe labeltooltip="3 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="3 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_c19c174b [label="kubeinit.kubeinit.kubeinit_submariner : Configure a variable with the PR ID" color="#91a527" id=task_c19c174b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Configure a variable with the PR ID"]
		role_e974ec5e -> task_c19c174b [label="4 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_2268dd52 labeltooltip="4 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="4 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_e2e908cd [label="kubeinit.kubeinit.kubeinit_submariner : Get submariner code based on a PR or from devel" color="#91a527" id=task_e2e908cd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get submariner code based on a PR or from devel"]
		role_e974ec5e -> task_e2e908cd [label="5 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_0afadf4c labeltooltip="5 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="5 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_e1db5b8c [label="kubeinit.kubeinit.kubeinit_submariner : Clean previous images" color="#91a527" id=task_e1db5b8c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Clean previous images"]
		role_e974ec5e -> task_e1db5b8c [label="6 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_5ea4a588 labeltooltip="6 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="6 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_96444b1e [label="kubeinit.kubeinit.kubeinit_submariner : Make clean" color="#91a527" id=task_96444b1e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make clean"]
		role_e974ec5e -> task_96444b1e [label="7 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_dff36340 labeltooltip="7 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="7 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_05cb14ce [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary" color="#91a527" id=task_05cb14ce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary"]
		role_e974ec5e -> task_05cb14ce [label="8 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_b137bce3 labeltooltip="8 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="8 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_28d55966 [label="kubeinit.kubeinit.kubeinit_submariner : Make build" color="#91a527" id=task_28d55966 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make build"]
		role_e974ec5e -> task_28d55966 [label="9 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_511f189f labeltooltip="9 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="9 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_9cebd943 [label="kubeinit.kubeinit.kubeinit_submariner : Make images" color="#91a527" id=task_9cebd943 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make images"]
		role_e974ec5e -> task_9cebd943 [label="10 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_284cdd11 labeltooltip="10 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="10 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_232d0566 [label="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry" color="#91a527" id=task_232d0566 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry"]
		role_e974ec5e -> task_232d0566 [label="11 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_5c92e1e0 labeltooltip="11 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="11 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_92d56a3c [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available" color="#91a527" id=task_92d56a3c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available"]
		role_e974ec5e -> task_92d56a3c [label="12 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_285a3eb0 labeltooltip="12 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="12 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_8f6bd7c0 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release" color="#91a527" id=task_8f6bd7c0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release"]
		role_e974ec5e -> task_8f6bd7c0 [label="13 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_df514412 labeltooltip="13 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="13 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_5452ba72 [label="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists" color="#91a527" id=task_5452ba72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists"]
		role_e974ec5e -> task_5452ba72 [label="14 " color="#91a527" fontcolor="#91a527" id=edge_363c1a54 labeltooltip="14 " tooltip="14 "]
		task_7db25a31 [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile" color="#91a527" id=task_7db25a31 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile"]
		role_e974ec5e -> task_7db25a31 [label="15 [when: profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_b8fc8ad8 labeltooltip="15 [when: profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" tooltip="15 [when: profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]"]
		task_334733c1 [label="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists" color="#91a527" id=task_334733c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists"]
		role_e974ec5e -> task_334733c1 [label="16 " color="#91a527" fontcolor="#91a527" id=edge_9d69dbfa labeltooltip="16 " tooltip="16 "]
		task_8574b112 [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile" color="#91a527" id=task_8574b112 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile"]
		role_e974ec5e -> task_8574b112 [label="17 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_c213ee1e labeltooltip="17 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" tooltip="17 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]"]
		task_5aa1d71d [label="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists" color="#91a527" id=task_5aa1d71d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists"]
		role_e974ec5e -> task_5aa1d71d [label="18 " color="#91a527" fontcolor="#91a527" id=edge_b630e416 labeltooltip="18 " tooltip="18 "]
		task_ec46fa12 [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc" color="#91a527" id=task_ec46fa12 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc"]
		role_e974ec5e -> task_ec46fa12 [label="19 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_0f73509c labeltooltip="19 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_broker|bool]" tooltip="19 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_broker|bool]"]
		task_ebef2729 [label="kubeinit.kubeinit.kubeinit_submariner : Configure broker cluster" color="#91a527" id=task_ebef2729 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Configure broker cluster"]
		role_e974ec5e -> task_ebef2729 [label="20 [when: kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_91f58546 labeltooltip="20 [when: kubeinit_submariner_is_broker|bool]" tooltip="20 [when: kubeinit_submariner_is_broker|bool]"]
		task_fc7f0500 [label="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr" color="#91a527" id=task_fc7f0500 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr"]
		role_e974ec5e -> task_fc7f0500 [label="21 [when: kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_6f90556f labeltooltip="21 [when: kubeinit_submariner_is_broker|bool]" tooltip="21 [when: kubeinit_submariner_is_broker|bool]"]
		task_5476532a [label="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable" color="#91a527" id=task_5476532a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable"]
		role_e974ec5e -> task_5476532a [label="22 [when: kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_decc509a labeltooltip="22 [when: kubeinit_submariner_is_broker|bool]" tooltip="22 [when: kubeinit_submariner_is_broker|bool]"]
		task_659ae7d9 [label="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker overriding the images registry" color="#91a527" id=task_659ae7d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker overriding the images registry"]
		role_e974ec5e -> task_659ae7d9 [label="23 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_a73cbd59 labeltooltip="23 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="23 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_da24cf65 [label="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker pulling from the default registry" color="#91a527" id=task_da24cf65 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker pulling from the default registry"]
		role_e974ec5e -> task_da24cf65 [label="24 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_c2d0ace3 labeltooltip="24 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="24 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_a1e2872d [label="kubeinit.kubeinit.kubeinit_submariner : Export the submariner images and the binary files" color="#91a527" id=task_a1e2872d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Export the submariner images and the binary files"]
		role_e974ec5e -> task_a1e2872d [label="25 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_bb11f80e labeltooltip="25 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="25 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_6296dd26 [label="kubeinit.kubeinit.kubeinit_submariner : Copy the images and binaries to the hypervisor" color="#91a527" id=task_6296dd26 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the images and binaries to the hypervisor"]
		role_e974ec5e -> task_6296dd26 [label="26 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_73544a1d labeltooltip="26 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="26 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_7f802c34 [label="kubeinit.kubeinit.kubeinit_submariner : Copy the broker-info.subm to the hypervisor" color="#91a527" id=task_7f802c34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the broker-info.subm to the hypervisor"]
		role_e974ec5e -> task_7f802c34 [label="27 [when: kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_ba5c20c6 labeltooltip="27 [when: kubeinit_submariner_is_broker|bool]" tooltip="27 [when: kubeinit_submariner_is_broker|bool]"]
		task_576e183e [label="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor" color="#91a527" id=task_576e183e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor"]
		role_e974ec5e -> task_576e183e [label="28 [when: kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_e85698e8 labeltooltip="28 [when: kubeinit_submariner_is_broker|bool]" tooltip="28 [when: kubeinit_submariner_is_broker|bool]"]
		task_bc5558ba [label="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes" color="#91a527" id=task_bc5558ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes"]
		role_e974ec5e -> task_bc5558ba [label="29 [when: kubeinit_submariner_is_broker|bool]" color="#91a527" fontcolor="#91a527" id=edge_4514752f labeltooltip="29 [when: kubeinit_submariner_is_broker|bool]" tooltip="29 [when: kubeinit_submariner_is_broker|bool]"]
		task_22a4352d [label="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor" color="#91a527" id=task_22a4352d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor"]
		role_e974ec5e -> task_22a4352d [label="30 [when: kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_2c9a9280 labeltooltip="30 [when: kubeinit_submariner_is_secondary|bool]" tooltip="30 [when: kubeinit_submariner_is_secondary|bool]"]
		task_25fa54c8 [label="kubeinit.kubeinit.kubeinit_submariner : Copying the broker-info.subm, kubeconfig to the secondary cluster" color="#91a527" id=task_25fa54c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copying the broker-info.subm, kubeconfig to the secondary cluster"]
		role_e974ec5e -> task_25fa54c8 [label="31 [when: kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_5b9b43bd labeltooltip="31 [when: kubeinit_submariner_is_secondary|bool]" tooltip="31 [when: kubeinit_submariner_is_secondary|bool]"]
		task_672f0656 [label="kubeinit.kubeinit.kubeinit_submariner : Copying the images, and binaries to the secondary cluster" color="#91a527" id=task_672f0656 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copying the images, and binaries to the secondary cluster"]
		role_e974ec5e -> task_672f0656 [label="32 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_92b10b4f labeltooltip="32 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="32 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_df16e18e [label="kubeinit.kubeinit.kubeinit_submariner : Extract images and binaries" color="#91a527" id=task_df16e18e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Extract images and binaries"]
		role_e974ec5e -> task_df16e18e [label="33 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_f37983cb labeltooltip="33 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="33 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_305e6470 [label="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry" color="#91a527" id=task_305e6470 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry"]
		role_e974ec5e -> task_305e6470 [label="34 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_d9950f29 labeltooltip="34 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="34 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_ead1d934 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available" color="#91a527" id=task_ead1d934 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available"]
		role_e974ec5e -> task_ead1d934 [label="35 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_c616270c labeltooltip="35 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="35 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_f46b6ba2 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release" color="#91a527" id=task_f46b6ba2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release"]
		role_e974ec5e -> task_f46b6ba2 [label="36 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_070a693b labeltooltip="36 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="36 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_d7ab65ea [label="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists" color="#91a527" id=task_d7ab65ea shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists"]
		role_e974ec5e -> task_d7ab65ea [label="37 " color="#91a527" fontcolor="#91a527" id=edge_98298500 labeltooltip="37 " tooltip="37 "]
		task_1b40811b [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile" color="#91a527" id=task_1b40811b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile"]
		role_e974ec5e -> task_1b40811b [label="38 [when: profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_50ec66e0 labeltooltip="38 [when: profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" tooltip="38 [when: profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]"]
		task_93a58efb [label="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists" color="#91a527" id=task_93a58efb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists"]
		role_e974ec5e -> task_93a58efb [label="39 " color="#91a527" fontcolor="#91a527" id=edge_67c2d6ff labeltooltip="39 " tooltip="39 "]
		task_c3a65efd [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile" color="#91a527" id=task_c3a65efd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile"]
		role_e974ec5e -> task_c3a65efd [label="40 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_3e77ef88 labeltooltip="40 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" tooltip="40 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]"]
		task_daf7d7e1 [label="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists" color="#91a527" id=task_daf7d7e1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists"]
		role_e974ec5e -> task_daf7d7e1 [label="41 " color="#91a527" fontcolor="#91a527" id=edge_f355adb1 labeltooltip="41 " tooltip="41 "]
		task_eafb50bb [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc" color="#91a527" id=task_eafb50bb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc"]
		role_e974ec5e -> task_eafb50bb [label="42 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_742cf6b1 labeltooltip="42 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" tooltip="42 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_secondary|bool]"]
		task_92757a67 [label="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr" color="#91a527" id=task_92757a67 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr"]
		role_e974ec5e -> task_92757a67 [label="43 [when: kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_f5d1cf8e labeltooltip="43 [when: kubeinit_submariner_is_secondary|bool]" tooltip="43 [when: kubeinit_submariner_is_secondary|bool]"]
		task_27de49ed [label="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable" color="#91a527" id=task_27de49ed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable"]
		role_e974ec5e -> task_27de49ed [label="44 [when: kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_43ddd757 labeltooltip="44 [when: kubeinit_submariner_is_secondary|bool]" tooltip="44 [when: kubeinit_submariner_is_secondary|bool]"]
		task_0b6dcfcd [label="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker overriding the images registry" color="#91a527" id=task_0b6dcfcd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker overriding the images registry"]
		role_e974ec5e -> task_0b6dcfcd [label="45 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_c1d96bde labeltooltip="45 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="45 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_41a47d8b [label="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker pulling from the default registry" color="#91a527" id=task_41a47d8b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker pulling from the default registry"]
		role_e974ec5e -> task_41a47d8b [label="46 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" color="#91a527" fontcolor="#91a527" id=edge_f5dbb783 labeltooltip="46 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="46 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_0f50f618 [label="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes" color="#91a527" id=task_0f50f618 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes"]
		role_e974ec5e -> task_0f50f618 [label="47 [when: kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_a130cf1a labeltooltip="47 [when: kubeinit_submariner_is_secondary|bool]" tooltip="47 [when: kubeinit_submariner_is_secondary|bool]"]
		task_502a73aa [label="kubeinit.kubeinit.kubeinit_submariner : Render the netshoot script" color="#91a527" id=task_502a73aa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Render the netshoot script"]
		role_e974ec5e -> task_502a73aa [label="48 " color="#91a527" fontcolor="#91a527" id=edge_15e94af8 labeltooltip="48 " tooltip="48 "]
		task_a1006c33 [label="kubeinit.kubeinit.kubeinit_submariner : Sleep for 60 seconds until the cluster converges" color="#91a527" id=task_a1006c33 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Sleep for 60 seconds until the cluster converges"]
		role_e974ec5e -> task_a1006c33 [label="49 [when: kubeinit_submariner_subctl_verify_pre_sleep|bool and kubeinit_submariner_is_secondary|bool]" color="#91a527" fontcolor="#91a527" id=edge_19dae747 labeltooltip="49 [when: kubeinit_submariner_subctl_verify_pre_sleep|bool and kubeinit_submariner_is_secondary|bool]" tooltip="49 [when: kubeinit_submariner_subctl_verify_pre_sleep|bool and kubeinit_submariner_is_secondary|bool]"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_c957dea1 [label="[role] Delegate to distro role to run post-deployment tasks" color="#91a527" id=role_c957dea1 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_c957dea1 -> role_043a0131 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#91a527" fontcolor="#91a527" id=edge_73fee2b4 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_df3a4371 [label="kubeinit.kubeinit.kubeinit_okd : Add security context constraint for nfs provisioner" color="#91a527" id=task_df3a4371 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Add security context constraint for nfs provisioner"]
		role_c957dea1 -> task_df3a4371 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#91a527" fontcolor="#91a527" id=edge_58cda821 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_8f719b27 [label="kubeinit.kubeinit.kubeinit_okd : Apply nfs security policy to nfs user" color="#91a527" id=task_8f719b27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Apply nfs security policy to nfs user"]
		role_c957dea1 -> task_8f719b27 [label="3 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#91a527" fontcolor="#91a527" id=edge_fdc690bf labeltooltip="3 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="3 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_73b7f230 [label="kubeinit.kubeinit.kubeinit_okd : Wait for the image registry operator to start its components" color="#91a527" id=task_73b7f230 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Wait for the image registry operator to start its components"]
		role_c957dea1 -> task_73b7f230 [label="4 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#91a527" fontcolor="#91a527" id=edge_6b2980e0 labeltooltip="4 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="4 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_a3db03ba [label="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to claim storage" color="#91a527" id=task_a3db03ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to claim storage"]
		role_c957dea1 -> task_a3db03ba [label="5 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#91a527" fontcolor="#91a527" id=edge_b371477e labeltooltip="5 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="5 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_26d6a17f [label="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to move to Managed state" color="#91a527" id=task_26d6a17f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to move to Managed state"]
		role_c957dea1 -> task_26d6a17f [label="6 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#91a527" fontcolor="#91a527" id=edge_0b7e2e97 labeltooltip="6 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="6 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_c957dea1 -> role_766d558c [label="7 " color="#91a527" fontcolor="#91a527" id=edge_77235090 labeltooltip="7 " tooltip="7 "]
		role_c957dea1 -> role_75a5bb5d [label="8 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#91a527" fontcolor="#91a527" id=edge_2aaa8f9f labeltooltip="8 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="8 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_c957dea1 -> role_e974ec5e [label="9 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#91a527" fontcolor="#91a527" id=edge_b577e0b5 labeltooltip="9 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="9 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_cdb5a21f [label="[role] task-post-deployment" color="#91a527" id=role_cdb5a21f tooltip="task-post-deployment"]
		role_cdb5a21f -> role_58e2b7ea [label="1 [when: not services_prepared]" color="#91a527" fontcolor="#91a527" id=edge_c7fd3442 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_cdb5a21f -> role_c957dea1 [label="2 " color="#91a527" fontcolor="#91a527" id=edge_9d762fd5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_3a4c50c7 -> block_bc49a964 [label=1 color="#91a527" fontcolor="#91a527" id=edge_adb793ad labeltooltip=1 tooltip=1]
		subgraph cluster_block_bc49a964 {
			block_bc49a964 [label="[block] Prepare the environment" color="#91a527" id=block_bc49a964 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_bc49a964 -> role_f54f461c [label="1 " color="#91a527" fontcolor="#91a527" id=edge_016fa30d labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_3aa7b1d0 [label=2 color="#91a527" fontcolor="#91a527" id=edge_d7b1cd43 labeltooltip=2 tooltip=2]
		subgraph cluster_block_3aa7b1d0 {
			block_3aa7b1d0 [label="[block] Cleanup hypervisors" color="#91a527" id=block_3aa7b1d0 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_3aa7b1d0 -> role_61241b45 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_bb452fba labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_06818000 [label=3 color="#91a527" fontcolor="#91a527" id=edge_6f451f9b labeltooltip=3 tooltip=3]
		subgraph cluster_block_06818000 {
			block_06818000 [label="[block] Run validations on cluster resources" color="#91a527" id=block_06818000 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_06818000 -> role_b1655fc2 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_53382377 labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_2791ecc1 [label=4 color="#91a527" fontcolor="#91a527" id=edge_b650a37a labeltooltip=4 tooltip=4]
		subgraph cluster_block_2791ecc1 {
			block_2791ecc1 [label="[block] Create the cluster network resources" color="#91a527" id=block_2791ecc1 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_2791ecc1 -> role_a4e059a0 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_18c21e7b labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_febb1f3f [label=5 color="#91a527" fontcolor="#91a527" id=edge_47379d64 labeltooltip=5 tooltip=5]
		subgraph cluster_block_febb1f3f {
			block_febb1f3f [label="[block] Create services the cluster will need" color="#91a527" id=block_febb1f3f labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_febb1f3f -> role_d54e9597 [label="1 " color="#91a527" fontcolor="#91a527" id=edge_ff1f52b2 labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_c630d392 [label=6 color="#91a527" fontcolor="#91a527" id=edge_c56846b8 labeltooltip=6 tooltip=6]
		subgraph cluster_block_c630d392 {
			block_c630d392 [label="[block] Prepare to deploy the cluster" color="#91a527" id=block_c630d392 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_c630d392 -> role_28ee45ae [label="1 " color="#91a527" fontcolor="#91a527" id=edge_ae495461 labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_27867199 [label=7 color="#91a527" fontcolor="#91a527" id=edge_5f0d2c3c labeltooltip=7 tooltip=7]
		subgraph cluster_block_27867199 {
			block_27867199 [label="[block] Download cloud images" color="#91a527" id=block_27867199 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_27867199 -> role_619e785b [label="1 " color="#91a527" fontcolor="#91a527" id=edge_63020884 labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_86a9996a [label=8 color="#91a527" fontcolor="#91a527" id=edge_8ad5c1f6 labeltooltip=8 tooltip=8]
		subgraph cluster_block_86a9996a {
			block_86a9996a [label="[block] Deploy the cluster" color="#91a527" id=block_86a9996a labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_86a9996a -> role_81ff4b2d [label="1 " color="#91a527" fontcolor="#91a527" id=edge_870abe90 labeltooltip="1 " tooltip="1 "]
		}
		play_3a4c50c7 -> block_3c51901f [label=9 color="#91a527" fontcolor="#91a527" id=edge_274ba8f3 labeltooltip=9 tooltip=9]
		subgraph cluster_block_3c51901f {
			block_3c51901f [label="[block] Run any post-deployment tasks" color="#91a527" id=block_3c51901f labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_3c51901f -> role_cdb5a21f [label="1 " color="#91a527" fontcolor="#91a527" id=edge_a8fe2d34 labeltooltip="1 " tooltip="1 "]
		}
	}
}
