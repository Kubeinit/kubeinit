digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_6acd4c2f [label="Play: Initial setup (1)" color="#b21a5b" fontcolor="#ffffff" id=play_6acd4c2f shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_6acd4c2f [label="1 " color="#b21a5b" fontcolor="#b21a5b" id=edge_332fa3fa labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_29b5d62b [label="[role] Read podman secrets if running from the container" color="#b21a5b" id=role_29b5d62b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_e5f57117 [label="[role] task-gather-facts" color="#b21a5b" id=role_e5f57117 tooltip="task-gather-facts"]
		role_e5f57117 -> role_29b5d62b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#b21a5b" fontcolor="#b21a5b" id=edge_c0961891 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_dcd072b0 [label="[role] Read podman secrets if running from the container" color="#b21a5b" id=role_dcd072b0 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_20ecd5fc [label="[role] task-prepare-hypervisors" color="#b21a5b" id=role_20ecd5fc tooltip="task-prepare-hypervisors"]
		role_20ecd5fc -> role_dcd072b0 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#b21a5b" fontcolor="#b21a5b" id=edge_781f6fe1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_6acd4c2f -> block_38d5e3a2 [label=1 color="#b21a5b" fontcolor="#b21a5b" id=edge_fb046fca labeltooltip=1 tooltip=1]
		subgraph cluster_block_38d5e3a2 {
			block_38d5e3a2 [label="[block] Gather facts about the deployment environment" color="#b21a5b" id=block_38d5e3a2 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_38d5e3a2 -> role_e5f57117 [label="1 " color="#b21a5b" fontcolor="#b21a5b" id=edge_a6a2895a labeltooltip="1 " tooltip="1 "]
		}
		play_6acd4c2f -> block_a8fda032 [label=2 color="#b21a5b" fontcolor="#b21a5b" id=edge_73347ed1 labeltooltip=2 tooltip=2]
		subgraph cluster_block_a8fda032 {
			block_a8fda032 [label="[block] Prepare the hypervisors" color="#b21a5b" id=block_a8fda032 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_a8fda032 -> role_20ecd5fc [label="1 " color="#b21a5b" fontcolor="#b21a5b" id=edge_4d5b3ac2 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_e0229aa3 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#6029a3" fontcolor="#ffffff" id=play_e0229aa3 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_e0229aa3 [label="2 " color="#6029a3" fontcolor="#6029a3" id=edge_c5d969ff labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_cec8f049 [label="[role] Provision the libvirt services on the hypervisor" color="#6029a3" id=role_cec8f049 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_1d0ae38b [label="[role] Prepare each hypervisor in the deployment" color="#6029a3" id=role_1d0ae38b tooltip="Prepare each hypervisor in the deployment"]
		role_1d0ae38b -> role_cec8f049 [label="1 " color="#6029a3" fontcolor="#6029a3" id=edge_e8b05a55 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_e0229aa3 -> block_38860e14 [label=1 color="#6029a3" fontcolor="#6029a3" id=edge_ad0fc380 labeltooltip=1 tooltip=1]
		subgraph cluster_block_38860e14 {
			block_38860e14 [label="[block] Prepare individual hypervisors" color="#6029a3" id=block_38860e14 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_38860e14 -> role_1d0ae38b [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#6029a3" fontcolor="#6029a3" id=edge_b354c0c8 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_0c858d7d [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#1482b8" fontcolor="#ffffff" id=play_0c858d7d shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_0c858d7d [label="3 " color="#1482b8" fontcolor="#1482b8" id=edge_7c5bd713 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_76e37478 [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_76e37478 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_b879215e [label="[role] task-prepare-environment" color="#1482b8" id=role_b879215e tooltip="task-prepare-environment"]
		role_b879215e -> role_76e37478 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_6b7f017d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a238d142 [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_a238d142 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_042030a5 [label="[role] Prepare environment if not prepared" color="#1482b8" id=role_042030a5 tooltip="Prepare environment if not prepared"]
		role_042030a5 -> role_a238d142 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_e34f6c9a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b458d977 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#1482b8" id=role_b458d977 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_173a6ba1 [label="[role] task-cleanup-hypervisors" color="#1482b8" id=role_173a6ba1 tooltip="task-cleanup-hypervisors"]
		role_173a6ba1 -> role_042030a5 [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_3317cf8e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_173a6ba1 -> role_b458d977 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_cd1d8429 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5f04d6a3 [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_5f04d6a3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_a4ef895c [label="[role] Prepare environment if not prepared" color="#1482b8" id=role_a4ef895c tooltip="Prepare environment if not prepared"]
		role_a4ef895c -> role_5f04d6a3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_0db59d86 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_787d12b8 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#1482b8" id=role_787d12b8 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_6d64a8a4 [label="[role] Cleanup hypervisors if needed" color="#1482b8" id=role_6d64a8a4 tooltip="Cleanup hypervisors if needed"]
		role_6d64a8a4 -> role_a4ef895c [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_be77c943 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6d64a8a4 -> role_787d12b8 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_ac202eec labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_527fa22d [label="[role] task-run-validations" color="#1482b8" id=role_527fa22d tooltip="task-run-validations"]
		role_527fa22d -> role_6d64a8a4 [label="1 [when: not hypervisors_cleaned]" color="#1482b8" fontcolor="#1482b8" id=edge_ba966b89 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b62b8868 [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_b62b8868 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d65661e3 [label="[role] Prepare environment if not prepared" color="#1482b8" id=role_d65661e3 tooltip="Prepare environment if not prepared"]
		role_d65661e3 -> role_b62b8868 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_dce806f8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_fab54fd8 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#1482b8" id=role_fab54fd8 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_6a11a643 [label="[role] Cleanup hypervisors if needed" color="#1482b8" id=role_6a11a643 tooltip="Cleanup hypervisors if needed"]
		role_6a11a643 -> role_d65661e3 [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_32a60977 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6a11a643 -> role_fab54fd8 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_0cf44594 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_d535551d [label="[role] task-create-network" color="#1482b8" id=role_d535551d tooltip="task-create-network"]
		role_d535551d -> role_6a11a643 [label="1 [when: not hypervisors_cleaned]" color="#1482b8" fontcolor="#1482b8" id=edge_2e281f6b labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_391f291c [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_391f291c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c46c0ce9 [label="[role] Prepare environment if not prepared" color="#1482b8" id=role_c46c0ce9 tooltip="Prepare environment if not prepared"]
		role_c46c0ce9 -> role_391f291c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_da7f604f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_ee076d5e [label="[role] Prepare podman" color="#1482b8" id=role_ee076d5e tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_614725aa [label="[role] Create systemd service for podman container" color="#1482b8" id=role_614725aa tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_e7dffcdb [label="[role] Configure Bind" color="#1482b8" id=role_e7dffcdb tooltip="Configure Bind"]
		role_e7dffcdb -> role_614725aa [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_7551b804 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_20c21cfd [label="[role] Create systemd service for podman container" color="#1482b8" id=role_20c21cfd tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_e40ea5c2 [label="[role] Configure Dnsmasq" color="#1482b8" id=role_e40ea5c2 tooltip="Configure Dnsmasq"]
		role_e40ea5c2 -> role_20c21cfd [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_1d6f7c1b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1706484c [label="[role] Create systemd service for podman container" color="#1482b8" id=role_1706484c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_0ec41182 [label="[role] Configure HAProxy" color="#1482b8" id=role_0ec41182 tooltip="Configure HAProxy"]
		role_0ec41182 -> role_1706484c [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_4d661d42 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_00fe2d02 [label="[role] Create systemd service for podman container" color="#1482b8" id=role_00fe2d02 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_d1ae5194 [label="[role] Configure Nexus" color="#1482b8" id=role_d1ae5194 tooltip="Configure Nexus"]
		role_d1ae5194 -> role_00fe2d02 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_4ff52087 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d3997034 [label="[role] Create systemd service for podman container" color="#1482b8" id=role_d3997034 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_f3671a94 [label="[role] Configure Apache" color="#1482b8" id=role_f3671a94 tooltip="Configure Apache"]
		role_f3671a94 -> role_d3997034 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_f0517cc5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8b4d801b [label="[role] Create systemd service for podman container" color="#1482b8" id=role_8b4d801b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_6715e19d [label="[role] Configure a local container image registry" color="#1482b8" id=role_6715e19d tooltip="Configure a local container image registry"]
		role_6715e19d -> role_8b4d801b [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_74a64c9f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_24aa21e8 [label="[role] task-create-services" color="#1482b8" id=role_24aa21e8 tooltip="task-create-services"]
		role_24aa21e8 -> role_c46c0ce9 [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_7f1c64a2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_24aa21e8 -> role_ee076d5e [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_7110d464 labeltooltip="2 " tooltip="2 "]
		role_24aa21e8 -> role_e7dffcdb [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#1482b8" fontcolor="#1482b8" id=edge_472d8cfc labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24aa21e8 -> role_e40ea5c2 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#1482b8" fontcolor="#1482b8" id=edge_f7d5e80c labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24aa21e8 -> role_0ec41182 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#1482b8" fontcolor="#1482b8" id=edge_899297ce labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24aa21e8 -> role_d1ae5194 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#1482b8" fontcolor="#1482b8" id=edge_21e456c6 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24aa21e8 -> role_f3671a94 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#1482b8" fontcolor="#1482b8" id=edge_fad78f5b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24aa21e8 -> role_6715e19d [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#1482b8" fontcolor="#1482b8" id=edge_9f422877 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c24a3ff4 [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_c24a3ff4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_a2977b26 [label="[role] Prepare environment if needed" color="#1482b8" id=role_a2977b26 tooltip="Prepare environment if needed"]
		role_a2977b26 -> role_c24a3ff4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_fff4cb9d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_5e5f5cd8 [label="[role] Gather network and host facts for guest" color="#1482b8" id=role_5e5f5cd8 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_53d52fca [label="[role] Prepare services if needed" color="#1482b8" id=role_53d52fca tooltip="Prepare services if needed"]
		role_53d52fca -> role_a2977b26 [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_afbb30e0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_53d52fca -> role_5e5f5cd8 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_1aa5da47 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ab69e28e [label="[role] Create systemd service for podman container" color="#1482b8" id=role_ab69e28e tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_ce41eb65 [label="[role] Gather network and host facts for provision service" color="#1482b8" id=role_ce41eb65 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_74fb44f2 [label="[role] Setup the cluster provision container" color="#1482b8" id=role_74fb44f2 tooltip="Setup the cluster provision container"]
		role_74fb44f2 -> role_ab69e28e [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_8c7837b5 labeltooltip="1 " tooltip="1 "]
		role_74fb44f2 -> role_ce41eb65 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_7cae4716 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_beb96995 [label="[role] Delegate to the distro role to prepare the cluster" color="#1482b8" id=role_beb96995 tooltip="Delegate to the distro role to prepare the cluster"]
		role_beb96995 -> role_74fb44f2 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_33f252ba labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_4a76a9b4 [label="[role] task-prepare-cluster" color="#1482b8" id=role_4a76a9b4 tooltip="task-prepare-cluster"]
		role_4a76a9b4 -> role_53d52fca [label="1 [when: not services_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_490120b6 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_4a76a9b4 -> role_beb96995 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_3732f437 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6a277f14 [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_6a277f14 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_a0d4dccf [label="[role] Prepare environment if not prepared" color="#1482b8" id=role_a0d4dccf tooltip="Prepare environment if not prepared"]
		role_a0d4dccf -> role_6a277f14 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_4c470c5a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_98371b80 [label="[role] task-download-images" color="#1482b8" id=role_98371b80 tooltip="task-download-images"]
		role_98371b80 -> role_a0d4dccf [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_2cc6467b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0c2f8476 [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_0c2f8476 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_c8d90f65 [label="[role] Prepare environment if needed" color="#1482b8" id=role_c8d90f65 tooltip="Prepare environment if needed"]
		role_c8d90f65 -> role_0c2f8476 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_e34261d5 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_b4a050ea [label="[role] Gather network and host facts for guest" color="#1482b8" id=role_b4a050ea tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_0fcc788c [label="[role] Prepare services if needed" color="#1482b8" id=role_0fcc788c tooltip="Prepare services if needed"]
		role_0fcc788c -> role_c8d90f65 [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_b57df6ad labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0fcc788c -> role_b4a050ea [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_df0e3225 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_7739637e [label="[role] Deploy the cluster bootstrap node" color="#1482b8" id=role_7739637e tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_7767545b [label="[role] Deploy the cluster controller nodes" color="#1482b8" id=role_7767545b tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_1c16f415 [label="[role] Deploy the cluster compute nodes" color="#1482b8" id=role_1c16f415 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_62d27316 [label="[role] Delegate to the distro role to deploy the cluster" color="#1482b8" id=role_62d27316 tooltip="Delegate to the distro role to deploy the cluster"]
		role_62d27316 -> role_7739637e [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_670439b4 labeltooltip="1 " tooltip="1 "]
		role_62d27316 -> role_7767545b [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_5aaebba8 labeltooltip="2 " tooltip="2 "]
		role_62d27316 -> role_1c16f415 [label="3 " color="#1482b8" fontcolor="#1482b8" id=edge_7e8fc6e3 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_97c26f51 [label="[role] task-deploy-cluster" color="#1482b8" id=role_97c26f51 tooltip="task-deploy-cluster"]
		role_97c26f51 -> role_0fcc788c [label="1 [when: not services_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_9162e307 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_97c26f51 -> role_62d27316 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_d972898e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b0bae0af [label="[role] Read podman secrets if running from the container" color="#1482b8" id=role_b0bae0af tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_b4ac1ce6 [label="[role] Prepare environment if needed" color="#1482b8" id=role_b4ac1ce6 tooltip="Prepare environment if needed"]
		role_b4ac1ce6 -> role_b0bae0af [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1482b8" fontcolor="#1482b8" id=edge_19b57aac labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_e23a45cb [label="[role] Gather network and host facts for guest" color="#1482b8" id=role_e23a45cb tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_cf24bdcd [label="[role] Prepare services if needed" color="#1482b8" id=role_cf24bdcd tooltip="Prepare services if needed"]
		role_cf24bdcd -> role_b4ac1ce6 [label="1 [when: not environment_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_7edffbfd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_cf24bdcd -> role_e23a45cb [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_b04eab8e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_b8aab602 [label="[role] Configure NFS" color="#1482b8" id=role_b8aab602 tooltip="Configure NFS"]
		task_f1f662fa [label="kubeinit.kubeinit.kubeinit_nfs : Install NFS packages" color="#1482b8" id=task_f1f662fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Install NFS packages"]
		role_b8aab602 -> task_f1f662fa [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_e567f41a labeltooltip="1 " tooltip="1 "]
		task_5859bc39 [label="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of CentOS based guests" color="#1482b8" id=task_5859bc39 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of CentOS based guests"]
		role_b8aab602 -> task_5859bc39 [label="2 [when: hostvars[kubeinit_deployment_node_name].os == 'centos']" color="#1482b8" fontcolor="#1482b8" id=edge_84d31dca labeltooltip="2 [when: hostvars[kubeinit_deployment_node_name].os == 'centos']" tooltip="2 [when: hostvars[kubeinit_deployment_node_name].os == 'centos']"]
		task_e6f68967 [label="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of Ubuntu based guests" color="#1482b8" id=task_e6f68967 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Configure NFS shares of Ubuntu based guests"]
		role_b8aab602 -> task_e6f68967 [label="3 [when: hostvars[kubeinit_deployment_node_name].os == 'ubuntu' or hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#1482b8" fontcolor="#1482b8" id=edge_07daa2c2 labeltooltip="3 [when: hostvars[kubeinit_deployment_node_name].os == 'ubuntu' or hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="3 [when: hostvars[kubeinit_deployment_node_name].os == 'ubuntu' or hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_bf211ef0 [label="kubeinit.kubeinit.kubeinit_nfs : Add nfs provisioning role" color="#1482b8" id=task_bf211ef0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Add nfs provisioning role"]
		role_b8aab602 -> task_bf211ef0 [label="4 " color="#1482b8" fontcolor="#1482b8" id=edge_7ea02feb labeltooltip="4 " tooltip="4 "]
		task_4a71e4c4 [label="kubeinit.kubeinit.kubeinit_nfs : Add nfs client provisioner deployment" color="#1482b8" id=task_4a71e4c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Add nfs client provisioner deployment"]
		role_b8aab602 -> task_4a71e4c4 [label="5 " color="#1482b8" fontcolor="#1482b8" id=edge_be2f7720 labeltooltip="5 " tooltip="5 "]
		task_3b01e397 [label="kubeinit.kubeinit.kubeinit_nfs : Add default nfs storage class" color="#1482b8" id=task_3b01e397 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nfs : Add default nfs storage class"]
		role_b8aab602 -> task_3b01e397 [label="6 " color="#1482b8" fontcolor="#1482b8" id=edge_152cef0b labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Deploy the apps" {
		role_5701d409 [label="[role] Deploy the apps" color="#1482b8" id=role_5701d409 tooltip="Deploy the apps"]
		task_3221e10c [label="kubeinit.kubeinit.kubeinit_apps : Create the sampleapp template file" color="#1482b8" id=task_3221e10c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Create the sampleapp template file"]
		role_5701d409 -> task_3221e10c [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_fdbec2d4 labeltooltip="1 " tooltip="1 "]
		task_a4d6c423 [label="kubeinit.kubeinit.kubeinit_apps : Install the sample app" color="#1482b8" id=task_a4d6c423 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Install the sample app"]
		role_5701d409 -> task_a4d6c423 [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_eee6a7f9 labeltooltip="2 " tooltip="2 "]
		task_25be63eb [label="kubeinit.kubeinit.kubeinit_apps : Wait until pods are created" color="#1482b8" id=task_25be63eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Wait until pods are created"]
		role_5701d409 -> task_25be63eb [label="3 " color="#1482b8" fontcolor="#1482b8" id=edge_bb223539 labeltooltip="3 " tooltip="3 "]
		task_182de4e9 [label="kubeinit.kubeinit.kubeinit_apps : Wait until pods are running" color="#1482b8" id=task_182de4e9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Wait until pods are running"]
		role_5701d409 -> task_182de4e9 [label="4 " color="#1482b8" fontcolor="#1482b8" id=edge_cd4e17af labeltooltip="4 " tooltip="4 "]
		task_eff4372a [label="kubeinit.kubeinit.kubeinit_apps : Delete the sampleapp" color="#1482b8" id=task_eff4372a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apps : Delete the sampleapp"]
		role_5701d409 -> task_eff4372a [label="5 " color="#1482b8" fontcolor="#1482b8" id=edge_2772f551 labeltooltip="5 " tooltip="5 "]
	}
	subgraph "Deploy KubeVirt" {
		role_7252948d [label="[role] Deploy KubeVirt" color="#1482b8" id=role_7252948d tooltip="Deploy KubeVirt"]
		task_1ebbb7cb [label="kubeinit.kubeinit.kubeinit_kubevirt : Install KubeVirt" color="#1482b8" id=task_1ebbb7cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kubevirt : Install KubeVirt"]
		role_7252948d -> task_1ebbb7cb [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_add3c1ba labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Deploy Submariner" {
		role_a5584ce6 [label="[role] Deploy Submariner" color="#1482b8" id=role_a5584ce6 tooltip="Deploy Submariner"]
		task_a89f139b [label="kubeinit.kubeinit.kubeinit_submariner : Remove repo file" color="#1482b8" id=task_a89f139b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Remove repo file"]
		role_a5584ce6 -> task_a89f139b [label="1 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_cd8a738c labeltooltip="1 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="1 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_8a7100f3 [label="kubeinit.kubeinit.kubeinit_submariner : Get submariner-operator repository content" color="#1482b8" id=task_8a7100f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get submariner-operator repository content"]
		role_a5584ce6 -> task_8a7100f3 [label="2 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_4212f8b0 labeltooltip="2 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="2 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_8ca23797 [label="kubeinit.kubeinit.kubeinit_submariner : Get the PR ID" color="#1482b8" id=task_8ca23797 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get the PR ID"]
		role_a5584ce6 -> task_8ca23797 [label="3 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_2ab7121f labeltooltip="3 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="3 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_71addf05 [label="kubeinit.kubeinit.kubeinit_submariner : Configure a variable with the PR ID" color="#1482b8" id=task_71addf05 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Configure a variable with the PR ID"]
		role_a5584ce6 -> task_71addf05 [label="4 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_2a02abcd labeltooltip="4 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="4 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_7083546d [label="kubeinit.kubeinit.kubeinit_submariner : Get submariner code based on a PR or from devel" color="#1482b8" id=task_7083546d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get submariner code based on a PR or from devel"]
		role_a5584ce6 -> task_7083546d [label="5 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_8b16373c labeltooltip="5 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="5 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_dec2c21f [label="kubeinit.kubeinit.kubeinit_submariner : Clean previous images" color="#1482b8" id=task_dec2c21f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Clean previous images"]
		role_a5584ce6 -> task_dec2c21f [label="6 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_1c3f1d7b labeltooltip="6 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="6 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_9ba00aa9 [label="kubeinit.kubeinit.kubeinit_submariner : Make clean" color="#1482b8" id=task_9ba00aa9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make clean"]
		role_a5584ce6 -> task_9ba00aa9 [label="7 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_2989bcde labeltooltip="7 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="7 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_41854f12 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary" color="#1482b8" id=task_41854f12 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary"]
		role_a5584ce6 -> task_41854f12 [label="8 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_d00eb894 labeltooltip="8 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="8 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_1f6598f2 [label="kubeinit.kubeinit.kubeinit_submariner : Make build" color="#1482b8" id=task_1f6598f2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make build"]
		role_a5584ce6 -> task_1f6598f2 [label="9 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_e5d389e4 labeltooltip="9 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="9 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_33de0349 [label="kubeinit.kubeinit.kubeinit_submariner : Make images" color="#1482b8" id=task_33de0349 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make images"]
		role_a5584ce6 -> task_33de0349 [label="10 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_124fc732 labeltooltip="10 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="10 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_45ce2f2e [label="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry" color="#1482b8" id=task_45ce2f2e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry"]
		role_a5584ce6 -> task_45ce2f2e [label="11 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_32bc10b2 labeltooltip="11 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="11 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_9cb7d403 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available" color="#1482b8" id=task_9cb7d403 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available"]
		role_a5584ce6 -> task_9cb7d403 [label="12 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_3be25183 labeltooltip="12 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="12 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_73c3fc30 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release" color="#1482b8" id=task_73c3fc30 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release"]
		role_a5584ce6 -> task_73c3fc30 [label="13 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_1ca8b126 labeltooltip="13 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="13 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_78b2ee47 [label="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists" color="#1482b8" id=task_78b2ee47 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists"]
		role_a5584ce6 -> task_78b2ee47 [label="14 " color="#1482b8" fontcolor="#1482b8" id=edge_6352781a labeltooltip="14 " tooltip="14 "]
		task_b99a771d [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile" color="#1482b8" id=task_b99a771d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile"]
		role_a5584ce6 -> task_b99a771d [label="15 [when: profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_4312da8e labeltooltip="15 [when: profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" tooltip="15 [when: profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]"]
		task_6c45d438 [label="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists" color="#1482b8" id=task_6c45d438 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists"]
		role_a5584ce6 -> task_6c45d438 [label="16 " color="#1482b8" fontcolor="#1482b8" id=edge_cfcc86af labeltooltip="16 " tooltip="16 "]
		task_0cc20324 [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile" color="#1482b8" id=task_0cc20324 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile"]
		role_a5584ce6 -> task_0cc20324 [label="17 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_550abe2d labeltooltip="17 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]" tooltip="17 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_broker|bool]"]
		task_2c227da7 [label="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists" color="#1482b8" id=task_2c227da7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists"]
		role_a5584ce6 -> task_2c227da7 [label="18 " color="#1482b8" fontcolor="#1482b8" id=edge_50a3de49 labeltooltip="18 " tooltip="18 "]
		task_4440083c [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc" color="#1482b8" id=task_4440083c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc"]
		role_a5584ce6 -> task_4440083c [label="19 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_39688b1f labeltooltip="19 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_broker|bool]" tooltip="19 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_broker|bool]"]
		task_ab33c45e [label="kubeinit.kubeinit.kubeinit_submariner : Configure broker cluster" color="#1482b8" id=task_ab33c45e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Configure broker cluster"]
		role_a5584ce6 -> task_ab33c45e [label="20 [when: kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_9ccfd405 labeltooltip="20 [when: kubeinit_submariner_is_broker|bool]" tooltip="20 [when: kubeinit_submariner_is_broker|bool]"]
		task_ab95e1e3 [label="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr" color="#1482b8" id=task_ab95e1e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr"]
		role_a5584ce6 -> task_ab95e1e3 [label="21 [when: kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_0255fd13 labeltooltip="21 [when: kubeinit_submariner_is_broker|bool]" tooltip="21 [when: kubeinit_submariner_is_broker|bool]"]
		task_4073e535 [label="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable" color="#1482b8" id=task_4073e535 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable"]
		role_a5584ce6 -> task_4073e535 [label="22 [when: kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_732f6fc7 labeltooltip="22 [when: kubeinit_submariner_is_broker|bool]" tooltip="22 [when: kubeinit_submariner_is_broker|bool]"]
		task_e9769d91 [label="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker overriding the images registry" color="#1482b8" id=task_e9769d91 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker overriding the images registry"]
		role_a5584ce6 -> task_e9769d91 [label="23 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_b3742759 labeltooltip="23 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="23 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_914b6747 [label="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker pulling from the default registry" color="#1482b8" id=task_914b6747 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join the main cluster to the broker pulling from the default registry"]
		role_a5584ce6 -> task_914b6747 [label="24 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_6479c571 labeltooltip="24 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="24 [when: kubeinit_submariner_is_broker|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_c9abf651 [label="kubeinit.kubeinit.kubeinit_submariner : Export the submariner images and the binary files" color="#1482b8" id=task_c9abf651 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Export the submariner images and the binary files"]
		role_a5584ce6 -> task_c9abf651 [label="25 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_1779a768 labeltooltip="25 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="25 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_19520ed2 [label="kubeinit.kubeinit.kubeinit_submariner : Copy the images and binaries to the hypervisor" color="#1482b8" id=task_19520ed2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the images and binaries to the hypervisor"]
		role_a5584ce6 -> task_19520ed2 [label="26 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_e6ae5c3f labeltooltip="26 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="26 [when: kubeinit_submariner_is_broker|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_1540f759 [label="kubeinit.kubeinit.kubeinit_submariner : Copy the broker-info.subm to the hypervisor" color="#1482b8" id=task_1540f759 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the broker-info.subm to the hypervisor"]
		role_a5584ce6 -> task_1540f759 [label="27 [when: kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_42651c8a labeltooltip="27 [when: kubeinit_submariner_is_broker|bool]" tooltip="27 [when: kubeinit_submariner_is_broker|bool]"]
		task_81377c36 [label="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor" color="#1482b8" id=task_81377c36 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor"]
		role_a5584ce6 -> task_81377c36 [label="28 [when: kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_b642b405 labeltooltip="28 [when: kubeinit_submariner_is_broker|bool]" tooltip="28 [when: kubeinit_submariner_is_broker|bool]"]
		task_c67bee94 [label="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes" color="#1482b8" id=task_c67bee94 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes"]
		role_a5584ce6 -> task_c67bee94 [label="29 [when: kubeinit_submariner_is_broker|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_4b4e0db8 labeltooltip="29 [when: kubeinit_submariner_is_broker|bool]" tooltip="29 [when: kubeinit_submariner_is_broker|bool]"]
		task_411639f5 [label="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor" color="#1482b8" id=task_411639f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copy the kubeconfig to the hypervisor"]
		role_a5584ce6 -> task_411639f5 [label="30 [when: kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_14cfc510 labeltooltip="30 [when: kubeinit_submariner_is_secondary|bool]" tooltip="30 [when: kubeinit_submariner_is_secondary|bool]"]
		task_4ca0ea7b [label="kubeinit.kubeinit.kubeinit_submariner : Copying the broker-info.subm, kubeconfig to the secondary cluster" color="#1482b8" id=task_4ca0ea7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copying the broker-info.subm, kubeconfig to the secondary cluster"]
		role_a5584ce6 -> task_4ca0ea7b [label="31 [when: kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_a5206980 labeltooltip="31 [when: kubeinit_submariner_is_secondary|bool]" tooltip="31 [when: kubeinit_submariner_is_secondary|bool]"]
		task_3f27a22b [label="kubeinit.kubeinit.kubeinit_submariner : Copying the images, and binaries to the secondary cluster" color="#1482b8" id=task_3f27a22b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Copying the images, and binaries to the secondary cluster"]
		role_a5584ce6 -> task_3f27a22b [label="32 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_e1d5ddff labeltooltip="32 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="32 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_6804a769 [label="kubeinit.kubeinit.kubeinit_submariner : Extract images and binaries" color="#1482b8" id=task_6804a769 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Extract images and binaries"]
		role_a5584ce6 -> task_6804a769 [label="33 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_e3ce6b8d labeltooltip="33 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="33 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_f4373875 [label="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry" color="#1482b8" id=task_f4373875 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Push the images to the local registry"]
		role_a5584ce6 -> task_f4373875 [label="34 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_23ac58ce labeltooltip="34 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="34 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_dea2ca26 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available" color="#1482b8" id=task_dea2ca26 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available"]
		role_a5584ce6 -> task_dea2ca26 [label="35 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_fdc0aff9 labeltooltip="35 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="35 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_9ddd7429 [label="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release" color="#1482b8" id=task_9ddd7429 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Make the subctl binary available from a stable release"]
		role_a5584ce6 -> task_9ddd7429 [label="36 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_2a94b170 labeltooltip="36 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="36 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_1d63139b [label="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists" color="#1482b8" id=task_1d63139b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if profile exists"]
		role_a5584ce6 -> task_1d63139b [label="37 " color="#1482b8" fontcolor="#1482b8" id=edge_58693224 labeltooltip="37 " tooltip="37 "]
		task_de6b78b9 [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile" color="#1482b8" id=task_de6b78b9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to profile"]
		role_a5584ce6 -> task_de6b78b9 [label="38 [when: profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_b032df54 labeltooltip="38 [when: profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" tooltip="38 [when: profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]"]
		task_c15d3b2c [label="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists" color="#1482b8" id=task_c15d3b2c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bash_profile exists"]
		role_a5584ce6 -> task_c15d3b2c [label="39 " color="#1482b8" fontcolor="#1482b8" id=edge_321c473b labeltooltip="39 " tooltip="39 "]
		task_803782a3 [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile" color="#1482b8" id=task_803782a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bash_profile"]
		role_a5584ce6 -> task_803782a3 [label="40 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_62c04b0e labeltooltip="40 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" tooltip="40 [when: bash_profile_exists.stat.exists and kubeinit_submariner_is_secondary|bool]"]
		task_27223cce [label="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists" color="#1482b8" id=task_27223cce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Check if bashrc exists"]
		role_a5584ce6 -> task_27223cce [label="41 " color="#1482b8" fontcolor="#1482b8" id=edge_f071fdba labeltooltip="41 " tooltip="41 "]
		task_ea7a0284 [label="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc" color="#1482b8" id=task_ea7a0284 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Append subctl path to bashrc"]
		role_a5584ce6 -> task_ea7a0284 [label="42 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_a0605b5e labeltooltip="42 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_secondary|bool]" tooltip="42 [when: bashrc_exists.stat.exists and kubeinit_submariner_is_secondary|bool]"]
		task_997fd6ae [label="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr" color="#1482b8" id=task_997fd6ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Get the service cidr"]
		role_a5584ce6 -> task_997fd6ae [label="43 [when: kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_0319a324 labeltooltip="43 [when: kubeinit_submariner_is_secondary|bool]" tooltip="43 [when: kubeinit_submariner_is_secondary|bool]"]
		task_62b77f98 [label="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable" color="#1482b8" id=task_62b77f98 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Set the cidr variable"]
		role_a5584ce6 -> task_62b77f98 [label="44 [when: kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_9b3567d5 labeltooltip="44 [when: kubeinit_submariner_is_secondary|bool]" tooltip="44 [when: kubeinit_submariner_is_secondary|bool]"]
		task_5008ca1f [label="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker overriding the images registry" color="#1482b8" id=task_5008ca1f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker overriding the images registry"]
		role_a5584ce6 -> task_5008ca1f [label="45 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_bb4a0e74 labeltooltip="45 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]" tooltip="45 [when: kubeinit_submariner_is_secondary|bool and not kubeinit_submariner_deploy_stable|bool]"]
		task_d8a52b0b [label="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker pulling from the default registry" color="#1482b8" id=task_d8a52b0b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Join secondary cluster to the broker pulling from the default registry"]
		role_a5584ce6 -> task_d8a52b0b [label="46 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_5e980c8e labeltooltip="46 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]" tooltip="46 [when: kubeinit_submariner_is_secondary|bool and kubeinit_submariner_deploy_stable|bool]"]
		task_58746580 [label="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes" color="#1482b8" id=task_58746580 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Tag the worker nodes"]
		role_a5584ce6 -> task_58746580 [label="47 [when: kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_b08f5ada labeltooltip="47 [when: kubeinit_submariner_is_secondary|bool]" tooltip="47 [when: kubeinit_submariner_is_secondary|bool]"]
		task_184d89e2 [label="kubeinit.kubeinit.kubeinit_submariner : Render the netshoot script" color="#1482b8" id=task_184d89e2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Render the netshoot script"]
		role_a5584ce6 -> task_184d89e2 [label="48 " color="#1482b8" fontcolor="#1482b8" id=edge_1c8d12da labeltooltip="48 " tooltip="48 "]
		task_89cdc8ef [label="kubeinit.kubeinit.kubeinit_submariner : Sleep for 60 seconds until the cluster converges" color="#1482b8" id=task_89cdc8ef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_submariner : Sleep for 60 seconds until the cluster converges"]
		role_a5584ce6 -> task_89cdc8ef [label="49 [when: kubeinit_submariner_subctl_verify_pre_sleep|bool and kubeinit_submariner_is_secondary|bool]" color="#1482b8" fontcolor="#1482b8" id=edge_7902b8f1 labeltooltip="49 [when: kubeinit_submariner_subctl_verify_pre_sleep|bool and kubeinit_submariner_is_secondary|bool]" tooltip="49 [when: kubeinit_submariner_subctl_verify_pre_sleep|bool and kubeinit_submariner_is_secondary|bool]"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_45ff10ce [label="[role] Delegate to distro role to run post-deployment tasks" color="#1482b8" id=role_45ff10ce tooltip="Delegate to distro role to run post-deployment tasks"]
		role_45ff10ce -> role_b8aab602 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#1482b8" fontcolor="#1482b8" id=edge_6961e371 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_65a5159b [label="kubeinit.kubeinit.kubeinit_okd : Add security context constraint for nfs provisioner" color="#1482b8" id=task_65a5159b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Add security context constraint for nfs provisioner"]
		role_45ff10ce -> task_65a5159b [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#1482b8" fontcolor="#1482b8" id=edge_f4f18b02 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_178644d9 [label="kubeinit.kubeinit.kubeinit_okd : Apply nfs security policy to nfs user" color="#1482b8" id=task_178644d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Apply nfs security policy to nfs user"]
		role_45ff10ce -> task_178644d9 [label="3 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#1482b8" fontcolor="#1482b8" id=edge_7fa46103 labeltooltip="3 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="3 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_b8eddba7 [label="kubeinit.kubeinit.kubeinit_okd : Wait for the image registry operator to start its components" color="#1482b8" id=task_b8eddba7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Wait for the image registry operator to start its components"]
		role_45ff10ce -> task_b8eddba7 [label="4 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#1482b8" fontcolor="#1482b8" id=edge_5874ad54 labeltooltip="4 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="4 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_e044c54d [label="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to claim storage" color="#1482b8" id=task_e044c54d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to claim storage"]
		role_45ff10ce -> task_e044c54d [label="5 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#1482b8" fontcolor="#1482b8" id=edge_032c9ec1 labeltooltip="5 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="5 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		task_7f98ecf1 [label="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to move to Managed state" color="#1482b8" id=task_7f98ecf1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Patch imageregistry operator to move to Managed state"]
		role_45ff10ce -> task_7f98ecf1 [label="6 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#1482b8" fontcolor="#1482b8" id=edge_2fe7aa2a labeltooltip="6 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="6 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_45ff10ce -> role_5701d409 [label="7 " color="#1482b8" fontcolor="#1482b8" id=edge_d383fe64 labeltooltip="7 " tooltip="7 "]
		role_45ff10ce -> role_7252948d [label="8 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#1482b8" fontcolor="#1482b8" id=edge_dcf15d82 labeltooltip="8 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="8 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_45ff10ce -> role_a5584ce6 [label="9 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#1482b8" fontcolor="#1482b8" id=edge_7c2f3cc5 labeltooltip="9 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="9 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_1313f76e [label="[role] task-post-deployment" color="#1482b8" id=role_1313f76e tooltip="task-post-deployment"]
		role_1313f76e -> role_cf24bdcd [label="1 [when: not services_prepared]" color="#1482b8" fontcolor="#1482b8" id=edge_7472bb7a labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_1313f76e -> role_45ff10ce [label="2 " color="#1482b8" fontcolor="#1482b8" id=edge_e70aafe7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_0c858d7d -> block_e8f377f0 [label=1 color="#1482b8" fontcolor="#1482b8" id=edge_3eb61c53 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e8f377f0 {
			block_e8f377f0 [label="[block] Prepare the environment" color="#1482b8" id=block_e8f377f0 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_e8f377f0 -> role_b879215e [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_38009d1b labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_0269e470 [label=2 color="#1482b8" fontcolor="#1482b8" id=edge_fbb04194 labeltooltip=2 tooltip=2]
		subgraph cluster_block_0269e470 {
			block_0269e470 [label="[block] Cleanup hypervisors" color="#1482b8" id=block_0269e470 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_0269e470 -> role_173a6ba1 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_1a678ed3 labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_078574f4 [label=3 color="#1482b8" fontcolor="#1482b8" id=edge_b0c9ec2a labeltooltip=3 tooltip=3]
		subgraph cluster_block_078574f4 {
			block_078574f4 [label="[block] Run validations on cluster resources" color="#1482b8" id=block_078574f4 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_078574f4 -> role_527fa22d [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_c1124742 labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_f99ad738 [label=4 color="#1482b8" fontcolor="#1482b8" id=edge_7f223352 labeltooltip=4 tooltip=4]
		subgraph cluster_block_f99ad738 {
			block_f99ad738 [label="[block] Create the cluster network resources" color="#1482b8" id=block_f99ad738 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_f99ad738 -> role_d535551d [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_29430ae7 labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_37a65551 [label=5 color="#1482b8" fontcolor="#1482b8" id=edge_b90ab160 labeltooltip=5 tooltip=5]
		subgraph cluster_block_37a65551 {
			block_37a65551 [label="[block] Create services the cluster will need" color="#1482b8" id=block_37a65551 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_37a65551 -> role_24aa21e8 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_eb756cd5 labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_caf4344f [label=6 color="#1482b8" fontcolor="#1482b8" id=edge_ec0a93ba labeltooltip=6 tooltip=6]
		subgraph cluster_block_caf4344f {
			block_caf4344f [label="[block] Prepare to deploy the cluster" color="#1482b8" id=block_caf4344f labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_caf4344f -> role_4a76a9b4 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_0b3e57a6 labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_dc86d08e [label=7 color="#1482b8" fontcolor="#1482b8" id=edge_b404bf7f labeltooltip=7 tooltip=7]
		subgraph cluster_block_dc86d08e {
			block_dc86d08e [label="[block] Download cloud images" color="#1482b8" id=block_dc86d08e labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_dc86d08e -> role_98371b80 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_7220ae68 labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_baebadba [label=8 color="#1482b8" fontcolor="#1482b8" id=edge_e169b2c1 labeltooltip=8 tooltip=8]
		subgraph cluster_block_baebadba {
			block_baebadba [label="[block] Deploy the cluster" color="#1482b8" id=block_baebadba labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_baebadba -> role_97c26f51 [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_29ad6111 labeltooltip="1 " tooltip="1 "]
		}
		play_0c858d7d -> block_90ecef37 [label=9 color="#1482b8" fontcolor="#1482b8" id=edge_8e9bf27b labeltooltip=9 tooltip=9]
		subgraph cluster_block_90ecef37 {
			block_90ecef37 [label="[block] Run any post-deployment tasks" color="#1482b8" id=block_90ecef37 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_90ecef37 -> role_1313f76e [label="1 " color="#1482b8" fontcolor="#1482b8" id=edge_577a8e40 labeltooltip="1 " tooltip="1 "]
		}
	}
}
