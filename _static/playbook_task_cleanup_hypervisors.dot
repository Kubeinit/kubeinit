digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_b4d1f7c7 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#77c804" fontcolor="#ffffff" id=play_b4d1f7c7 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_b4d1f7c7 [label="1 " color="#77c804" fontcolor="#77c804" id=edge_e3a97fc1 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_b4a37601 [label="[role] Gather kubeinit secrets" color="#77c804" id=role_b4a37601 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_70bc7503 [label="[role] Gather additional facts from localhost for kubeinit" color="#77c804" id=role_70bc7503 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_71e953fa [label="[role] Create ssh config file from template" color="#77c804" id=role_71e953fa tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_876f9a69 [label="[role] task-gather-facts" color="#77c804" id=role_876f9a69 tooltip="task-gather-facts"]
		role_876f9a69 -> role_b4a37601 [label="1 " color="#77c804" fontcolor="#77c804" id=edge_db72af12 labeltooltip="1 " tooltip="1 "]
		role_876f9a69 -> role_70bc7503 [label="2 " color="#77c804" fontcolor="#77c804" id=edge_d9f2a40e labeltooltip="2 " tooltip="2 "]
		role_876f9a69 -> role_71e953fa [label="3 " color="#77c804" fontcolor="#77c804" id=edge_1ca10ab5 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_7f72e3ae [label="[role] Gather kubeinit secrets" color="#77c804" id=role_7f72e3ae tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6953376c [label="[role] Gather additional facts from localhost for kubeinit" color="#77c804" id=role_6953376c tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_40df52b2 [label="[role] Create ssh config file from template" color="#77c804" id=role_40df52b2 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_ddca82fe [label="[role] task-prepare-hypervisors" color="#77c804" id=role_ddca82fe tooltip="task-prepare-hypervisors"]
		role_ddca82fe -> role_7f72e3ae [label="1 " color="#77c804" fontcolor="#77c804" id=edge_642d3381 labeltooltip="1 " tooltip="1 "]
		role_ddca82fe -> role_6953376c [label="2 " color="#77c804" fontcolor="#77c804" id=edge_d81d53aa labeltooltip="2 " tooltip="2 "]
		role_ddca82fe -> role_40df52b2 [label="3 " color="#77c804" fontcolor="#77c804" id=edge_45700de7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_b4d1f7c7 -> block_44d8a8be [label=1 color="#77c804" fontcolor="#77c804" id=edge_234fddfa labeltooltip=1 tooltip=1]
		subgraph cluster_block_44d8a8be {
			block_44d8a8be [label="[block] Gather facts about the deployment environment" color="#77c804" id=block_44d8a8be labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_44d8a8be -> role_876f9a69 [label="1 " color="#77c804" fontcolor="#77c804" id=edge_e4873ce6 labeltooltip="1 " tooltip="1 "]
		}
		play_b4d1f7c7 -> block_dc12b090 [label=2 color="#77c804" fontcolor="#77c804" id=edge_73d179f3 labeltooltip=2 tooltip=2]
		subgraph cluster_block_dc12b090 {
			block_dc12b090 [label="[block] Prepare the hypervisors" color="#77c804" id=block_dc12b090 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_dc12b090 -> role_ddca82fe [label="1 " color="#77c804" fontcolor="#77c804" id=edge_ef431061 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_b715cd19 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#a42897" fontcolor="#ffffff" id=play_b715cd19 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_b715cd19 [label="2 " color="#a42897" fontcolor="#a42897" id=edge_e9f08d83 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_16a0d4d2 [label="[role] Provision the libvirt services on the hypervisor" color="#a42897" id=role_16a0d4d2 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_ac63bc14 [label="[role] Prepare each hypervisor in the deployment" color="#a42897" id=role_ac63bc14 tooltip="Prepare each hypervisor in the deployment"]
		role_ac63bc14 -> role_16a0d4d2 [label="1 " color="#a42897" fontcolor="#a42897" id=edge_9dc67de7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_b715cd19 -> block_644e31f8 [label=1 color="#a42897" fontcolor="#a42897" id=edge_95b15d5d labeltooltip=1 tooltip=1]
		subgraph cluster_block_644e31f8 {
			block_644e31f8 [label="[block] Prepare individual hypervisors" color="#a42897" id=block_644e31f8 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_644e31f8 -> role_ac63bc14 [label="1 " color="#a42897" fontcolor="#a42897" id=edge_ce119b8f labeltooltip="1 " tooltip="1 "]
		}
	}
	play_6c179852 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#4d1eae" fontcolor="#ffffff" id=play_6c179852 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_6c179852 [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_a1cddc5c labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_10a60bd1 [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_10a60bd1 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ebbaf9e9 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_ebbaf9e9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_aea5f61c [label="[role] Create ssh config file from template" color="#4d1eae" id=role_aea5f61c tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_0f4a1460 [label="[role] task-prepare-environment" color="#4d1eae" id=role_0f4a1460 tooltip="task-prepare-environment"]
		role_0f4a1460 -> role_10a60bd1 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_9e7bc783 labeltooltip="1 " tooltip="1 "]
		role_0f4a1460 -> role_ebbaf9e9 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_97488317 labeltooltip="2 " tooltip="2 "]
		role_0f4a1460 -> role_aea5f61c [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_6512bfdd labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_955b4af4 [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_955b4af4 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_99123e62 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_99123e62 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_478028e8 [label="[role] Create ssh config file from template" color="#4d1eae" id=role_478028e8 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2892f6a5 [label="[role] Prepare environment if not prepared" color="#4d1eae" id=role_2892f6a5 tooltip="Prepare environment if not prepared"]
		role_2892f6a5 -> role_955b4af4 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_5bb5b05b labeltooltip="1 " tooltip="1 "]
		role_2892f6a5 -> role_99123e62 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_edba218c labeltooltip="2 " tooltip="2 "]
		role_2892f6a5 -> role_478028e8 [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_06c9b347 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_63bbf7a5 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#4d1eae" id=role_63bbf7a5 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
		task_b0482958 [label="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt VMs" color="#4d1eae" id=task_b0482958 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt VMs"]
		role_63bbf7a5 -> task_b0482958 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_4c8f5940 labeltooltip="1 " tooltip="1 "]
		task_80ffc41b [label="kubeinit.kubeinit.kubeinit_libvirt : Collect all of the hypervisor running vms into hv/vm tuples" color="#4d1eae" id=task_80ffc41b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Collect all of the hypervisor running vms into hv/vm tuples"]
		role_63bbf7a5 -> task_80ffc41b [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_943c0cf6 labeltooltip="2 " tooltip="2 "]
		task_14a3cc90 [label="kubeinit.kubeinit.kubeinit_libvirt : Generate a list of vm guest names to match" color="#4d1eae" id=task_14a3cc90 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Generate a list of vm guest names to match"]
		role_63bbf7a5 -> task_14a3cc90 [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_9d191f9d labeltooltip="3 " tooltip="3 "]
		task_2e571a5f [label="kubeinit.kubeinit.kubeinit_libvirt : Destroy vms" color="#4d1eae" id=task_2e571a5f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Destroy vms"]
		role_63bbf7a5 -> task_2e571a5f [label="4 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" color="#4d1eae" fontcolor="#4d1eae" id=edge_70b1932d labeltooltip="4 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" tooltip="4 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]"]
		task_eca3a46e [label="kubeinit.kubeinit.kubeinit_libvirt : Undefine vms" color="#4d1eae" id=task_eca3a46e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Undefine vms"]
		role_63bbf7a5 -> task_eca3a46e [label="5 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" color="#4d1eae" fontcolor="#4d1eae" id=edge_16a2245a labeltooltip="5 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" tooltip="5 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]"]
		task_b4383282 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove VMs storage" color="#4d1eae" id=task_b4383282 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove VMs storage"]
		role_63bbf7a5 -> task_b4383282 [label="6 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" color="#4d1eae" fontcolor="#4d1eae" id=edge_e82ab646 labeltooltip="6 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" tooltip="6 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]"]
		task_d1096507 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean directories for config files per node" color="#4d1eae" id=task_d1096507 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean directories for config files per node"]
		role_63bbf7a5 -> task_d1096507 [label="7 " color="#4d1eae" fontcolor="#4d1eae" id=edge_334e1bdf labeltooltip="7 " tooltip="7 "]
		task_1bd828ac [label="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt networks" color="#4d1eae" id=task_1bd828ac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt networks"]
		role_63bbf7a5 -> task_1bd828ac [label="8 " color="#4d1eae" fontcolor="#4d1eae" id=edge_c4b7ce3f labeltooltip="8 " tooltip="8 "]
		task_892d62d0 [label="kubeinit.kubeinit.kubeinit_libvirt : Destroy deployment networks" color="#4d1eae" id=task_892d62d0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Destroy deployment networks"]
		role_63bbf7a5 -> task_892d62d0 [label="9 [when: kubeinit_cluster_network_name in result.list_nets]" color="#4d1eae" fontcolor="#4d1eae" id=edge_7764d33a labeltooltip="9 [when: kubeinit_cluster_network_name in result.list_nets]" tooltip="9 [when: kubeinit_cluster_network_name in result.list_nets]"]
		task_35ccfa1f [label="kubeinit.kubeinit.kubeinit_libvirt : Undefine deployment networks" color="#4d1eae" id=task_35ccfa1f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Undefine deployment networks"]
		role_63bbf7a5 -> task_35ccfa1f [label="10 [when: kubeinit_cluster_network_name in result.list_nets]" color="#4d1eae" fontcolor="#4d1eae" id=edge_86b6fd35 labeltooltip="10 [when: kubeinit_cluster_network_name in result.list_nets]" tooltip="10 [when: kubeinit_cluster_network_name in result.list_nets]"]
		task_be26f850 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove the deployment networks" color="#4d1eae" id=task_be26f850 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove the deployment networks"]
		role_63bbf7a5 -> task_be26f850 [label="11 [when: kubeinit_cluster_network_name in result.list_nets]" color="#4d1eae" fontcolor="#4d1eae" id=edge_6f1c9675 labeltooltip="11 [when: kubeinit_cluster_network_name in result.list_nets]" tooltip="11 [when: kubeinit_cluster_network_name in result.list_nets]"]
		task_80aa7afd [label="kubeinit.kubeinit.kubeinit_libvirt : Default is to remove the OVN network if it is no longer in use" color="#4d1eae" id=task_80aa7afd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Default is to remove the OVN network if it is no longer in use"]
		role_63bbf7a5 -> task_80aa7afd [label="12 " color="#4d1eae" fontcolor="#4d1eae" id=edge_8a9e2abb labeltooltip="12 " tooltip="12 "]
		task_b7197d28 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove route for cluster network via br-ex" color="#4d1eae" id=task_b7197d28 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove route for cluster network via br-ex"]
		role_63bbf7a5 -> task_b7197d28 [label="13 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#4d1eae" fontcolor="#4d1eae" id=edge_f7a1db9b labeltooltip="13 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="13 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
		task_f6a84e8c [label="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router port of the logical switch for this cluster" color="#4d1eae" id=task_f6a84e8c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router port of the logical switch for this cluster"]
		role_63bbf7a5 -> task_f6a84e8c [label="14 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#4d1eae" fontcolor="#4d1eae" id=edge_91ba6d0e labeltooltip="14 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="14 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
		task_e0ed01e3 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove switch for this cluster" color="#4d1eae" id=task_e0ed01e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove switch for this cluster"]
		role_63bbf7a5 -> task_e0ed01e3 [label="15 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#4d1eae" fontcolor="#4d1eae" id=edge_27388c67 labeltooltip="15 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="15 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
		task_d0a395fa [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" color="#4d1eae" id=task_d0a395fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
		role_63bbf7a5 -> task_d0a395fa [label="16 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#4d1eae" fontcolor="#4d1eae" id=edge_b2cb4baf labeltooltip="16 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="16 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
		task_a274fd2c [label="kubeinit.kubeinit.kubeinit_libvirt : See if any other networks are routing via br-ex" color="#4d1eae" id=task_a274fd2c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : See if any other networks are routing via br-ex"]
		role_63bbf7a5 -> task_a274fd2c [label="17 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#4d1eae" fontcolor="#4d1eae" id=edge_46c74027 labeltooltip="17 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="17 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
		task_a29a3950 [label="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks" color="#4d1eae" id=task_a29a3950 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks"]
		role_63bbf7a5 -> task_a29a3950 [label="18 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" color="#4d1eae" fontcolor="#4d1eae" id=edge_82c2a553 labeltooltip="18 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" tooltip="18 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]"]
		task_2efb57a1 [label="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches have ports on lr0" color="#4d1eae" id=task_2efb57a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches have ports on lr0"]
		role_63bbf7a5 -> task_2efb57a1 [label="19 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#4d1eae" fontcolor="#4d1eae" id=edge_0b9ac47c labeltooltip="19 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="19 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
		task_0d92ec9a [label="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks" color="#4d1eae" id=task_0d92ec9a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks"]
		role_63bbf7a5 -> task_0d92ec9a [label="20 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" color="#4d1eae" fontcolor="#4d1eae" id=edge_2eb6990c labeltooltip="20 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" tooltip="20 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]"]
		task_4b6d8b72 [label="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches are defined" color="#4d1eae" id=task_4b6d8b72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches are defined"]
		role_63bbf7a5 -> task_4b6d8b72 [label="21 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#4d1eae" fontcolor="#4d1eae" id=edge_93c6859d labeltooltip="21 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="21 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
		task_02fb3eee [label="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks" color="#4d1eae" id=task_02fb3eee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks"]
		role_63bbf7a5 -> task_02fb3eee [label="22 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" color="#4d1eae" fontcolor="#4d1eae" id=edge_492a25af labeltooltip="22 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" tooltip="22 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]"]
		task_fe640cdd [label="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router if tearing down OVN network" color="#4d1eae" id=task_fe640cdd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router if tearing down OVN network"]
		role_63bbf7a5 -> task_fe640cdd [label="23 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" color="#4d1eae" fontcolor="#4d1eae" id=edge_8a73f736 labeltooltip="23 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="23 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]"]
		task_2900ba8b [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (public)" color="#4d1eae" id=task_2900ba8b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (public)"]
		role_63bbf7a5 -> task_2900ba8b [label="24 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" color="#4d1eae" fontcolor="#4d1eae" id=edge_a071505e labeltooltip="24 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="24 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]"]
		task_d66d5d76 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-int)" color="#4d1eae" id=task_d66d5d76 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-int)"]
		role_63bbf7a5 -> task_d66d5d76 [label="25 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#4d1eae" fontcolor="#4d1eae" id=edge_e3c97f64 labeltooltip="25 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="25 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
		task_925527eb [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-ex)" color="#4d1eae" id=task_925527eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-ex)"]
		role_63bbf7a5 -> task_925527eb [label="26 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#4d1eae" fontcolor="#4d1eae" id=edge_7f73e354 labeltooltip="26 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="26 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
		task_c0156397 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (genev_sys_6081)" color="#4d1eae" id=task_c0156397 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (genev_sys_6081)"]
		role_63bbf7a5 -> task_c0156397 [label="27 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#4d1eae" fontcolor="#4d1eae" id=edge_3c14c221 labeltooltip="27 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="27 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
		task_fcc4375f [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (ovs-system)" color="#4d1eae" id=task_fcc4375f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (ovs-system)"]
		role_63bbf7a5 -> task_fcc4375f [label="28 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#4d1eae" fontcolor="#4d1eae" id=edge_7f4e6865 labeltooltip="28 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="28 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
		task_e55dcfb5 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (CentOS based)" color="#4d1eae" id=task_e55dcfb5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (CentOS based)"]
		role_63bbf7a5 -> task_e55dcfb5 [label="29 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" color="#4d1eae" fontcolor="#4d1eae" id=edge_dd0ddf70 labeltooltip="29 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" tooltip="29 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]"]
		task_2cb7f131 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (CentOS based)" color="#4d1eae" id=task_2cb7f131 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (CentOS based)"]
		role_63bbf7a5 -> task_2cb7f131 [label="30 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" color="#4d1eae" fontcolor="#4d1eae" id=edge_68bbd87c labeltooltip="30 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" tooltip="30 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]"]
		task_b1853395 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (Ubuntu based)" color="#4d1eae" id=task_b1853395 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (Ubuntu based)"]
		role_63bbf7a5 -> task_b1853395 [label="31 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" color="#4d1eae" fontcolor="#4d1eae" id=edge_9cb021d7 labeltooltip="31 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" tooltip="31 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]"]
		task_eea7cb58 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (Ubuntu based)" color="#4d1eae" id=task_eea7cb58 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (Ubuntu based)"]
		role_63bbf7a5 -> task_eea7cb58 [label="32 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" color="#4d1eae" fontcolor="#4d1eae" id=edge_4a7c4ccd labeltooltip="32 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" tooltip="32 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]"]
		task_2c80566c [label="kubeinit.kubeinit.kubeinit_libvirt : Delete existing OVS/OVN files" color="#4d1eae" id=task_2c80566c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Delete existing OVS/OVN files"]
		role_63bbf7a5 -> task_2c80566c [label="33 [when: kubeinit_destroy_ovn_network]" color="#4d1eae" fontcolor="#4d1eae" id=edge_6e2a544e labeltooltip="33 [when: kubeinit_destroy_ovn_network]" tooltip="33 [when: kubeinit_destroy_ovn_network]"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_f29b28be [label="[role] task-cleanup-hypervisors" color="#4d1eae" id=role_f29b28be tooltip="task-cleanup-hypervisors"]
		role_f29b28be -> role_2892f6a5 [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_e35f3477 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		task_3aa28c81 [label="kubeinit.kubeinit.kubeinit_prepare : Get list of existing remote system connection definitions" color="#4d1eae" id=task_3aa28c81 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Get list of existing remote system connection definitions"]
		role_f29b28be -> task_3aa28c81 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_9f2db07f labeltooltip="2 " tooltip="2 "]
		task_f30828e1 [label="kubeinit.kubeinit.kubeinit_prepare : Reset local ssh keys" color="#4d1eae" id=task_f30828e1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Reset local ssh keys"]
		role_f29b28be -> task_f30828e1 [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_c5763fee labeltooltip="3 " tooltip="3 "]
		task_475ca105 [label="kubeinit.kubeinit.kubeinit_prepare : Reset ssh keys in hypervisors" color="#4d1eae" id=task_475ca105 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Reset ssh keys in hypervisors"]
		role_f29b28be -> task_475ca105 [label="4 " color="#4d1eae" fontcolor="#4d1eae" id=edge_7d847bb7 labeltooltip="4 " tooltip="4 "]
		task_71c8ff69 [label="kubeinit.kubeinit.kubeinit_prepare : Remove any existing ssh tunnels on bastion host" color="#4d1eae" id=task_71c8ff69 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove any existing ssh tunnels on bastion host"]
		role_f29b28be -> task_71c8ff69 [label="5 " color="#4d1eae" fontcolor="#4d1eae" id=edge_28a1fce8 labeltooltip="5 " tooltip="5 "]
		task_52b42c2a [label="kubeinit.kubeinit.kubeinit_prepare : Find any service pods from previous deployments" color="#4d1eae" id=task_52b42c2a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Find any service pods from previous deployments"]
		role_f29b28be -> task_52b42c2a [label="6 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#4d1eae" fontcolor="#4d1eae" id=edge_118da186 labeltooltip="6 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="6 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
		task_fae0c5e3 [label="kubeinit.kubeinit.kubeinit_prepare : Set facts about those pods" color="#4d1eae" id=task_fae0c5e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set facts about those pods"]
		role_f29b28be -> task_fae0c5e3 [label="7 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#4d1eae" fontcolor="#4d1eae" id=edge_e4a447ba labeltooltip="7 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="7 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
		task_a5b044a3 [label="kubeinit.kubeinit.kubeinit_prepare : Set facts about pods for this cluster" color="#4d1eae" id=task_a5b044a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set facts about pods for this cluster"]
		role_f29b28be -> task_a5b044a3 [label="8 [when: pod_name == pod.Name]" color="#4d1eae" fontcolor="#4d1eae" id=edge_826df2c2 labeltooltip="8 [when: pod_name == pod.Name]" tooltip="8 [when: pod_name == pod.Name]"]
		task_de5122fe [label="kubeinit.kubeinit.kubeinit_prepare : Get info from orphaned cluster pod infra containers" color="#4d1eae" id=task_de5122fe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Get info from orphaned cluster pod infra containers"]
		role_f29b28be -> task_de5122fe [label="9 [when: orphaned_cluster_pods is defined]" color="#4d1eae" fontcolor="#4d1eae" id=edge_8c84723f labeltooltip="9 [when: orphaned_cluster_pods is defined]" tooltip="9 [when: orphaned_cluster_pods is defined]"]
		task_10b41c89 [label="kubeinit.kubeinit.kubeinit_prepare : Set facts about container netns" color="#4d1eae" id=task_10b41c89 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set facts about container netns"]
		role_f29b28be -> task_10b41c89 [label="10 [when: orphaned_cluster_pods is defined]" color="#4d1eae" fontcolor="#4d1eae" id=edge_45e20ce7 labeltooltip="10 [when: orphaned_cluster_pods is defined]" tooltip="10 [when: orphaned_cluster_pods is defined]"]
		task_200916fc [label="kubeinit.kubeinit.kubeinit_prepare : Find any pod networks from previous deployments" color="#4d1eae" id=task_200916fc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Find any pod networks from previous deployments"]
		role_f29b28be -> task_200916fc [label="11 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#4d1eae" fontcolor="#4d1eae" id=edge_363bc94b labeltooltip="11 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="11 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
		task_54db09fa [label="kubeinit.kubeinit.kubeinit_prepare : Set facts about those pod networks" color="#4d1eae" id=task_54db09fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set facts about those pod networks"]
		role_f29b28be -> task_54db09fa [label="12 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#4d1eae" fontcolor="#4d1eae" id=edge_bdd8ca27 labeltooltip="12 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="12 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
		task_49eac505 [label="kubeinit.kubeinit.kubeinit_prepare : Set facts about pod networks for this cluster" color="#4d1eae" id=task_49eac505 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set facts about pod networks for this cluster"]
		role_f29b28be -> task_49eac505 [label="13 [when: bridge_name == network.name]" color="#4d1eae" fontcolor="#4d1eae" id=edge_4b6dbb3d labeltooltip="13 [when: bridge_name == network.name]" tooltip="13 [when: bridge_name == network.name]"]
		task_fd482c12 [label="kubeinit.kubeinit.kubeinit_prepare : Stop and disable user services" color="#4d1eae" id=task_fd482c12 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Stop and disable user services"]
		role_f29b28be -> task_fd482c12 [label="14 " color="#4d1eae" fontcolor="#4d1eae" id=edge_4c0d4135 labeltooltip="14 " tooltip="14 "]
		task_e31c275e [label="kubeinit.kubeinit.kubeinit_prepare : Remove any previous services podman pods" color="#4d1eae" id=task_e31c275e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove any previous services podman pods"]
		role_f29b28be -> task_e31c275e [label="15 [when: orphaned_cluster_pods is defined]" color="#4d1eae" fontcolor="#4d1eae" id=edge_93c663c3 labeltooltip="15 [when: orphaned_cluster_pods is defined]" tooltip="15 [when: orphaned_cluster_pods is defined]"]
		task_12350ede [label="kubeinit.kubeinit.kubeinit_prepare : Remove any previous kubeinit podman network" color="#4d1eae" id=task_12350ede shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove any previous kubeinit podman network"]
		role_f29b28be -> task_12350ede [label="16 [when: orphaned_cluster_pod_nets is defined]" color="#4d1eae" fontcolor="#4d1eae" id=edge_fc82bbfa labeltooltip="16 [when: orphaned_cluster_pod_nets is defined]" tooltip="16 [when: orphaned_cluster_pod_nets is defined]"]
		task_d2b0ed49 [label="kubeinit.kubeinit.kubeinit_prepare : Remove netns for cluster pods" color="#4d1eae" id=task_d2b0ed49 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove netns for cluster pods"]
		role_f29b28be -> task_d2b0ed49 [label="17 [when: infra_container_sandbox_keys is defined]" color="#4d1eae" fontcolor="#4d1eae" id=edge_201bcee7 labeltooltip="17 [when: infra_container_sandbox_keys is defined]" tooltip="17 [when: infra_container_sandbox_keys is defined]"]
		task_82e607d2 [label="kubeinit.kubeinit.kubeinit_prepare : Find any podman volumes from previous deployments" color="#4d1eae" id=task_82e607d2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Find any podman volumes from previous deployments"]
		role_f29b28be -> task_82e607d2 [label="18 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#4d1eae" fontcolor="#4d1eae" id=edge_a0641361 labeltooltip="18 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="18 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
		task_57839c27 [label="kubeinit.kubeinit.kubeinit_prepare : Set facts about those podman volumes" color="#4d1eae" id=task_57839c27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set facts about those podman volumes"]
		role_f29b28be -> task_57839c27 [label="19 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#4d1eae" fontcolor="#4d1eae" id=edge_77ed64bb labeltooltip="19 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="19 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
		task_48e0891a [label="kubeinit.kubeinit.kubeinit_prepare : Set facts about podman volumes for this cluster" color="#4d1eae" id=task_48e0891a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set facts about podman volumes for this cluster"]
		role_f29b28be -> task_48e0891a [label="20 [when: volume.Name is match(cluster_pattern)]" color="#4d1eae" fontcolor="#4d1eae" id=edge_ada74a9f labeltooltip="20 [when: volume.Name is match(cluster_pattern)]" tooltip="20 [when: volume.Name is match(cluster_pattern)]"]
		task_28d654cd [label="kubeinit.kubeinit.kubeinit_prepare : Remove any previous kubeinit podman volumes" color="#4d1eae" id=task_28d654cd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove any previous kubeinit podman volumes"]
		role_f29b28be -> task_28d654cd [label="21 [when: orphaned_cluster_pod_vols is defined]" color="#4d1eae" fontcolor="#4d1eae" id=edge_ba30c7ee labeltooltip="21 [when: orphaned_cluster_pod_vols is defined]" tooltip="21 [when: orphaned_cluster_pod_vols is defined]"]
		task_7acefe16 [label="kubeinit.kubeinit.kubeinit_prepare : Remove any previous kubeinit buildah containers" color="#4d1eae" id=task_7acefe16 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove any previous kubeinit buildah containers"]
		role_f29b28be -> task_7acefe16 [label="22 " color="#4d1eae" fontcolor="#4d1eae" id=edge_877cedf0 labeltooltip="22 " tooltip="22 "]
		task_58c528d0 [label="kubeinit.kubeinit.kubeinit_prepare : Prune container images created for the cluster" color="#4d1eae" id=task_58c528d0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Prune container images created for the cluster"]
		role_f29b28be -> task_58c528d0 [label="23 " color="#4d1eae" fontcolor="#4d1eae" id=edge_50d0b018 labeltooltip="23 " tooltip="23 "]
		task_f1b5a1c4 [label="kubeinit.kubeinit.kubeinit_prepare : Remove any previous veth dev" color="#4d1eae" id=task_f1b5a1c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove any previous veth dev"]
		role_f29b28be -> task_f1b5a1c4 [label="24 " color="#4d1eae" fontcolor="#4d1eae" id=edge_0f91859d labeltooltip="24 " tooltip="24 "]
		task_c43dd3e3 [label="kubeinit.kubeinit.kubeinit_prepare : Remove any previous cluster network endpoint from the openvswitch bridge" color="#4d1eae" id=task_c43dd3e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Remove any previous cluster network endpoint from the openvswitch bridge"]
		role_f29b28be -> task_c43dd3e3 [label="25 " color="#4d1eae" fontcolor="#4d1eae" id=edge_6276629d labeltooltip="25 " tooltip="25 "]
		role_f29b28be -> role_63bbf7a5 [label="26 " color="#4d1eae" fontcolor="#4d1eae" id=edge_10fed719 labeltooltip="26 " tooltip="26 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6ff4ff10 [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_6ff4ff10 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_f0aa6c3d [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_f0aa6c3d tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_8a0eb52a [label="[role] Create ssh config file from template" color="#4d1eae" id=role_8a0eb52a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_cbd634ff [label="[role] Prepare environment if not prepared" color="#4d1eae" id=role_cbd634ff tooltip="Prepare environment if not prepared"]
		role_cbd634ff -> role_6ff4ff10 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_1ad4dc52 labeltooltip="1 " tooltip="1 "]
		role_cbd634ff -> role_f0aa6c3d [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_b36978ca labeltooltip="2 " tooltip="2 "]
		role_cbd634ff -> role_8a0eb52a [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_82ce12e9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_3bfd13db [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#4d1eae" id=role_3bfd13db tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3b3e54b2 [label="[role] Cleanup hypervisors if needed" color="#4d1eae" id=role_3b3e54b2 tooltip="Cleanup hypervisors if needed"]
		role_3b3e54b2 -> role_cbd634ff [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_16fb436e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3b3e54b2 -> role_3bfd13db [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_8c18bbd9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_270b190c [label="[role] task-run-validations" color="#4d1eae" id=role_270b190c tooltip="task-run-validations"]
		role_270b190c -> role_3b3e54b2 [label="1 [when: not hypervisors_cleaned]" color="#4d1eae" fontcolor="#4d1eae" id=edge_fed94c4c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_81217c1e [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_81217c1e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7ddf1eb0 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_7ddf1eb0 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_8fff8589 [label="[role] Create ssh config file from template" color="#4d1eae" id=role_8fff8589 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_69cc4df3 [label="[role] Prepare environment if not prepared" color="#4d1eae" id=role_69cc4df3 tooltip="Prepare environment if not prepared"]
		role_69cc4df3 -> role_81217c1e [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_684fa6c5 labeltooltip="1 " tooltip="1 "]
		role_69cc4df3 -> role_7ddf1eb0 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_0c774398 labeltooltip="2 " tooltip="2 "]
		role_69cc4df3 -> role_8fff8589 [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_8b415acb labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_0bde361f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#4d1eae" id=role_0bde361f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_4651c187 [label="[role] Cleanup hypervisors if needed" color="#4d1eae" id=role_4651c187 tooltip="Cleanup hypervisors if needed"]
		role_4651c187 -> role_69cc4df3 [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_74dc310d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4651c187 -> role_0bde361f [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_60ed5722 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_1b210c0b [label="[role] task-create-network" color="#4d1eae" id=role_1b210c0b tooltip="task-create-network"]
		role_1b210c0b -> role_4651c187 [label="1 [when: not hypervisors_cleaned]" color="#4d1eae" fontcolor="#4d1eae" id=edge_50f81fea labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_dece6635 [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_dece6635 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_1bb74538 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_1bb74538 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_0948633e [label="[role] Create ssh config file from template" color="#4d1eae" id=role_0948633e tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d39b51e9 [label="[role] Prepare environment if not prepared" color="#4d1eae" id=role_d39b51e9 tooltip="Prepare environment if not prepared"]
		role_d39b51e9 -> role_dece6635 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_9d0ceab4 labeltooltip="1 " tooltip="1 "]
		role_d39b51e9 -> role_1bb74538 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_ba3f7b80 labeltooltip="2 " tooltip="2 "]
		role_d39b51e9 -> role_0948633e [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_cba65961 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_04376480 [label="[role] Prepare podman" color="#4d1eae" id=role_04376480 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_8fe1500a [label="[role] Create systemd service for podman container" color="#4d1eae" id=role_8fe1500a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_eea37ed6 [label="[role] Configure Bind" color="#4d1eae" id=role_eea37ed6 tooltip="Configure Bind"]
		role_eea37ed6 -> role_8fe1500a [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_5af57d64 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_93d86af9 [label="[role] Create systemd service for podman container" color="#4d1eae" id=role_93d86af9 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_cfa45942 [label="[role] Configure Dnsmasq" color="#4d1eae" id=role_cfa45942 tooltip="Configure Dnsmasq"]
		role_cfa45942 -> role_93d86af9 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_24dd8d2c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ae1fd3e5 [label="[role] Create systemd service for podman container" color="#4d1eae" id=role_ae1fd3e5 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_a00c405f [label="[role] Configure HAProxy" color="#4d1eae" id=role_a00c405f tooltip="Configure HAProxy"]
		role_a00c405f -> role_ae1fd3e5 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_939f44d3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4852bc3d [label="[role] Create systemd service for podman container" color="#4d1eae" id=role_4852bc3d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_98550478 [label="[role] Configure Nexus" color="#4d1eae" id=role_98550478 tooltip="Configure Nexus"]
		role_98550478 -> role_4852bc3d [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_672e7e3f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6c29135c [label="[role] Create systemd service for podman container" color="#4d1eae" id=role_6c29135c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_45a5b2d3 [label="[role] Configure Apache" color="#4d1eae" id=role_45a5b2d3 tooltip="Configure Apache"]
		role_45a5b2d3 -> role_6c29135c [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_1697455c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_b46a36ca [label="[role] Create systemd service for podman container" color="#4d1eae" id=role_b46a36ca tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_75a2cb7c [label="[role] Configure a local container image registry" color="#4d1eae" id=role_75a2cb7c tooltip="Configure a local container image registry"]
		role_75a2cb7c -> role_b46a36ca [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_489c3e25 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_3023122a [label="[role] task-create-services" color="#4d1eae" id=role_3023122a tooltip="task-create-services"]
		role_3023122a -> role_d39b51e9 [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_3ad0792c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3023122a -> role_04376480 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_154c7266 labeltooltip="2 " tooltip="2 "]
		role_3023122a -> role_eea37ed6 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#4d1eae" fontcolor="#4d1eae" id=edge_2688bdad labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3023122a -> role_cfa45942 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#4d1eae" fontcolor="#4d1eae" id=edge_4e0bec9e labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3023122a -> role_a00c405f [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#4d1eae" fontcolor="#4d1eae" id=edge_5c3509eb labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3023122a -> role_98550478 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#4d1eae" fontcolor="#4d1eae" id=edge_370835d2 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3023122a -> role_45a5b2d3 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#4d1eae" fontcolor="#4d1eae" id=edge_f41bfb0d labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3023122a -> role_75a2cb7c [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#4d1eae" fontcolor="#4d1eae" id=edge_a4aa372e labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_27cc27d9 [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_27cc27d9 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_d4586780 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_d4586780 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2ab4b56a [label="[role] Create ssh config file from template" color="#4d1eae" id=role_2ab4b56a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_32f57093 [label="[role] Prepare environment if needed" color="#4d1eae" id=role_32f57093 tooltip="Prepare environment if needed"]
		role_32f57093 -> role_27cc27d9 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_1aa5174c labeltooltip="1 " tooltip="1 "]
		role_32f57093 -> role_d4586780 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_38bd0954 labeltooltip="2 " tooltip="2 "]
		role_32f57093 -> role_2ab4b56a [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_6f1aba28 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_6dc861a5 [label="[role] Gather network and host facts for guest" color="#4d1eae" id=role_6dc861a5 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_44986103 [label="[role] Prepare services if needed" color="#4d1eae" id=role_44986103 tooltip="Prepare services if needed"]
		role_44986103 -> role_32f57093 [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_fbbbe873 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_44986103 -> role_6dc861a5 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_92b573f0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e8bf27b9 [label="[role] Create systemd service for podman container" color="#4d1eae" id=role_e8bf27b9 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_bdb3b7d7 [label="[role] Gather network and host facts for provision service" color="#4d1eae" id=role_bdb3b7d7 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_014d8089 [label="[role] Setup the cluster provision container" color="#4d1eae" id=role_014d8089 tooltip="Setup the cluster provision container"]
		role_014d8089 -> role_e8bf27b9 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_ee1a47ef labeltooltip="1 " tooltip="1 "]
		role_014d8089 -> role_bdb3b7d7 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_e92290ad labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_28b4a17e [label="[role] Delegate to the distro role to prepare the cluster" color="#4d1eae" id=role_28b4a17e tooltip="Delegate to the distro role to prepare the cluster"]
		role_28b4a17e -> role_014d8089 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_dfed98f3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_ab9b21f7 [label="[role] task-prepare-cluster" color="#4d1eae" id=role_ab9b21f7 tooltip="task-prepare-cluster"]
		role_ab9b21f7 -> role_44986103 [label="1 [when: not services_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_8c7f4e08 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_ab9b21f7 -> role_28b4a17e [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_139abd27 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_5f6a768a [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_5f6a768a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a584a902 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_a584a902 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_46d375d5 [label="[role] Create ssh config file from template" color="#4d1eae" id=role_46d375d5 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b8e66fca [label="[role] Prepare environment if not prepared" color="#4d1eae" id=role_b8e66fca tooltip="Prepare environment if not prepared"]
		role_b8e66fca -> role_5f6a768a [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_2464f244 labeltooltip="1 " tooltip="1 "]
		role_b8e66fca -> role_a584a902 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_df201114 labeltooltip="2 " tooltip="2 "]
		role_b8e66fca -> role_46d375d5 [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_ec417656 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_5c297ef1 [label="[role] task-download-images" color="#4d1eae" id=role_5c297ef1 tooltip="task-download-images"]
		role_5c297ef1 -> role_b8e66fca [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_37ba44c5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_2de7b7e2 [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_2de7b7e2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6e1a7728 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_6e1a7728 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_10ff2cde [label="[role] Create ssh config file from template" color="#4d1eae" id=role_10ff2cde tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_56b974d6 [label="[role] Prepare environment if needed" color="#4d1eae" id=role_56b974d6 tooltip="Prepare environment if needed"]
		role_56b974d6 -> role_2de7b7e2 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_b052b193 labeltooltip="1 " tooltip="1 "]
		role_56b974d6 -> role_6e1a7728 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_c45ac32a labeltooltip="2 " tooltip="2 "]
		role_56b974d6 -> role_10ff2cde [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_b635da8a labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_bc8f0b05 [label="[role] Gather network and host facts for guest" color="#4d1eae" id=role_bc8f0b05 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_0ca033c6 [label="[role] Prepare services if needed" color="#4d1eae" id=role_0ca033c6 tooltip="Prepare services if needed"]
		role_0ca033c6 -> role_56b974d6 [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_4a7aa451 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0ca033c6 -> role_bc8f0b05 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_6f054e6e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_1a1ff76f [label="[role] Deploy the cluster bootstrap node" color="#4d1eae" id=role_1a1ff76f tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_16e025ff [label="[role] Deploy the cluster controller nodes" color="#4d1eae" id=role_16e025ff tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_2ff84696 [label="[role] Deploy the cluster compute nodes" color="#4d1eae" id=role_2ff84696 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_7ac4b2b8 [label="[role] Delegate to the distro role to deploy the cluster" color="#4d1eae" id=role_7ac4b2b8 tooltip="Delegate to the distro role to deploy the cluster"]
		role_7ac4b2b8 -> role_1a1ff76f [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_109521bf labeltooltip="1 " tooltip="1 "]
		role_7ac4b2b8 -> role_16e025ff [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_0a57119c labeltooltip="2 " tooltip="2 "]
		role_7ac4b2b8 -> role_2ff84696 [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_a2f059c6 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_73a5cb2c [label="[role] task-deploy-cluster" color="#4d1eae" id=role_73a5cb2c tooltip="task-deploy-cluster"]
		role_73a5cb2c -> role_0ca033c6 [label="1 [when: not services_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_19d8fbda labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_73a5cb2c -> role_7ac4b2b8 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_333a44d0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_68ca2d27 [label="[role] Gather kubeinit secrets" color="#4d1eae" id=role_68ca2d27 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7f354966 [label="[role] Gather additional facts from localhost for kubeinit" color="#4d1eae" id=role_7f354966 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_63eac86f [label="[role] Create ssh config file from template" color="#4d1eae" id=role_63eac86f tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_f4505747 [label="[role] Prepare environment if needed" color="#4d1eae" id=role_f4505747 tooltip="Prepare environment if needed"]
		role_f4505747 -> role_68ca2d27 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_2968672d labeltooltip="1 " tooltip="1 "]
		role_f4505747 -> role_7f354966 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_9f316bb1 labeltooltip="2 " tooltip="2 "]
		role_f4505747 -> role_63eac86f [label="3 " color="#4d1eae" fontcolor="#4d1eae" id=edge_872d07f4 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_3318958c [label="[role] Gather network and host facts for guest" color="#4d1eae" id=role_3318958c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_2608dfba [label="[role] Prepare services if needed" color="#4d1eae" id=role_2608dfba tooltip="Prepare services if needed"]
		role_2608dfba -> role_f4505747 [label="1 [when: not environment_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_ed2346ee labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2608dfba -> role_3318958c [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_8d251383 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_60d24647 [label="[role] Configure NFS" color="#4d1eae" id=role_60d24647 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_0c1aed43 [label="[role] Deploy the apps" color="#4d1eae" id=role_0c1aed43 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_14770204 [label="[role] Deploy KubeVirt" color="#4d1eae" id=role_14770204 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_bc33f054 [label="[role] Deploy Submariner" color="#4d1eae" id=role_bc33f054 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_48870f02 [label="[role] Delegate to distro role to run post-deployment tasks" color="#4d1eae" id=role_48870f02 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_48870f02 -> role_60d24647 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#4d1eae" fontcolor="#4d1eae" id=edge_93e0cc86 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_48870f02 -> role_0c1aed43 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_7d73d6b7 labeltooltip="2 " tooltip="2 "]
		role_48870f02 -> role_14770204 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#4d1eae" fontcolor="#4d1eae" id=edge_4e2c5eca labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_48870f02 -> role_bc33f054 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#4d1eae" fontcolor="#4d1eae" id=edge_363c64fb labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_6f2406b1 [label="[role] task-post-deployment" color="#4d1eae" id=role_6f2406b1 tooltip="task-post-deployment"]
		role_6f2406b1 -> role_2608dfba [label="1 [when: not services_prepared]" color="#4d1eae" fontcolor="#4d1eae" id=edge_c88998f3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_6f2406b1 -> role_48870f02 [label="2 " color="#4d1eae" fontcolor="#4d1eae" id=edge_b4a30c9f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_6c179852 -> block_5f4a02a3 [label=1 color="#4d1eae" fontcolor="#4d1eae" id=edge_741763f7 labeltooltip=1 tooltip=1]
		subgraph cluster_block_5f4a02a3 {
			block_5f4a02a3 [label="[block] Prepare the environment" color="#4d1eae" id=block_5f4a02a3 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_5f4a02a3 -> role_0f4a1460 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_8f5ace60 labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_56a324e9 [label=2 color="#4d1eae" fontcolor="#4d1eae" id=edge_9287d906 labeltooltip=2 tooltip=2]
		subgraph cluster_block_56a324e9 {
			block_56a324e9 [label="[block] Cleanup hypervisors" color="#4d1eae" id=block_56a324e9 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_56a324e9 -> role_f29b28be [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_2d2d7125 labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_25facb9a [label=3 color="#4d1eae" fontcolor="#4d1eae" id=edge_f54e95f8 labeltooltip=3 tooltip=3]
		subgraph cluster_block_25facb9a {
			block_25facb9a [label="[block] Run validations on cluster resources" color="#4d1eae" id=block_25facb9a labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_25facb9a -> role_270b190c [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_0ef23b99 labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_bdeb50ed [label=4 color="#4d1eae" fontcolor="#4d1eae" id=edge_d30f4b6e labeltooltip=4 tooltip=4]
		subgraph cluster_block_bdeb50ed {
			block_bdeb50ed [label="[block] Create the cluster network resources" color="#4d1eae" id=block_bdeb50ed labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_bdeb50ed -> role_1b210c0b [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_efe2d195 labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_7cbe9778 [label=5 color="#4d1eae" fontcolor="#4d1eae" id=edge_b2433e83 labeltooltip=5 tooltip=5]
		subgraph cluster_block_7cbe9778 {
			block_7cbe9778 [label="[block] Create services the cluster will need" color="#4d1eae" id=block_7cbe9778 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_7cbe9778 -> role_3023122a [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_fb145dcd labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_3f577a43 [label=6 color="#4d1eae" fontcolor="#4d1eae" id=edge_5ccac3a6 labeltooltip=6 tooltip=6]
		subgraph cluster_block_3f577a43 {
			block_3f577a43 [label="[block] Prepare to deploy the cluster" color="#4d1eae" id=block_3f577a43 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_3f577a43 -> role_ab9b21f7 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_9025fd32 labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_309a6371 [label=7 color="#4d1eae" fontcolor="#4d1eae" id=edge_57c62a91 labeltooltip=7 tooltip=7]
		subgraph cluster_block_309a6371 {
			block_309a6371 [label="[block] Download cloud images" color="#4d1eae" id=block_309a6371 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_309a6371 -> role_5c297ef1 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_d81fcda7 labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_f1c55d6c [label=8 color="#4d1eae" fontcolor="#4d1eae" id=edge_4c267657 labeltooltip=8 tooltip=8]
		subgraph cluster_block_f1c55d6c {
			block_f1c55d6c [label="[block] Deploy the cluster" color="#4d1eae" id=block_f1c55d6c labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_f1c55d6c -> role_73a5cb2c [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_ba072d72 labeltooltip="1 " tooltip="1 "]
		}
		play_6c179852 -> block_e856ecc7 [label=9 color="#4d1eae" fontcolor="#4d1eae" id=edge_3b7d6d6a labeltooltip=9 tooltip=9]
		subgraph cluster_block_e856ecc7 {
			block_e856ecc7 [label="[block] Run any post-deployment tasks" color="#4d1eae" id=block_e856ecc7 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_e856ecc7 -> role_6f2406b1 [label="1 " color="#4d1eae" fontcolor="#4d1eae" id=edge_41a0475c labeltooltip="1 " tooltip="1 "]
		}
	}
}
