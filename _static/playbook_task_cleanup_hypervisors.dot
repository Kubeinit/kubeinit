digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_8eec3db0 style=dotted]
	"kubeinit/playbook.yml" -> play_3db1188c [label="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#9906c6" fontcolor="#9906c6" id=edge_play_3db1188c labeltooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" tooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)"]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_3db1188c [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9906c6" fontcolor="#ffffff" id=play_3db1188c shape=box style=filled tooltip=localhost]
		play_3db1188c -> block_507d25c6 [label=1 color="#9906c6" fontcolor="#9906c6" id=edge_block_507d25c6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_507d25c6 {
			block_507d25c6 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9906c6" id=block_507d25c6 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_507d25c6 -> role_ed973fcf [label="1 " color="#9906c6" fontcolor="#9906c6" id=edge_role_ed973fcf labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_ed973fcf [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9906c6" id=role_ed973fcf tooltip="task-gather-facts"]
				role_ed973fcf -> role_7fb118f9 [label="1 " color="#9906c6" fontcolor="#9906c6" id=edge_role_7fb118f9 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_7fb118f9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#9906c6" id=role_7fb118f9 tooltip="Gather kubeinit secrets"]
				}
				role_ed973fcf -> role_4c21c9e1 [label="2 " color="#9906c6" fontcolor="#9906c6" id=edge_role_4c21c9e1 labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_4c21c9e1 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#9906c6" id=role_4c21c9e1 tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_ed973fcf -> role_f5f6f04b [label="3 " color="#9906c6" fontcolor="#9906c6" id=edge_role_f5f6f04b labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_f5f6f04b [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#9906c6" id=role_f5f6f04b tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_48ba0aba [label="2 Play: Gather facts from the cluster hypervisor hosts (0)" color="#953597" fontcolor="#953597" id=edge_play_48ba0aba labeltooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)" tooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)"]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_48ba0aba [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#953597" fontcolor="#ffffff" id=play_48ba0aba shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_48ba0aba -> block_7031e267 [label=1 color="#953597" fontcolor="#953597" id=edge_block_7031e267 labeltooltip=1 tooltip=1]
		subgraph cluster_block_7031e267 {
			block_7031e267 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#953597" id=block_7031e267 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_7031e267 -> role_9ff2d695 [label="1 " color="#953597" fontcolor="#953597" id=edge_role_9ff2d695 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_9ff2d695 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#953597" id=role_9ff2d695 tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_b2858d4c [label="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" color="#92403a" fontcolor="#92403a" id=edge_play_b2858d4c labeltooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" tooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)"]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_b2858d4c [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#92403a" fontcolor="#ffffff" id=play_b2858d4c shape=box style=filled tooltip=localhost]
		play_b2858d4c -> block_4ef09951 [label=1 color="#92403a" fontcolor="#92403a" id=edge_block_4ef09951 labeltooltip=1 tooltip=1]
		subgraph cluster_block_4ef09951 {
			block_4ef09951 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#92403a" id=block_4ef09951 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_4ef09951 -> role_cc510a64 [label="1 " color="#92403a" fontcolor="#92403a" id=edge_role_cc510a64 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_cc510a64 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#92403a" id=role_cc510a64 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_cc510a64 -> role_99e02925 [label="1 " color="#92403a" fontcolor="#92403a" id=edge_role_99e02925 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_99e02925 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#92403a" id=role_99e02925 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_b2858d4c -> block_0476d228 [label=2 color="#92403a" fontcolor="#92403a" id=edge_block_0476d228 labeltooltip=2 tooltip=2]
		subgraph cluster_block_0476d228 {
			block_0476d228 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#92403a" id=block_0476d228 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_0476d228 -> role_83cf90be [label="1 " color="#92403a" fontcolor="#92403a" id=edge_role_83cf90be labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_83cf90be [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#92403a" id=role_83cf90be tooltip="task-prepare-hypervisors"]
				role_83cf90be -> role_ffa9065b [label="1 " color="#92403a" fontcolor="#92403a" id=edge_role_ffa9065b labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_ffa9065b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#92403a" id=role_ffa9065b tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_5cf64c8d [label="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" color="#a12b8c" fontcolor="#a12b8c" id=edge_play_5cf64c8d labeltooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" tooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
	subgraph "Play: Prepare the infrastructure to deploy service and cluster nodes (0)" {
		play_5cf64c8d [label="Play: Prepare the infrastructure to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a12b8c" fontcolor="#ffffff" id=play_5cf64c8d shape=box style=filled tooltip="Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
		play_5cf64c8d -> block_79c801df [label=1 color="#a12b8c" fontcolor="#a12b8c" id=edge_block_79c801df labeltooltip=1 tooltip=1]
		subgraph cluster_block_79c801df {
			block_79c801df [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a12b8c" id=block_79c801df labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_79c801df -> role_8f552869 [label="1 " color="#a12b8c" fontcolor="#a12b8c" id=edge_role_8f552869 labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_8f552869 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a12b8c" id=role_8f552869 tooltip="Prepare each hypervisor in the deployment"]
				role_8f552869 -> role_5fc8251e [label="1 " color="#a12b8c" fontcolor="#a12b8c" id=edge_role_5fc8251e labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_5fc8251e [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#a12b8c" id=role_5fc8251e tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_816c0725 [label="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" color="#03c97f" fontcolor="#03c97f" id=edge_play_816c0725 labeltooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" tooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)"]
	subgraph "Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" {
		play_816c0725 [label="Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" fontcolor="#ffffff" id=play_816c0725 shape=box style=filled tooltip=localhost]
		play_816c0725 -> block_1bf5e662 [label=1 color="#03c97f" fontcolor="#03c97f" id=edge_block_1bf5e662 labeltooltip=1 tooltip=1]
		subgraph cluster_block_1bf5e662 {
			block_1bf5e662 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_1bf5e662 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_1bf5e662 -> role_acbc10f1 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_acbc10f1 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_acbc10f1 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_acbc10f1 tooltip="task-prepare-environment"]
				role_acbc10f1 -> role_a473dcad [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_a473dcad labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_a473dcad [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_a473dcad tooltip="Gather kubeinit secrets"]
				}
				role_acbc10f1 -> role_d7e79c20 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_d7e79c20 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				subgraph "Gather facts from bastion_host if needed" {
					role_d7e79c20 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_d7e79c20 tooltip="Gather facts from bastion_host if needed"]
				}
			}
		}
		play_816c0725 -> block_4a415908 [label=2 color="#03c97f" fontcolor="#03c97f" id=edge_block_4a415908 labeltooltip=2 tooltip=2]
		subgraph cluster_block_4a415908 {
			block_4a415908 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_4a415908 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_4a415908 -> role_2665f166 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_2665f166 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_2665f166 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_2665f166 tooltip="task-cleanup-hypervisors"]
				role_2665f166 -> role_c48ac874 [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_c48ac874 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c48ac874 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=role_c48ac874 tooltip="Prepare environment if not prepared"]
					role_c48ac874 -> role_6d69e3f4 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_6d69e3f4 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_6d69e3f4 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_6d69e3f4 tooltip="Gather kubeinit secrets"]
					}
					role_c48ac874 -> role_c5c27c22 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_c5c27c22 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_c5c27c22 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_c5c27c22 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				task_46262958 [label="kubeinit.kubeinit.kubeinit_libvirt : Get list of existing remote system connection definitions" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_46262958 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Get list of existing remote system connection definitions"]
				role_2665f166 -> task_46262958 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_task_46262958 labeltooltip="2 " tooltip="2 "]
				task_971c7033 [label="kubeinit.kubeinit.kubeinit_libvirt : Reset local ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_971c7033 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reset local ssh keys"]
				role_2665f166 -> task_971c7033 [label="3 " color="#03c97f" fontcolor="#03c97f" id=edge_task_971c7033 labeltooltip="3 " tooltip="3 "]
				task_ad949ce9 [label="kubeinit.kubeinit.kubeinit_libvirt : Reset ssh keys in hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_ad949ce9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reset ssh keys in hypervisors"]
				role_2665f166 -> task_ad949ce9 [label="4 " color="#03c97f" fontcolor="#03c97f" id=edge_task_ad949ce9 labeltooltip="4 " tooltip="4 "]
				task_f698f4ae [label="kubeinit.kubeinit.kubeinit_libvirt : Remove any existing ssh tunnels on bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_f698f4ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove any existing ssh tunnels on bastion host"]
				role_2665f166 -> task_f698f4ae [label="5 " color="#03c97f" fontcolor="#03c97f" id=edge_task_f698f4ae labeltooltip="5 " tooltip="5 "]
				task_5d002455 [label="kubeinit.kubeinit.kubeinit_libvirt : Find any service pods from previous deployments" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_5d002455 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Find any service pods from previous deployments"]
				role_2665f166 -> task_5d002455 [label="6 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#03c97f" fontcolor="#03c97f" id=edge_task_5d002455 labeltooltip="6 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="6 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
				task_ef6e1235 [label="kubeinit.kubeinit.kubeinit_libvirt : Set facts about those pods" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_ef6e1235 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set facts about those pods"]
				role_2665f166 -> task_ef6e1235 [label="7 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#03c97f" fontcolor="#03c97f" id=edge_task_ef6e1235 labeltooltip="7 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="7 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
				task_7e18227e [label="kubeinit.kubeinit.kubeinit_libvirt : Set facts about pods for this cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_7e18227e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set facts about pods for this cluster"]
				role_2665f166 -> task_7e18227e [label="8 [when: pod_name == pod.Name]" color="#03c97f" fontcolor="#03c97f" id=edge_task_7e18227e labeltooltip="8 [when: pod_name == pod.Name]" tooltip="8 [when: pod_name == pod.Name]"]
				task_abe43d7e [label="kubeinit.kubeinit.kubeinit_libvirt : Get info from orphaned cluster pod infra containers" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_abe43d7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Get info from orphaned cluster pod infra containers"]
				role_2665f166 -> task_abe43d7e [label="9 [when: orphaned_cluster_pods is defined]" color="#03c97f" fontcolor="#03c97f" id=edge_task_abe43d7e labeltooltip="9 [when: orphaned_cluster_pods is defined]" tooltip="9 [when: orphaned_cluster_pods is defined]"]
				task_a1d1b8b9 [label="kubeinit.kubeinit.kubeinit_libvirt : Set facts about container netns" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_a1d1b8b9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set facts about container netns"]
				role_2665f166 -> task_a1d1b8b9 [label="10 [when: orphaned_cluster_pods is defined]" color="#03c97f" fontcolor="#03c97f" id=edge_task_a1d1b8b9 labeltooltip="10 [when: orphaned_cluster_pods is defined]" tooltip="10 [when: orphaned_cluster_pods is defined]"]
				task_cf2a7235 [label="kubeinit.kubeinit.kubeinit_libvirt : Find any pod networks from previous deployments" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_cf2a7235 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Find any pod networks from previous deployments"]
				role_2665f166 -> task_cf2a7235 [label="11 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#03c97f" fontcolor="#03c97f" id=edge_task_cf2a7235 labeltooltip="11 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="11 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
				task_6b2e7874 [label="kubeinit.kubeinit.kubeinit_libvirt : Set facts about those pod networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_6b2e7874 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set facts about those pod networks"]
				role_2665f166 -> task_6b2e7874 [label="12 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#03c97f" fontcolor="#03c97f" id=edge_task_6b2e7874 labeltooltip="12 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="12 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
				task_75c2c11b [label="kubeinit.kubeinit.kubeinit_libvirt : Set facts about pod networks for this cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_75c2c11b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set facts about pod networks for this cluster"]
				role_2665f166 -> task_75c2c11b [label="13 [when: bridge_name == network.name]" color="#03c97f" fontcolor="#03c97f" id=edge_task_75c2c11b labeltooltip="13 [when: bridge_name == network.name]" tooltip="13 [when: bridge_name == network.name]"]
				task_9efe99d7 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable user services" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_9efe99d7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable user services"]
				role_2665f166 -> task_9efe99d7 [label="14 " color="#03c97f" fontcolor="#03c97f" id=edge_task_9efe99d7 labeltooltip="14 " tooltip="14 "]
				task_6934f1cb [label="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous services podman pods" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_6934f1cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous services podman pods"]
				role_2665f166 -> task_6934f1cb [label="15 [when: orphaned_cluster_pods is defined]" color="#03c97f" fontcolor="#03c97f" id=edge_task_6934f1cb labeltooltip="15 [when: orphaned_cluster_pods is defined]" tooltip="15 [when: orphaned_cluster_pods is defined]"]
				task_962179d3 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous kubeinit podman network" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_962179d3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous kubeinit podman network"]
				role_2665f166 -> task_962179d3 [label="16 [when: orphaned_cluster_pod_nets is defined]" color="#03c97f" fontcolor="#03c97f" id=edge_task_962179d3 labeltooltip="16 [when: orphaned_cluster_pod_nets is defined]" tooltip="16 [when: orphaned_cluster_pod_nets is defined]"]
				task_e3f7080f [label="kubeinit.kubeinit.kubeinit_libvirt : Remove netns for cluster pods" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_e3f7080f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove netns for cluster pods"]
				role_2665f166 -> task_e3f7080f [label="17 [when: infra_container_sandbox_keys is defined]" color="#03c97f" fontcolor="#03c97f" id=edge_task_e3f7080f labeltooltip="17 [when: infra_container_sandbox_keys is defined]" tooltip="17 [when: infra_container_sandbox_keys is defined]"]
				task_bdd76a1f [label="kubeinit.kubeinit.kubeinit_libvirt : Find any podman volumes from previous deployments" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_bdd76a1f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Find any podman volumes from previous deployments"]
				role_2665f166 -> task_bdd76a1f [label="18 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#03c97f" fontcolor="#03c97f" id=edge_task_bdd76a1f labeltooltip="18 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="18 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
				task_5c49918a [label="kubeinit.kubeinit.kubeinit_libvirt : Set facts about those podman volumes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_5c49918a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set facts about those podman volumes"]
				role_2665f166 -> task_5c49918a [label="19 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" color="#03c97f" fontcolor="#03c97f" id=edge_task_5c49918a labeltooltip="19 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]" tooltip="19 [when: hostvars[kubeinit_deployment_node_name].podman_is_installed is defined and hostvars[kubeinit_deployment_node_name].podman_is_installed]"]
				task_c5a67729 [label="kubeinit.kubeinit.kubeinit_libvirt : Set facts about podman volumes for this cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_c5a67729 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set facts about podman volumes for this cluster"]
				role_2665f166 -> task_c5a67729 [label="20 [when: volume.Name is match(cluster_pattern)]" color="#03c97f" fontcolor="#03c97f" id=edge_task_c5a67729 labeltooltip="20 [when: volume.Name is match(cluster_pattern)]" tooltip="20 [when: volume.Name is match(cluster_pattern)]"]
				task_9dc8d40e [label="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous kubeinit podman volumes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_9dc8d40e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous kubeinit podman volumes"]
				role_2665f166 -> task_9dc8d40e [label="21 [when: orphaned_cluster_pod_vols is defined]" color="#03c97f" fontcolor="#03c97f" id=edge_task_9dc8d40e labeltooltip="21 [when: orphaned_cluster_pod_vols is defined]" tooltip="21 [when: orphaned_cluster_pod_vols is defined]"]
				task_8934e45d [label="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous kubeinit buildah containers" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_8934e45d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous kubeinit buildah containers"]
				role_2665f166 -> task_8934e45d [label="22 " color="#03c97f" fontcolor="#03c97f" id=edge_task_8934e45d labeltooltip="22 " tooltip="22 "]
				task_f923479b [label="kubeinit.kubeinit.kubeinit_libvirt : Prune container images created for the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_f923479b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Prune container images created for the cluster"]
				role_2665f166 -> task_f923479b [label="23 " color="#03c97f" fontcolor="#03c97f" id=edge_task_f923479b labeltooltip="23 " tooltip="23 "]
				task_03245c5d [label="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous veth dev" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_03245c5d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous veth dev"]
				role_2665f166 -> task_03245c5d [label="24 " color="#03c97f" fontcolor="#03c97f" id=edge_task_03245c5d labeltooltip="24 " tooltip="24 "]
				task_b651bb0a [label="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous cluster network endpoint from the openvswitch bridge" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=task_b651bb0a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove any previous cluster network endpoint from the openvswitch bridge"]
				role_2665f166 -> task_b651bb0a [label="25 " color="#03c97f" fontcolor="#03c97f" id=edge_task_b651bb0a labeltooltip="25 " tooltip="25 "]
				role_2665f166 -> role_9a55d266 [label="26 " color="#03c97f" fontcolor="#03c97f" id=edge_role_9a55d266 labeltooltip="26 " tooltip="26 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_9a55d266 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=role_9a55d266 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					task_56a0005e [label="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt VMs" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_56a0005e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt VMs"]
					role_9a55d266 -> task_56a0005e [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_task_56a0005e labeltooltip="1 " tooltip="1 "]
					task_9e579b2d [label="kubeinit.kubeinit.kubeinit_libvirt : Collect all of the hypervisor running vms into hv/vm tuples" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_9e579b2d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Collect all of the hypervisor running vms into hv/vm tuples"]
					role_9a55d266 -> task_9e579b2d [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_task_9e579b2d labeltooltip="2 " tooltip="2 "]
					task_a99eeaf1 [label="kubeinit.kubeinit.kubeinit_libvirt : Generate a list of vm guest names to match" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_a99eeaf1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Generate a list of vm guest names to match"]
					role_9a55d266 -> task_a99eeaf1 [label="3 " color="#03c97f" fontcolor="#03c97f" id=edge_task_a99eeaf1 labeltooltip="3 " tooltip="3 "]
					task_1133098d [label="kubeinit.kubeinit.kubeinit_libvirt : Destroy vms" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_1133098d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Destroy vms"]
					role_9a55d266 -> task_1133098d [label="4 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" color="#03c97f" fontcolor="#03c97f" id=edge_task_1133098d labeltooltip="4 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" tooltip="4 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]"]
					task_392184cb [label="kubeinit.kubeinit.kubeinit_libvirt : Undefine vms" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_392184cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Undefine vms"]
					role_9a55d266 -> task_392184cb [label="5 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" color="#03c97f" fontcolor="#03c97f" id=edge_task_392184cb labeltooltip="5 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" tooltip="5 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]"]
					task_1a18da81 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove VMs storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_1a18da81 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove VMs storage"]
					role_9a55d266 -> task_1a18da81 [label="6 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" color="#03c97f" fontcolor="#03c97f" id=edge_task_1a18da81 labeltooltip="6 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]" tooltip="6 [when: cluster_vm in matching_vm_guest_names or kubeinit_libvirt_destroy_all_guests]"]
					task_7cb29206 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean directories for config files per node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_7cb29206 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean directories for config files per node"]
					role_9a55d266 -> task_7cb29206 [label="7 " color="#03c97f" fontcolor="#03c97f" id=edge_task_7cb29206 labeltooltip="7 " tooltip="7 "]
					task_8a814568 [label="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_8a814568 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Get all the libvirt networks"]
					role_9a55d266 -> task_8a814568 [label="8 " color="#03c97f" fontcolor="#03c97f" id=edge_task_8a814568 labeltooltip="8 " tooltip="8 "]
					task_1884c075 [label="kubeinit.kubeinit.kubeinit_libvirt : Destroy deployment networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_1884c075 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Destroy deployment networks"]
					role_9a55d266 -> task_1884c075 [label="9 [when: kubeinit_cluster_network_name in result.list_nets]" color="#03c97f" fontcolor="#03c97f" id=edge_task_1884c075 labeltooltip="9 [when: kubeinit_cluster_network_name in result.list_nets]" tooltip="9 [when: kubeinit_cluster_network_name in result.list_nets]"]
					task_b72ec13c [label="kubeinit.kubeinit.kubeinit_libvirt : Undefine deployment networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_b72ec13c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Undefine deployment networks"]
					role_9a55d266 -> task_b72ec13c [label="10 [when: kubeinit_cluster_network_name in result.list_nets]" color="#03c97f" fontcolor="#03c97f" id=edge_task_b72ec13c labeltooltip="10 [when: kubeinit_cluster_network_name in result.list_nets]" tooltip="10 [when: kubeinit_cluster_network_name in result.list_nets]"]
					task_c2df2968 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove the deployment networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_c2df2968 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove the deployment networks"]
					role_9a55d266 -> task_c2df2968 [label="11 [when: kubeinit_cluster_network_name in result.list_nets]" color="#03c97f" fontcolor="#03c97f" id=edge_task_c2df2968 labeltooltip="11 [when: kubeinit_cluster_network_name in result.list_nets]" tooltip="11 [when: kubeinit_cluster_network_name in result.list_nets]"]
					task_9a1a9d90 [label="kubeinit.kubeinit.kubeinit_libvirt : Default is to remove the OVN network if it is no longer in use" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_9a1a9d90 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Default is to remove the OVN network if it is no longer in use"]
					role_9a55d266 -> task_9a1a9d90 [label="12 " color="#03c97f" fontcolor="#03c97f" id=edge_task_9a1a9d90 labeltooltip="12 " tooltip="12 "]
					task_40a000e2 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove route for cluster network via br-ex" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_40a000e2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove route for cluster network via br-ex"]
					role_9a55d266 -> task_40a000e2 [label="13 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#03c97f" fontcolor="#03c97f" id=edge_task_40a000e2 labeltooltip="13 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="13 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
					task_28749e46 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router port of the logical switch for this cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_28749e46 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router port of the logical switch for this cluster"]
					role_9a55d266 -> task_28749e46 [label="14 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#03c97f" fontcolor="#03c97f" id=edge_task_28749e46 labeltooltip="14 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="14 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
					task_c9800bd9 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove switch for this cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_c9800bd9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove switch for this cluster"]
					role_9a55d266 -> task_c9800bd9 [label="15 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#03c97f" fontcolor="#03c97f" id=edge_task_c9800bd9 labeltooltip="15 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="15 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
					task_9dc16fa0 [label="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_9dc16fa0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Wait for changes to propagate"]
					role_9a55d266 -> task_9dc16fa0 [label="16 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#03c97f" fontcolor="#03c97f" id=edge_task_9dc16fa0 labeltooltip="16 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="16 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
					task_9dbacd7f [label="kubeinit.kubeinit.kubeinit_libvirt : See if any other networks are routing via br-ex" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_9dbacd7f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : See if any other networks are routing via br-ex"]
					role_9a55d266 -> task_9dbacd7f [label="17 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#03c97f" fontcolor="#03c97f" id=edge_task_9dbacd7f labeltooltip="17 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="17 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
					task_1dbded76 [label="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_1dbded76 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks"]
					role_9a55d266 -> task_1dbded76 [label="18 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" color="#03c97f" fontcolor="#03c97f" id=edge_task_1dbded76 labeltooltip="18 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" tooltip="18 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]"]
					task_6885cd64 [label="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches have ports on lr0" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_6885cd64 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches have ports on lr0"]
					role_9a55d266 -> task_6885cd64 [label="19 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#03c97f" fontcolor="#03c97f" id=edge_task_6885cd64 labeltooltip="19 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="19 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
					task_efaea629 [label="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_efaea629 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks"]
					role_9a55d266 -> task_efaea629 [label="20 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" color="#03c97f" fontcolor="#03c97f" id=edge_task_efaea629 labeltooltip="20 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" tooltip="20 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]"]
					task_67eac6cb [label="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches are defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_67eac6cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : See if any other cluster switches are defined"]
					role_9a55d266 -> task_67eac6cb [label="21 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" color="#03c97f" fontcolor="#03c97f" id=edge_task_67eac6cb labeltooltip="21 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]" tooltip="21 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active]"]
					task_06b32915 [label="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_06b32915 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Leave OVN network alone if there are signs of other cluster networks"]
					role_9a55d266 -> task_06b32915 [label="22 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" color="#03c97f" fontcolor="#03c97f" id=edge_task_06b32915 labeltooltip="22 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]" tooltip="22 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and _result.stdout_lines | length > 1]"]
					task_07168f31 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router if tearing down OVN network" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_07168f31 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove logical router if tearing down OVN network"]
					role_9a55d266 -> task_07168f31 [label="23 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" color="#03c97f" fontcolor="#03c97f" id=edge_task_07168f31 labeltooltip="23 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="23 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]"]
					task_3b00df41 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (public)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_3b00df41 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (public)"]
					role_9a55d266 -> task_3b00df41 [label="24 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" color="#03c97f" fontcolor="#03c97f" id=edge_task_3b00df41 labeltooltip="24 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="24 [when: hostvars[kubeinit_ovn_central_host].ovs_is_active and kubeinit_destroy_ovn_network]"]
					task_207be4e4 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-int)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_207be4e4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-int)"]
					role_9a55d266 -> task_207be4e4 [label="25 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#03c97f" fontcolor="#03c97f" id=edge_task_207be4e4 labeltooltip="25 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="25 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
					task_253dba2e [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-ex)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_253dba2e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (br-ex)"]
					role_9a55d266 -> task_253dba2e [label="26 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#03c97f" fontcolor="#03c97f" id=edge_task_253dba2e labeltooltip="26 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="26 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
					task_53758bd4 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (genev_sys_6081)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_53758bd4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (genev_sys_6081)"]
					role_9a55d266 -> task_53758bd4 [label="27 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#03c97f" fontcolor="#03c97f" id=edge_task_53758bd4 labeltooltip="27 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="27 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
					task_a8645649 [label="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (ovs-system)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_a8645649 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clean OVN/OVS resources (ovs-system)"]
					role_9a55d266 -> task_a8645649 [label="28 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" color="#03c97f" fontcolor="#03c97f" id=edge_task_a8645649 labeltooltip="28 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]" tooltip="28 [when: hostvars[kubeinit_deployment_node_name].ovs_is_active and kubeinit_destroy_ovn_network]"]
					task_852eddf9 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (CentOS based)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_852eddf9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (CentOS based)"]
					role_9a55d266 -> task_852eddf9 [label="29 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" color="#03c97f" fontcolor="#03c97f" id=edge_task_852eddf9 labeltooltip="29 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" tooltip="29 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]"]
					task_fd4a35aa [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (CentOS based)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_fd4a35aa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (CentOS based)"]
					role_9a55d266 -> task_fd4a35aa [label="30 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" color="#03c97f" fontcolor="#03c97f" id=edge_task_fd4a35aa labeltooltip="30 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]" tooltip="30 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora')
]"]
					task_87133403 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (Ubuntu based)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_87133403 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the first hypervisor (Ubuntu based)"]
					role_9a55d266 -> task_87133403 [label="31 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" color="#03c97f" fontcolor="#03c97f" id=edge_task_87133403 labeltooltip="31 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" tooltip="31 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]"]
					task_347471f4 [label="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (Ubuntu based)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_347471f4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Stop and disable OVN services in the rest of the hypervisors (Ubuntu based)"]
					role_9a55d266 -> task_347471f4 [label="32 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" color="#03c97f" fontcolor="#03c97f" id=edge_task_347471f4 labeltooltip="32 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]" tooltip="32 [when: kubeinit_destroy_ovn_network and (kubeinit_deployment_node_name not in kubeinit_ovn_central_host) and (hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian')
]"]
					task_640f2808 [label="kubeinit.kubeinit.kubeinit_libvirt : Delete existing OVS/OVN files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_libvirt.yml" color="#03c97f" id=task_640f2808 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Delete existing OVS/OVN files"]
					role_9a55d266 -> task_640f2808 [label="33 [when: kubeinit_destroy_ovn_network]" color="#03c97f" fontcolor="#03c97f" id=edge_task_640f2808 labeltooltip="33 [when: kubeinit_destroy_ovn_network]" tooltip="33 [when: kubeinit_destroy_ovn_network]"]
				}
			}
		}
		play_816c0725 -> block_e0f928e5 [label=3 color="#03c97f" fontcolor="#03c97f" id=edge_block_e0f928e5 labeltooltip=3 tooltip=3]
		subgraph cluster_block_e0f928e5 {
			block_e0f928e5 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_e0f928e5 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_e0f928e5 -> role_f2d7a2ed [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_f2d7a2ed labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_f2d7a2ed [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_f2d7a2ed tooltip="task-run-validations"]
				role_f2d7a2ed -> role_4b51e292 [label="1 [when: not hypervisors_cleaned]" color="#03c97f" fontcolor="#03c97f" id=edge_role_4b51e292 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_4b51e292 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#03c97f" id=role_4b51e292 tooltip="Cleanup hypervisors if needed"]
					role_4b51e292 -> role_62c13dea [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_62c13dea labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_62c13dea [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=role_62c13dea tooltip="Prepare environment if not prepared"]
						role_62c13dea -> role_49ddd0a6 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_49ddd0a6 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_49ddd0a6 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_49ddd0a6 tooltip="Gather kubeinit secrets"]
						}
						role_62c13dea -> role_2ace1f0d [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_2ace1f0d labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_2ace1f0d [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_2ace1f0d tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_4b51e292 -> role_b602859a [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_b602859a labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_b602859a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=role_b602859a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_816c0725 -> block_c3e137b8 [label=4 color="#03c97f" fontcolor="#03c97f" id=edge_block_c3e137b8 labeltooltip=4 tooltip=4]
		subgraph cluster_block_c3e137b8 {
			block_c3e137b8 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_c3e137b8 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_c3e137b8 -> role_749cbaaa [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_749cbaaa labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_749cbaaa [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_749cbaaa tooltip="task-create-network"]
				role_749cbaaa -> role_495ec33f [label="1 [when: not hypervisors_cleaned]" color="#03c97f" fontcolor="#03c97f" id=edge_role_495ec33f labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_495ec33f [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#03c97f" id=role_495ec33f tooltip="Cleanup hypervisors if needed"]
					role_495ec33f -> role_6990b750 [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_6990b750 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_6990b750 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=role_6990b750 tooltip="Prepare environment if not prepared"]
						role_6990b750 -> role_a53869bb [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_a53869bb labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_a53869bb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_a53869bb tooltip="Gather kubeinit secrets"]
						}
						role_6990b750 -> role_d5d3927f [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_d5d3927f labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_d5d3927f [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_d5d3927f tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_495ec33f -> role_837f672a [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_837f672a labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_837f672a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#03c97f" id=role_837f672a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_816c0725 -> block_e3bd675b [label=5 color="#03c97f" fontcolor="#03c97f" id=edge_block_e3bd675b labeltooltip=5 tooltip=5]
		subgraph cluster_block_e3bd675b {
			block_e3bd675b [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_e3bd675b labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_e3bd675b -> role_53277bde [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_53277bde labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_53277bde [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_53277bde tooltip="task-create-services"]
				role_53277bde -> role_885655a1 [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_885655a1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_885655a1 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#03c97f" id=role_885655a1 tooltip="Prepare environment if not prepared"]
					role_885655a1 -> role_0c9e155c [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_0c9e155c labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_0c9e155c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_0c9e155c tooltip="Gather kubeinit secrets"]
					}
					role_885655a1 -> role_dcd48117 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_dcd48117 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_dcd48117 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_dcd48117 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_53277bde -> role_2f167848 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_2f167848 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_2f167848 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#03c97f" id=role_2f167848 tooltip="Prepare podman"]
				}
				role_53277bde -> role_26b11ba4 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_26b11ba4 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_26b11ba4 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#03c97f" id=role_26b11ba4 tooltip="Configure Bind"]
					role_26b11ba4 -> role_5d406be9 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_5d406be9 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_5d406be9 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#03c97f" id=role_5d406be9 tooltip="Create systemd service for podman container"]
					}
				}
				role_53277bde -> role_67a7894e [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_67a7894e labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_67a7894e [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#03c97f" id=role_67a7894e tooltip="Configure Dnsmasq"]
					role_67a7894e -> role_5c80d512 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_5c80d512 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_5c80d512 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#03c97f" id=role_5c80d512 tooltip="Create systemd service for podman container"]
					}
				}
				role_53277bde -> role_8c374db5 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_8c374db5 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_8c374db5 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#03c97f" id=role_8c374db5 tooltip="Configure HAProxy"]
					role_8c374db5 -> role_75a3ebb3 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_75a3ebb3 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_75a3ebb3 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#03c97f" id=role_75a3ebb3 tooltip="Create systemd service for podman container"]
					}
				}
				role_53277bde -> role_2f05e505 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_2f05e505 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_2f05e505 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#03c97f" id=role_2f05e505 tooltip="Configure Nexus"]
					role_2f05e505 -> role_fc622c48 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_fc622c48 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_fc622c48 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#03c97f" id=role_fc622c48 tooltip="Create systemd service for podman container"]
					}
				}
				role_53277bde -> role_1d83286c [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_1d83286c labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_1d83286c [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#03c97f" id=role_1d83286c tooltip="Configure Apache"]
					role_1d83286c -> role_6549dc33 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_6549dc33 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_6549dc33 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#03c97f" id=role_6549dc33 tooltip="Create systemd service for podman container"]
					}
				}
				role_53277bde -> role_234b9109 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_234b9109 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_234b9109 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#03c97f" id=role_234b9109 tooltip="Configure a local container image registry"]
					role_234b9109 -> role_450c06b1 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_450c06b1 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_450c06b1 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#03c97f" id=role_450c06b1 tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_816c0725 -> block_5233f901 [label=6 color="#03c97f" fontcolor="#03c97f" id=edge_block_5233f901 labeltooltip=6 tooltip=6]
		subgraph cluster_block_5233f901 {
			block_5233f901 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_5233f901 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_5233f901 -> role_5583a8de [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_5583a8de labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_5583a8de [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_5583a8de tooltip="task-prepare-cluster"]
				role_5583a8de -> role_51dc1c01 [label="1 [when: not services_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_51dc1c01 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_51dc1c01 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#03c97f" id=role_51dc1c01 tooltip="Prepare services if needed"]
					role_51dc1c01 -> role_4a67addc [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_4a67addc labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_4a67addc [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#03c97f" id=role_4a67addc tooltip="Prepare environment if needed"]
						role_4a67addc -> role_1c48dacd [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_1c48dacd labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_1c48dacd [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_1c48dacd tooltip="Gather kubeinit secrets"]
						}
						role_4a67addc -> role_92345c6d [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_92345c6d labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_92345c6d [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_92345c6d tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_51dc1c01 -> role_9eab5a38 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_9eab5a38 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_9eab5a38 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#03c97f" id=role_9eab5a38 tooltip="Gather network and host facts for guest"]
					}
				}
				role_5583a8de -> role_d47a1d2e [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_d47a1d2e labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_d47a1d2e [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#03c97f" id=role_d47a1d2e tooltip="Delegate to the distro role to prepare the cluster"]
					role_d47a1d2e -> role_4f3e058d [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_4f3e058d labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_4f3e058d [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/prepare_cluster.yml" color="#03c97f" id=role_4f3e058d tooltip="Setup the cluster provision container"]
						role_4f3e058d -> role_835541cc [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_835541cc labeltooltip="1 " tooltip="1 "]
						subgraph "Create systemd service for podman container" {
							role_835541cc [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#03c97f" id=role_835541cc tooltip="Create systemd service for podman container"]
						}
						role_4f3e058d -> role_365a3496 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_365a3496 labeltooltip="2 " tooltip="2 "]
						subgraph "Gather network and host facts for provision service" {
							role_365a3496 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#03c97f" id=role_365a3496 tooltip="Gather network and host facts for provision service"]
						}
					}
				}
			}
		}
		play_816c0725 -> block_e6fbd7f0 [label=7 color="#03c97f" fontcolor="#03c97f" id=edge_block_e6fbd7f0 labeltooltip=7 tooltip=7]
		subgraph cluster_block_e6fbd7f0 {
			block_e6fbd7f0 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_e6fbd7f0 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_e6fbd7f0 -> role_193e53f3 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_193e53f3 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_193e53f3 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_193e53f3 tooltip="task-download-images"]
				role_193e53f3 -> role_5c552efd [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_5c552efd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_5c552efd [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#03c97f" id=role_5c552efd tooltip="Prepare environment if not prepared"]
					role_5c552efd -> role_69eaf58e [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_69eaf58e labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_69eaf58e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_69eaf58e tooltip="Gather kubeinit secrets"]
					}
					role_5c552efd -> role_cc8bcc29 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_cc8bcc29 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_cc8bcc29 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_cc8bcc29 tooltip="Gather facts from bastion_host if needed"]
					}
				}
			}
		}
		play_816c0725 -> block_50ffa788 [label=8 color="#03c97f" fontcolor="#03c97f" id=edge_block_50ffa788 labeltooltip=8 tooltip=8]
		subgraph cluster_block_50ffa788 {
			block_50ffa788 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_50ffa788 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_50ffa788 -> role_7b9f2bfe [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_7b9f2bfe labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_7b9f2bfe [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_7b9f2bfe tooltip="task-deploy-cluster"]
				role_7b9f2bfe -> role_d9473445 [label="1 [when: not services_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_d9473445 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_d9473445 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#03c97f" id=role_d9473445 tooltip="Prepare services if needed"]
					role_d9473445 -> role_6327c2c1 [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_6327c2c1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_6327c2c1 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#03c97f" id=role_6327c2c1 tooltip="Prepare environment if needed"]
						role_6327c2c1 -> role_cb611657 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_cb611657 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_cb611657 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_cb611657 tooltip="Gather kubeinit secrets"]
						}
						role_6327c2c1 -> role_b1289200 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_b1289200 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_b1289200 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_b1289200 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_d9473445 -> role_224810b2 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_224810b2 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_224810b2 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#03c97f" id=role_224810b2 tooltip="Gather network and host facts for guest"]
					}
				}
				role_7b9f2bfe -> role_27b48cd9 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_27b48cd9 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_27b48cd9 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#03c97f" id=role_27b48cd9 tooltip="Delegate to the distro role to deploy the cluster"]
					role_27b48cd9 -> role_e7aed0ee [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_e7aed0ee labeltooltip="1 " tooltip="1 "]
					subgraph "Deploy the cluster bootstrap and any other extra nodes requested" {
						role_e7aed0ee [label="[role] Deploy the cluster bootstrap and any other extra nodes requested" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#03c97f" id=role_e7aed0ee tooltip="Deploy the cluster bootstrap and any other extra nodes requested"]
					}
					role_27b48cd9 -> role_baf25293 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_baf25293 labeltooltip="2 " tooltip="2 "]
					subgraph "Deploy the cluster controller nodes" {
						role_baf25293 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#03c97f" id=role_baf25293 tooltip="Deploy the cluster controller nodes"]
					}
					role_27b48cd9 -> role_7bec2a04 [label="3 " color="#03c97f" fontcolor="#03c97f" id=edge_role_7bec2a04 labeltooltip="3 " tooltip="3 "]
					subgraph "Deploy the cluster compute nodes" {
						role_7bec2a04 [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#03c97f" id=role_7bec2a04 tooltip="Deploy the cluster compute nodes"]
					}
				}
			}
		}
		play_816c0725 -> block_b7fe363b [label=9 color="#03c97f" fontcolor="#03c97f" id=edge_block_b7fe363b labeltooltip=9 tooltip=9]
		subgraph cluster_block_b7fe363b {
			block_b7fe363b [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=block_b7fe363b labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_b7fe363b -> role_ef4c5a24 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_ef4c5a24 labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_ef4c5a24 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#03c97f" id=role_ef4c5a24 tooltip="task-post-deployment"]
				role_ef4c5a24 -> role_836db719 [label="1 [when: not services_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_836db719 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_836db719 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#03c97f" id=role_836db719 tooltip="Prepare services if needed"]
					role_836db719 -> role_8a16b5e8 [label="1 [when: not environment_prepared]" color="#03c97f" fontcolor="#03c97f" id=edge_role_8a16b5e8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_8a16b5e8 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#03c97f" id=role_8a16b5e8 tooltip="Prepare environment if needed"]
						role_8a16b5e8 -> role_5e6b0bb9 [label="1 " color="#03c97f" fontcolor="#03c97f" id=edge_role_5e6b0bb9 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_5e6b0bb9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#03c97f" id=role_5e6b0bb9 tooltip="Gather kubeinit secrets"]
						}
						role_8a16b5e8 -> role_aae9a35e [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#03c97f" fontcolor="#03c97f" id=edge_role_aae9a35e labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_aae9a35e [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#03c97f" id=role_aae9a35e tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_836db719 -> role_e0a85d7b [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_e0a85d7b labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_e0a85d7b [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#03c97f" id=role_e0a85d7b tooltip="Gather network and host facts for guest"]
					}
				}
				role_ef4c5a24 -> role_a4cb5c80 [label="2 " color="#03c97f" fontcolor="#03c97f" id=edge_role_a4cb5c80 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_a4cb5c80 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#03c97f" id=role_a4cb5c80 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_a4cb5c80 -> role_29950b45 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_29950b45 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_29950b45 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#03c97f" id=role_29950b45 tooltip="Configure NFS"]
					}
					role_a4cb5c80 -> role_b5e94066 [label="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#03c97f" fontcolor="#03c97f" id=edge_role_b5e94066 labeltooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_b5e94066 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#03c97f" id=role_b5e94066 tooltip="Deploy the apps"]
					}
					role_a4cb5c80 -> role_744f2b78 [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#03c97f" fontcolor="#03c97f" id=edge_role_744f2b78 labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy KubeVirt" {
						role_744f2b78 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#03c97f" id=role_744f2b78 tooltip="Deploy KubeVirt"]
					}
					role_a4cb5c80 -> role_368b41f1 [label="4 " color="#03c97f" fontcolor="#03c97f" id=edge_role_368b41f1 labeltooltip="4 " tooltip="4 "]
					subgraph "Deploy extra roles" {
						role_368b41f1 [label="[role] Deploy extra roles" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#03c97f" id=role_368b41f1 tooltip="Deploy extra roles"]
					}
				}
			}
		}
	}
}
