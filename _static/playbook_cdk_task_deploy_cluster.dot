digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_2da46eac [label="Play: Initial setup (1)" color="#29c804" fontcolor="#ffffff" id=play_2da46eac shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_2da46eac [label="1 " color="#29c804" fontcolor="#29c804" id=edge_2779109b labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_f3a01e70 [label="[role] Read podman secrets if running from the container" color="#29c804" id=role_f3a01e70 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_56297f1d [label="[role] task-gather-facts" color="#29c804" id=role_56297f1d tooltip="task-gather-facts"]
		role_56297f1d -> role_f3a01e70 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#29c804" fontcolor="#29c804" id=edge_2e0218e5 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_cba3e16f [label="[role] Read podman secrets if running from the container" color="#29c804" id=role_cba3e16f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_13f13679 [label="[role] task-prepare-hypervisors" color="#29c804" id=role_13f13679 tooltip="task-prepare-hypervisors"]
		role_13f13679 -> role_cba3e16f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#29c804" fontcolor="#29c804" id=edge_f73485c7 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_2da46eac -> block_4c83599a [label=1 color="#29c804" fontcolor="#29c804" id=edge_1462cb7e labeltooltip=1 tooltip=1]
		subgraph cluster_block_4c83599a {
			block_4c83599a [label="[block] Gather facts about the deployment environment" color="#29c804" id=block_4c83599a labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_4c83599a -> role_56297f1d [label="1 " color="#29c804" fontcolor="#29c804" id=edge_5305024a labeltooltip="1 " tooltip="1 "]
		}
		play_2da46eac -> block_63c50ece [label=2 color="#29c804" fontcolor="#29c804" id=edge_177da91d labeltooltip=2 tooltip=2]
		subgraph cluster_block_63c50ece {
			block_63c50ece [label="[block] Prepare the hypervisors" color="#29c804" id=block_63c50ece labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_63c50ece -> role_13f13679 [label="1 " color="#29c804" fontcolor="#29c804" id=edge_7c3f287d labeltooltip="1 " tooltip="1 "]
		}
	}
	play_563c905c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#2687a6" fontcolor="#ffffff" id=play_563c905c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_563c905c [label="2 " color="#2687a6" fontcolor="#2687a6" id=edge_ec6553b7 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_74c5edd2 [label="[role] Provision the libvirt services on the hypervisor" color="#2687a6" id=role_74c5edd2 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_b798754f [label="[role] Prepare each hypervisor in the deployment" color="#2687a6" id=role_b798754f tooltip="Prepare each hypervisor in the deployment"]
		role_b798754f -> role_74c5edd2 [label="1 " color="#2687a6" fontcolor="#2687a6" id=edge_6d201d72 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_563c905c -> block_c2b3dc22 [label=1 color="#2687a6" fontcolor="#2687a6" id=edge_c9cc0010 labeltooltip=1 tooltip=1]
		subgraph cluster_block_c2b3dc22 {
			block_c2b3dc22 [label="[block] Prepare individual hypervisors" color="#2687a6" id=block_c2b3dc22 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_c2b3dc22 -> role_b798754f [label="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" color="#2687a6" fontcolor="#2687a6" id=edge_58ab5189 labeltooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]"]
		}
	}
	play_19bdcd8a [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#0ebe99" fontcolor="#ffffff" id=play_19bdcd8a shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_19bdcd8a [label="3 " color="#0ebe99" fontcolor="#0ebe99" id=edge_de038056 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_5ad5304b [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_5ad5304b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_f97d37bf [label="[role] task-prepare-environment" color="#0ebe99" id=role_f97d37bf tooltip="task-prepare-environment"]
		role_f97d37bf -> role_5ad5304b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_5f6b0a2b labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9533e255 [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_9533e255 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_220ae34f [label="[role] Prepare environment if not prepared" color="#0ebe99" id=role_220ae34f tooltip="Prepare environment if not prepared"]
		role_220ae34f -> role_9533e255 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_da48f6de labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_3b6bc2a8 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0ebe99" id=role_3b6bc2a8 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_e5eb15d1 [label="[role] task-cleanup-hypervisors" color="#0ebe99" id=role_e5eb15d1 tooltip="task-cleanup-hypervisors"]
		role_e5eb15d1 -> role_220ae34f [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_d56eb314 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e5eb15d1 -> role_3b6bc2a8 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_0c47a534 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_30af193b [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_30af193b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_00a3f120 [label="[role] Prepare environment if not prepared" color="#0ebe99" id=role_00a3f120 tooltip="Prepare environment if not prepared"]
		role_00a3f120 -> role_30af193b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_e175f156 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_080de4b2 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0ebe99" id=role_080de4b2 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_09877264 [label="[role] Cleanup hypervisors if needed" color="#0ebe99" id=role_09877264 tooltip="Cleanup hypervisors if needed"]
		role_09877264 -> role_00a3f120 [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_42515d29 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_09877264 -> role_080de4b2 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_617783de labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_f86bf2dd [label="[role] task-run-validations" color="#0ebe99" id=role_f86bf2dd tooltip="task-run-validations"]
		role_f86bf2dd -> role_09877264 [label="1 [when: not hypervisors_cleaned]" color="#0ebe99" fontcolor="#0ebe99" id=edge_54b21ac9 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d75fedc7 [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_d75fedc7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_02af717c [label="[role] Prepare environment if not prepared" color="#0ebe99" id=role_02af717c tooltip="Prepare environment if not prepared"]
		role_02af717c -> role_d75fedc7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_6245c5c3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_4b03061f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0ebe99" id=role_4b03061f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_ffbd6ddc [label="[role] Cleanup hypervisors if needed" color="#0ebe99" id=role_ffbd6ddc tooltip="Cleanup hypervisors if needed"]
		role_ffbd6ddc -> role_02af717c [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_9149c7b9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ffbd6ddc -> role_4b03061f [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_ca56c44b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_f57e3a9c [label="[role] task-create-network" color="#0ebe99" id=role_f57e3a9c tooltip="task-create-network"]
		role_f57e3a9c -> role_ffbd6ddc [label="1 [when: not hypervisors_cleaned]" color="#0ebe99" fontcolor="#0ebe99" id=edge_d4f4e22c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ad4e5327 [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_ad4e5327 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c23d166d [label="[role] Prepare environment if not prepared" color="#0ebe99" id=role_c23d166d tooltip="Prepare environment if not prepared"]
		role_c23d166d -> role_ad4e5327 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_4a3b78ed labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_1871dad5 [label="[role] Prepare podman" color="#0ebe99" id=role_1871dad5 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_8cf0c26e [label="[role] Create systemd service for podman container" color="#0ebe99" id=role_8cf0c26e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_3894d87a [label="[role] Configure Bind" color="#0ebe99" id=role_3894d87a tooltip="Configure Bind"]
		role_3894d87a -> role_8cf0c26e [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_af218f24 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_285636ad [label="[role] Create systemd service for podman container" color="#0ebe99" id=role_285636ad tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_ec3c1bad [label="[role] Configure Dnsmasq" color="#0ebe99" id=role_ec3c1bad tooltip="Configure Dnsmasq"]
		role_ec3c1bad -> role_285636ad [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_e66a8cb2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_33b5188e [label="[role] Create systemd service for podman container" color="#0ebe99" id=role_33b5188e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_b9f95729 [label="[role] Configure HAProxy" color="#0ebe99" id=role_b9f95729 tooltip="Configure HAProxy"]
		role_b9f95729 -> role_33b5188e [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_1bd3af54 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f67987f1 [label="[role] Create systemd service for podman container" color="#0ebe99" id=role_f67987f1 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_ad3fd6c5 [label="[role] Configure Nexus" color="#0ebe99" id=role_ad3fd6c5 tooltip="Configure Nexus"]
		role_ad3fd6c5 -> role_f67987f1 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_efc46590 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e01b22bc [label="[role] Create systemd service for podman container" color="#0ebe99" id=role_e01b22bc tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_eda5e575 [label="[role] Configure Apache" color="#0ebe99" id=role_eda5e575 tooltip="Configure Apache"]
		role_eda5e575 -> role_e01b22bc [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_d8525b7c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0c4f4079 [label="[role] Create systemd service for podman container" color="#0ebe99" id=role_0c4f4079 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_36602cdd [label="[role] Configure a local container image registry" color="#0ebe99" id=role_36602cdd tooltip="Configure a local container image registry"]
		role_36602cdd -> role_0c4f4079 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_c2963b52 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_36c786dc [label="[role] task-create-services" color="#0ebe99" id=role_36c786dc tooltip="task-create-services"]
		role_36c786dc -> role_c23d166d [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_04fe65c3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_36c786dc -> role_1871dad5 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_bb1dd5bf labeltooltip="2 " tooltip="2 "]
		role_36c786dc -> role_3894d87a [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#0ebe99" fontcolor="#0ebe99" id=edge_3da12419 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_36c786dc -> role_ec3c1bad [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#0ebe99" fontcolor="#0ebe99" id=edge_11196be4 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_36c786dc -> role_b9f95729 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#0ebe99" fontcolor="#0ebe99" id=edge_0db0902a labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_36c786dc -> role_ad3fd6c5 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#0ebe99" fontcolor="#0ebe99" id=edge_2db9564e labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_36c786dc -> role_eda5e575 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#0ebe99" fontcolor="#0ebe99" id=edge_880cdda6 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_36c786dc -> role_36602cdd [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#0ebe99" fontcolor="#0ebe99" id=edge_587b5b51 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a30fc93a [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_a30fc93a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_4a7cb7fe [label="[role] Prepare environment if needed" color="#0ebe99" id=role_4a7cb7fe tooltip="Prepare environment if needed"]
		role_4a7cb7fe -> role_a30fc93a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_c8d7dbd0 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_09c52017 [label="[role] Gather network and host facts for guest" color="#0ebe99" id=role_09c52017 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f0ba64fe [label="[role] Prepare services if needed" color="#0ebe99" id=role_f0ba64fe tooltip="Prepare services if needed"]
		role_f0ba64fe -> role_4a7cb7fe [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_6a1f40c8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f0ba64fe -> role_09c52017 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_f21aa4d1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_69d635c3 [label="[role] Create systemd service for podman container" color="#0ebe99" id=role_69d635c3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_0d611d13 [label="[role] Gather network and host facts for provision service" color="#0ebe99" id=role_0d611d13 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_89d4f904 [label="[role] Setup the cluster provision container" color="#0ebe99" id=role_89d4f904 tooltip="Setup the cluster provision container"]
		role_89d4f904 -> role_69d635c3 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_7e11275b labeltooltip="1 " tooltip="1 "]
		role_89d4f904 -> role_0d611d13 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_8970797b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_75414b95 [label="[role] Delegate to the distro role to prepare the cluster" color="#0ebe99" id=role_75414b95 tooltip="Delegate to the distro role to prepare the cluster"]
		role_75414b95 -> role_89d4f904 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_fbe438ae labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_b7f583fd [label="[role] task-prepare-cluster" color="#0ebe99" id=role_b7f583fd tooltip="task-prepare-cluster"]
		role_b7f583fd -> role_f0ba64fe [label="1 [when: not services_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_f1f170ff labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b7f583fd -> role_75414b95 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_d4fb3f82 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_65548670 [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_65548670 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_83a13246 [label="[role] Prepare environment if not prepared" color="#0ebe99" id=role_83a13246 tooltip="Prepare environment if not prepared"]
		role_83a13246 -> role_65548670 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_1836b1e2 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_49ab97c0 [label="[role] task-download-images" color="#0ebe99" id=role_49ab97c0 tooltip="task-download-images"]
		role_49ab97c0 -> role_83a13246 [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_a89abfc1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_8562938c [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_8562938c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d6440f42 [label="[role] Prepare environment if needed" color="#0ebe99" id=role_d6440f42 tooltip="Prepare environment if needed"]
		role_d6440f42 -> role_8562938c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_5d199303 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_6cdf1e7e [label="[role] Gather network and host facts for guest" color="#0ebe99" id=role_6cdf1e7e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_18f62565 [label="[role] Prepare services if needed" color="#0ebe99" id=role_18f62565 tooltip="Prepare services if needed"]
		role_18f62565 -> role_d6440f42 [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_506c60b8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_18f62565 -> role_6cdf1e7e [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_75ab5d40 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_995deb4e [label="[role] Deploy the cluster nodes" color="#0ebe99" id=role_995deb4e tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_25685ca2 [label="[role] Delegate to the distro role to deploy the cluster" color="#0ebe99" id=role_25685ca2 tooltip="Delegate to the distro role to deploy the cluster"]
		role_25685ca2 -> role_995deb4e [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#0ebe99" fontcolor="#0ebe99" id=edge_ce7b2ff0 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_6f793374 [label="kubeinit.kubeinit.kubeinit_cdk : Render the cluster template" color="#0ebe99" id=task_6f793374 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Render the cluster template"]
		role_25685ca2 -> task_6f793374 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_4402f2db labeltooltip="2 " tooltip="2 "]
		task_0e7dd02b [label="kubeinit.kubeinit.kubeinit_cdk : Render the bundle template" color="#0ebe99" id=task_0e7dd02b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Render the bundle template"]
		role_25685ca2 -> task_0e7dd02b [label="3 " color="#0ebe99" fontcolor="#0ebe99" id=edge_f1f1a9a2 labeltooltip="3 " tooltip="3 "]
		task_9cf76cac [label="kubeinit.kubeinit.kubeinit_cdk : Add host keys to known_hosts" color="#0ebe99" id=task_9cf76cac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Add host keys to known_hosts"]
		role_25685ca2 -> task_9cf76cac [label="4 " color="#0ebe99" fontcolor="#0ebe99" id=edge_a18c5209 labeltooltip="4 " tooltip="4 "]
		task_6dc684ff [label="kubeinit.kubeinit.kubeinit_cdk : Install the CDK juju installer" color="#0ebe99" id=task_6dc684ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Install the CDK juju installer"]
		role_25685ca2 -> task_6dc684ff [label="5 " color="#0ebe99" fontcolor="#0ebe99" id=edge_c8527205 labeltooltip="5 " tooltip="5 "]
		task_c5eaa95d [label="kubeinit.kubeinit.kubeinit_cdk : Add the CDK cluster" color="#0ebe99" id=task_c5eaa95d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Add the CDK cluster"]
		role_25685ca2 -> task_c5eaa95d [label="6 " color="#0ebe99" fontcolor="#0ebe99" id=edge_68b9efbe labeltooltip="6 " tooltip="6 "]
		task_9fee89f6 [label="kubeinit.kubeinit.kubeinit_cdk : Copy juju client key to cluster nodes" color="#0ebe99" id=task_9fee89f6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Copy juju client key to cluster nodes"]
		role_25685ca2 -> task_9fee89f6 [label="7 " color="#0ebe99" fontcolor="#0ebe99" id=edge_1e1bd995 labeltooltip="7 " tooltip="7 "]
		task_a37b2018 [label="kubeinit.kubeinit.kubeinit_cdk : Bootstrap the CDK controller" color="#0ebe99" id=task_a37b2018 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Bootstrap the CDK controller"]
		role_25685ca2 -> task_a37b2018 [label="8 " color="#0ebe99" fontcolor="#0ebe99" id=edge_b48900c7 labeltooltip="8 " tooltip="8 "]
		task_6a63ce08 [label="kubeinit.kubeinit.kubeinit_cdk : Show juju info" color="#0ebe99" id=task_6a63ce08 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Show juju info"]
		role_25685ca2 -> task_6a63ce08 [label="9 " color="#0ebe99" fontcolor="#0ebe99" id=edge_f60e84d5 labeltooltip="9 " tooltip="9 "]
		task_90463f11 [label="kubeinit.kubeinit.kubeinit_cdk : Add machines" color="#0ebe99" id=task_90463f11 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Add machines"]
		role_25685ca2 -> task_90463f11 [label="10 " color="#0ebe99" fontcolor="#0ebe99" id=edge_aa0912da labeltooltip="10 " tooltip="10 "]
		task_6ce716a3 [label="kubeinit.kubeinit.kubeinit_cdk : Verify that all cluster nodes are started" color="#0ebe99" id=task_6ce716a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Verify that all cluster nodes are started"]
		role_25685ca2 -> task_6ce716a3 [label="11 " color="#0ebe99" fontcolor="#0ebe99" id=edge_acac93bd labeltooltip="11 " tooltip="11 "]
		task_f40845fa [label="kubeinit.kubeinit.kubeinit_cdk : Deploy CDK" color="#0ebe99" id=task_f40845fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Deploy CDK"]
		role_25685ca2 -> task_f40845fa [label="12 " color="#0ebe99" fontcolor="#0ebe99" id=edge_2d29450b labeltooltip="12 " tooltip="12 "]
		task_f34cfc1b [label="kubeinit.kubeinit.kubeinit_cdk : Verify that the etcd cluster is up and healthy" color="#0ebe99" id=task_f34cfc1b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Verify that the etcd cluster is up and healthy"]
		role_25685ca2 -> task_f34cfc1b [label="13 " color="#0ebe99" fontcolor="#0ebe99" id=edge_3b75c4e1 labeltooltip="13 " tooltip="13 "]
		task_a2e6d3a9 [label="kubeinit.kubeinit.kubeinit_cdk : Verify that the kubernetes_master application is up and healthy" color="#0ebe99" id=task_a2e6d3a9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Verify that the kubernetes_master application is up and healthy"]
		role_25685ca2 -> task_a2e6d3a9 [label="14 " color="#0ebe99" fontcolor="#0ebe99" id=edge_12546b83 labeltooltip="14 " tooltip="14 "]
		task_2b58222b [label="kubeinit.kubeinit.kubeinit_cdk : Create kube directory" color="#0ebe99" id=task_2b58222b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Create kube directory"]
		role_25685ca2 -> task_2b58222b [label="15 " color="#0ebe99" fontcolor="#0ebe99" id=edge_f8796d98 labeltooltip="15 " tooltip="15 "]
		task_7983f1cd [label="kubeinit.kubeinit.kubeinit_cdk : Get the kubectl binary and kubeconfig from the first controller node" color="#0ebe99" id=task_7983f1cd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Get the kubectl binary and kubeconfig from the first controller node"]
		role_25685ca2 -> task_7983f1cd [label="16 " color="#0ebe99" fontcolor="#0ebe99" id=edge_7c25a650 labeltooltip="16 " tooltip="16 "]
		task_dce054dc [label="kubeinit.kubeinit.kubeinit_cdk : Autoload kubeconfig" color="#0ebe99" id=task_dce054dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Autoload kubeconfig"]
		role_25685ca2 -> task_dce054dc [label="17 " color="#0ebe99" fontcolor="#0ebe99" id=edge_4b780edd labeltooltip="17 " tooltip="17 "]
		task_00c19a74 [label="kubeinit.kubeinit.kubeinit_cdk : Finished deploying cluster" color="#0ebe99" id=task_00c19a74 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_cdk : Finished deploying cluster"]
		role_25685ca2 -> task_00c19a74 [label="18 " color="#0ebe99" fontcolor="#0ebe99" id=edge_e85a5df2 labeltooltip="18 " tooltip="18 "]
	}
	subgraph "task-deploy-cluster" {
		role_b6820580 [label="[role] task-deploy-cluster" color="#0ebe99" id=role_b6820580 tooltip="task-deploy-cluster"]
		role_b6820580 -> role_18f62565 [label="1 [when: not services_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_7a7b5e3c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b6820580 -> role_25685ca2 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_1eed8e27 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2b22b0c6 [label="[role] Read podman secrets if running from the container" color="#0ebe99" id=role_2b22b0c6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_2a8e0fa5 [label="[role] Prepare environment if needed" color="#0ebe99" id=role_2a8e0fa5 tooltip="Prepare environment if needed"]
		role_2a8e0fa5 -> role_2b22b0c6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0ebe99" fontcolor="#0ebe99" id=edge_36ecdc30 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_cb3b3296 [label="[role] Gather network and host facts for guest" color="#0ebe99" id=role_cb3b3296 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_4d860fcc [label="[role] Prepare services if needed" color="#0ebe99" id=role_4d860fcc tooltip="Prepare services if needed"]
		role_4d860fcc -> role_2a8e0fa5 [label="1 [when: not environment_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_191ad53e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4d860fcc -> role_cb3b3296 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_10aed878 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_df85a5da [label="[role] Deploy the apps" color="#0ebe99" id=role_df85a5da tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_b2cbd747 [label="[role] Configure NFS" color="#0ebe99" id=role_b2cbd747 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_f3643dd6 [label="[role] Delegate to distro role to run post-deployment tasks" color="#0ebe99" id=role_f3643dd6 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_f3643dd6 -> role_df85a5da [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_017d4f91 labeltooltip="1 " tooltip="1 "]
		role_f3643dd6 -> role_b2cbd747 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#0ebe99" fontcolor="#0ebe99" id=edge_af7dd8dc labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_dfdf5f80 [label="[role] task-post-deployment" color="#0ebe99" id=role_dfdf5f80 tooltip="task-post-deployment"]
		role_dfdf5f80 -> role_4d860fcc [label="1 [when: not services_prepared]" color="#0ebe99" fontcolor="#0ebe99" id=edge_677b40bd labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_dfdf5f80 -> role_f3643dd6 [label="2 " color="#0ebe99" fontcolor="#0ebe99" id=edge_2b6651a1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_19bdcd8a -> block_faef9ce4 [label=1 color="#0ebe99" fontcolor="#0ebe99" id=edge_c904609c labeltooltip=1 tooltip=1]
		subgraph cluster_block_faef9ce4 {
			block_faef9ce4 [label="[block] Prepare the environment" color="#0ebe99" id=block_faef9ce4 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_faef9ce4 -> role_f97d37bf [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_d4f6979b labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_5b1523be [label=2 color="#0ebe99" fontcolor="#0ebe99" id=edge_9b5c3827 labeltooltip=2 tooltip=2]
		subgraph cluster_block_5b1523be {
			block_5b1523be [label="[block] Cleanup hypervisors" color="#0ebe99" id=block_5b1523be labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_5b1523be -> role_e5eb15d1 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_f40324f6 labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_2da05180 [label=3 color="#0ebe99" fontcolor="#0ebe99" id=edge_a2b5e187 labeltooltip=3 tooltip=3]
		subgraph cluster_block_2da05180 {
			block_2da05180 [label="[block] Run validations on cluster resources" color="#0ebe99" id=block_2da05180 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_2da05180 -> role_f86bf2dd [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_5f3b0b04 labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_0e7af396 [label=4 color="#0ebe99" fontcolor="#0ebe99" id=edge_e0835961 labeltooltip=4 tooltip=4]
		subgraph cluster_block_0e7af396 {
			block_0e7af396 [label="[block] Create the cluster network resources" color="#0ebe99" id=block_0e7af396 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_0e7af396 -> role_f57e3a9c [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_ab1d7689 labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_53c988c1 [label=5 color="#0ebe99" fontcolor="#0ebe99" id=edge_5ff930cc labeltooltip=5 tooltip=5]
		subgraph cluster_block_53c988c1 {
			block_53c988c1 [label="[block] Create services the cluster will need" color="#0ebe99" id=block_53c988c1 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_53c988c1 -> role_36c786dc [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_c26ac269 labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_901ecc5f [label=6 color="#0ebe99" fontcolor="#0ebe99" id=edge_d161cae1 labeltooltip=6 tooltip=6]
		subgraph cluster_block_901ecc5f {
			block_901ecc5f [label="[block] Prepare to deploy the cluster" color="#0ebe99" id=block_901ecc5f labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_901ecc5f -> role_b7f583fd [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_82e4e7a8 labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_3ac6d416 [label=7 color="#0ebe99" fontcolor="#0ebe99" id=edge_e5854920 labeltooltip=7 tooltip=7]
		subgraph cluster_block_3ac6d416 {
			block_3ac6d416 [label="[block] Download cloud images" color="#0ebe99" id=block_3ac6d416 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_3ac6d416 -> role_49ab97c0 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_1c2fb830 labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_f45e92cd [label=8 color="#0ebe99" fontcolor="#0ebe99" id=edge_ee7d5420 labeltooltip=8 tooltip=8]
		subgraph cluster_block_f45e92cd {
			block_f45e92cd [label="[block] Deploy the cluster" color="#0ebe99" id=block_f45e92cd labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_f45e92cd -> role_b6820580 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_c0b33a3f labeltooltip="1 " tooltip="1 "]
		}
		play_19bdcd8a -> block_01e27d6f [label=9 color="#0ebe99" fontcolor="#0ebe99" id=edge_45c34ed0 labeltooltip=9 tooltip=9]
		subgraph cluster_block_01e27d6f {
			block_01e27d6f [label="[block] Run any post-deployment tasks" color="#0ebe99" id=block_01e27d6f labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_01e27d6f -> role_dfdf5f80 [label="1 " color="#0ebe99" fontcolor="#0ebe99" id=edge_a29a44da labeltooltip="1 " tooltip="1 "]
		}
	}
}
