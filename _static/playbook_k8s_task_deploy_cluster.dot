digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_3524a264 style=dotted]
	play_44dbc6c2 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ca9c02" fontcolor="#ffffff" id=play_44dbc6c2 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_44dbc6c2 [label="1 " color="#ca9c02" fontcolor="#ca9c02" id=edge_9cc8b435 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_7af89260 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#ca9c02" id=role_7af89260 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_33bbfb78 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#ca9c02" id=role_33bbfb78 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2424935e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#ca9c02" id=role_2424935e tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_f6736c0c [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ca9c02" id=role_f6736c0c tooltip="task-gather-facts"]
		role_f6736c0c -> role_7af89260 [label="1 " color="#ca9c02" fontcolor="#ca9c02" id=edge_b742ed7c labeltooltip="1 " tooltip="1 "]
		role_f6736c0c -> role_33bbfb78 [label="2 " color="#ca9c02" fontcolor="#ca9c02" id=edge_5c7c829d labeltooltip="2 " tooltip="2 "]
		role_f6736c0c -> role_2424935e [label="3 " color="#ca9c02" fontcolor="#ca9c02" id=edge_1748b1da labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_44dbc6c2 -> block_d12c0775 [label=1 color="#ca9c02" fontcolor="#ca9c02" id=edge_a71d1ca5 labeltooltip=1 tooltip=1]
		subgraph cluster_block_d12c0775 {
			block_d12c0775 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ca9c02" id=block_d12c0775 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_d12c0775 -> role_f6736c0c [label="1 " color="#ca9c02" fontcolor="#ca9c02" id=edge_5b836bb4 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_5feeb80e [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#93394a" fontcolor="#ffffff" id=play_5feeb80e shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_5feeb80e [label="2 " color="#93394a" fontcolor="#93394a" id=edge_5d74f4c8 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_c2755fd0 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#93394a" id=role_c2755fd0 tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_5feeb80e -> block_ad017474 [label=1 color="#93394a" fontcolor="#93394a" id=edge_f225c014 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ad017474 {
			block_ad017474 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#93394a" id=block_ad017474 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_ad017474 -> role_c2755fd0 [label="1 " color="#93394a" fontcolor="#93394a" id=edge_f0238cad labeltooltip="1 " tooltip="1 "]
		}
	}
	play_5de834a5 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528943" fontcolor="#ffffff" id=play_5de834a5 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_5de834a5 [label="3 " color="#528943" fontcolor="#528943" id=edge_1b51d7b2 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_58c167ee [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#528943" id=role_58c167ee tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_87cf282d [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528943" id=role_87cf282d tooltip="Gather facts to prepare the cluster hypervisors"]
		role_87cf282d -> role_58c167ee [label="1 " color="#528943" fontcolor="#528943" id=edge_49afcb6c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_34f31d3a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#528943" id=role_34f31d3a tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_f3f102a2 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528943" id=role_f3f102a2 tooltip="task-prepare-hypervisors"]
		role_f3f102a2 -> role_34f31d3a [label="1 " color="#528943" fontcolor="#528943" id=edge_69945771 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_5de834a5 -> block_cdf5f27c [label=1 color="#528943" fontcolor="#528943" id=edge_361bc098 labeltooltip=1 tooltip=1]
		subgraph cluster_block_cdf5f27c {
			block_cdf5f27c [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528943" id=block_cdf5f27c labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_cdf5f27c -> role_87cf282d [label="1 " color="#528943" fontcolor="#528943" id=edge_a09323a4 labeltooltip="1 " tooltip="1 "]
		}
		play_5de834a5 -> block_c271f0e5 [label=2 color="#528943" fontcolor="#528943" id=edge_346c3ab0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_c271f0e5 {
			block_c271f0e5 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528943" id=block_c271f0e5 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_c271f0e5 -> role_f3f102a2 [label="1 " color="#528943" fontcolor="#528943" id=edge_fd15a478 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_fee6b5f5 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#547864" fontcolor="#ffffff" id=play_fee6b5f5 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_fee6b5f5 [label="4 " color="#547864" fontcolor="#547864" id=edge_13346dfd labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_090e4488 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#547864" id=role_090e4488 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_eabb3383 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#547864" id=role_eabb3383 tooltip="Prepare each hypervisor in the deployment"]
		role_eabb3383 -> role_090e4488 [label="1 " color="#547864" fontcolor="#547864" id=edge_48f6eb51 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_fee6b5f5 -> block_11664627 [label=1 color="#547864" fontcolor="#547864" id=edge_56099e58 labeltooltip=1 tooltip=1]
		subgraph cluster_block_11664627 {
			block_11664627 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#547864" id=block_11664627 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_11664627 -> role_eabb3383 [label="1 " color="#547864" fontcolor="#547864" id=edge_cccb2835 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_c89c98aa [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" fontcolor="#ffffff" id=play_c89c98aa shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_c89c98aa [label="5 " color="#0997c3" fontcolor="#0997c3" id=edge_181baeae labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_84542a0a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_84542a0a tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_31e0c8d5 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_31e0c8d5 tooltip="task-prepare-environment"]
		role_31e0c8d5 -> role_84542a0a [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_b0362886 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a8187512 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_a8187512 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_52585473 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#0997c3" id=role_52585473 tooltip="Prepare environment if not prepared"]
		role_52585473 -> role_a8187512 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_6b920473 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_95ad648e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#0997c3" id=role_95ad648e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_f0c9de4d [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_f0c9de4d tooltip="task-cleanup-hypervisors"]
		role_f0c9de4d -> role_52585473 [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_349d43b9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f0c9de4d -> role_95ad648e [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_1b0fc0a8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_3f8f8b45 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_3f8f8b45 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_62692b66 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#0997c3" id=role_62692b66 tooltip="Prepare environment if not prepared"]
		role_62692b66 -> role_3f8f8b45 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_260ff4f4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_c329b190 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#0997c3" id=role_c329b190 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_b7531989 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#0997c3" id=role_b7531989 tooltip="Cleanup hypervisors if needed"]
		role_b7531989 -> role_62692b66 [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_b9b273a9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b7531989 -> role_c329b190 [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_a992d1e0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_a1ed7855 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_a1ed7855 tooltip="task-run-validations"]
		role_a1ed7855 -> role_b7531989 [label="1 [when: not hypervisors_cleaned]" color="#0997c3" fontcolor="#0997c3" id=edge_f0ad132d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_627787eb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_627787eb tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_81b78c38 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#0997c3" id=role_81b78c38 tooltip="Prepare environment if not prepared"]
		role_81b78c38 -> role_627787eb [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_14a9bf77 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_804030b6 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#0997c3" id=role_804030b6 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_5808db8b [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#0997c3" id=role_5808db8b tooltip="Cleanup hypervisors if needed"]
		role_5808db8b -> role_81b78c38 [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_171a68ab labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5808db8b -> role_804030b6 [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_061746f0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_a8236b43 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_a8236b43 tooltip="task-create-network"]
		role_a8236b43 -> role_5808db8b [label="1 [when: not hypervisors_cleaned]" color="#0997c3" fontcolor="#0997c3" id=edge_54975c74 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_119e2ca9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_119e2ca9 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_235cd221 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#0997c3" id=role_235cd221 tooltip="Prepare environment if not prepared"]
		role_235cd221 -> role_119e2ca9 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_ffedce24 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_b35c123a [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#0997c3" id=role_b35c123a tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_46e19311 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#0997c3" id=role_46e19311 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_43f5752b [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#0997c3" id=role_43f5752b tooltip="Configure Bind"]
		role_43f5752b -> role_46e19311 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_eeeb1b91 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2d413b55 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#0997c3" id=role_2d413b55 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_71d927f6 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#0997c3" id=role_71d927f6 tooltip="Configure Dnsmasq"]
		role_71d927f6 -> role_2d413b55 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_c8722ed0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_99aff345 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#0997c3" id=role_99aff345 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_e0c347e3 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#0997c3" id=role_e0c347e3 tooltip="Configure HAProxy"]
		role_e0c347e3 -> role_99aff345 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_c863399b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_565b5182 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#0997c3" id=role_565b5182 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_18b69180 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#0997c3" id=role_18b69180 tooltip="Configure Nexus"]
		role_18b69180 -> role_565b5182 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_3d1a6c13 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f7cffd25 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#0997c3" id=role_f7cffd25 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_6912aa7b [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#0997c3" id=role_6912aa7b tooltip="Configure Apache"]
		role_6912aa7b -> role_f7cffd25 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_e29f7e2f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4d7ba86b [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#0997c3" id=role_4d7ba86b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_0d21ee5c [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#0997c3" id=role_0d21ee5c tooltip="Configure a local container image registry"]
		role_0d21ee5c -> role_4d7ba86b [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_fe6d8d3d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_ab2d8082 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_ab2d8082 tooltip="task-create-services"]
		role_ab2d8082 -> role_235cd221 [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_21f5453e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ab2d8082 -> role_b35c123a [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_8ecc96d1 labeltooltip="2 " tooltip="2 "]
		role_ab2d8082 -> role_43f5752b [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#0997c3" fontcolor="#0997c3" id=edge_77448d2a labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_ab2d8082 -> role_71d927f6 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#0997c3" fontcolor="#0997c3" id=edge_ea74af50 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_ab2d8082 -> role_e0c347e3 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#0997c3" fontcolor="#0997c3" id=edge_df83cdc5 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_ab2d8082 -> role_18b69180 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#0997c3" fontcolor="#0997c3" id=edge_9bfce69a labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_ab2d8082 -> role_6912aa7b [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#0997c3" fontcolor="#0997c3" id=edge_78e927f2 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_ab2d8082 -> role_0d21ee5c [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#0997c3" fontcolor="#0997c3" id=edge_a1c57606 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_9be3832c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_9be3832c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_f718d7fb [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#0997c3" id=role_f718d7fb tooltip="Prepare environment if needed"]
		role_f718d7fb -> role_9be3832c [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_a62d961c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_8aa0c877 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#0997c3" id=role_8aa0c877 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7afa5ffe [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#0997c3" id=role_7afa5ffe tooltip="Prepare services if needed"]
		role_7afa5ffe -> role_f718d7fb [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_883c0422 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7afa5ffe -> role_8aa0c877 [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_f79b3b99 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_939ade2c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#0997c3" id=role_939ade2c tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_8908cb6e [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#0997c3" id=role_8908cb6e tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_436488bf [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#0997c3" id=role_436488bf tooltip="Setup the cluster provision container"]
		role_436488bf -> role_939ade2c [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_6f4c5e1a labeltooltip="1 " tooltip="1 "]
		role_436488bf -> role_8908cb6e [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_7782de03 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_12b2940e [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#0997c3" id=role_12b2940e tooltip="Delegate to the distro role to prepare the cluster"]
		role_12b2940e -> role_436488bf [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_b17209f6 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_eef212a5 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_eef212a5 tooltip="task-prepare-cluster"]
		role_eef212a5 -> role_7afa5ffe [label="1 [when: not services_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_7970fe85 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_eef212a5 -> role_12b2940e [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_1fc28820 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a02f7d5b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_a02f7d5b tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c26c8cea [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#0997c3" id=role_c26c8cea tooltip="Prepare environment if not prepared"]
		role_c26c8cea -> role_a02f7d5b [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_4925a8b8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_9e2decef [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_9e2decef tooltip="task-download-images"]
		role_9e2decef -> role_c26c8cea [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_f38e122c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_3892b281 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_3892b281 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_f1504013 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#0997c3" id=role_f1504013 tooltip="Prepare environment if needed"]
		role_f1504013 -> role_3892b281 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_41890377 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_cce96297 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#0997c3" id=role_cce96297 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_16141588 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#0997c3" id=role_16141588 tooltip="Prepare services if needed"]
		role_16141588 -> role_f1504013 [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_9611d752 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_16141588 -> role_cce96297 [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_4fdde625 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_ee3e292d [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=role_ee3e292d tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_fd20354d [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#0997c3" id=role_fd20354d tooltip="Delegate to the distro role to deploy the cluster"]
		role_fd20354d -> role_ee3e292d [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#0997c3" fontcolor="#0997c3" id=edge_6a0c277b labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_e2938463 [label="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_e2938463 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster"]
		role_fd20354d -> task_e2938463 [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_382643e2 labeltooltip="2 " tooltip="2 "]
		task_1f6c8b70 [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_1f6c8b70 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
		role_fd20354d -> task_1f6c8b70 [label="3 " color="#0997c3" fontcolor="#0997c3" id=edge_c145aea9 labeltooltip="3 " tooltip="3 "]
		task_24d6eb4b [label="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_24d6eb4b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key"]
		role_fd20354d -> task_24d6eb4b [label="4 [when: ('--control-plane --certificate-key' in item)]" color="#0997c3" fontcolor="#0997c3" id=edge_068174a4 labeltooltip="4 [when: ('--control-plane --certificate-key' in item)]" tooltip="4 [when: ('--control-plane --certificate-key' in item)]"]
		task_127cbaa1 [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_127cbaa1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
		role_fd20354d -> task_127cbaa1 [label="5 " color="#0997c3" fontcolor="#0997c3" id=edge_f86dbefa labeltooltip="5 " tooltip="5 "]
		task_04338c3a [label="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_04338c3a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes."]
		role_fd20354d -> task_04338c3a [label="6 [when: kubeinit_controller_count|int > 1]" color="#0997c3" fontcolor="#0997c3" id=edge_c96b6bff labeltooltip="6 [when: kubeinit_controller_count|int > 1]" tooltip="6 [when: kubeinit_controller_count|int > 1]"]
		task_dfc8a15e [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_dfc8a15e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_fd20354d -> task_dfc8a15e [label="7 " color="#0997c3" fontcolor="#0997c3" id=edge_1327cdbf labeltooltip="7 " tooltip="7 "]
		task_9a90a972 [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_9a90a972 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
		role_fd20354d -> task_9a90a972 [label="8 " color="#0997c3" fontcolor="#0997c3" id=edge_b272b1f7 labeltooltip="8 " tooltip="8 "]
		task_8ff6245f [label="kubeinit.kubeinit.kubeinit_k8s : Get the join command" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_8ff6245f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the join command"]
		role_fd20354d -> task_8ff6245f [label="9 " color="#0997c3" fontcolor="#0997c3" id=edge_46bddd96 labeltooltip="9 " tooltip="9 "]
		task_3f4cfbb7 [label="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_3f4cfbb7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token."]
		role_fd20354d -> task_3f4cfbb7 [label="10 [when: kubeinit_controller_count|int > 1]" color="#0997c3" fontcolor="#0997c3" id=edge_80218902 labeltooltip="10 [when: kubeinit_controller_count|int > 1]" tooltip="10 [when: kubeinit_controller_count|int > 1]"]
		task_787a9d06 [label="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_787a9d06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on"]
		role_fd20354d -> task_787a9d06 [label="11 " color="#0997c3" fontcolor="#0997c3" id=edge_c9411ccf labeltooltip="11 " tooltip="11 "]
		task_eee42027 [label="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_eee42027 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK"]
		role_fd20354d -> task_eee42027 [label="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#0997c3" fontcolor="#0997c3" id=edge_28115e13 labeltooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_47f6a282 [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_47f6a282 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_fd20354d -> task_47f6a282 [label="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#0997c3" fontcolor="#0997c3" id=edge_d69c799a labeltooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_579a554a [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_579a554a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
		role_fd20354d -> task_579a554a [label="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#0997c3" fontcolor="#0997c3" id=edge_074e20ca labeltooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_83bd969f [label="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_83bd969f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane"]
		role_fd20354d -> task_83bd969f [label="15 " color="#0997c3" fontcolor="#0997c3" id=edge_86c10d40 labeltooltip="15 " tooltip="15 "]
		task_aa38910c [label="kubeinit.kubeinit.kubeinit_k8s : Label node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_aa38910c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Label node"]
		role_fd20354d -> task_aa38910c [label="16 " color="#0997c3" fontcolor="#0997c3" id=edge_364837d8 labeltooltip="16 " tooltip="16 "]
		task_a85e5b65 [label="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_a85e5b65 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes"]
		role_fd20354d -> task_a85e5b65 [label="17 [when: not kubeinit_compute_count|int > 0]" color="#0997c3" fontcolor="#0997c3" id=edge_5b10d6df labeltooltip="17 [when: not kubeinit_compute_count|int > 0]" tooltip="17 [when: not kubeinit_compute_count|int > 0]"]
		task_7ce7633c [label="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_7ce7633c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable"]
		role_fd20354d -> task_7ce7633c [label="18 " color="#0997c3" fontcolor="#0997c3" id=edge_c3109359 labeltooltip="18 " tooltip="18 "]
		task_bb62160d [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_bb62160d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_fd20354d -> task_bb62160d [label="19 " color="#0997c3" fontcolor="#0997c3" id=edge_2c758987 labeltooltip="19 " tooltip="19 "]
		task_951bd822 [label="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#0997c3" id=task_951bd822 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine."]
		role_fd20354d -> task_951bd822 [label="20 " color="#0997c3" fontcolor="#0997c3" id=edge_5fadf7f2 labeltooltip="20 " tooltip="20 "]
	}
	subgraph "task-deploy-cluster" {
		role_529a7737 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_529a7737 tooltip="task-deploy-cluster"]
		role_529a7737 -> role_16141588 [label="1 [when: not services_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_1bdc23c7 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_529a7737 -> role_fd20354d [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_9c14e4fe labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6fbfec44 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0997c3" id=role_6fbfec44 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_fb43d23f [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#0997c3" id=role_fb43d23f tooltip="Prepare environment if needed"]
		role_fb43d23f -> role_6fbfec44 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_d56b5f30 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_56e40b9d [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#0997c3" id=role_56e40b9d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_e0bd2da2 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#0997c3" id=role_e0bd2da2 tooltip="Prepare services if needed"]
		role_e0bd2da2 -> role_fb43d23f [label="1 [when: not environment_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_fee42983 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e0bd2da2 -> role_56e40b9d [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_28e9aa3f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_aae8f695 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#0997c3" id=role_aae8f695 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_b12db993 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#0997c3" id=role_b12db993 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_e301a476 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#0997c3" id=role_e301a476 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_e301a476 -> role_aae8f695 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_49a99e44 labeltooltip="1 " tooltip="1 "]
		role_e301a476 -> role_b12db993 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#0997c3" fontcolor="#0997c3" id=edge_ebc74ba3 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_14d85136 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=role_14d85136 tooltip="task-post-deployment"]
		role_14d85136 -> role_e0bd2da2 [label="1 [when: not services_prepared]" color="#0997c3" fontcolor="#0997c3" id=edge_41dd6bf4 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_14d85136 -> role_e301a476 [label="2 " color="#0997c3" fontcolor="#0997c3" id=edge_174b7867 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_c89c98aa -> block_ebfceaa9 [label=1 color="#0997c3" fontcolor="#0997c3" id=edge_d97aa5e7 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ebfceaa9 {
			block_ebfceaa9 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_ebfceaa9 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_ebfceaa9 -> role_31e0c8d5 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_a23c6a41 labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_dd5c840d [label=2 color="#0997c3" fontcolor="#0997c3" id=edge_3e4c7b2e labeltooltip=2 tooltip=2]
		subgraph cluster_block_dd5c840d {
			block_dd5c840d [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_dd5c840d labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_dd5c840d -> role_f0c9de4d [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_a9a6b039 labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_465437cf [label=3 color="#0997c3" fontcolor="#0997c3" id=edge_0f0d4810 labeltooltip=3 tooltip=3]
		subgraph cluster_block_465437cf {
			block_465437cf [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_465437cf labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_465437cf -> role_a1ed7855 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_98cc26a3 labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_27023c20 [label=4 color="#0997c3" fontcolor="#0997c3" id=edge_ffd7f552 labeltooltip=4 tooltip=4]
		subgraph cluster_block_27023c20 {
			block_27023c20 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_27023c20 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_27023c20 -> role_a8236b43 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_4ca50a5a labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_fd6c1089 [label=5 color="#0997c3" fontcolor="#0997c3" id=edge_8c579245 labeltooltip=5 tooltip=5]
		subgraph cluster_block_fd6c1089 {
			block_fd6c1089 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_fd6c1089 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_fd6c1089 -> role_ab2d8082 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_f05d0da2 labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_f9c11611 [label=6 color="#0997c3" fontcolor="#0997c3" id=edge_ff514e96 labeltooltip=6 tooltip=6]
		subgraph cluster_block_f9c11611 {
			block_f9c11611 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_f9c11611 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_f9c11611 -> role_eef212a5 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_83f9e9dd labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_be19fa5d [label=7 color="#0997c3" fontcolor="#0997c3" id=edge_3a82b9d6 labeltooltip=7 tooltip=7]
		subgraph cluster_block_be19fa5d {
			block_be19fa5d [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_be19fa5d labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_be19fa5d -> role_9e2decef [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_46412fd0 labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_48763012 [label=8 color="#0997c3" fontcolor="#0997c3" id=edge_9c58aa4e labeltooltip=8 tooltip=8]
		subgraph cluster_block_48763012 {
			block_48763012 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_48763012 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_48763012 -> role_529a7737 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_461e27bc labeltooltip="1 " tooltip="1 "]
		}
		play_c89c98aa -> block_ab06137f [label=9 color="#0997c3" fontcolor="#0997c3" id=edge_ba2866a2 labeltooltip=9 tooltip=9]
		subgraph cluster_block_ab06137f {
			block_ab06137f [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0997c3" id=block_ab06137f labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_ab06137f -> role_14d85136 [label="1 " color="#0997c3" fontcolor="#0997c3" id=edge_fbb0414b labeltooltip="1 " tooltip="1 "]
		}
	}
}
