digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_2d83f5f8 style=dotted]
	play_a0d05fc1 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#2c11bb" fontcolor="#ffffff" id=play_a0d05fc1 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_a0d05fc1 [label="1 " color="#2c11bb" fontcolor="#2c11bb" id=edge_9d9f3044 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_07b93424 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#2c11bb" id=role_07b93424 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_f9dc4fc7 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#2c11bb" id=role_f9dc4fc7 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_f15b24c5 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#2c11bb" id=role_f15b24c5 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_88dbc8b0 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#2c11bb" id=role_88dbc8b0 tooltip="task-gather-facts"]
		role_88dbc8b0 -> role_07b93424 [label="1 " color="#2c11bb" fontcolor="#2c11bb" id=edge_a3c3baad labeltooltip="1 " tooltip="1 "]
		role_88dbc8b0 -> role_f9dc4fc7 [label="2 " color="#2c11bb" fontcolor="#2c11bb" id=edge_1ccc86f2 labeltooltip="2 " tooltip="2 "]
		role_88dbc8b0 -> role_f15b24c5 [label="3 " color="#2c11bb" fontcolor="#2c11bb" id=edge_7174a22e labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_a0d05fc1 -> block_1c32100d [label=1 color="#2c11bb" fontcolor="#2c11bb" id=edge_189b2ed3 labeltooltip=1 tooltip=1]
		subgraph cluster_block_1c32100d {
			block_1c32100d [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#2c11bb" id=block_1c32100d labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_1c32100d -> role_88dbc8b0 [label="1 " color="#2c11bb" fontcolor="#2c11bb" id=edge_b20e49f1 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_17e997bf [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#821fad" fontcolor="#ffffff" id=play_17e997bf shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_17e997bf [label="2 " color="#821fad" fontcolor="#821fad" id=edge_223d1815 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_d5d0763c [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#821fad" id=role_d5d0763c tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_17e997bf -> block_a56e9355 [label=1 color="#821fad" fontcolor="#821fad" id=edge_32e483e7 labeltooltip=1 tooltip=1]
		subgraph cluster_block_a56e9355 {
			block_a56e9355 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#821fad" id=block_a56e9355 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_a56e9355 -> role_d5d0763c [label="1 " color="#821fad" fontcolor="#821fad" id=edge_cf7925b8 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_71b67faa [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a8243b" fontcolor="#ffffff" id=play_71b67faa shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_71b67faa [label="3 " color="#a8243b" fontcolor="#a8243b" id=edge_5564cc2c labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_88f11e4b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#a8243b" id=role_88f11e4b tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_7e49c768 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a8243b" id=role_7e49c768 tooltip="Gather facts to prepare the cluster hypervisors"]
		role_7e49c768 -> role_88f11e4b [label="1 " color="#a8243b" fontcolor="#a8243b" id=edge_661c7285 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_976cb02d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#a8243b" id=role_976cb02d tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_a62a1781 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a8243b" id=role_a62a1781 tooltip="task-prepare-hypervisors"]
		role_a62a1781 -> role_976cb02d [label="1 " color="#a8243b" fontcolor="#a8243b" id=edge_6bc4a548 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_71b67faa -> block_aa35049b [label=1 color="#a8243b" fontcolor="#a8243b" id=edge_b4bd4417 labeltooltip=1 tooltip=1]
		subgraph cluster_block_aa35049b {
			block_aa35049b [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a8243b" id=block_aa35049b labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_aa35049b -> role_7e49c768 [label="1 " color="#a8243b" fontcolor="#a8243b" id=edge_fa7bc502 labeltooltip="1 " tooltip="1 "]
		}
		play_71b67faa -> block_faebf6f5 [label=2 color="#a8243b" fontcolor="#a8243b" id=edge_3fd60c9f labeltooltip=2 tooltip=2]
		subgraph cluster_block_faebf6f5 {
			block_faebf6f5 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a8243b" id=block_faebf6f5 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_faebf6f5 -> role_a62a1781 [label="1 " color="#a8243b" fontcolor="#a8243b" id=edge_b4c33ad2 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_c5869bae [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#438969" fontcolor="#ffffff" id=play_c5869bae shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_c5869bae [label="4 " color="#438969" fontcolor="#438969" id=edge_8ce2dd33 labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_17af43ba [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#438969" id=role_17af43ba tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_9976ccf7 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#438969" id=role_9976ccf7 tooltip="Prepare each hypervisor in the deployment"]
		role_9976ccf7 -> role_17af43ba [label="1 " color="#438969" fontcolor="#438969" id=edge_01e0f889 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_c5869bae -> block_ce6047bc [label=1 color="#438969" fontcolor="#438969" id=edge_056b8d0b labeltooltip=1 tooltip=1]
		subgraph cluster_block_ce6047bc {
			block_ce6047bc [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#438969" id=block_ce6047bc labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_ce6047bc -> role_9976ccf7 [label="1 " color="#438969" fontcolor="#438969" id=edge_43ffd4bf labeltooltip="1 " tooltip="1 "]
		}
	}
	play_f0c3fc6c [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" fontcolor="#ffffff" id=play_f0c3fc6c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_f0c3fc6c [label="5 " color="#87455d" fontcolor="#87455d" id=edge_36c75e38 labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_1e14e89e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_1e14e89e tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_b7025a02 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_b7025a02 tooltip="task-prepare-environment"]
		role_b7025a02 -> role_1e14e89e [label="1 " color="#87455d" fontcolor="#87455d" id=edge_42e0fbcc labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_249eaa68 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_249eaa68 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_7909e785 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87455d" id=role_7909e785 tooltip="Prepare environment if not prepared"]
		role_7909e785 -> role_249eaa68 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_10490833 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_1281aa59 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87455d" id=role_1281aa59 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_3ea5ff71 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_3ea5ff71 tooltip="task-cleanup-hypervisors"]
		role_3ea5ff71 -> role_7909e785 [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_0cf61f71 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3ea5ff71 -> role_1281aa59 [label="2 " color="#87455d" fontcolor="#87455d" id=edge_d0452245 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_18e1bf4e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_18e1bf4e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b19ea9b7 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87455d" id=role_b19ea9b7 tooltip="Prepare environment if not prepared"]
		role_b19ea9b7 -> role_18e1bf4e [label="1 " color="#87455d" fontcolor="#87455d" id=edge_ba159e46 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_ca7a7bbb [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87455d" id=role_ca7a7bbb tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_250c5044 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#87455d" id=role_250c5044 tooltip="Cleanup hypervisors if needed"]
		role_250c5044 -> role_b19ea9b7 [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_ff9fc630 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_250c5044 -> role_ca7a7bbb [label="2 " color="#87455d" fontcolor="#87455d" id=edge_a2e4f35f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_fdb98211 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_fdb98211 tooltip="task-run-validations"]
		role_fdb98211 -> role_250c5044 [label="1 [when: not hypervisors_cleaned]" color="#87455d" fontcolor="#87455d" id=edge_d8047177 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_28e44fe8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_28e44fe8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b2a8ca9d [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87455d" id=role_b2a8ca9d tooltip="Prepare environment if not prepared"]
		role_b2a8ca9d -> role_28e44fe8 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_44a372cd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_68dea7cd [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87455d" id=role_68dea7cd tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_f7398678 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#87455d" id=role_f7398678 tooltip="Cleanup hypervisors if needed"]
		role_f7398678 -> role_b2a8ca9d [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_0d3c263e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f7398678 -> role_68dea7cd [label="2 " color="#87455d" fontcolor="#87455d" id=edge_d45b5b75 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_1bbddc85 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_1bbddc85 tooltip="task-create-network"]
		role_1bbddc85 -> role_f7398678 [label="1 [when: not hypervisors_cleaned]" color="#87455d" fontcolor="#87455d" id=edge_7b99cd75 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_2a0a2b44 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_2a0a2b44 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_4959ac94 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#87455d" id=role_4959ac94 tooltip="Prepare environment if not prepared"]
		role_4959ac94 -> role_2a0a2b44 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_6a7df747 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_34e40f04 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#87455d" id=role_34e40f04 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_907a5093 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#87455d" id=role_907a5093 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_dd2b18e3 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87455d" id=role_dd2b18e3 tooltip="Configure Bind"]
		role_dd2b18e3 -> role_907a5093 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_7253886a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a87d240c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#87455d" id=role_a87d240c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_152dcb97 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87455d" id=role_152dcb97 tooltip="Configure Dnsmasq"]
		role_152dcb97 -> role_a87d240c [label="1 " color="#87455d" fontcolor="#87455d" id=edge_027ce12c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ce5a932d [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#87455d" id=role_ce5a932d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_57060485 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87455d" id=role_57060485 tooltip="Configure HAProxy"]
		role_57060485 -> role_ce5a932d [label="1 " color="#87455d" fontcolor="#87455d" id=edge_ae6523a4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3d9a2b94 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#87455d" id=role_3d9a2b94 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_42154571 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87455d" id=role_42154571 tooltip="Configure Nexus"]
		role_42154571 -> role_3d9a2b94 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_ab90239c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_38711854 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#87455d" id=role_38711854 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_ae2323f5 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87455d" id=role_ae2323f5 tooltip="Configure Apache"]
		role_ae2323f5 -> role_38711854 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_49d1a231 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_46827c78 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#87455d" id=role_46827c78 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_0db768c0 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87455d" id=role_0db768c0 tooltip="Configure a local container image registry"]
		role_0db768c0 -> role_46827c78 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_0c274170 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_8b36f7c0 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_8b36f7c0 tooltip="task-create-services"]
		role_8b36f7c0 -> role_4959ac94 [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_4fbfa636 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8b36f7c0 -> role_34e40f04 [label="2 " color="#87455d" fontcolor="#87455d" id=edge_94a586f4 labeltooltip="2 " tooltip="2 "]
		role_8b36f7c0 -> role_dd2b18e3 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#87455d" fontcolor="#87455d" id=edge_7c8409b7 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_8b36f7c0 -> role_152dcb97 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#87455d" fontcolor="#87455d" id=edge_1f2e92e8 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_8b36f7c0 -> role_57060485 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#87455d" fontcolor="#87455d" id=edge_2a129317 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_8b36f7c0 -> role_42154571 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#87455d" fontcolor="#87455d" id=edge_effc850a labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_8b36f7c0 -> role_ae2323f5 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#87455d" fontcolor="#87455d" id=edge_de236df6 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_8b36f7c0 -> role_0db768c0 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#87455d" fontcolor="#87455d" id=edge_83f81081 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_a3614284 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_a3614284 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_4ec61874 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87455d" id=role_4ec61874 tooltip="Prepare environment if needed"]
		role_4ec61874 -> role_a3614284 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_dc8fb2a1 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_724cc511 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87455d" id=role_724cc511 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_36ab160c [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#87455d" id=role_36ab160c tooltip="Prepare services if needed"]
		role_36ab160c -> role_4ec61874 [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_d99b6975 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_36ab160c -> role_724cc511 [label="2 " color="#87455d" fontcolor="#87455d" id=edge_9f3b45d4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_76a33267 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#87455d" id=role_76a33267 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_ebd53feb [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#87455d" id=role_ebd53feb tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_c14c071a [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#87455d" id=role_c14c071a tooltip="Setup the cluster provision container"]
		role_c14c071a -> role_76a33267 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_530dd44e labeltooltip="1 " tooltip="1 "]
		role_c14c071a -> role_ebd53feb [label="2 " color="#87455d" fontcolor="#87455d" id=edge_ed73cab5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_c5c9c3ba [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#87455d" id=role_c5c9c3ba tooltip="Delegate to the distro role to prepare the cluster"]
		role_c5c9c3ba -> role_c14c071a [label="1 " color="#87455d" fontcolor="#87455d" id=edge_4c2a5136 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_18114018 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_18114018 tooltip="task-prepare-cluster"]
		role_18114018 -> role_36ab160c [label="1 [when: not services_prepared]" color="#87455d" fontcolor="#87455d" id=edge_b7a1bf4f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_18114018 -> role_c5c9c3ba [label="2 " color="#87455d" fontcolor="#87455d" id=edge_b1d93867 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_9d6467cb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_9d6467cb tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ceec6836 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#87455d" id=role_ceec6836 tooltip="Prepare environment if not prepared"]
		role_ceec6836 -> role_9d6467cb [label="1 " color="#87455d" fontcolor="#87455d" id=edge_86da2846 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_3307d497 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_3307d497 tooltip="task-download-images"]
		role_3307d497 -> role_ceec6836 [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_030938f1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_748c0bb0 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_748c0bb0 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_771ded1c [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87455d" id=role_771ded1c tooltip="Prepare environment if needed"]
		role_771ded1c -> role_748c0bb0 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_953099d1 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_9b0f2b7e [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87455d" id=role_9b0f2b7e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_29828cf3 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#87455d" id=role_29828cf3 tooltip="Prepare services if needed"]
		role_29828cf3 -> role_771ded1c [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_be4b58df labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_29828cf3 -> role_9b0f2b7e [label="2 " color="#87455d" fontcolor="#87455d" id=edge_fd8ecf9f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_72c81db1 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=role_72c81db1 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_bab1c585 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#87455d" id=role_bab1c585 tooltip="Delegate to the distro role to deploy the cluster"]
		role_bab1c585 -> role_72c81db1 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#87455d" fontcolor="#87455d" id=edge_0f2dfcc9 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_748618a7 [label="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_748618a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster"]
		role_bab1c585 -> task_748618a7 [label="2 " color="#87455d" fontcolor="#87455d" id=edge_d766c6b3 labeltooltip="2 " tooltip="2 "]
		task_1d0ee9c8 [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_1d0ee9c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
		role_bab1c585 -> task_1d0ee9c8 [label="3 " color="#87455d" fontcolor="#87455d" id=edge_b922e4ff labeltooltip="3 " tooltip="3 "]
		task_e490d891 [label="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_e490d891 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key"]
		role_bab1c585 -> task_e490d891 [label="4 [when: ('--control-plane --certificate-key' in item)]" color="#87455d" fontcolor="#87455d" id=edge_ca077525 labeltooltip="4 [when: ('--control-plane --certificate-key' in item)]" tooltip="4 [when: ('--control-plane --certificate-key' in item)]"]
		task_25687154 [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_25687154 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
		role_bab1c585 -> task_25687154 [label="5 " color="#87455d" fontcolor="#87455d" id=edge_61cf748e labeltooltip="5 " tooltip="5 "]
		task_50c1b43c [label="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_50c1b43c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes."]
		role_bab1c585 -> task_50c1b43c [label="6 [when: kubeinit_controller_count|int > 1]" color="#87455d" fontcolor="#87455d" id=edge_936c7fb5 labeltooltip="6 [when: kubeinit_controller_count|int > 1]" tooltip="6 [when: kubeinit_controller_count|int > 1]"]
		task_96592bae [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_96592bae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_bab1c585 -> task_96592bae [label="7 " color="#87455d" fontcolor="#87455d" id=edge_3b8a6fb8 labeltooltip="7 " tooltip="7 "]
		task_072dc09f [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_072dc09f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
		role_bab1c585 -> task_072dc09f [label="8 " color="#87455d" fontcolor="#87455d" id=edge_49a014a4 labeltooltip="8 " tooltip="8 "]
		task_d76b243c [label="kubeinit.kubeinit.kubeinit_k8s : Get the join command" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_d76b243c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the join command"]
		role_bab1c585 -> task_d76b243c [label="9 " color="#87455d" fontcolor="#87455d" id=edge_fb24564f labeltooltip="9 " tooltip="9 "]
		task_22240e31 [label="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_22240e31 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token."]
		role_bab1c585 -> task_22240e31 [label="10 [when: kubeinit_controller_count|int > 1]" color="#87455d" fontcolor="#87455d" id=edge_e35b9abd labeltooltip="10 [when: kubeinit_controller_count|int > 1]" tooltip="10 [when: kubeinit_controller_count|int > 1]"]
		task_94982c0f [label="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_94982c0f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on"]
		role_bab1c585 -> task_94982c0f [label="11 " color="#87455d" fontcolor="#87455d" id=edge_48549441 labeltooltip="11 " tooltip="11 "]
		task_9182cb34 [label="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_9182cb34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK"]
		role_bab1c585 -> task_9182cb34 [label="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#87455d" fontcolor="#87455d" id=edge_ee32ab5c labeltooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_37acfbee [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_37acfbee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_bab1c585 -> task_37acfbee [label="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#87455d" fontcolor="#87455d" id=edge_2bfebd49 labeltooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_94e4c47c [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_94e4c47c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
		role_bab1c585 -> task_94e4c47c [label="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#87455d" fontcolor="#87455d" id=edge_eafbb6f3 labeltooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_7bb56a4f [label="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_7bb56a4f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane"]
		role_bab1c585 -> task_7bb56a4f [label="15 " color="#87455d" fontcolor="#87455d" id=edge_4df4e041 labeltooltip="15 " tooltip="15 "]
		task_e5b716a6 [label="kubeinit.kubeinit.kubeinit_k8s : Label node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_e5b716a6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Label node"]
		role_bab1c585 -> task_e5b716a6 [label="16 " color="#87455d" fontcolor="#87455d" id=edge_fdab392c labeltooltip="16 " tooltip="16 "]
		task_8bf31f47 [label="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_8bf31f47 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes"]
		role_bab1c585 -> task_8bf31f47 [label="17 [when: not kubeinit_compute_count|int > 0]" color="#87455d" fontcolor="#87455d" id=edge_7b4c646d labeltooltip="17 [when: not kubeinit_compute_count|int > 0]" tooltip="17 [when: not kubeinit_compute_count|int > 0]"]
		task_9e4da669 [label="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_9e4da669 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable"]
		role_bab1c585 -> task_9e4da669 [label="18 " color="#87455d" fontcolor="#87455d" id=edge_f3c76f7a labeltooltip="18 " tooltip="18 "]
		task_c5a21ed2 [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_c5a21ed2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_bab1c585 -> task_c5a21ed2 [label="19 " color="#87455d" fontcolor="#87455d" id=edge_6e90fa12 labeltooltip="19 " tooltip="19 "]
		task_a5f78cbd [label="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#87455d" id=task_a5f78cbd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine."]
		role_bab1c585 -> task_a5f78cbd [label="20 " color="#87455d" fontcolor="#87455d" id=edge_c640ded4 labeltooltip="20 " tooltip="20 "]
	}
	subgraph "task-deploy-cluster" {
		role_628b5aab [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_628b5aab tooltip="task-deploy-cluster"]
		role_628b5aab -> role_29828cf3 [label="1 [when: not services_prepared]" color="#87455d" fontcolor="#87455d" id=edge_04beb7fd labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_628b5aab -> role_bab1c585 [label="2 " color="#87455d" fontcolor="#87455d" id=edge_18f7a192 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_65379cb5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87455d" id=role_65379cb5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_5fede4b9 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87455d" id=role_5fede4b9 tooltip="Prepare environment if needed"]
		role_5fede4b9 -> role_65379cb5 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_50bd4e11 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_cb38beab [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87455d" id=role_cb38beab tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_44f2d749 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#87455d" id=role_44f2d749 tooltip="Prepare services if needed"]
		role_44f2d749 -> role_5fede4b9 [label="1 [when: not environment_prepared]" color="#87455d" fontcolor="#87455d" id=edge_bee31a15 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_44f2d749 -> role_cb38beab [label="2 " color="#87455d" fontcolor="#87455d" id=edge_f255947d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_b8769ce5 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#87455d" id=role_b8769ce5 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_d30d94bd [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#87455d" id=role_d30d94bd tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_91e3bea0 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#87455d" id=role_91e3bea0 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_91e3bea0 -> role_b8769ce5 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_16a5f735 labeltooltip="1 " tooltip="1 "]
		role_91e3bea0 -> role_d30d94bd [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#87455d" fontcolor="#87455d" id=edge_75062070 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_4a211bc0 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=role_4a211bc0 tooltip="task-post-deployment"]
		role_4a211bc0 -> role_44f2d749 [label="1 [when: not services_prepared]" color="#87455d" fontcolor="#87455d" id=edge_605dd4f9 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_4a211bc0 -> role_91e3bea0 [label="2 " color="#87455d" fontcolor="#87455d" id=edge_fd6bcf86 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_f0c3fc6c -> block_7a5b1717 [label=1 color="#87455d" fontcolor="#87455d" id=edge_e4385552 labeltooltip=1 tooltip=1]
		subgraph cluster_block_7a5b1717 {
			block_7a5b1717 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_7a5b1717 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_7a5b1717 -> role_b7025a02 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_39b160d6 labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_cf1c9743 [label=2 color="#87455d" fontcolor="#87455d" id=edge_4908df93 labeltooltip=2 tooltip=2]
		subgraph cluster_block_cf1c9743 {
			block_cf1c9743 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_cf1c9743 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_cf1c9743 -> role_3ea5ff71 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_0af8b447 labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_30fa383c [label=3 color="#87455d" fontcolor="#87455d" id=edge_763d0764 labeltooltip=3 tooltip=3]
		subgraph cluster_block_30fa383c {
			block_30fa383c [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_30fa383c labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_30fa383c -> role_fdb98211 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_6c19978e labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_bf692aa6 [label=4 color="#87455d" fontcolor="#87455d" id=edge_7ad1af26 labeltooltip=4 tooltip=4]
		subgraph cluster_block_bf692aa6 {
			block_bf692aa6 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_bf692aa6 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_bf692aa6 -> role_1bbddc85 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_e5bcd405 labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_435872d6 [label=5 color="#87455d" fontcolor="#87455d" id=edge_1b37becb labeltooltip=5 tooltip=5]
		subgraph cluster_block_435872d6 {
			block_435872d6 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_435872d6 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_435872d6 -> role_8b36f7c0 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_22ea1ca7 labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_6795ea7f [label=6 color="#87455d" fontcolor="#87455d" id=edge_1ea0ee31 labeltooltip=6 tooltip=6]
		subgraph cluster_block_6795ea7f {
			block_6795ea7f [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_6795ea7f labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_6795ea7f -> role_18114018 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_3a6861e8 labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_0826afd0 [label=7 color="#87455d" fontcolor="#87455d" id=edge_717a675e labeltooltip=7 tooltip=7]
		subgraph cluster_block_0826afd0 {
			block_0826afd0 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_0826afd0 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_0826afd0 -> role_3307d497 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_36885e74 labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_e8c70ffe [label=8 color="#87455d" fontcolor="#87455d" id=edge_97f8efeb labeltooltip=8 tooltip=8]
		subgraph cluster_block_e8c70ffe {
			block_e8c70ffe [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_e8c70ffe labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_e8c70ffe -> role_628b5aab [label="1 " color="#87455d" fontcolor="#87455d" id=edge_bd156b1b labeltooltip="1 " tooltip="1 "]
		}
		play_f0c3fc6c -> block_b72cd8fa [label=9 color="#87455d" fontcolor="#87455d" id=edge_b9d60b0b labeltooltip=9 tooltip=9]
		subgraph cluster_block_b72cd8fa {
			block_b72cd8fa [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87455d" id=block_b72cd8fa labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_b72cd8fa -> role_4a211bc0 [label="1 " color="#87455d" fontcolor="#87455d" id=edge_72e1a9de labeltooltip="1 " tooltip="1 "]
		}
	}
}
