digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_01fcc66b style=dotted]
	"kubeinit/playbook.yml" -> play_869a2938 [label="1 " color="#c30923" fontcolor="#c30923" id=edge_b6fae3b4 labeltooltip="1 " tooltip="1 "]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_869a2938 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30923" fontcolor="#ffffff" id=play_869a2938 shape=box style=filled tooltip=localhost]
		play_869a2938 -> block_e6579382 [label=1 color="#c30923" fontcolor="#c30923" id=edge_37e2ab58 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e6579382 {
			block_e6579382 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30923" id=block_e6579382 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_e6579382 -> role_abbb4ff2 [label="1 " color="#c30923" fontcolor="#c30923" id=edge_a43ec47a labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_abbb4ff2 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30923" id=role_abbb4ff2 tooltip="task-gather-facts"]
				role_abbb4ff2 -> role_67f18879 [label="1 " color="#c30923" fontcolor="#c30923" id=edge_d9acfa38 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_67f18879 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c30923" id=role_67f18879 tooltip="Gather kubeinit secrets"]
				}
				role_abbb4ff2 -> role_e69ce515 [label="2 " color="#c30923" fontcolor="#c30923" id=edge_44bdbc7a labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_e69ce515 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c30923" id=role_e69ce515 tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_abbb4ff2 -> role_fbcd051b [label="3 " color="#c30923" fontcolor="#c30923" id=edge_4e61c5b8 labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_fbcd051b [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c30923" id=role_fbcd051b tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_f590f093 [label="2 " color="#563f8d" fontcolor="#563f8d" id=edge_58fa7569 labeltooltip="2 " tooltip="2 "]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_f590f093 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#563f8d" fontcolor="#ffffff" id=play_f590f093 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_f590f093 -> block_bef1f647 [label=1 color="#563f8d" fontcolor="#563f8d" id=edge_7ad9e4ce labeltooltip=1 tooltip=1]
		subgraph cluster_block_bef1f647 {
			block_bef1f647 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#563f8d" id=block_bef1f647 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_bef1f647 -> role_28682549 [label="1 " color="#563f8d" fontcolor="#563f8d" id=edge_5b627f30 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_28682549 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#563f8d" id=role_28682549 tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_96ac10f0 [label="3 " color="#ba1281" fontcolor="#ba1281" id=edge_4c3ab31e labeltooltip="3 " tooltip="3 "]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_96ac10f0 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ba1281" fontcolor="#ffffff" id=play_96ac10f0 shape=box style=filled tooltip=localhost]
		play_96ac10f0 -> block_07ef0e1b [label=1 color="#ba1281" fontcolor="#ba1281" id=edge_745e9d0a labeltooltip=1 tooltip=1]
		subgraph cluster_block_07ef0e1b {
			block_07ef0e1b [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ba1281" id=block_07ef0e1b labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_07ef0e1b -> role_caed1c2f [label="1 " color="#ba1281" fontcolor="#ba1281" id=edge_a6e66b51 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_caed1c2f [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ba1281" id=role_caed1c2f tooltip="Gather facts to prepare the cluster hypervisors"]
				role_caed1c2f -> role_c1f5ff6a [label="1 " color="#ba1281" fontcolor="#ba1281" id=edge_e912ce98 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_c1f5ff6a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#ba1281" id=role_c1f5ff6a tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_96ac10f0 -> block_9735dc55 [label=2 color="#ba1281" fontcolor="#ba1281" id=edge_a917c4e3 labeltooltip=2 tooltip=2]
		subgraph cluster_block_9735dc55 {
			block_9735dc55 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ba1281" id=block_9735dc55 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_9735dc55 -> role_583eb809 [label="1 " color="#ba1281" fontcolor="#ba1281" id=edge_2757ef80 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_583eb809 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ba1281" id=role_583eb809 tooltip="task-prepare-hypervisors"]
				role_583eb809 -> role_45196d93 [label="1 " color="#ba1281" fontcolor="#ba1281" id=edge_d425a5cb labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_45196d93 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#ba1281" id=role_45196d93 tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_8f4eb8a1 [label="4 " color="#a22a9f" fontcolor="#a22a9f" id=edge_b7a86957 labeltooltip="4 " tooltip="4 "]
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_8f4eb8a1 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a22a9f" fontcolor="#ffffff" id=play_8f4eb8a1 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
		play_8f4eb8a1 -> block_76d3494f [label=1 color="#a22a9f" fontcolor="#a22a9f" id=edge_c0e0b530 labeltooltip=1 tooltip=1]
		subgraph cluster_block_76d3494f {
			block_76d3494f [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a22a9f" id=block_76d3494f labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_76d3494f -> role_4bf5c7a7 [label="1 " color="#a22a9f" fontcolor="#a22a9f" id=edge_7a4d4c78 labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_4bf5c7a7 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a22a9f" id=role_4bf5c7a7 tooltip="Prepare each hypervisor in the deployment"]
				role_4bf5c7a7 -> role_a5654eb4 [label="1 " color="#a22a9f" fontcolor="#a22a9f" id=edge_a6bea744 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_a5654eb4 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#a22a9f" id=role_a5654eb4 tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_bedaff5b [label="5 " color="#84ae1e" fontcolor="#84ae1e" id=edge_52e5fcb6 labeltooltip="5 " tooltip="5 "]
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_bedaff5b [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" fontcolor="#ffffff" id=play_bedaff5b shape=box style=filled tooltip=localhost]
		play_bedaff5b -> block_9856f082 [label=1 color="#84ae1e" fontcolor="#84ae1e" id=edge_482c8702 labeltooltip=1 tooltip=1]
		subgraph cluster_block_9856f082 {
			block_9856f082 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_9856f082 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_9856f082 -> role_2c5eda27 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_477250d7 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_2c5eda27 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_2c5eda27 tooltip="task-prepare-environment"]
				role_2c5eda27 -> role_34e1be49 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_203e01d9 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_34e1be49 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_34e1be49 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_bedaff5b -> block_e0fc0f97 [label=2 color="#84ae1e" fontcolor="#84ae1e" id=edge_18918e5b labeltooltip=2 tooltip=2]
		subgraph cluster_block_e0fc0f97 {
			block_e0fc0f97 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_e0fc0f97 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_e0fc0f97 -> role_c82d02ee [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_185bd1d3 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_c82d02ee [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_c82d02ee tooltip="task-cleanup-hypervisors"]
				role_c82d02ee -> role_daf2746b [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_2d7f688d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_daf2746b [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#84ae1e" id=role_daf2746b tooltip="Prepare environment if not prepared"]
					role_daf2746b -> role_bf34f889 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_54937e39 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_bf34f889 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_bf34f889 tooltip="Gather kubeinit secrets"]
					}
				}
				role_c82d02ee -> role_b0060898 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_fc082506 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_b0060898 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#84ae1e" id=role_b0060898 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_bedaff5b -> block_01b30980 [label=3 color="#84ae1e" fontcolor="#84ae1e" id=edge_fc1db9d5 labeltooltip=3 tooltip=3]
		subgraph cluster_block_01b30980 {
			block_01b30980 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_01b30980 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_01b30980 -> role_486f05c1 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_29a0f3e7 labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_486f05c1 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_486f05c1 tooltip="task-run-validations"]
				role_486f05c1 -> role_9342579e [label="1 [when: not hypervisors_cleaned]" color="#84ae1e" fontcolor="#84ae1e" id=edge_4c63c26c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_9342579e [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#84ae1e" id=role_9342579e tooltip="Cleanup hypervisors if needed"]
					role_9342579e -> role_c32ee973 [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_a20e9be2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_c32ee973 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#84ae1e" id=role_c32ee973 tooltip="Prepare environment if not prepared"]
						role_c32ee973 -> role_fb6bcc31 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_c1bfcd59 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_fb6bcc31 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_fb6bcc31 tooltip="Gather kubeinit secrets"]
						}
					}
					role_9342579e -> role_c9a52958 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_3efe2a67 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_c9a52958 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#84ae1e" id=role_c9a52958 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_bedaff5b -> block_6969a951 [label=4 color="#84ae1e" fontcolor="#84ae1e" id=edge_2a65e79d labeltooltip=4 tooltip=4]
		subgraph cluster_block_6969a951 {
			block_6969a951 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_6969a951 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_6969a951 -> role_bbc1186e [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_06f5374b labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_bbc1186e [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_bbc1186e tooltip="task-create-network"]
				role_bbc1186e -> role_dadb7bc4 [label="1 [when: not hypervisors_cleaned]" color="#84ae1e" fontcolor="#84ae1e" id=edge_19ffa5f1 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_dadb7bc4 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#84ae1e" id=role_dadb7bc4 tooltip="Cleanup hypervisors if needed"]
					role_dadb7bc4 -> role_51cc9919 [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_a29f443e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_51cc9919 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#84ae1e" id=role_51cc9919 tooltip="Prepare environment if not prepared"]
						role_51cc9919 -> role_5186522d [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_e73b7c9c labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_5186522d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_5186522d tooltip="Gather kubeinit secrets"]
						}
					}
					role_dadb7bc4 -> role_9d61de0e [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_c94c9d5d labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_9d61de0e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#84ae1e" id=role_9d61de0e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_bedaff5b -> block_84ec591b [label=5 color="#84ae1e" fontcolor="#84ae1e" id=edge_295a79c6 labeltooltip=5 tooltip=5]
		subgraph cluster_block_84ec591b {
			block_84ec591b [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_84ec591b labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_84ec591b -> role_b08762ac [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_1c1d450d labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_b08762ac [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_b08762ac tooltip="task-create-services"]
				role_b08762ac -> role_c31a509c [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_8943159d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c31a509c [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#84ae1e" id=role_c31a509c tooltip="Prepare environment if not prepared"]
					role_c31a509c -> role_6e1e4eed [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_e0d31e20 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_6e1e4eed [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_6e1e4eed tooltip="Gather kubeinit secrets"]
					}
				}
				role_b08762ac -> role_e9407647 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_f1f02c14 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_e9407647 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#84ae1e" id=role_e9407647 tooltip="Prepare podman"]
				}
				role_b08762ac -> role_80947b01 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_fc6000b6 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_80947b01 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#84ae1e" id=role_80947b01 tooltip="Configure Bind"]
					role_80947b01 -> role_34e8461c [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_1bb7aee9 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_34e8461c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#84ae1e" id=role_34e8461c tooltip="Create systemd service for podman container"]
					}
				}
				role_b08762ac -> role_2c1cebe0 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_af051cbf labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_2c1cebe0 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#84ae1e" id=role_2c1cebe0 tooltip="Configure Dnsmasq"]
					role_2c1cebe0 -> role_8e28dfae [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_c1a749f7 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_8e28dfae [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#84ae1e" id=role_8e28dfae tooltip="Create systemd service for podman container"]
					}
				}
				role_b08762ac -> role_8292dc5a [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_508773f4 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_8292dc5a [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#84ae1e" id=role_8292dc5a tooltip="Configure HAProxy"]
					role_8292dc5a -> role_c1d48ffc [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_07d5c748 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_c1d48ffc [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#84ae1e" id=role_c1d48ffc tooltip="Create systemd service for podman container"]
					}
				}
				role_b08762ac -> role_0d050963 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_acb83017 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_0d050963 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#84ae1e" id=role_0d050963 tooltip="Configure Nexus"]
					role_0d050963 -> role_d0953f87 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_998f9c55 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_d0953f87 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#84ae1e" id=role_d0953f87 tooltip="Create systemd service for podman container"]
					}
				}
				role_b08762ac -> role_c7a050e2 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_0c178803 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_c7a050e2 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#84ae1e" id=role_c7a050e2 tooltip="Configure Apache"]
					role_c7a050e2 -> role_c67cf6ef [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_c7ffebc9 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_c67cf6ef [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#84ae1e" id=role_c67cf6ef tooltip="Create systemd service for podman container"]
					}
				}
				role_b08762ac -> role_a163f591 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_03abd5b4 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_a163f591 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#84ae1e" id=role_a163f591 tooltip="Configure a local container image registry"]
					role_a163f591 -> role_8de01767 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_7840798b labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_8de01767 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#84ae1e" id=role_8de01767 tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_bedaff5b -> block_4ecb43ae [label=6 color="#84ae1e" fontcolor="#84ae1e" id=edge_9da5ce5d labeltooltip=6 tooltip=6]
		subgraph cluster_block_4ecb43ae {
			block_4ecb43ae [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_4ecb43ae labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_4ecb43ae -> role_5089ca05 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_28d54fda labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_5089ca05 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_5089ca05 tooltip="task-prepare-cluster"]
				role_5089ca05 -> role_e875f2a0 [label="1 [when: not services_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_848065bb labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_e875f2a0 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#84ae1e" id=role_e875f2a0 tooltip="Prepare services if needed"]
					role_e875f2a0 -> role_c4369357 [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_5e3f1183 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_c4369357 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#84ae1e" id=role_c4369357 tooltip="Prepare environment if needed"]
						role_c4369357 -> role_33a6954c [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_84941c7e labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_33a6954c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_33a6954c tooltip="Gather kubeinit secrets"]
						}
					}
					role_e875f2a0 -> role_66e15eec [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_924c5ec8 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_66e15eec [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#84ae1e" id=role_66e15eec tooltip="Gather network and host facts for guest"]
					}
				}
				role_5089ca05 -> role_7ec2c8c3 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_197f53c0 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_7ec2c8c3 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#84ae1e" id=role_7ec2c8c3 tooltip="Delegate to the distro role to prepare the cluster"]
					role_7ec2c8c3 -> role_66c2c3bf [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_f546f896 labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_66c2c3bf [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#84ae1e" id=role_66c2c3bf tooltip="Setup the cluster provision container"]
						role_66c2c3bf -> role_2de7091b [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_49006b45 labeltooltip="1 " tooltip="1 "]
						subgraph "Create systemd service for podman container" {
							role_2de7091b [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#84ae1e" id=role_2de7091b tooltip="Create systemd service for podman container"]
						}
						role_66c2c3bf -> role_d2e7cd10 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_b0d44b0f labeltooltip="2 " tooltip="2 "]
						subgraph "Gather network and host facts for provision service" {
							role_d2e7cd10 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#84ae1e" id=role_d2e7cd10 tooltip="Gather network and host facts for provision service"]
						}
					}
				}
			}
		}
		play_bedaff5b -> block_12da06fa [label=7 color="#84ae1e" fontcolor="#84ae1e" id=edge_7fd1279b labeltooltip=7 tooltip=7]
		subgraph cluster_block_12da06fa {
			block_12da06fa [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_12da06fa labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_12da06fa -> role_9b7b8f27 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_518dad89 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_9b7b8f27 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_9b7b8f27 tooltip="task-download-images"]
				role_9b7b8f27 -> role_1ac22009 [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_a430f4a8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_1ac22009 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#84ae1e" id=role_1ac22009 tooltip="Prepare environment if not prepared"]
					role_1ac22009 -> role_06277b28 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_ad13ca35 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_06277b28 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_06277b28 tooltip="Gather kubeinit secrets"]
					}
				}
			}
		}
		play_bedaff5b -> block_23bede05 [label=8 color="#84ae1e" fontcolor="#84ae1e" id=edge_871e1819 labeltooltip=8 tooltip=8]
		subgraph cluster_block_23bede05 {
			block_23bede05 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_23bede05 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_23bede05 -> role_e42dead9 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_5b92e1cf labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_e42dead9 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_e42dead9 tooltip="task-deploy-cluster"]
				role_e42dead9 -> role_0d06479d [label="1 [when: not services_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_37c906bc labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_0d06479d [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#84ae1e" id=role_0d06479d tooltip="Prepare services if needed"]
					role_0d06479d -> role_399f399f [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_500b2e26 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_399f399f [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#84ae1e" id=role_399f399f tooltip="Prepare environment if needed"]
						role_399f399f -> role_fdcdf7c1 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_61537529 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_fdcdf7c1 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_fdcdf7c1 tooltip="Gather kubeinit secrets"]
						}
					}
					role_0d06479d -> role_eca43a10 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_d4aec73c labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_eca43a10 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#84ae1e" id=role_eca43a10 tooltip="Gather network and host facts for guest"]
					}
				}
				role_e42dead9 -> role_d7fa30fe [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_1b994ed3 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_d7fa30fe [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#84ae1e" id=role_d7fa30fe tooltip="Delegate to the distro role to deploy the cluster"]
					role_d7fa30fe -> role_e860277a [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#84ae1e" fontcolor="#84ae1e" id=edge_a9172aeb labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
					subgraph "Deploy the cluster nodes" {
						role_e860277a [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=role_e860277a tooltip="Deploy the cluster nodes"]
					}
					task_967f61af [label="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_967f61af shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster"]
					role_d7fa30fe -> task_967f61af [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_11611dd7 labeltooltip="2 " tooltip="2 "]
					task_9ce7987a [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_9ce7987a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
					role_d7fa30fe -> task_9ce7987a [label="3 " color="#84ae1e" fontcolor="#84ae1e" id=edge_ddc3a172 labeltooltip="3 " tooltip="3 "]
					task_fcb33f78 [label="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_fcb33f78 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key"]
					role_d7fa30fe -> task_fcb33f78 [label="4 [when: ('--control-plane --certificate-key' in item)]" color="#84ae1e" fontcolor="#84ae1e" id=edge_335316d1 labeltooltip="4 [when: ('--control-plane --certificate-key' in item)]" tooltip="4 [when: ('--control-plane --certificate-key' in item)]"]
					task_9231e42f [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_9231e42f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
					role_d7fa30fe -> task_9231e42f [label="5 " color="#84ae1e" fontcolor="#84ae1e" id=edge_5cdf5047 labeltooltip="5 " tooltip="5 "]
					task_763fbbbb [label="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_763fbbbb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes."]
					role_d7fa30fe -> task_763fbbbb [label="6 [when: kubeinit_controller_count|int > 1]" color="#84ae1e" fontcolor="#84ae1e" id=edge_af0c2d12 labeltooltip="6 [when: kubeinit_controller_count|int > 1]" tooltip="6 [when: kubeinit_controller_count|int > 1]"]
					task_3e337af4 [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_3e337af4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
					role_d7fa30fe -> task_3e337af4 [label="7 " color="#84ae1e" fontcolor="#84ae1e" id=edge_215b8cdd labeltooltip="7 " tooltip="7 "]
					task_54783c02 [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_54783c02 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
					role_d7fa30fe -> task_54783c02 [label="8 " color="#84ae1e" fontcolor="#84ae1e" id=edge_52e0eefd labeltooltip="8 " tooltip="8 "]
					task_5e7e7336 [label="kubeinit.kubeinit.kubeinit_k8s : Get the join command" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_5e7e7336 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the join command"]
					role_d7fa30fe -> task_5e7e7336 [label="9 " color="#84ae1e" fontcolor="#84ae1e" id=edge_325e5cd4 labeltooltip="9 " tooltip="9 "]
					task_96e72494 [label="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_96e72494 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token."]
					role_d7fa30fe -> task_96e72494 [label="10 [when: kubeinit_controller_count|int > 1]" color="#84ae1e" fontcolor="#84ae1e" id=edge_6ab01cf8 labeltooltip="10 [when: kubeinit_controller_count|int > 1]" tooltip="10 [when: kubeinit_controller_count|int > 1]"]
					task_d1fe23a4 [label="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_d1fe23a4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on"]
					role_d7fa30fe -> task_d1fe23a4 [label="11 " color="#84ae1e" fontcolor="#84ae1e" id=edge_0d969753 labeltooltip="11 " tooltip="11 "]
					task_40fe24f2 [label="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_40fe24f2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK"]
					role_d7fa30fe -> task_40fe24f2 [label="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#84ae1e" fontcolor="#84ae1e" id=edge_6e1b9bc4 labeltooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
					task_6492855f [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_6492855f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
					role_d7fa30fe -> task_6492855f [label="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#84ae1e" fontcolor="#84ae1e" id=edge_97f60262 labeltooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
					task_cac99652 [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_cac99652 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
					role_d7fa30fe -> task_cac99652 [label="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#84ae1e" fontcolor="#84ae1e" id=edge_209b4404 labeltooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
					task_da7e652c [label="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_da7e652c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane"]
					role_d7fa30fe -> task_da7e652c [label="15 [when: hostvars[compute_node].os != 'windows']" color="#84ae1e" fontcolor="#84ae1e" id=edge_49912e36 labeltooltip="15 [when: hostvars[compute_node].os != 'windows']" tooltip="15 [when: hostvars[compute_node].os != 'windows']"]
					task_dc01e703 [label="kubeinit.kubeinit.kubeinit_k8s : Label node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_dc01e703 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Label node"]
					role_d7fa30fe -> task_dc01e703 [label="16 [when: hostvars[compute_node].os != 'windows']" color="#84ae1e" fontcolor="#84ae1e" id=edge_4c83d49f labeltooltip="16 [when: hostvars[compute_node].os != 'windows']" tooltip="16 [when: hostvars[compute_node].os != 'windows']"]
					task_d8d1776d [label="kubeinit.kubeinit.kubeinit_k8s : Check if there is at least one compute Windows node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_d8d1776d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Check if there is at least one compute Windows node"]
					role_d7fa30fe -> task_d8d1776d [label="17 [when: hostvars[compute_node].os == 'windows']" color="#84ae1e" fontcolor="#84ae1e" id=edge_2fbff0c0 labeltooltip="17 [when: hostvars[compute_node].os == 'windows']" tooltip="17 [when: hostvars[compute_node].os == 'windows']"]
					task_c0475be4 [label="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_c0475be4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes"]
					role_d7fa30fe -> task_c0475be4 [label="18 [when: not kubeinit_compute_count|int > 0 or (windows_compute_node_exists | default(false))]" color="#84ae1e" fontcolor="#84ae1e" id=edge_7d7568bf labeltooltip="18 [when: not kubeinit_compute_count|int > 0 or (windows_compute_node_exists | default(false))]" tooltip="18 [when: not kubeinit_compute_count|int > 0 or (windows_compute_node_exists | default(false))]"]
					task_e26afe9d [label="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_e26afe9d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable"]
					role_d7fa30fe -> task_e26afe9d [label="19 " color="#84ae1e" fontcolor="#84ae1e" id=edge_ee27ecbc labeltooltip="19 " tooltip="19 "]
					task_ecd19231 [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_ecd19231 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
					role_d7fa30fe -> task_ecd19231 [label="20 " color="#84ae1e" fontcolor="#84ae1e" id=edge_ea894412 labeltooltip="20 " tooltip="20 "]
					task_2ed04499 [label="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#84ae1e" id=task_2ed04499 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine."]
					role_d7fa30fe -> task_2ed04499 [label="21 " color="#84ae1e" fontcolor="#84ae1e" id=edge_24f8e02d labeltooltip="21 " tooltip="21 "]
				}
			}
		}
		play_bedaff5b -> block_69f0a686 [label=9 color="#84ae1e" fontcolor="#84ae1e" id=edge_8423057d labeltooltip=9 tooltip=9]
		subgraph cluster_block_69f0a686 {
			block_69f0a686 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=block_69f0a686 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_69f0a686 -> role_07dc4ee4 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_be1017c5 labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_07dc4ee4 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#84ae1e" id=role_07dc4ee4 tooltip="task-post-deployment"]
				role_07dc4ee4 -> role_74a8aefc [label="1 [when: not services_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_176da3bc labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_74a8aefc [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#84ae1e" id=role_74a8aefc tooltip="Prepare services if needed"]
					role_74a8aefc -> role_a29e3aa1 [label="1 [when: not environment_prepared]" color="#84ae1e" fontcolor="#84ae1e" id=edge_2faa75e3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_a29e3aa1 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#84ae1e" id=role_a29e3aa1 tooltip="Prepare environment if needed"]
						role_a29e3aa1 -> role_8e1ccf87 [label="1 " color="#84ae1e" fontcolor="#84ae1e" id=edge_98bfc783 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_8e1ccf87 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#84ae1e" id=role_8e1ccf87 tooltip="Gather kubeinit secrets"]
						}
					}
					role_74a8aefc -> role_abe6d535 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_2c30be42 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_abe6d535 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#84ae1e" id=role_abe6d535 tooltip="Gather network and host facts for guest"]
					}
				}
				role_07dc4ee4 -> role_def07cc2 [label="2 " color="#84ae1e" fontcolor="#84ae1e" id=edge_88d6ccf5 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_def07cc2 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#84ae1e" id=role_def07cc2 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_def07cc2 -> role_a03f9893 [label="1 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_c1375e9e labeltooltip="1 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_a03f9893 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#84ae1e" id=role_a03f9893 tooltip="Deploy the apps"]
					}
					role_def07cc2 -> role_a2c2bdeb [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#84ae1e" fontcolor="#84ae1e" id=edge_84e5cd1b labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_a2c2bdeb [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#84ae1e" id=role_a2c2bdeb tooltip="Configure NFS"]
					}
				}
			}
		}
	}
}
