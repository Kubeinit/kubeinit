digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_ad577384 style=dotted]
	play_b94b7a67 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#06c68e" fontcolor="#ffffff" id=play_b94b7a67 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_b94b7a67 [label="1 " color="#06c68e" fontcolor="#06c68e" id=edge_50c7219e labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_2b17c142 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#06c68e" id=role_2b17c142 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9e5a0eea [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#06c68e" id=role_9e5a0eea tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_48bc984d [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#06c68e" id=role_48bc984d tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_8cc916d2 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#06c68e" id=role_8cc916d2 tooltip="task-gather-facts"]
		role_8cc916d2 -> role_2b17c142 [label="1 " color="#06c68e" fontcolor="#06c68e" id=edge_d479e72d labeltooltip="1 " tooltip="1 "]
		role_8cc916d2 -> role_9e5a0eea [label="2 " color="#06c68e" fontcolor="#06c68e" id=edge_847dd55e labeltooltip="2 " tooltip="2 "]
		role_8cc916d2 -> role_48bc984d [label="3 " color="#06c68e" fontcolor="#06c68e" id=edge_696d4f27 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_c309ccf3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#06c68e" id=role_c309ccf3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9ddc9cc5 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#06c68e" id=role_9ddc9cc5 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_17f9f0cc [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#06c68e" id=role_17f9f0cc tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_5a4593a7 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#06c68e" id=role_5a4593a7 tooltip="task-prepare-hypervisors"]
		role_5a4593a7 -> role_c309ccf3 [label="1 " color="#06c68e" fontcolor="#06c68e" id=edge_c5fc2cca labeltooltip="1 " tooltip="1 "]
		role_5a4593a7 -> role_9ddc9cc5 [label="2 " color="#06c68e" fontcolor="#06c68e" id=edge_198a68c3 labeltooltip="2 " tooltip="2 "]
		role_5a4593a7 -> role_17f9f0cc [label="3 " color="#06c68e" fontcolor="#06c68e" id=edge_22f44194 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_b94b7a67 -> block_c23f424c [label=1 color="#06c68e" fontcolor="#06c68e" id=edge_c3ea6606 labeltooltip=1 tooltip=1]
		subgraph cluster_block_c23f424c {
			block_c23f424c [label="[block] Gather facts about the deployment environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#06c68e" id=block_c23f424c labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_c23f424c -> role_8cc916d2 [label="1 " color="#06c68e" fontcolor="#06c68e" id=edge_39a38df6 labeltooltip="1 " tooltip="1 "]
		}
		play_b94b7a67 -> block_2eb57bb3 [label=2 color="#06c68e" fontcolor="#06c68e" id=edge_ab75420b labeltooltip=2 tooltip=2]
		subgraph cluster_block_2eb57bb3 {
			block_2eb57bb3 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#06c68e" id=block_2eb57bb3 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_2eb57bb3 -> role_5a4593a7 [label="1 " color="#06c68e" fontcolor="#06c68e" id=edge_1e473019 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ac202d5c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a517b5" fontcolor="#ffffff" id=play_ac202d5c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_ac202d5c [label="2 " color="#a517b5" fontcolor="#a517b5" id=edge_4cbebea1 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_38c58ce6 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#a517b5" id=role_38c58ce6 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_eddd65c5 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a517b5" id=role_eddd65c5 tooltip="Prepare each hypervisor in the deployment"]
		role_eddd65c5 -> role_38c58ce6 [label="1 " color="#a517b5" fontcolor="#a517b5" id=edge_0aa5124a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_ac202d5c -> block_2d49aacc [label=1 color="#a517b5" fontcolor="#a517b5" id=edge_0973799d labeltooltip=1 tooltip=1]
		subgraph cluster_block_2d49aacc {
			block_2d49aacc [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a517b5" id=block_2d49aacc labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_2d49aacc -> role_eddd65c5 [label="1 " color="#a517b5" fontcolor="#a517b5" id=edge_4c7b6c5b labeltooltip="1 " tooltip="1 "]
		}
	}
	play_34e4301c [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" fontcolor="#ffffff" id=play_34e4301c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_34e4301c [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_edb37e86 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_de7a8fa7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_de7a8fa7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_bc3b3ecf [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_bc3b3ecf tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d8afbc76 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_d8afbc76 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_590f8c53 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_590f8c53 tooltip="task-prepare-environment"]
		role_590f8c53 -> role_de7a8fa7 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_dddb13d4 labeltooltip="1 " tooltip="1 "]
		role_590f8c53 -> role_bc3b3ecf [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_5dbb5830 labeltooltip="2 " tooltip="2 "]
		role_590f8c53 -> role_d8afbc76 [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_d06d69bc labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_af6ccc5f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_af6ccc5f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ff2b7561 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_ff2b7561 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_ea603e4e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_ea603e4e tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0712f533 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#8b4183" id=role_0712f533 tooltip="Prepare environment if not prepared"]
		role_0712f533 -> role_af6ccc5f [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_48671f63 labeltooltip="1 " tooltip="1 "]
		role_0712f533 -> role_ff2b7561 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_03e5ad5b labeltooltip="2 " tooltip="2 "]
		role_0712f533 -> role_ea603e4e [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_152fa72c labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_26243542 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#8b4183" id=role_26243542 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_8bf36f4b [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_8bf36f4b tooltip="task-cleanup-hypervisors"]
		role_8bf36f4b -> role_0712f533 [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_bed95b37 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8bf36f4b -> role_26243542 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_204ce0ce labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_9cc2473b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_9cc2473b tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_eefb8724 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_eefb8724 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_713b5193 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_713b5193 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_6c73d67a [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#8b4183" id=role_6c73d67a tooltip="Prepare environment if not prepared"]
		role_6c73d67a -> role_9cc2473b [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_f56d0913 labeltooltip="1 " tooltip="1 "]
		role_6c73d67a -> role_eefb8724 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_52162a60 labeltooltip="2 " tooltip="2 "]
		role_6c73d67a -> role_713b5193 [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_f0500599 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_a4cb24bf [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#8b4183" id=role_a4cb24bf tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_a8d5578e [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#8b4183" id=role_a8d5578e tooltip="Cleanup hypervisors if needed"]
		role_a8d5578e -> role_6c73d67a [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_d8d3faab labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a8d5578e -> role_a4cb24bf [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_2b780ba9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_eb76a800 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_eb76a800 tooltip="task-run-validations"]
		role_eb76a800 -> role_a8d5578e [label="1 [when: not hypervisors_cleaned]" color="#8b4183" fontcolor="#8b4183" id=edge_78b75890 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_9f5f0ab7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_9f5f0ab7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ef4c169b [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_ef4c169b tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_314eff51 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_314eff51 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b66d7854 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#8b4183" id=role_b66d7854 tooltip="Prepare environment if not prepared"]
		role_b66d7854 -> role_9f5f0ab7 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_cc3d6a30 labeltooltip="1 " tooltip="1 "]
		role_b66d7854 -> role_ef4c169b [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_51f67935 labeltooltip="2 " tooltip="2 "]
		role_b66d7854 -> role_314eff51 [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_a3fa0105 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d8684f10 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#8b4183" id=role_d8684f10 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_7813fca2 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#8b4183" id=role_7813fca2 tooltip="Cleanup hypervisors if needed"]
		role_7813fca2 -> role_b66d7854 [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_dddd4c00 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7813fca2 -> role_d8684f10 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_18f7009f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_826eb051 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_826eb051 tooltip="task-create-network"]
		role_826eb051 -> role_7813fca2 [label="1 [when: not hypervisors_cleaned]" color="#8b4183" fontcolor="#8b4183" id=edge_96fd75cc labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_d94554ba [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_d94554ba tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6bf4aa61 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_6bf4aa61 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_adc2d7fc [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_adc2d7fc tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e9252c48 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#8b4183" id=role_e9252c48 tooltip="Prepare environment if not prepared"]
		role_e9252c48 -> role_d94554ba [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_38b7bd66 labeltooltip="1 " tooltip="1 "]
		role_e9252c48 -> role_6bf4aa61 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_a2e90006 labeltooltip="2 " tooltip="2 "]
		role_e9252c48 -> role_adc2d7fc [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_9d749488 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_9caeafac [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#8b4183" id=role_9caeafac tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_34c3c72c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#8b4183" id=role_34c3c72c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_12a07de0 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#8b4183" id=role_12a07de0 tooltip="Configure Bind"]
		role_12a07de0 -> role_34c3c72c [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_18aa4e4f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e7c76791 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#8b4183" id=role_e7c76791 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_b4286197 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#8b4183" id=role_b4286197 tooltip="Configure Dnsmasq"]
		role_b4286197 -> role_e7c76791 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_a521c038 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a0d64d4b [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#8b4183" id=role_a0d64d4b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_39def813 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#8b4183" id=role_39def813 tooltip="Configure HAProxy"]
		role_39def813 -> role_a0d64d4b [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_afdc6073 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6c6dae03 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#8b4183" id=role_6c6dae03 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_71e45a1f [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#8b4183" id=role_71e45a1f tooltip="Configure Nexus"]
		role_71e45a1f -> role_6c6dae03 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_0a042355 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_57844122 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#8b4183" id=role_57844122 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_b1fef42c [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#8b4183" id=role_b1fef42c tooltip="Configure Apache"]
		role_b1fef42c -> role_57844122 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_8106ffef labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a64ffb64 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#8b4183" id=role_a64ffb64 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_272b159a [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#8b4183" id=role_272b159a tooltip="Configure a local container image registry"]
		role_272b159a -> role_a64ffb64 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_62bc9c2d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_5190023d [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_5190023d tooltip="task-create-services"]
		role_5190023d -> role_e9252c48 [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_1bab3700 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5190023d -> role_9caeafac [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_0231b458 labeltooltip="2 " tooltip="2 "]
		role_5190023d -> role_12a07de0 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#8b4183" fontcolor="#8b4183" id=edge_02226ace labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5190023d -> role_b4286197 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#8b4183" fontcolor="#8b4183" id=edge_d5cd19b6 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5190023d -> role_39def813 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#8b4183" fontcolor="#8b4183" id=edge_64cc5292 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5190023d -> role_71e45a1f [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#8b4183" fontcolor="#8b4183" id=edge_0b7b553e labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5190023d -> role_b1fef42c [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#8b4183" fontcolor="#8b4183" id=edge_ebdcd422 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5190023d -> role_272b159a [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#8b4183" fontcolor="#8b4183" id=edge_9da7f11d labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_f71497b3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_f71497b3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_0160e528 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_0160e528 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7c5c7a3f [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_7c5c7a3f tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_7dc06d4a [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#8b4183" id=role_7dc06d4a tooltip="Prepare environment if needed"]
		role_7dc06d4a -> role_f71497b3 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_2d8e45ee labeltooltip="1 " tooltip="1 "]
		role_7dc06d4a -> role_0160e528 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_5b48e6af labeltooltip="2 " tooltip="2 "]
		role_7dc06d4a -> role_7c5c7a3f [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_cad9c325 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_65450b25 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#8b4183" id=role_65450b25 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_6726afe9 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#8b4183" id=role_6726afe9 tooltip="Prepare services if needed"]
		role_6726afe9 -> role_7dc06d4a [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_7da994a6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6726afe9 -> role_65450b25 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_9cc26b68 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3f56fbc8 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#8b4183" id=role_3f56fbc8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_37b136c2 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#8b4183" id=role_37b136c2 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_03a1725b [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#8b4183" id=role_03a1725b tooltip="Setup the cluster provision container"]
		role_03a1725b -> role_3f56fbc8 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_16ddaa72 labeltooltip="1 " tooltip="1 "]
		role_03a1725b -> role_37b136c2 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_dac86972 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_9fb219d6 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#8b4183" id=role_9fb219d6 tooltip="Delegate to the distro role to prepare the cluster"]
		role_9fb219d6 -> role_03a1725b [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_2a90ef71 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_14cfbd25 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_14cfbd25 tooltip="task-prepare-cluster"]
		role_14cfbd25 -> role_6726afe9 [label="1 [when: not services_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_8cfafc3f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_14cfbd25 -> role_9fb219d6 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_513114f2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_9c3100c6 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_9c3100c6 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_d3a17ab1 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_d3a17ab1 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_1ba94b80 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_1ba94b80 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1917136e [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#8b4183" id=role_1917136e tooltip="Prepare environment if not prepared"]
		role_1917136e -> role_9c3100c6 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_88b609a1 labeltooltip="1 " tooltip="1 "]
		role_1917136e -> role_d3a17ab1 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_c950d08a labeltooltip="2 " tooltip="2 "]
		role_1917136e -> role_1ba94b80 [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_9f72a6c5 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_02fa53b5 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_02fa53b5 tooltip="task-download-images"]
		role_02fa53b5 -> role_1917136e [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_dc6ab85f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_64cf9267 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_64cf9267 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_c0808a56 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_c0808a56 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c634a09b [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_c634a09b tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_f0e84e4b [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#8b4183" id=role_f0e84e4b tooltip="Prepare environment if needed"]
		role_f0e84e4b -> role_64cf9267 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_3eb5bf85 labeltooltip="1 " tooltip="1 "]
		role_f0e84e4b -> role_c0808a56 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_19ec3f1b labeltooltip="2 " tooltip="2 "]
		role_f0e84e4b -> role_c634a09b [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_dfad76de labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_74ae7eb5 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#8b4183" id=role_74ae7eb5 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f187354f [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#8b4183" id=role_f187354f tooltip="Prepare services if needed"]
		role_f187354f -> role_f0e84e4b [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_cdc78ce8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f187354f -> role_74ae7eb5 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_99ffa7b1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_fff2d767 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=role_fff2d767 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_22a677b9 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#8b4183" id=role_22a677b9 tooltip="Delegate to the distro role to deploy the cluster"]
		role_22a677b9 -> role_fff2d767 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#8b4183" fontcolor="#8b4183" id=edge_c4bf93f9 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_e3073cf2 [label="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_e3073cf2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Clean kubeadm and initialize Kubernetes cluster"]
		role_22a677b9 -> task_e3073cf2 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_0d481e8b labeltooltip="2 " tooltip="2 "]
		task_8386098e [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_8386098e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
		role_22a677b9 -> task_8386098e [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_314276cc labeltooltip="3 " tooltip="3 "]
		task_579ef686 [label="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_579ef686 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the controller join key"]
		role_22a677b9 -> task_579ef686 [label="4 [when: ('--control-plane --certificate-key' in item)]" color="#8b4183" fontcolor="#8b4183" id=edge_c67a0f5c labeltooltip="4 [when: ('--control-plane --certificate-key' in item)]" tooltip="4 [when: ('--control-plane --certificate-key' in item)]"]
		task_44bc483c [label="kubeinit.kubeinit.kubeinit_k8s : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_44bc483c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Debug"]
		role_22a677b9 -> task_44bc483c [label="5 " color="#8b4183" fontcolor="#8b4183" id=edge_33ed10e8 labeltooltip="5 " tooltip="5 "]
		task_71fc431b [label="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_71fc431b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the controller join key to add the other controller nodes."]
		role_22a677b9 -> task_71fc431b [label="6 [when: kubeinit_controller_count|int > 1]" color="#8b4183" fontcolor="#8b4183" id=edge_8ade9cb9 labeltooltip="6 [when: kubeinit_controller_count|int > 1]" tooltip="6 [when: kubeinit_controller_count|int > 1]"]
		task_0df626a1 [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_0df626a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_22a677b9 -> task_0df626a1 [label="7 " color="#8b4183" fontcolor="#8b4183" id=edge_979d11a3 labeltooltip="7 " tooltip="7 "]
		task_f45ff6b9 [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_f45ff6b9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
		role_22a677b9 -> task_f45ff6b9 [label="8 " color="#8b4183" fontcolor="#8b4183" id=edge_061ee877 labeltooltip="8 " tooltip="8 "]
		task_df9ff9f1 [label="kubeinit.kubeinit.kubeinit_k8s : Get the join command" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_df9ff9f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Get the join command"]
		role_22a677b9 -> task_df9ff9f1 [label="9 " color="#8b4183" fontcolor="#8b4183" id=edge_7a7ba372 labeltooltip="9 " tooltip="9 "]
		task_183dd009 [label="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_183dd009 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the join cluster command token."]
		role_22a677b9 -> task_183dd009 [label="10 [when: kubeinit_controller_count|int > 1]" color="#8b4183" fontcolor="#8b4183" id=edge_bc6c3ef6 labeltooltip="10 [when: kubeinit_controller_count|int > 1]" tooltip="10 [when: kubeinit_controller_count|int > 1]"]
		task_2fec995f [label="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_2fec995f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install Network Add-on"]
		role_22a677b9 -> task_2fec995f [label="11 " color="#8b4183" fontcolor="#8b4183" id=edge_bc747660 labeltooltip="11 " tooltip="11 "]
		task_db9a1a1b [label="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_db9a1a1b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join additional controller nodes using the PK"]
		role_22a677b9 -> task_db9a1a1b [label="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#8b4183" fontcolor="#8b4183" id=edge_7b3c9f5c labeltooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="12 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_7defd395 [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_7defd395 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_22a677b9 -> task_7defd395 [label="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#8b4183" fontcolor="#8b4183" id=edge_0dba2d71 labeltooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="13 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_07dfc3a1 [label="kubeinit.kubeinit.kubeinit_k8s : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_07dfc3a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying required files"]
		role_22a677b9 -> task_07dfc3a1 [label="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#8b4183" fontcolor="#8b4183" id=edge_6231808c labeltooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="14 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_c929e085 [label="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_c929e085 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Join compute nodes with kubernetes control plane"]
		role_22a677b9 -> task_c929e085 [label="15 " color="#8b4183" fontcolor="#8b4183" id=edge_8771e3b5 labeltooltip="15 " tooltip="15 "]
		task_a4eea70f [label="kubeinit.kubeinit.kubeinit_k8s : Label node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_a4eea70f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Label node"]
		role_22a677b9 -> task_a4eea70f [label="16 " color="#8b4183" fontcolor="#8b4183" id=edge_3fbd8319 labeltooltip="16 " tooltip="16 "]
		task_c381955d [label="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_c381955d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Allow schedule workloads in controller nodes if there are no compute nodes"]
		role_22a677b9 -> task_c381955d [label="17 [when: not kubeinit_compute_count|int > 0]" color="#8b4183" fontcolor="#8b4183" id=edge_7630a75a labeltooltip="17 [when: not kubeinit_compute_count|int > 0]" tooltip="17 [when: not kubeinit_compute_count|int > 0]"]
		task_1e0127a8 [label="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_1e0127a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Copying the kubeconfig to a variable"]
		role_22a677b9 -> task_1e0127a8 [label="18 " color="#8b4183" fontcolor="#8b4183" id=edge_d62b4f67 labeltooltip="18 " tooltip="18 "]
		task_c0097556 [label="kubeinit.kubeinit.kubeinit_k8s : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_c0097556 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Create kube directory"]
		role_22a677b9 -> task_c0097556 [label="19 " color="#8b4183" fontcolor="#8b4183" id=edge_235e4d3d labeltooltip="19 " tooltip="19 "]
		task_1c17c961 [label="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#8b4183" id=task_1c17c961 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Storing the master kubeconfig to the services machine."]
		role_22a677b9 -> task_1c17c961 [label="20 " color="#8b4183" fontcolor="#8b4183" id=edge_bb07bc96 labeltooltip="20 " tooltip="20 "]
	}
	subgraph "task-deploy-cluster" {
		role_54f41e7a [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_54f41e7a tooltip="task-deploy-cluster"]
		role_54f41e7a -> role_f187354f [label="1 [when: not services_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_49ee599f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_54f41e7a -> role_22a677b9 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_dc45d754 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_5353ad03 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_5353ad03 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_346ebba2 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_346ebba2 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c4ba20d1 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#8b4183" id=role_c4ba20d1 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_70e51da7 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#8b4183" id=role_70e51da7 tooltip="Prepare environment if needed"]
		role_70e51da7 -> role_5353ad03 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_cab87a17 labeltooltip="1 " tooltip="1 "]
		role_70e51da7 -> role_346ebba2 [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_d8621acd labeltooltip="2 " tooltip="2 "]
		role_70e51da7 -> role_c4ba20d1 [label="3 " color="#8b4183" fontcolor="#8b4183" id=edge_003de645 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_431c85ab [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#8b4183" id=role_431c85ab tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_714e745e [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#8b4183" id=role_714e745e tooltip="Prepare services if needed"]
		role_714e745e -> role_70e51da7 [label="1 [when: not environment_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_f59cbbb7 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_714e745e -> role_431c85ab [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_ee33475b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_fbba61a9 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#8b4183" id=role_fbba61a9 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_4112a664 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#8b4183" id=role_4112a664 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_14b4cead [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#8b4183" id=role_14b4cead tooltip="Delegate to distro role to run post-deployment tasks"]
		role_14b4cead -> role_fbba61a9 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_8fc9e2e2 labeltooltip="1 " tooltip="1 "]
		role_14b4cead -> role_4112a664 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#8b4183" fontcolor="#8b4183" id=edge_db0c81e0 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_a40ccc45 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=role_a40ccc45 tooltip="task-post-deployment"]
		role_a40ccc45 -> role_714e745e [label="1 [when: not services_prepared]" color="#8b4183" fontcolor="#8b4183" id=edge_db24c04a labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_a40ccc45 -> role_14b4cead [label="2 " color="#8b4183" fontcolor="#8b4183" id=edge_38cd7cbf labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_34e4301c -> block_7c55dea1 [label=1 color="#8b4183" fontcolor="#8b4183" id=edge_c7c635f2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_7c55dea1 {
			block_7c55dea1 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_7c55dea1 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_7c55dea1 -> role_590f8c53 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_21f6d1a0 labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_e4ed6053 [label=2 color="#8b4183" fontcolor="#8b4183" id=edge_b8c0fe94 labeltooltip=2 tooltip=2]
		subgraph cluster_block_e4ed6053 {
			block_e4ed6053 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_e4ed6053 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_e4ed6053 -> role_8bf36f4b [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_d59ca4e4 labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_d9209fd8 [label=3 color="#8b4183" fontcolor="#8b4183" id=edge_b62beccd labeltooltip=3 tooltip=3]
		subgraph cluster_block_d9209fd8 {
			block_d9209fd8 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_d9209fd8 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_d9209fd8 -> role_eb76a800 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_f8e90609 labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_74c4d394 [label=4 color="#8b4183" fontcolor="#8b4183" id=edge_f21c901d labeltooltip=4 tooltip=4]
		subgraph cluster_block_74c4d394 {
			block_74c4d394 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_74c4d394 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_74c4d394 -> role_826eb051 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_9eef89a2 labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_80df5e76 [label=5 color="#8b4183" fontcolor="#8b4183" id=edge_98b60b25 labeltooltip=5 tooltip=5]
		subgraph cluster_block_80df5e76 {
			block_80df5e76 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_80df5e76 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_80df5e76 -> role_5190023d [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_11b0d8a9 labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_6d9daa28 [label=6 color="#8b4183" fontcolor="#8b4183" id=edge_939390af labeltooltip=6 tooltip=6]
		subgraph cluster_block_6d9daa28 {
			block_6d9daa28 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_6d9daa28 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_6d9daa28 -> role_14cfbd25 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_ab3dcd53 labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_95a6d5cf [label=7 color="#8b4183" fontcolor="#8b4183" id=edge_c9c463c2 labeltooltip=7 tooltip=7]
		subgraph cluster_block_95a6d5cf {
			block_95a6d5cf [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_95a6d5cf labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_95a6d5cf -> role_02fa53b5 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_8f0abbdc labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_013620fe [label=8 color="#8b4183" fontcolor="#8b4183" id=edge_ce7e28be labeltooltip=8 tooltip=8]
		subgraph cluster_block_013620fe {
			block_013620fe [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_013620fe labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_013620fe -> role_54f41e7a [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_22b7c243 labeltooltip="1 " tooltip="1 "]
		}
		play_34e4301c -> block_d0796df4 [label=9 color="#8b4183" fontcolor="#8b4183" id=edge_137fe836 labeltooltip=9 tooltip=9]
		subgraph cluster_block_d0796df4 {
			block_d0796df4 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4183" id=block_d0796df4 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_d0796df4 -> role_a40ccc45 [label="1 " color="#8b4183" fontcolor="#8b4183" id=edge_a5a21bc0 labeltooltip="1 " tooltip="1 "]
		}
	}
}
