digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_962c9bb0 style=dotted]
	play_b0c5e845 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8a4246" fontcolor="#ffffff" id=play_b0c5e845 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_b0c5e845 [label="1 " color="#8a4246" fontcolor="#8a4246" id=edge_7aa66000 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_3f77c97e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8a4246" id=role_3f77c97e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_03a968e1 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8a4246" id=role_03a968e1 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_f3ef1bba [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8a4246" id=role_f3ef1bba tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_ba6d4019 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8a4246" id=role_ba6d4019 tooltip="task-gather-facts"]
		role_ba6d4019 -> role_3f77c97e [label="1 " color="#8a4246" fontcolor="#8a4246" id=edge_4b4a6d8b labeltooltip="1 " tooltip="1 "]
		role_ba6d4019 -> role_03a968e1 [label="2 " color="#8a4246" fontcolor="#8a4246" id=edge_dc886a60 labeltooltip="2 " tooltip="2 "]
		role_ba6d4019 -> role_f3ef1bba [label="3 " color="#8a4246" fontcolor="#8a4246" id=edge_fc262bf7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_b0c5e845 -> block_99613d3d [label=1 color="#8a4246" fontcolor="#8a4246" id=edge_1b4bedb5 labeltooltip=1 tooltip=1]
		subgraph cluster_block_99613d3d {
			block_99613d3d [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8a4246" id=block_99613d3d labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_99613d3d -> role_ba6d4019 [label="1 " color="#8a4246" fontcolor="#8a4246" id=edge_089c2e39 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_bb1216cc [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#09adc3" fontcolor="#ffffff" id=play_bb1216cc shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_bb1216cc [label="2 " color="#09adc3" fontcolor="#09adc3" id=edge_3abb9e0b labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_25e17bb8 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#09adc3" id=role_25e17bb8 tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_bb1216cc -> block_84ba1706 [label=1 color="#09adc3" fontcolor="#09adc3" id=edge_6df7d4bb labeltooltip=1 tooltip=1]
		subgraph cluster_block_84ba1706 {
			block_84ba1706 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#09adc3" id=block_84ba1706 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_84ba1706 -> role_25e17bb8 [label="1 " color="#09adc3" fontcolor="#09adc3" id=edge_9f075cd3 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_6e4aaf42 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#911fad" fontcolor="#ffffff" id=play_6e4aaf42 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_6e4aaf42 [label="3 " color="#911fad" fontcolor="#911fad" id=edge_35344787 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_9e706282 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#911fad" id=role_9e706282 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_d2fb77f8 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#911fad" id=role_d2fb77f8 tooltip="Gather facts to prepare the cluster hypervisors"]
		role_d2fb77f8 -> role_9e706282 [label="1 " color="#911fad" fontcolor="#911fad" id=edge_596ce992 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_fb1a2c7f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#911fad" id=role_fb1a2c7f tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_50e608cf [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#911fad" id=role_50e608cf tooltip="task-prepare-hypervisors"]
		role_50e608cf -> role_fb1a2c7f [label="1 " color="#911fad" fontcolor="#911fad" id=edge_2de07e40 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_6e4aaf42 -> block_2cda068b [label=1 color="#911fad" fontcolor="#911fad" id=edge_f8f2c256 labeltooltip=1 tooltip=1]
		subgraph cluster_block_2cda068b {
			block_2cda068b [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#911fad" id=block_2cda068b labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_2cda068b -> role_d2fb77f8 [label="1 " color="#911fad" fontcolor="#911fad" id=edge_a7831e42 labeltooltip="1 " tooltip="1 "]
		}
		play_6e4aaf42 -> block_3d868019 [label=2 color="#911fad" fontcolor="#911fad" id=edge_0b8109e5 labeltooltip=2 tooltip=2]
		subgraph cluster_block_3d868019 {
			block_3d868019 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#911fad" id=block_3d868019 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_3d868019 -> role_50e608cf [label="1 " color="#911fad" fontcolor="#911fad" id=edge_2beb80ab labeltooltip="1 " tooltip="1 "]
		}
	}
	play_426f789c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b41876" fontcolor="#ffffff" id=play_426f789c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_426f789c [label="4 " color="#b41876" fontcolor="#b41876" id=edge_1f1ca90b labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_bb0c8e37 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#b41876" id=role_bb0c8e37 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_c203f5bf [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b41876" id=role_c203f5bf tooltip="Prepare each hypervisor in the deployment"]
		role_c203f5bf -> role_bb0c8e37 [label="1 " color="#b41876" fontcolor="#b41876" id=edge_744e72e9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_426f789c -> block_77a2408e [label=1 color="#b41876" fontcolor="#b41876" id=edge_f2d6467c labeltooltip=1 tooltip=1]
		subgraph cluster_block_77a2408e {
			block_77a2408e [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b41876" id=block_77a2408e labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_77a2408e -> role_c203f5bf [label="1 " color="#b41876" fontcolor="#b41876" id=edge_bc552bb5 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_dbc9201c [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" fontcolor="#ffffff" id=play_dbc9201c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_dbc9201c [label="5 " color="#16a4b6" fontcolor="#16a4b6" id=edge_2b3de02a labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_7aa5cdaf [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_7aa5cdaf tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_2a663f5b [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_2a663f5b tooltip="task-prepare-environment"]
		role_2a663f5b -> role_7aa5cdaf [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_ac34c69f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_1454a396 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_1454a396 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_a5572c79 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16a4b6" id=role_a5572c79 tooltip="Prepare environment if not prepared"]
		role_a5572c79 -> role_1454a396 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_11dca332 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7538315f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16a4b6" id=role_7538315f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_6c22bad9 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_6c22bad9 tooltip="task-cleanup-hypervisors"]
		role_6c22bad9 -> role_a5572c79 [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_202bbcae labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6c22bad9 -> role_7538315f [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_57d99aa4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_93a4d3c2 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_93a4d3c2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_46c60755 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16a4b6" id=role_46c60755 tooltip="Prepare environment if not prepared"]
		role_46c60755 -> role_93a4d3c2 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_9f36fd67 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d523485d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16a4b6" id=role_d523485d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_1de8f8b9 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#16a4b6" id=role_1de8f8b9 tooltip="Cleanup hypervisors if needed"]
		role_1de8f8b9 -> role_46c60755 [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_4c6334b8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1de8f8b9 -> role_d523485d [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_9f95fc20 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_c6866222 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_c6866222 tooltip="task-run-validations"]
		role_c6866222 -> role_1de8f8b9 [label="1 [when: not hypervisors_cleaned]" color="#16a4b6" fontcolor="#16a4b6" id=edge_a8f5e903 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_0cd5cda4 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_0cd5cda4 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1a94b6d1 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16a4b6" id=role_1a94b6d1 tooltip="Prepare environment if not prepared"]
		role_1a94b6d1 -> role_0cd5cda4 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_6fb3fd7a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_dc57d5d6 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16a4b6" id=role_dc57d5d6 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_5f2b08da [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#16a4b6" id=role_5f2b08da tooltip="Cleanup hypervisors if needed"]
		role_5f2b08da -> role_1a94b6d1 [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_9d7bdcff labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5f2b08da -> role_dc57d5d6 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_8a7a4429 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_1e5d770b [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_1e5d770b tooltip="task-create-network"]
		role_1e5d770b -> role_5f2b08da [label="1 [when: not hypervisors_cleaned]" color="#16a4b6" fontcolor="#16a4b6" id=edge_764c611a labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_0b8995f8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_0b8995f8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_558ef20b [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#16a4b6" id=role_558ef20b tooltip="Prepare environment if not prepared"]
		role_558ef20b -> role_0b8995f8 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_bbb70a0a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_8c0b0248 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#16a4b6" id=role_8c0b0248 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_9801e887 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#16a4b6" id=role_9801e887 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_853a0a04 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16a4b6" id=role_853a0a04 tooltip="Configure Bind"]
		role_853a0a04 -> role_9801e887 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_7e4a10a6 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_327e8582 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#16a4b6" id=role_327e8582 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_dba56965 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16a4b6" id=role_dba56965 tooltip="Configure Dnsmasq"]
		role_dba56965 -> role_327e8582 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_50544f11 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_583c297e [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#16a4b6" id=role_583c297e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_4cf151b6 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16a4b6" id=role_4cf151b6 tooltip="Configure HAProxy"]
		role_4cf151b6 -> role_583c297e [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_66df7d94 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5984eaa7 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#16a4b6" id=role_5984eaa7 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_dc66257e [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16a4b6" id=role_dc66257e tooltip="Configure Nexus"]
		role_dc66257e -> role_5984eaa7 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_23f16385 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c1427996 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#16a4b6" id=role_c1427996 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_366edeef [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16a4b6" id=role_366edeef tooltip="Configure Apache"]
		role_366edeef -> role_c1427996 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_e8d45d86 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f4a8a350 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#16a4b6" id=role_f4a8a350 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_0c7f8363 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16a4b6" id=role_0c7f8363 tooltip="Configure a local container image registry"]
		role_0c7f8363 -> role_f4a8a350 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_25c60cb7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_a8d46853 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_a8d46853 tooltip="task-create-services"]
		role_a8d46853 -> role_558ef20b [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_e5a44e16 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a8d46853 -> role_8c0b0248 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_c47dadb5 labeltooltip="2 " tooltip="2 "]
		role_a8d46853 -> role_853a0a04 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#16a4b6" fontcolor="#16a4b6" id=edge_b7102b04 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a8d46853 -> role_dba56965 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#16a4b6" fontcolor="#16a4b6" id=edge_f8eca1ee labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a8d46853 -> role_4cf151b6 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#16a4b6" fontcolor="#16a4b6" id=edge_7651e664 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a8d46853 -> role_dc66257e [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#16a4b6" fontcolor="#16a4b6" id=edge_11651b15 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a8d46853 -> role_366edeef [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#16a4b6" fontcolor="#16a4b6" id=edge_ee72b3da labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a8d46853 -> role_0c7f8363 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#16a4b6" fontcolor="#16a4b6" id=edge_213d506e labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_aa59b6d8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_aa59b6d8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_70472308 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16a4b6" id=role_70472308 tooltip="Prepare environment if needed"]
		role_70472308 -> role_aa59b6d8 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_3ba5940e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_ebc08438 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16a4b6" id=role_ebc08438 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_ee355eee [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#16a4b6" id=role_ee355eee tooltip="Prepare services if needed"]
		role_ee355eee -> role_70472308 [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_65f8ab28 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ee355eee -> role_ebc08438 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_6441be47 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8f9b249a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16a4b6" id=role_8f9b249a tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_deded2b5 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16a4b6" id=role_deded2b5 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_14f7847c [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#16a4b6" id=role_14f7847c tooltip="Setup the cluster provision container"]
		role_14f7847c -> role_8f9b249a [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_4e05c587 labeltooltip="1 " tooltip="1 "]
		role_14f7847c -> role_deded2b5 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_5080904c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_826dd9b8 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#16a4b6" id=role_826dd9b8 tooltip="Delegate to the distro role to prepare the cluster"]
		role_826dd9b8 -> role_14f7847c [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_c7203464 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_f9fea57e [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_f9fea57e tooltip="task-prepare-cluster"]
		role_f9fea57e -> role_ee355eee [label="1 [when: not services_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_8c50855a labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f9fea57e -> role_826dd9b8 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_7e606ac4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_c2ff4323 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_c2ff4323 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_36ae8f17 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#16a4b6" id=role_36ae8f17 tooltip="Prepare environment if not prepared"]
		role_36ae8f17 -> role_c2ff4323 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_093a6726 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_1f8ceb59 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_1f8ceb59 tooltip="task-download-images"]
		role_1f8ceb59 -> role_36ae8f17 [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_2e9fa696 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_6720570e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_6720570e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_db606f1a [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16a4b6" id=role_db606f1a tooltip="Prepare environment if needed"]
		role_db606f1a -> role_6720570e [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_46e334ec labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_92abf2bd [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16a4b6" id=role_92abf2bd tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_95f9f61d [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#16a4b6" id=role_95f9f61d tooltip="Prepare services if needed"]
		role_95f9f61d -> role_db606f1a [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_7e637a14 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_95f9f61d -> role_92abf2bd [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_1da022ca labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_690d642c [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=role_690d642c tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_ffb38f32 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=role_ffb38f32 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_89cd8c8b [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=role_89cd8c8b tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_b6d6019d [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#16a4b6" id=role_b6d6019d tooltip="Delegate to the distro role to deploy the cluster"]
		role_b6d6019d -> role_690d642c [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_63342e9c labeltooltip="1 " tooltip="1 "]
		role_b6d6019d -> role_ffb38f32 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_c90b8e87 labeltooltip="2 " tooltip="2 "]
		task_bc995aa3 [label="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_bc995aa3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok"]
		role_b6d6019d -> task_bc995aa3 [label="3 " color="#16a4b6" fontcolor="#16a4b6" id=edge_812ae4ce labeltooltip="3 " tooltip="3 "]
		task_4cc38420 [label="kubeinit.kubeinit.kubeinit_okd : Use single node cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_4cc38420 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Use single node cluster"]
		role_b6d6019d -> task_4cc38420 [label="4 [when: kubeinit_controller_count|int == 1]" color="#16a4b6" fontcolor="#16a4b6" id=edge_ffc68968 labeltooltip="4 [when: kubeinit_controller_count|int == 1]" tooltip="4 [when: kubeinit_controller_count|int == 1]"]
		task_edb96a01 [label="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_edb96a01 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete"]
		role_b6d6019d -> task_edb96a01 [label="5 " color="#16a4b6" fontcolor="#16a4b6" id=edge_7fe85d72 labeltooltip="5 " tooltip="5 "]
		task_23fa3e14 [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_23fa3e14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config"]
		role_b6d6019d -> task_23fa3e14 [label="6 " color="#16a4b6" fontcolor="#16a4b6" id=edge_c770c4a3 labeltooltip="6 " tooltip="6 "]
		task_78b8696d [label="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_78b8696d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container"]
		role_b6d6019d -> task_78b8696d [label="7 " color="#16a4b6" fontcolor="#16a4b6" id=edge_9045bd38 labeltooltip="7 " tooltip="7 "]
		task_5c6c5cf7 [label="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_5c6c5cf7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM"]
		role_b6d6019d -> task_5c6c5cf7 [label="8 " color="#16a4b6" fontcolor="#16a4b6" id=edge_9436ef9c labeltooltip="8 " tooltip="8 "]
		task_64903aa1 [label="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_64903aa1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM"]
		role_b6d6019d -> task_64903aa1 [label="9 " color="#16a4b6" fontcolor="#16a4b6" id=edge_8490dd37 labeltooltip="9 " tooltip="9 "]
		task_1ef75206 [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_1ef75206 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage"]
		role_b6d6019d -> task_1ef75206 [label="10 " color="#16a4b6" fontcolor="#16a4b6" id=edge_bb7173ea labeltooltip="10 " tooltip="10 "]
		role_b6d6019d -> role_89cd8c8b [label="11 " color="#16a4b6" fontcolor="#16a4b6" id=edge_4bd1fc54 labeltooltip="11 " tooltip="11 "]
		task_06d6c00d [label="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_06d6c00d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready"]
		role_b6d6019d -> task_06d6c00d [label="12 " color="#16a4b6" fontcolor="#16a4b6" id=edge_5cf72f43 labeltooltip="12 " tooltip="12 "]
		task_a67b7ac0 [label="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_a67b7ac0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig"]
		role_b6d6019d -> task_a67b7ac0 [label="13 " color="#16a4b6" fontcolor="#16a4b6" id=edge_d5f0492e labeltooltip="13 " tooltip="13 "]
		task_ad1fc005 [label="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_ad1fc005 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information"]
		role_b6d6019d -> task_ad1fc005 [label="14 " color="#16a4b6" fontcolor="#16a4b6" id=edge_6158b030 labeltooltip="14 " tooltip="14 "]
		task_1c44596a [label="kubeinit.kubeinit.kubeinit_okd : Display final debug info" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_1c44596a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Display final debug info"]
		role_b6d6019d -> task_1c44596a [label="15 " color="#16a4b6" fontcolor="#16a4b6" id=edge_122c956a labeltooltip="15 " tooltip="15 "]
		task_07221a35 [label="kubeinit.kubeinit.kubeinit_okd : Print some final data" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#16a4b6" id=task_07221a35 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Print some final data"]
		role_b6d6019d -> task_07221a35 [label="16 " color="#16a4b6" fontcolor="#16a4b6" id=edge_a8915db6 labeltooltip="16 " tooltip="16 "]
	}
	subgraph "task-deploy-cluster" {
		role_8bf1f4e2 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_8bf1f4e2 tooltip="task-deploy-cluster"]
		role_8bf1f4e2 -> role_95f9f61d [label="1 [when: not services_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_27f0371e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_8bf1f4e2 -> role_b6d6019d [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_bbcf057a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_7d8335a5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16a4b6" id=role_7d8335a5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_3c4e2b5a [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16a4b6" id=role_3c4e2b5a tooltip="Prepare environment if needed"]
		role_3c4e2b5a -> role_7d8335a5 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_963229fb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_22fc4b1e [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16a4b6" id=role_22fc4b1e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_5b27b934 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#16a4b6" id=role_5b27b934 tooltip="Prepare services if needed"]
		role_5b27b934 -> role_3c4e2b5a [label="1 [when: not environment_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_2cfe5c89 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5b27b934 -> role_22fc4b1e [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_16ec4066 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_05c1473b [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#16a4b6" id=role_05c1473b tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_1efab4b6 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#16a4b6" id=role_1efab4b6 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_4390642c [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#16a4b6" id=role_4390642c tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_2420507b [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#16a4b6" id=role_2420507b tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_9dc145a4 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#16a4b6" id=role_9dc145a4 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_9dc145a4 -> role_05c1473b [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#16a4b6" fontcolor="#16a4b6" id=edge_6d9269cf labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_9dc145a4 -> role_1efab4b6 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_29056f47 labeltooltip="2 " tooltip="2 "]
		role_9dc145a4 -> role_4390642c [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#16a4b6" fontcolor="#16a4b6" id=edge_075ecf8d labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
		role_9dc145a4 -> role_2420507b [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#16a4b6" fontcolor="#16a4b6" id=edge_de8f431e labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_6d804ae9 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=role_6d804ae9 tooltip="task-post-deployment"]
		role_6d804ae9 -> role_5b27b934 [label="1 [when: not services_prepared]" color="#16a4b6" fontcolor="#16a4b6" id=edge_d8cf3a66 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_6d804ae9 -> role_9dc145a4 [label="2 " color="#16a4b6" fontcolor="#16a4b6" id=edge_294e855c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_dbc9201c -> block_24188851 [label=1 color="#16a4b6" fontcolor="#16a4b6" id=edge_9a7f174e labeltooltip=1 tooltip=1]
		subgraph cluster_block_24188851 {
			block_24188851 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_24188851 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_24188851 -> role_2a663f5b [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_eff6ac1e labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_df08ebd6 [label=2 color="#16a4b6" fontcolor="#16a4b6" id=edge_e1c188c0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_df08ebd6 {
			block_df08ebd6 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_df08ebd6 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_df08ebd6 -> role_6c22bad9 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_bb367ae0 labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_6a972076 [label=3 color="#16a4b6" fontcolor="#16a4b6" id=edge_d3af15d6 labeltooltip=3 tooltip=3]
		subgraph cluster_block_6a972076 {
			block_6a972076 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_6a972076 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_6a972076 -> role_c6866222 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_9a9f2894 labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_2af30aba [label=4 color="#16a4b6" fontcolor="#16a4b6" id=edge_2d544f7d labeltooltip=4 tooltip=4]
		subgraph cluster_block_2af30aba {
			block_2af30aba [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_2af30aba labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_2af30aba -> role_1e5d770b [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_a24f91fb labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_f5ebdde2 [label=5 color="#16a4b6" fontcolor="#16a4b6" id=edge_23c4ff95 labeltooltip=5 tooltip=5]
		subgraph cluster_block_f5ebdde2 {
			block_f5ebdde2 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_f5ebdde2 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_f5ebdde2 -> role_a8d46853 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_34110feb labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_cfbec55e [label=6 color="#16a4b6" fontcolor="#16a4b6" id=edge_bc955d8a labeltooltip=6 tooltip=6]
		subgraph cluster_block_cfbec55e {
			block_cfbec55e [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_cfbec55e labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_cfbec55e -> role_f9fea57e [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_31836e0e labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_23324eff [label=7 color="#16a4b6" fontcolor="#16a4b6" id=edge_a6419fb4 labeltooltip=7 tooltip=7]
		subgraph cluster_block_23324eff {
			block_23324eff [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_23324eff labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_23324eff -> role_1f8ceb59 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_35fcc907 labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_a0533bbf [label=8 color="#16a4b6" fontcolor="#16a4b6" id=edge_d66e9da2 labeltooltip=8 tooltip=8]
		subgraph cluster_block_a0533bbf {
			block_a0533bbf [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_a0533bbf labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_a0533bbf -> role_8bf1f4e2 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_2f2b1361 labeltooltip="1 " tooltip="1 "]
		}
		play_dbc9201c -> block_8cca6c2e [label=9 color="#16a4b6" fontcolor="#16a4b6" id=edge_712bed0e labeltooltip=9 tooltip=9]
		subgraph cluster_block_8cca6c2e {
			block_8cca6c2e [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16a4b6" id=block_8cca6c2e labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_8cca6c2e -> role_6d804ae9 [label="1 " color="#16a4b6" fontcolor="#16a4b6" id=edge_94d37f65 labeltooltip="1 " tooltip="1 "]
		}
	}
}
