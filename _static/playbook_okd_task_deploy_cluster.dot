digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_fcc9c0c5 style=dotted]
	"kubeinit/playbook.yml" -> play_9c5ed7bf [label="1 " color="#576f75" fontcolor="#576f75" id=edge_8a07fcc6 labeltooltip="1 " tooltip="1 "]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_9c5ed7bf [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#576f75" fontcolor="#ffffff" id=play_9c5ed7bf shape=box style=filled tooltip=localhost]
		play_9c5ed7bf -> block_2deb169d [label=1 color="#576f75" fontcolor="#576f75" id=edge_ed0d2982 labeltooltip=1 tooltip=1]
		subgraph cluster_block_2deb169d {
			block_2deb169d [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#576f75" id=block_2deb169d labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_2deb169d -> role_d2ee5cfc [label="1 " color="#576f75" fontcolor="#576f75" id=edge_f55105b5 labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_d2ee5cfc [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#576f75" id=role_d2ee5cfc tooltip="task-gather-facts"]
				role_d2ee5cfc -> role_dd7669f9 [label="1 " color="#576f75" fontcolor="#576f75" id=edge_f7bdaece labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_dd7669f9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#576f75" id=role_dd7669f9 tooltip="Gather kubeinit secrets"]
				}
				role_d2ee5cfc -> role_51bda80c [label="2 " color="#576f75" fontcolor="#576f75" id=edge_b67ad889 labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_51bda80c [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#576f75" id=role_51bda80c tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_d2ee5cfc -> role_26a76ad6 [label="3 " color="#576f75" fontcolor="#576f75" id=edge_529a2d0c labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_26a76ad6 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#576f75" id=role_26a76ad6 tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_eb693534 [label="2 " color="#a32949" fontcolor="#a32949" id=edge_fe6fd94f labeltooltip="2 " tooltip="2 "]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_eb693534 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a32949" fontcolor="#ffffff" id=play_eb693534 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_eb693534 -> block_22955603 [label=1 color="#a32949" fontcolor="#a32949" id=edge_059607b8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_22955603 {
			block_22955603 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a32949" id=block_22955603 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_22955603 -> role_0933d35e [label="1 " color="#a32949" fontcolor="#a32949" id=edge_0fdab330 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_0933d35e [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a32949" id=role_0933d35e tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_5fa3669a [label="3 " color="#5c9d2f" fontcolor="#5c9d2f" id=edge_8b0a8787 labeltooltip="3 " tooltip="3 "]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_5fa3669a [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5c9d2f" fontcolor="#ffffff" id=play_5fa3669a shape=box style=filled tooltip=localhost]
		play_5fa3669a -> block_b050a68b [label=1 color="#5c9d2f" fontcolor="#5c9d2f" id=edge_5eac8fd9 labeltooltip=1 tooltip=1]
		subgraph cluster_block_b050a68b {
			block_b050a68b [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5c9d2f" id=block_b050a68b labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_b050a68b -> role_5b74bd19 [label="1 " color="#5c9d2f" fontcolor="#5c9d2f" id=edge_193bdd61 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_5b74bd19 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5c9d2f" id=role_5b74bd19 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_5b74bd19 -> role_665c3ec5 [label="1 " color="#5c9d2f" fontcolor="#5c9d2f" id=edge_d15d8868 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_665c3ec5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5c9d2f" id=role_665c3ec5 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_5fa3669a -> block_5bec41a6 [label=2 color="#5c9d2f" fontcolor="#5c9d2f" id=edge_cb43530a labeltooltip=2 tooltip=2]
		subgraph cluster_block_5bec41a6 {
			block_5bec41a6 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5c9d2f" id=block_5bec41a6 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_5bec41a6 -> role_f995c223 [label="1 " color="#5c9d2f" fontcolor="#5c9d2f" id=edge_36416649 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_f995c223 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5c9d2f" id=role_f995c223 tooltip="task-prepare-hypervisors"]
				role_f995c223 -> role_0573629f [label="1 " color="#5c9d2f" fontcolor="#5c9d2f" id=edge_ad737b46 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_0573629f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5c9d2f" id=role_0573629f tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_dab29ee3 [label="4 " color="#8918b4" fontcolor="#8918b4" id=edge_0299588d labeltooltip="4 " tooltip="4 "]
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_dab29ee3 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8918b4" fontcolor="#ffffff" id=play_dab29ee3 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
		play_dab29ee3 -> block_03dd59f0 [label=1 color="#8918b4" fontcolor="#8918b4" id=edge_7bee82c8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_03dd59f0 {
			block_03dd59f0 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8918b4" id=block_03dd59f0 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_03dd59f0 -> role_2ba48ebd [label="1 " color="#8918b4" fontcolor="#8918b4" id=edge_c51a1428 labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_2ba48ebd [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8918b4" id=role_2ba48ebd tooltip="Prepare each hypervisor in the deployment"]
				role_2ba48ebd -> role_6a7df1ec [label="1 " color="#8918b4" fontcolor="#8918b4" id=edge_889ef291 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_6a7df1ec [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#8918b4" id=role_6a7df1ec tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_2c51dd2b [label="5 " color="#4e7e52" fontcolor="#4e7e52" id=edge_b8568e2a labeltooltip="5 " tooltip="5 "]
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_2c51dd2b [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" fontcolor="#ffffff" id=play_2c51dd2b shape=box style=filled tooltip=localhost]
		play_2c51dd2b -> block_3064a5b6 [label=1 color="#4e7e52" fontcolor="#4e7e52" id=edge_ca009c42 labeltooltip=1 tooltip=1]
		subgraph cluster_block_3064a5b6 {
			block_3064a5b6 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_3064a5b6 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_3064a5b6 -> role_959bfc21 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_d4682207 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_959bfc21 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_959bfc21 tooltip="task-prepare-environment"]
				role_959bfc21 -> role_e87df748 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_04be34e9 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_e87df748 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_e87df748 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_2c51dd2b -> block_54b4e59e [label=2 color="#4e7e52" fontcolor="#4e7e52" id=edge_7df683a5 labeltooltip=2 tooltip=2]
		subgraph cluster_block_54b4e59e {
			block_54b4e59e [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_54b4e59e labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_54b4e59e -> role_2bbd7723 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_b1da8b8c labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_2bbd7723 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_2bbd7723 tooltip="task-cleanup-hypervisors"]
				role_2bbd7723 -> role_c0df9533 [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_f684c7d8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c0df9533 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#4e7e52" id=role_c0df9533 tooltip="Prepare environment if not prepared"]
					role_c0df9533 -> role_b13b222f [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_514bd0cd labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_b13b222f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_b13b222f tooltip="Gather kubeinit secrets"]
					}
				}
				role_2bbd7723 -> role_11d29a6a [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_06446994 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_11d29a6a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#4e7e52" id=role_11d29a6a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_2c51dd2b -> block_6d6d952d [label=3 color="#4e7e52" fontcolor="#4e7e52" id=edge_c7a362ff labeltooltip=3 tooltip=3]
		subgraph cluster_block_6d6d952d {
			block_6d6d952d [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_6d6d952d labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_6d6d952d -> role_aa768e3f [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_331de08e labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_aa768e3f [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_aa768e3f tooltip="task-run-validations"]
				role_aa768e3f -> role_e41d406c [label="1 [when: not hypervisors_cleaned]" color="#4e7e52" fontcolor="#4e7e52" id=edge_0a28b708 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_e41d406c [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#4e7e52" id=role_e41d406c tooltip="Cleanup hypervisors if needed"]
					role_e41d406c -> role_95c3bf0b [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_c268a0de labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_95c3bf0b [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#4e7e52" id=role_95c3bf0b tooltip="Prepare environment if not prepared"]
						role_95c3bf0b -> role_dd9ed5a5 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_9c510e92 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_dd9ed5a5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_dd9ed5a5 tooltip="Gather kubeinit secrets"]
						}
					}
					role_e41d406c -> role_abb709b7 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_6227be3a labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_abb709b7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#4e7e52" id=role_abb709b7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_2c51dd2b -> block_b385c559 [label=4 color="#4e7e52" fontcolor="#4e7e52" id=edge_bfaeb22c labeltooltip=4 tooltip=4]
		subgraph cluster_block_b385c559 {
			block_b385c559 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_b385c559 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_b385c559 -> role_8c74c70d [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_3be6922e labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_8c74c70d [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_8c74c70d tooltip="task-create-network"]
				role_8c74c70d -> role_2d044fde [label="1 [when: not hypervisors_cleaned]" color="#4e7e52" fontcolor="#4e7e52" id=edge_5f8bf1e3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_2d044fde [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#4e7e52" id=role_2d044fde tooltip="Cleanup hypervisors if needed"]
					role_2d044fde -> role_92f59b91 [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_4f36034e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_92f59b91 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#4e7e52" id=role_92f59b91 tooltip="Prepare environment if not prepared"]
						role_92f59b91 -> role_8be544f1 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_c56a177a labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_8be544f1 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_8be544f1 tooltip="Gather kubeinit secrets"]
						}
					}
					role_2d044fde -> role_4ce4e057 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_6672c6a6 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_4ce4e057 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#4e7e52" id=role_4ce4e057 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_2c51dd2b -> block_c1580e8c [label=5 color="#4e7e52" fontcolor="#4e7e52" id=edge_0e346c26 labeltooltip=5 tooltip=5]
		subgraph cluster_block_c1580e8c {
			block_c1580e8c [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_c1580e8c labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_c1580e8c -> role_7ee097f7 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_c21a8170 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_7ee097f7 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_7ee097f7 tooltip="task-create-services"]
				role_7ee097f7 -> role_45a889c1 [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_c4da45a5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_45a889c1 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#4e7e52" id=role_45a889c1 tooltip="Prepare environment if not prepared"]
					role_45a889c1 -> role_79d66b21 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_f2bf387c labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_79d66b21 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_79d66b21 tooltip="Gather kubeinit secrets"]
					}
				}
				role_7ee097f7 -> role_a5d4eb65 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_e8a5cd64 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_a5d4eb65 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#4e7e52" id=role_a5d4eb65 tooltip="Prepare podman"]
				}
				role_7ee097f7 -> role_64c6d796 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_ab8cb9b9 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_64c6d796 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#4e7e52" id=role_64c6d796 tooltip="Configure Bind"]
					role_64c6d796 -> role_df511a36 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_30abb5df labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_df511a36 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#4e7e52" id=role_df511a36 tooltip="Create systemd service for podman container"]
					}
				}
				role_7ee097f7 -> role_0dbafb0c [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_0b58fe16 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_0dbafb0c [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#4e7e52" id=role_0dbafb0c tooltip="Configure Dnsmasq"]
					role_0dbafb0c -> role_bc78de24 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_b044d278 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_bc78de24 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#4e7e52" id=role_bc78de24 tooltip="Create systemd service for podman container"]
					}
				}
				role_7ee097f7 -> role_dd4a6565 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_39d272b5 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_dd4a6565 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#4e7e52" id=role_dd4a6565 tooltip="Configure HAProxy"]
					role_dd4a6565 -> role_32b85fe0 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_7f8c3db9 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_32b85fe0 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#4e7e52" id=role_32b85fe0 tooltip="Create systemd service for podman container"]
					}
				}
				role_7ee097f7 -> role_f704c3c8 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_3e115891 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_f704c3c8 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#4e7e52" id=role_f704c3c8 tooltip="Configure Nexus"]
					role_f704c3c8 -> role_6fc918ee [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_50809c9a labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_6fc918ee [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#4e7e52" id=role_6fc918ee tooltip="Create systemd service for podman container"]
					}
				}
				role_7ee097f7 -> role_76ba5700 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_d8e9c177 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_76ba5700 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#4e7e52" id=role_76ba5700 tooltip="Configure Apache"]
					role_76ba5700 -> role_a37abd00 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_4c3049f4 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_a37abd00 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#4e7e52" id=role_a37abd00 tooltip="Create systemd service for podman container"]
					}
				}
				role_7ee097f7 -> role_c106e744 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_bcc542d8 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_c106e744 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#4e7e52" id=role_c106e744 tooltip="Configure a local container image registry"]
					role_c106e744 -> role_1257981e [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_a8a314de labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_1257981e [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#4e7e52" id=role_1257981e tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_2c51dd2b -> block_44be3f74 [label=6 color="#4e7e52" fontcolor="#4e7e52" id=edge_c9e85523 labeltooltip=6 tooltip=6]
		subgraph cluster_block_44be3f74 {
			block_44be3f74 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_44be3f74 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_44be3f74 -> role_e38010ca [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_b85c09c1 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_e38010ca [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_e38010ca tooltip="task-prepare-cluster"]
				role_e38010ca -> role_fa6267a8 [label="1 [when: not services_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_d61bdd7b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_fa6267a8 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#4e7e52" id=role_fa6267a8 tooltip="Prepare services if needed"]
					role_fa6267a8 -> role_27d00ada [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_9300a409 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_27d00ada [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#4e7e52" id=role_27d00ada tooltip="Prepare environment if needed"]
						role_27d00ada -> role_d171ad28 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_977e120d labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_d171ad28 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_d171ad28 tooltip="Gather kubeinit secrets"]
						}
					}
					role_fa6267a8 -> role_17f5f6fa [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_a28b2c7e labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_17f5f6fa [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#4e7e52" id=role_17f5f6fa tooltip="Gather network and host facts for guest"]
					}
				}
				role_e38010ca -> role_d8145053 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_ba68725e labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_d8145053 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#4e7e52" id=role_d8145053 tooltip="Delegate to the distro role to prepare the cluster"]
					role_d8145053 -> role_3788aed5 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_57dabc61 labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_3788aed5 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#4e7e52" id=role_3788aed5 tooltip="Setup the cluster provision container"]
						role_3788aed5 -> role_f8d39b05 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_cc90a52b labeltooltip="1 " tooltip="1 "]
						subgraph "Create systemd service for podman container" {
							role_f8d39b05 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#4e7e52" id=role_f8d39b05 tooltip="Create systemd service for podman container"]
						}
						role_3788aed5 -> role_13bd8d21 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_d5a7bacc labeltooltip="2 " tooltip="2 "]
						subgraph "Gather network and host facts for provision service" {
							role_13bd8d21 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#4e7e52" id=role_13bd8d21 tooltip="Gather network and host facts for provision service"]
						}
					}
				}
			}
		}
		play_2c51dd2b -> block_af053b78 [label=7 color="#4e7e52" fontcolor="#4e7e52" id=edge_7a53a9f0 labeltooltip=7 tooltip=7]
		subgraph cluster_block_af053b78 {
			block_af053b78 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_af053b78 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_af053b78 -> role_6e7119ba [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_08af635f labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_6e7119ba [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_6e7119ba tooltip="task-download-images"]
				role_6e7119ba -> role_07e5a7cf [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_46c445a2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_07e5a7cf [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#4e7e52" id=role_07e5a7cf tooltip="Prepare environment if not prepared"]
					role_07e5a7cf -> role_7631b817 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_339838cc labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_7631b817 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_7631b817 tooltip="Gather kubeinit secrets"]
					}
				}
			}
		}
		play_2c51dd2b -> block_b8b4e74e [label=8 color="#4e7e52" fontcolor="#4e7e52" id=edge_b3c68c40 labeltooltip=8 tooltip=8]
		subgraph cluster_block_b8b4e74e {
			block_b8b4e74e [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_b8b4e74e labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_b8b4e74e -> role_928a3123 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_bb72bf59 labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_928a3123 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_928a3123 tooltip="task-deploy-cluster"]
				role_928a3123 -> role_df5e065d [label="1 [when: not services_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_7f09a7e7 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_df5e065d [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#4e7e52" id=role_df5e065d tooltip="Prepare services if needed"]
					role_df5e065d -> role_8832abe5 [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_e685ba06 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_8832abe5 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#4e7e52" id=role_8832abe5 tooltip="Prepare environment if needed"]
						role_8832abe5 -> role_f5c71139 [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_de533f5c labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_f5c71139 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_f5c71139 tooltip="Gather kubeinit secrets"]
						}
					}
					role_df5e065d -> role_71f24a31 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_8b5abe24 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_71f24a31 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#4e7e52" id=role_71f24a31 tooltip="Gather network and host facts for guest"]
					}
				}
				role_928a3123 -> role_b7d1791a [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_894b96a4 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_b7d1791a [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#4e7e52" id=role_b7d1791a tooltip="Delegate to the distro role to deploy the cluster"]
					role_b7d1791a -> role_67150a8d [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_5acdc5e8 labeltooltip="1 " tooltip="1 "]
					subgraph "Deploy the cluster bootstrap node" {
						role_67150a8d [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=role_67150a8d tooltip="Deploy the cluster bootstrap node"]
					}
					role_b7d1791a -> role_c713ba63 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_fc2d721a labeltooltip="2 " tooltip="2 "]
					subgraph "Deploy the cluster controller nodes" {
						role_c713ba63 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=role_c713ba63 tooltip="Deploy the cluster controller nodes"]
					}
					task_9601cf18 [label="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_9601cf18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok"]
					role_b7d1791a -> task_9601cf18 [label="3 " color="#4e7e52" fontcolor="#4e7e52" id=edge_e9227d96 labeltooltip="3 " tooltip="3 "]
					task_436c34a0 [label="kubeinit.kubeinit.kubeinit_okd : Use single node cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_436c34a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Use single node cluster"]
					role_b7d1791a -> task_436c34a0 [label="4 [when: kubeinit_controller_count|int == 1]" color="#4e7e52" fontcolor="#4e7e52" id=edge_245ce8f1 labeltooltip="4 [when: kubeinit_controller_count|int == 1]" tooltip="4 [when: kubeinit_controller_count|int == 1]"]
					task_80c72ba1 [label="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_80c72ba1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete"]
					role_b7d1791a -> task_80c72ba1 [label="5 " color="#4e7e52" fontcolor="#4e7e52" id=edge_4d6e5b7a labeltooltip="5 " tooltip="5 "]
					task_84ceefbc [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_84ceefbc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config"]
					role_b7d1791a -> task_84ceefbc [label="6 " color="#4e7e52" fontcolor="#4e7e52" id=edge_814c5a0a labeltooltip="6 " tooltip="6 "]
					task_4abf5052 [label="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_4abf5052 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container"]
					role_b7d1791a -> task_4abf5052 [label="7 " color="#4e7e52" fontcolor="#4e7e52" id=edge_55f01f07 labeltooltip="7 " tooltip="7 "]
					task_f862b4f5 [label="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_f862b4f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM"]
					role_b7d1791a -> task_f862b4f5 [label="8 " color="#4e7e52" fontcolor="#4e7e52" id=edge_fe9fc020 labeltooltip="8 " tooltip="8 "]
					task_8335fdd3 [label="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_8335fdd3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM"]
					role_b7d1791a -> task_8335fdd3 [label="9 " color="#4e7e52" fontcolor="#4e7e52" id=edge_f786c475 labeltooltip="9 " tooltip="9 "]
					task_4b8f74c8 [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_4b8f74c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage"]
					role_b7d1791a -> task_4b8f74c8 [label="10 " color="#4e7e52" fontcolor="#4e7e52" id=edge_439e9711 labeltooltip="10 " tooltip="10 "]
					role_b7d1791a -> role_8bc6dbef [label="11 " color="#4e7e52" fontcolor="#4e7e52" id=edge_61eaf354 labeltooltip="11 " tooltip="11 "]
					subgraph "Deploy the cluster compute nodes" {
						role_8bc6dbef [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=role_8bc6dbef tooltip="Deploy the cluster compute nodes"]
					}
					task_a054fdd3 [label="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_a054fdd3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready"]
					role_b7d1791a -> task_a054fdd3 [label="12 " color="#4e7e52" fontcolor="#4e7e52" id=edge_f8221a46 labeltooltip="12 " tooltip="12 "]
					task_274bfbc8 [label="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_274bfbc8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig"]
					role_b7d1791a -> task_274bfbc8 [label="13 " color="#4e7e52" fontcolor="#4e7e52" id=edge_14e44216 labeltooltip="13 " tooltip="13 "]
					task_49ee9f2d [label="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_49ee9f2d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information"]
					role_b7d1791a -> task_49ee9f2d [label="14 " color="#4e7e52" fontcolor="#4e7e52" id=edge_dabf56b5 labeltooltip="14 " tooltip="14 "]
					task_2a093569 [label="kubeinit.kubeinit.kubeinit_okd : Display final debug info" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_2a093569 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Display final debug info"]
					role_b7d1791a -> task_2a093569 [label="15 " color="#4e7e52" fontcolor="#4e7e52" id=edge_60cad6d6 labeltooltip="15 " tooltip="15 "]
					task_fd22b5f3 [label="kubeinit.kubeinit.kubeinit_okd : Print some final data" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#4e7e52" id=task_fd22b5f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Print some final data"]
					role_b7d1791a -> task_fd22b5f3 [label="16 " color="#4e7e52" fontcolor="#4e7e52" id=edge_08b9a75d labeltooltip="16 " tooltip="16 "]
				}
			}
		}
		play_2c51dd2b -> block_851adc43 [label=9 color="#4e7e52" fontcolor="#4e7e52" id=edge_b57eb555 labeltooltip=9 tooltip=9]
		subgraph cluster_block_851adc43 {
			block_851adc43 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=block_851adc43 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_851adc43 -> role_bf1fa30f [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_a03e070a labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_bf1fa30f [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4e7e52" id=role_bf1fa30f tooltip="task-post-deployment"]
				role_bf1fa30f -> role_5b3c9ec2 [label="1 [when: not services_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_72632ac4 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_5b3c9ec2 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#4e7e52" id=role_5b3c9ec2 tooltip="Prepare services if needed"]
					role_5b3c9ec2 -> role_abc71d44 [label="1 [when: not environment_prepared]" color="#4e7e52" fontcolor="#4e7e52" id=edge_f4574da7 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_abc71d44 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#4e7e52" id=role_abc71d44 tooltip="Prepare environment if needed"]
						role_abc71d44 -> role_eb7a11cb [label="1 " color="#4e7e52" fontcolor="#4e7e52" id=edge_ab665c49 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_eb7a11cb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#4e7e52" id=role_eb7a11cb tooltip="Gather kubeinit secrets"]
						}
					}
					role_5b3c9ec2 -> role_a135e76d [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_5440bcb4 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_a135e76d [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#4e7e52" id=role_a135e76d tooltip="Gather network and host facts for guest"]
					}
				}
				role_bf1fa30f -> role_b946c812 [label="2 " color="#4e7e52" fontcolor="#4e7e52" id=edge_ecbe6b52 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_b946c812 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#4e7e52" id=role_b946c812 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_b946c812 -> role_8c793adf [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_74c0b523 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_8c793adf [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#4e7e52" id=role_8c793adf tooltip="Configure NFS"]
					}
					role_b946c812 -> role_11ffefaf [label="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#4e7e52" fontcolor="#4e7e52" id=edge_79a64861 labeltooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_11ffefaf [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#4e7e52" id=role_11ffefaf tooltip="Deploy the apps"]
					}
					role_b946c812 -> role_c91cc4c2 [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#4e7e52" fontcolor="#4e7e52" id=edge_55d8b5cc labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy KubeVirt" {
						role_c91cc4c2 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#4e7e52" id=role_c91cc4c2 tooltip="Deploy KubeVirt"]
					}
					role_b946c812 -> role_f92e42a8 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#4e7e52" fontcolor="#4e7e52" id=edge_6c0baa48 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy Submariner" {
						role_f92e42a8 [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#4e7e52" id=role_f92e42a8 tooltip="Deploy Submariner"]
					}
				}
			}
		}
	}
}
