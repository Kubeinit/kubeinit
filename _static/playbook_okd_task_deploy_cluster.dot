digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_7d2f7381 [label="Play: Initial setup (1)" color="#4524a8" fontcolor="#ffffff" id=play_7d2f7381 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_7d2f7381 [label="1 " color="#4524a8" fontcolor="#4524a8" id=edge_6ad91ef6 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_1c14fb50 [label="[role] Read podman secrets if running from the container" color="#4524a8" id=role_1c14fb50 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_3646228f [label="[role] task-gather-facts" color="#4524a8" id=role_3646228f tooltip="task-gather-facts"]
		role_3646228f -> role_1c14fb50 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#4524a8" fontcolor="#4524a8" id=edge_77670428 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b519b706 [label="[role] Read podman secrets if running from the container" color="#4524a8" id=role_b519b706 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_a5843ebe [label="[role] task-prepare-hypervisors" color="#4524a8" id=role_a5843ebe tooltip="task-prepare-hypervisors"]
		role_a5843ebe -> role_b519b706 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#4524a8" fontcolor="#4524a8" id=edge_20d713dc labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_7d2f7381 -> block_4e8e53a3 [label=1 color="#4524a8" fontcolor="#4524a8" id=edge_6fdb72be labeltooltip=1 tooltip=1]
		subgraph cluster_block_4e8e53a3 {
			block_4e8e53a3 [label="[block] Gather facts about the deployment environment" color="#4524a8" id=block_4e8e53a3 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_4e8e53a3 -> role_3646228f [label="1 " color="#4524a8" fontcolor="#4524a8" id=edge_73fc9235 labeltooltip="1 " tooltip="1 "]
		}
		play_7d2f7381 -> block_19b87d64 [label=2 color="#4524a8" fontcolor="#4524a8" id=edge_df9b084a labeltooltip=2 tooltip=2]
		subgraph cluster_block_19b87d64 {
			block_19b87d64 [label="[block] Prepare the hypervisors" color="#4524a8" id=block_19b87d64 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_19b87d64 -> role_a5843ebe [label="1 " color="#4524a8" fontcolor="#4524a8" id=edge_a1b9829f labeltooltip="1 " tooltip="1 "]
		}
	}
	play_d73f15d1 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#1eae9f" fontcolor="#ffffff" id=play_d73f15d1 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_d73f15d1 [label="2 " color="#1eae9f" fontcolor="#1eae9f" id=edge_0fe3eff8 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_e79de451 [label="[role] Provision the libvirt services on the hypervisor" color="#1eae9f" id=role_e79de451 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_b3261ede [label="[role] Prepare each hypervisor in the deployment" color="#1eae9f" id=role_b3261ede tooltip="Prepare each hypervisor in the deployment"]
		role_b3261ede -> role_e79de451 [label="1 " color="#1eae9f" fontcolor="#1eae9f" id=edge_2cc45184 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_d73f15d1 -> block_dc60e6c8 [label=1 color="#1eae9f" fontcolor="#1eae9f" id=edge_6f79b375 labeltooltip=1 tooltip=1]
		subgraph cluster_block_dc60e6c8 {
			block_dc60e6c8 [label="[block] Prepare individual hypervisors" color="#1eae9f" id=block_dc60e6c8 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_dc60e6c8 -> role_b3261ede [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#1eae9f" fontcolor="#1eae9f" id=edge_da0bbf3a labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_1d3808f7 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#7c505f" fontcolor="#ffffff" id=play_1d3808f7 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_1d3808f7 [label="3 " color="#7c505f" fontcolor="#7c505f" id=edge_3d11d7c2 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_39e4a702 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_39e4a702 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_f0932172 [label="[role] task-prepare-environment" color="#7c505f" id=role_f0932172 tooltip="task-prepare-environment"]
		role_f0932172 -> role_39e4a702 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_34ca42ef labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e2d43a28 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_e2d43a28 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_89637f34 [label="[role] Prepare environment if not prepared" color="#7c505f" id=role_89637f34 tooltip="Prepare environment if not prepared"]
		role_89637f34 -> role_e2d43a28 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_60b1b0a3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_3848f781 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#7c505f" id=role_3848f781 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_9afb23cd [label="[role] task-cleanup-hypervisors" color="#7c505f" id=role_9afb23cd tooltip="task-cleanup-hypervisors"]
		role_9afb23cd -> role_89637f34 [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_fff485ad labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9afb23cd -> role_3848f781 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_85868484 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_187adf08 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_187adf08 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f1ee081c [label="[role] Prepare environment if not prepared" color="#7c505f" id=role_f1ee081c tooltip="Prepare environment if not prepared"]
		role_f1ee081c -> role_187adf08 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_f477924f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_6dc99ac4 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#7c505f" id=role_6dc99ac4 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e7fa2ef7 [label="[role] Cleanup hypervisors if needed" color="#7c505f" id=role_e7fa2ef7 tooltip="Cleanup hypervisors if needed"]
		role_e7fa2ef7 -> role_f1ee081c [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_1c498059 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e7fa2ef7 -> role_6dc99ac4 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_dbfa1452 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_3ed34e7e [label="[role] task-run-validations" color="#7c505f" id=role_3ed34e7e tooltip="task-run-validations"]
		role_3ed34e7e -> role_e7fa2ef7 [label="1 [when: not hypervisors_cleaned]" color="#7c505f" fontcolor="#7c505f" id=edge_cffe1c76 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b6eb8983 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_b6eb8983 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_933c8168 [label="[role] Prepare environment if not prepared" color="#7c505f" id=role_933c8168 tooltip="Prepare environment if not prepared"]
		role_933c8168 -> role_b6eb8983 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_29f651e1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d2748277 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#7c505f" id=role_d2748277 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_aa43fd49 [label="[role] Cleanup hypervisors if needed" color="#7c505f" id=role_aa43fd49 tooltip="Cleanup hypervisors if needed"]
		role_aa43fd49 -> role_933c8168 [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_e4af177c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_aa43fd49 -> role_d2748277 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_358d51b8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_13f2b196 [label="[role] task-create-network" color="#7c505f" id=role_13f2b196 tooltip="task-create-network"]
		role_13f2b196 -> role_aa43fd49 [label="1 [when: not hypervisors_cleaned]" color="#7c505f" fontcolor="#7c505f" id=edge_5f062961 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_470d8c63 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_470d8c63 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_807fb23b [label="[role] Prepare environment if not prepared" color="#7c505f" id=role_807fb23b tooltip="Prepare environment if not prepared"]
		role_807fb23b -> role_470d8c63 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_cb064c23 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_a3611d41 [label="[role] Prepare podman" color="#7c505f" id=role_a3611d41 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_ea74315b [label="[role] Create systemd service for podman container" color="#7c505f" id=role_ea74315b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_83a5820a [label="[role] Configure Bind" color="#7c505f" id=role_83a5820a tooltip="Configure Bind"]
		role_83a5820a -> role_ea74315b [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_8e218de0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_b95d07db [label="[role] Create systemd service for podman container" color="#7c505f" id=role_b95d07db tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_21d42694 [label="[role] Configure Dnsmasq" color="#7c505f" id=role_21d42694 tooltip="Configure Dnsmasq"]
		role_21d42694 -> role_b95d07db [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_ee1e392b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1d00e116 [label="[role] Create systemd service for podman container" color="#7c505f" id=role_1d00e116 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_e3651c39 [label="[role] Configure HAProxy" color="#7c505f" id=role_e3651c39 tooltip="Configure HAProxy"]
		role_e3651c39 -> role_1d00e116 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_f3190dd2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a2766e02 [label="[role] Create systemd service for podman container" color="#7c505f" id=role_a2766e02 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_db13585f [label="[role] Configure Nexus" color="#7c505f" id=role_db13585f tooltip="Configure Nexus"]
		role_db13585f -> role_a2766e02 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_01aab4e0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e174b138 [label="[role] Create systemd service for podman container" color="#7c505f" id=role_e174b138 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_b78c520b [label="[role] Configure Apache" color="#7c505f" id=role_b78c520b tooltip="Configure Apache"]
		role_b78c520b -> role_e174b138 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_9c5eac04 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_09942bec [label="[role] Create systemd service for podman container" color="#7c505f" id=role_09942bec tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_4e1a4e13 [label="[role] Configure a local container image registry" color="#7c505f" id=role_4e1a4e13 tooltip="Configure a local container image registry"]
		role_4e1a4e13 -> role_09942bec [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_110596e5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_08235a43 [label="[role] task-create-services" color="#7c505f" id=role_08235a43 tooltip="task-create-services"]
		role_08235a43 -> role_807fb23b [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_d6e43243 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_08235a43 -> role_a3611d41 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_9b33f55b labeltooltip="2 " tooltip="2 "]
		role_08235a43 -> role_83a5820a [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#7c505f" fontcolor="#7c505f" id=edge_3be163c9 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_08235a43 -> role_21d42694 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#7c505f" fontcolor="#7c505f" id=edge_ff90f227 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_08235a43 -> role_e3651c39 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#7c505f" fontcolor="#7c505f" id=edge_837c6a90 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_08235a43 -> role_db13585f [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#7c505f" fontcolor="#7c505f" id=edge_572ab359 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_08235a43 -> role_b78c520b [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#7c505f" fontcolor="#7c505f" id=edge_a09a6984 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_08235a43 -> role_4e1a4e13 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#7c505f" fontcolor="#7c505f" id=edge_743a44cc labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_adf14bd3 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_adf14bd3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_a1bd424e [label="[role] Prepare environment if needed" color="#7c505f" id=role_a1bd424e tooltip="Prepare environment if needed"]
		role_a1bd424e -> role_adf14bd3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_67751fe9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_ac29c97d [label="[role] Gather network and host facts for guest" color="#7c505f" id=role_ac29c97d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f673ac6f [label="[role] Prepare services if needed" color="#7c505f" id=role_f673ac6f tooltip="Prepare services if needed"]
		role_f673ac6f -> role_a1bd424e [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_98a06494 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f673ac6f -> role_ac29c97d [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_6248c4b0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c8611197 [label="[role] Create systemd service for podman container" color="#7c505f" id=role_c8611197 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_8b862d4f [label="[role] Gather network and host facts for provision service" color="#7c505f" id=role_8b862d4f tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_ebb8c73a [label="[role] Setup the cluster provision container" color="#7c505f" id=role_ebb8c73a tooltip="Setup the cluster provision container"]
		role_ebb8c73a -> role_c8611197 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_4eac9c98 labeltooltip="1 " tooltip="1 "]
		role_ebb8c73a -> role_8b862d4f [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_6397be35 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_8f961a01 [label="[role] Delegate to the distro role to prepare the cluster" color="#7c505f" id=role_8f961a01 tooltip="Delegate to the distro role to prepare the cluster"]
		role_8f961a01 -> role_ebb8c73a [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_67d3140d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_cee1e1ce [label="[role] task-prepare-cluster" color="#7c505f" id=role_cee1e1ce tooltip="task-prepare-cluster"]
		role_cee1e1ce -> role_f673ac6f [label="1 [when: not services_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_0a2780ce labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_cee1e1ce -> role_8f961a01 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_4c31b080 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_eb6038cc [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_eb6038cc tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b472aafc [label="[role] Prepare environment if not prepared" color="#7c505f" id=role_b472aafc tooltip="Prepare environment if not prepared"]
		role_b472aafc -> role_eb6038cc [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_16af4df9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_83c79166 [label="[role] task-download-images" color="#7c505f" id=role_83c79166 tooltip="task-download-images"]
		role_83c79166 -> role_b472aafc [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_0a151990 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9eff4251 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_9eff4251 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_a9432e18 [label="[role] Prepare environment if needed" color="#7c505f" id=role_a9432e18 tooltip="Prepare environment if needed"]
		role_a9432e18 -> role_9eff4251 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_fe723014 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_549f1d61 [label="[role] Gather network and host facts for guest" color="#7c505f" id=role_549f1d61 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f48eb972 [label="[role] Prepare services if needed" color="#7c505f" id=role_f48eb972 tooltip="Prepare services if needed"]
		role_f48eb972 -> role_a9432e18 [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_223d2a92 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f48eb972 -> role_549f1d61 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_14d04773 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_5db68be6 [label="[role] Deploy the cluster bootstrap node" color="#7c505f" id=role_5db68be6 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_98876dc2 [label="[role] Deploy the cluster controller nodes" color="#7c505f" id=role_98876dc2 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_6df8fa70 [label="[role] Deploy the cluster compute nodes" color="#7c505f" id=role_6df8fa70 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_d072c6f0 [label="[role] Delegate to the distro role to deploy the cluster" color="#7c505f" id=role_d072c6f0 tooltip="Delegate to the distro role to deploy the cluster"]
		role_d072c6f0 -> role_5db68be6 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_83d0f9de labeltooltip="1 " tooltip="1 "]
		role_d072c6f0 -> role_98876dc2 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_cdf183f9 labeltooltip="2 " tooltip="2 "]
		task_a4409afd [label="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok" color="#7c505f" id=task_a4409afd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok"]
		role_d072c6f0 -> task_a4409afd [label="3 " color="#7c505f" fontcolor="#7c505f" id=edge_1eaf8659 labeltooltip="3 " tooltip="3 "]
		task_60b9361b [label="kubeinit.kubeinit.kubeinit_okd : Use single node cluster" color="#7c505f" id=task_60b9361b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Use single node cluster"]
		role_d072c6f0 -> task_60b9361b [label="4 [when: kubeinit_controller_count|int == 1]" color="#7c505f" fontcolor="#7c505f" id=edge_df6e50f7 labeltooltip="4 [when: kubeinit_controller_count|int == 1]" tooltip="4 [when: kubeinit_controller_count|int == 1]"]
		task_716bfe87 [label="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete" color="#7c505f" id=task_716bfe87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete"]
		role_d072c6f0 -> task_716bfe87 [label="5 " color="#7c505f" fontcolor="#7c505f" id=edge_abbdb6d4 labeltooltip="5 " tooltip="5 "]
		task_b5d8d238 [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config" color="#7c505f" id=task_b5d8d238 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config"]
		role_d072c6f0 -> task_b5d8d238 [label="6 " color="#7c505f" fontcolor="#7c505f" id=edge_e50542c4 labeltooltip="6 " tooltip="6 "]
		task_5495efbc [label="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container" color="#7c505f" id=task_5495efbc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container"]
		role_d072c6f0 -> task_5495efbc [label="7 " color="#7c505f" fontcolor="#7c505f" id=edge_9cbf4efd labeltooltip="7 " tooltip="7 "]
		task_8b428b18 [label="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM" color="#7c505f" id=task_8b428b18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM"]
		role_d072c6f0 -> task_8b428b18 [label="8 " color="#7c505f" fontcolor="#7c505f" id=edge_de9c2d40 labeltooltip="8 " tooltip="8 "]
		task_bd5af437 [label="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM" color="#7c505f" id=task_bd5af437 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM"]
		role_d072c6f0 -> task_bd5af437 [label="9 " color="#7c505f" fontcolor="#7c505f" id=edge_07f57678 labeltooltip="9 " tooltip="9 "]
		task_3e707cfe [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage" color="#7c505f" id=task_3e707cfe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage"]
		role_d072c6f0 -> task_3e707cfe [label="10 " color="#7c505f" fontcolor="#7c505f" id=edge_d69c6c9b labeltooltip="10 " tooltip="10 "]
		role_d072c6f0 -> role_6df8fa70 [label="11 " color="#7c505f" fontcolor="#7c505f" id=edge_705901b4 labeltooltip="11 " tooltip="11 "]
		task_e7273496 [label="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready" color="#7c505f" id=task_e7273496 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready"]
		role_d072c6f0 -> task_e7273496 [label="12 " color="#7c505f" fontcolor="#7c505f" id=edge_888a80fa labeltooltip="12 " tooltip="12 "]
		task_d0af683c [label="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig" color="#7c505f" id=task_d0af683c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig"]
		role_d072c6f0 -> task_d0af683c [label="13 " color="#7c505f" fontcolor="#7c505f" id=edge_23ff6f99 labeltooltip="13 " tooltip="13 "]
		task_82f23985 [label="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information" color="#7c505f" id=task_82f23985 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information"]
		role_d072c6f0 -> task_82f23985 [label="14 " color="#7c505f" fontcolor="#7c505f" id=edge_41baec67 labeltooltip="14 " tooltip="14 "]
		task_9158203f [label="kubeinit.kubeinit.kubeinit_okd : Display final debug info" color="#7c505f" id=task_9158203f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Display final debug info"]
		role_d072c6f0 -> task_9158203f [label="15 " color="#7c505f" fontcolor="#7c505f" id=edge_578d93f5 labeltooltip="15 " tooltip="15 "]
		task_333cb152 [label="kubeinit.kubeinit.kubeinit_okd : Print some final data" color="#7c505f" id=task_333cb152 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Print some final data"]
		role_d072c6f0 -> task_333cb152 [label="16 " color="#7c505f" fontcolor="#7c505f" id=edge_8a9890fa labeltooltip="16 " tooltip="16 "]
	}
	subgraph "task-deploy-cluster" {
		role_bf940465 [label="[role] task-deploy-cluster" color="#7c505f" id=role_bf940465 tooltip="task-deploy-cluster"]
		role_bf940465 -> role_f48eb972 [label="1 [when: not services_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_35bf8dfe labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_bf940465 -> role_d072c6f0 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_d5043df9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5b15daf9 [label="[role] Read podman secrets if running from the container" color="#7c505f" id=role_5b15daf9 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_df440321 [label="[role] Prepare environment if needed" color="#7c505f" id=role_df440321 tooltip="Prepare environment if needed"]
		role_df440321 -> role_5b15daf9 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7c505f" fontcolor="#7c505f" id=edge_d6dd420e labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_c52cb518 [label="[role] Gather network and host facts for guest" color="#7c505f" id=role_c52cb518 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_26c14378 [label="[role] Prepare services if needed" color="#7c505f" id=role_26c14378 tooltip="Prepare services if needed"]
		role_26c14378 -> role_df440321 [label="1 [when: not environment_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_012ebabc labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_26c14378 -> role_c52cb518 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_febd2e3e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_487bee98 [label="[role] Configure NFS" color="#7c505f" id=role_487bee98 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_3ccc5013 [label="[role] Deploy the apps" color="#7c505f" id=role_3ccc5013 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_6f4d2606 [label="[role] Deploy KubeVirt" color="#7c505f" id=role_6f4d2606 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_3ee713f9 [label="[role] Deploy Submariner" color="#7c505f" id=role_3ee713f9 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_c47ec372 [label="[role] Delegate to distro role to run post-deployment tasks" color="#7c505f" id=role_c47ec372 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_c47ec372 -> role_487bee98 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#7c505f" fontcolor="#7c505f" id=edge_c5fa2215 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_c47ec372 -> role_3ccc5013 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_7c5a1241 labeltooltip="2 " tooltip="2 "]
		role_c47ec372 -> role_6f4d2606 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#7c505f" fontcolor="#7c505f" id=edge_b868b114 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_c47ec372 -> role_3ee713f9 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#7c505f" fontcolor="#7c505f" id=edge_e4aa03f0 labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_088d9b49 [label="[role] task-post-deployment" color="#7c505f" id=role_088d9b49 tooltip="task-post-deployment"]
		role_088d9b49 -> role_26c14378 [label="1 [when: not services_prepared]" color="#7c505f" fontcolor="#7c505f" id=edge_18bf8547 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_088d9b49 -> role_c47ec372 [label="2 " color="#7c505f" fontcolor="#7c505f" id=edge_fa311b38 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_1d3808f7 -> block_4cd3288a [label=1 color="#7c505f" fontcolor="#7c505f" id=edge_2d46e28c labeltooltip=1 tooltip=1]
		subgraph cluster_block_4cd3288a {
			block_4cd3288a [label="[block] Prepare the environment" color="#7c505f" id=block_4cd3288a labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_4cd3288a -> role_f0932172 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_54a75c5a labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_fd71cfaf [label=2 color="#7c505f" fontcolor="#7c505f" id=edge_2a80430a labeltooltip=2 tooltip=2]
		subgraph cluster_block_fd71cfaf {
			block_fd71cfaf [label="[block] Cleanup hypervisors" color="#7c505f" id=block_fd71cfaf labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_fd71cfaf -> role_9afb23cd [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_203bb874 labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_7fc90a31 [label=3 color="#7c505f" fontcolor="#7c505f" id=edge_b25c4d0f labeltooltip=3 tooltip=3]
		subgraph cluster_block_7fc90a31 {
			block_7fc90a31 [label="[block] Run validations on cluster resources" color="#7c505f" id=block_7fc90a31 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_7fc90a31 -> role_3ed34e7e [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_ddc884af labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_9aaa79e6 [label=4 color="#7c505f" fontcolor="#7c505f" id=edge_76846a5b labeltooltip=4 tooltip=4]
		subgraph cluster_block_9aaa79e6 {
			block_9aaa79e6 [label="[block] Create the cluster network resources" color="#7c505f" id=block_9aaa79e6 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_9aaa79e6 -> role_13f2b196 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_09f72999 labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_5eecf919 [label=5 color="#7c505f" fontcolor="#7c505f" id=edge_4e9c7ae9 labeltooltip=5 tooltip=5]
		subgraph cluster_block_5eecf919 {
			block_5eecf919 [label="[block] Create services the cluster will need" color="#7c505f" id=block_5eecf919 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_5eecf919 -> role_08235a43 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_5e9714a2 labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_03f07f02 [label=6 color="#7c505f" fontcolor="#7c505f" id=edge_0ac4a48c labeltooltip=6 tooltip=6]
		subgraph cluster_block_03f07f02 {
			block_03f07f02 [label="[block] Prepare to deploy the cluster" color="#7c505f" id=block_03f07f02 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_03f07f02 -> role_cee1e1ce [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_ad2d77d4 labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_30fcc917 [label=7 color="#7c505f" fontcolor="#7c505f" id=edge_ec5d63da labeltooltip=7 tooltip=7]
		subgraph cluster_block_30fcc917 {
			block_30fcc917 [label="[block] Download cloud images" color="#7c505f" id=block_30fcc917 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_30fcc917 -> role_83c79166 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_629165ff labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_e76a2135 [label=8 color="#7c505f" fontcolor="#7c505f" id=edge_ad96aefb labeltooltip=8 tooltip=8]
		subgraph cluster_block_e76a2135 {
			block_e76a2135 [label="[block] Deploy the cluster" color="#7c505f" id=block_e76a2135 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_e76a2135 -> role_bf940465 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_0a618e45 labeltooltip="1 " tooltip="1 "]
		}
		play_1d3808f7 -> block_1cbf3675 [label=9 color="#7c505f" fontcolor="#7c505f" id=edge_a04d556e labeltooltip=9 tooltip=9]
		subgraph cluster_block_1cbf3675 {
			block_1cbf3675 [label="[block] Run any post-deployment tasks" color="#7c505f" id=block_1cbf3675 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_1cbf3675 -> role_088d9b49 [label="1 " color="#7c505f" fontcolor="#7c505f" id=edge_e4480e3d labeltooltip="1 " tooltip="1 "]
		}
	}
}
