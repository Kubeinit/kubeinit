digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_821f1105 [label="Play: Initial setup (1)" color="#b18b1b" fontcolor="#ffffff" id=play_821f1105 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_821f1105 [label="1 " color="#b18b1b" fontcolor="#b18b1b" id=edge_f3343368 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_491ef980 [label="[role] Read podman secrets if running from the container" color="#b18b1b" id=role_491ef980 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_e98b6aa7 [label="[role] task-gather-facts" color="#b18b1b" id=role_e98b6aa7 tooltip="task-gather-facts"]
		role_e98b6aa7 -> role_491ef980 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#b18b1b" fontcolor="#b18b1b" id=edge_a0f2a06d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6db208c0 [label="[role] Read podman secrets if running from the container" color="#b18b1b" id=role_6db208c0 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_88ba6f87 [label="[role] task-prepare-hypervisors" color="#b18b1b" id=role_88ba6f87 tooltip="task-prepare-hypervisors"]
		role_88ba6f87 -> role_6db208c0 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#b18b1b" fontcolor="#b18b1b" id=edge_428f98bc labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_821f1105 -> block_23f349de [label=1 color="#b18b1b" fontcolor="#b18b1b" id=edge_5bac44b7 labeltooltip=1 tooltip=1]
		subgraph cluster_block_23f349de {
			block_23f349de [label="[block] Gather facts about the deployment environment" color="#b18b1b" id=block_23f349de labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_23f349de -> role_e98b6aa7 [label="1 " color="#b18b1b" fontcolor="#b18b1b" id=edge_a18a60ab labeltooltip="1 " tooltip="1 "]
		}
		play_821f1105 -> block_c7621341 [label=2 color="#b18b1b" fontcolor="#b18b1b" id=edge_dba04f9d labeltooltip=2 tooltip=2]
		subgraph cluster_block_c7621341 {
			block_c7621341 [label="[block] Prepare the hypervisors" color="#b18b1b" id=block_c7621341 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_c7621341 -> role_88ba6f87 [label="1 " color="#b18b1b" fontcolor="#b18b1b" id=edge_58dc7782 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_64d06f0e [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#4f607d" fontcolor="#ffffff" id=play_64d06f0e shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_64d06f0e [label="2 " color="#4f607d" fontcolor="#4f607d" id=edge_93d8e738 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_26b95e99 [label="[role] Provision the libvirt services on the hypervisor" color="#4f607d" id=role_26b95e99 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_e8d31a24 [label="[role] Prepare each hypervisor in the deployment" color="#4f607d" id=role_e8d31a24 tooltip="Prepare each hypervisor in the deployment"]
		role_e8d31a24 -> role_26b95e99 [label="1 " color="#4f607d" fontcolor="#4f607d" id=edge_de328523 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_64d06f0e -> block_0a94a335 [label=1 color="#4f607d" fontcolor="#4f607d" id=edge_9a955e02 labeltooltip=1 tooltip=1]
		subgraph cluster_block_0a94a335 {
			block_0a94a335 [label="[block] Prepare individual hypervisors" color="#4f607d" id=block_0a94a335 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_0a94a335 -> role_e8d31a24 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#4f607d" fontcolor="#4f607d" id=edge_7e56fde0 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_f7172f05 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#62a527" fontcolor="#ffffff" id=play_f7172f05 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_f7172f05 [label="3 " color="#62a527" fontcolor="#62a527" id=edge_4fe2488b labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_a4a98fa9 [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_a4a98fa9 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_f26bd985 [label="[role] task-prepare-environment" color="#62a527" id=role_f26bd985 tooltip="task-prepare-environment"]
		role_f26bd985 -> role_a4a98fa9 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_f940249a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a70e5a0a [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_a70e5a0a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_5888f6c5 [label="[role] Prepare environment if not prepared" color="#62a527" id=role_5888f6c5 tooltip="Prepare environment if not prepared"]
		role_5888f6c5 -> role_a70e5a0a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_cd8db6f2 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_ca5f92ee [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#62a527" id=role_ca5f92ee tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_ca089c98 [label="[role] task-cleanup-hypervisors" color="#62a527" id=role_ca089c98 tooltip="task-cleanup-hypervisors"]
		role_ca089c98 -> role_5888f6c5 [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_17a860f8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ca089c98 -> role_ca5f92ee [label="2 " color="#62a527" fontcolor="#62a527" id=edge_c50e3073 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_4156e2b1 [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_4156e2b1 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1b246342 [label="[role] Prepare environment if not prepared" color="#62a527" id=role_1b246342 tooltip="Prepare environment if not prepared"]
		role_1b246342 -> role_4156e2b1 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_09ff5a4d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b4b7e63d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#62a527" id=role_b4b7e63d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_1108b94b [label="[role] Cleanup hypervisors if needed" color="#62a527" id=role_1108b94b tooltip="Cleanup hypervisors if needed"]
		role_1108b94b -> role_1b246342 [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_034f92a4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1108b94b -> role_b4b7e63d [label="2 " color="#62a527" fontcolor="#62a527" id=edge_2bdfa23e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_1e0ea54e [label="[role] task-run-validations" color="#62a527" id=role_1e0ea54e tooltip="task-run-validations"]
		role_1e0ea54e -> role_1108b94b [label="1 [when: not hypervisors_cleaned]" color="#62a527" fontcolor="#62a527" id=edge_d29c422d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_8a3f3193 [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_8a3f3193 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2dae65b9 [label="[role] Prepare environment if not prepared" color="#62a527" id=role_2dae65b9 tooltip="Prepare environment if not prepared"]
		role_2dae65b9 -> role_8a3f3193 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_399c9c20 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_f29e7829 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#62a527" id=role_f29e7829 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_7444d15c [label="[role] Cleanup hypervisors if needed" color="#62a527" id=role_7444d15c tooltip="Cleanup hypervisors if needed"]
		role_7444d15c -> role_2dae65b9 [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_615a38de labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7444d15c -> role_f29e7829 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_afcde31c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_ca4a7211 [label="[role] task-create-network" color="#62a527" id=role_ca4a7211 tooltip="task-create-network"]
		role_ca4a7211 -> role_7444d15c [label="1 [when: not hypervisors_cleaned]" color="#62a527" fontcolor="#62a527" id=edge_3749b161 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_7ed9e182 [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_7ed9e182 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b972b334 [label="[role] Prepare environment if not prepared" color="#62a527" id=role_b972b334 tooltip="Prepare environment if not prepared"]
		role_b972b334 -> role_7ed9e182 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_22986118 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_246f1317 [label="[role] Prepare podman" color="#62a527" id=role_246f1317 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_e578b55f [label="[role] Create systemd service for podman container" color="#62a527" id=role_e578b55f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_c45bca92 [label="[role] Configure Bind" color="#62a527" id=role_c45bca92 tooltip="Configure Bind"]
		role_c45bca92 -> role_e578b55f [label="1 " color="#62a527" fontcolor="#62a527" id=edge_5f3ae4fd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_835d8bd8 [label="[role] Create systemd service for podman container" color="#62a527" id=role_835d8bd8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_a5d0644a [label="[role] Configure Dnsmasq" color="#62a527" id=role_a5d0644a tooltip="Configure Dnsmasq"]
		role_a5d0644a -> role_835d8bd8 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_85b07d0a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_fd3c27fe [label="[role] Create systemd service for podman container" color="#62a527" id=role_fd3c27fe tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_ee12896b [label="[role] Configure HAProxy" color="#62a527" id=role_ee12896b tooltip="Configure HAProxy"]
		role_ee12896b -> role_fd3c27fe [label="1 " color="#62a527" fontcolor="#62a527" id=edge_873ecd1e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_837423cf [label="[role] Create systemd service for podman container" color="#62a527" id=role_837423cf tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_745cd117 [label="[role] Configure Nexus" color="#62a527" id=role_745cd117 tooltip="Configure Nexus"]
		role_745cd117 -> role_837423cf [label="1 " color="#62a527" fontcolor="#62a527" id=edge_934187e0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d40ed80b [label="[role] Create systemd service for podman container" color="#62a527" id=role_d40ed80b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_83a4b4f7 [label="[role] Configure Apache" color="#62a527" id=role_83a4b4f7 tooltip="Configure Apache"]
		role_83a4b4f7 -> role_d40ed80b [label="1 " color="#62a527" fontcolor="#62a527" id=edge_1ea6d33e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_566a4ebf [label="[role] Create systemd service for podman container" color="#62a527" id=role_566a4ebf tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_d4863e49 [label="[role] Configure a local container image registry" color="#62a527" id=role_d4863e49 tooltip="Configure a local container image registry"]
		role_d4863e49 -> role_566a4ebf [label="1 " color="#62a527" fontcolor="#62a527" id=edge_b1e12b84 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_32b95ae9 [label="[role] task-create-services" color="#62a527" id=role_32b95ae9 tooltip="task-create-services"]
		role_32b95ae9 -> role_b972b334 [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_9d199325 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_32b95ae9 -> role_246f1317 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_a564aa49 labeltooltip="2 " tooltip="2 "]
		role_32b95ae9 -> role_c45bca92 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#62a527" fontcolor="#62a527" id=edge_9d7ebcd1 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_32b95ae9 -> role_a5d0644a [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#62a527" fontcolor="#62a527" id=edge_c8eb26bc labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_32b95ae9 -> role_ee12896b [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#62a527" fontcolor="#62a527" id=edge_7a1b839a labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_32b95ae9 -> role_745cd117 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#62a527" fontcolor="#62a527" id=edge_3071540c labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_32b95ae9 -> role_83a4b4f7 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#62a527" fontcolor="#62a527" id=edge_1307c85f labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_32b95ae9 -> role_d4863e49 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#62a527" fontcolor="#62a527" id=edge_da944829 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a6a6980c [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_a6a6980c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d9e9720c [label="[role] Prepare environment if needed" color="#62a527" id=role_d9e9720c tooltip="Prepare environment if needed"]
		role_d9e9720c -> role_a6a6980c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_9acc6fba labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_03e97929 [label="[role] Gather network and host facts for guest" color="#62a527" id=role_03e97929 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_e81b6540 [label="[role] Prepare services if needed" color="#62a527" id=role_e81b6540 tooltip="Prepare services if needed"]
		role_e81b6540 -> role_d9e9720c [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_93e7f200 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e81b6540 -> role_03e97929 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_84da141b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_bdda9073 [label="[role] Create systemd service for podman container" color="#62a527" id=role_bdda9073 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_e3592bc5 [label="[role] Gather network and host facts for provision service" color="#62a527" id=role_e3592bc5 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_d270cd64 [label="[role] Setup the cluster provision container" color="#62a527" id=role_d270cd64 tooltip="Setup the cluster provision container"]
		role_d270cd64 -> role_bdda9073 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_71d77a86 labeltooltip="1 " tooltip="1 "]
		role_d270cd64 -> role_e3592bc5 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_c98dbeba labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_a30b678b [label="[role] Delegate to the distro role to prepare the cluster" color="#62a527" id=role_a30b678b tooltip="Delegate to the distro role to prepare the cluster"]
		role_a30b678b -> role_d270cd64 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_45f651c2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_1114fa66 [label="[role] task-prepare-cluster" color="#62a527" id=role_1114fa66 tooltip="task-prepare-cluster"]
		role_1114fa66 -> role_e81b6540 [label="1 [when: not services_prepared]" color="#62a527" fontcolor="#62a527" id=edge_ed715836 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_1114fa66 -> role_a30b678b [label="2 " color="#62a527" fontcolor="#62a527" id=edge_2f6931e9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_863d2228 [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_863d2228 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_795e9ade [label="[role] Prepare environment if not prepared" color="#62a527" id=role_795e9ade tooltip="Prepare environment if not prepared"]
		role_795e9ade -> role_863d2228 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_9bddd72d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_1f0e4762 [label="[role] task-download-images" color="#62a527" id=role_1f0e4762 tooltip="task-download-images"]
		role_1f0e4762 -> role_795e9ade [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_f89c4d48 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_baf3d4c6 [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_baf3d4c6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_01670027 [label="[role] Prepare environment if needed" color="#62a527" id=role_01670027 tooltip="Prepare environment if needed"]
		role_01670027 -> role_baf3d4c6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_9d13f5eb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_9ccce555 [label="[role] Gather network and host facts for guest" color="#62a527" id=role_9ccce555 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_9148d3cc [label="[role] Prepare services if needed" color="#62a527" id=role_9148d3cc tooltip="Prepare services if needed"]
		role_9148d3cc -> role_01670027 [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_b230b8d5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9148d3cc -> role_9ccce555 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_b5a60457 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_7ed738b6 [label="[role] Deploy the cluster bootstrap node" color="#62a527" id=role_7ed738b6 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_105e94c6 [label="[role] Deploy the cluster controller nodes" color="#62a527" id=role_105e94c6 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_723afe02 [label="[role] Deploy the cluster compute nodes" color="#62a527" id=role_723afe02 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_a6a10bf2 [label="[role] Delegate to the distro role to deploy the cluster" color="#62a527" id=role_a6a10bf2 tooltip="Delegate to the distro role to deploy the cluster"]
		role_a6a10bf2 -> role_7ed738b6 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_a2bb0826 labeltooltip="1 " tooltip="1 "]
		role_a6a10bf2 -> role_105e94c6 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_32060d51 labeltooltip="2 " tooltip="2 "]
		task_dac694ff [label="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok" color="#62a527" id=task_dac694ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Verify that controller nodes are ok"]
		role_a6a10bf2 -> task_dac694ff [label="3 " color="#62a527" fontcolor="#62a527" id=edge_93008908 labeltooltip="3 " tooltip="3 "]
		task_ec245982 [label="kubeinit.kubeinit.kubeinit_okd : Use single node cluster" color="#62a527" id=task_ec245982 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Use single node cluster"]
		role_a6a10bf2 -> task_ec245982 [label="4 [when: kubeinit_controller_count|int == 1]" color="#62a527" fontcolor="#62a527" id=edge_eac9e8db labeltooltip="4 [when: kubeinit_controller_count|int == 1]" tooltip="4 [when: kubeinit_controller_count|int == 1]"]
		task_1ce769e8 [label="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete" color="#62a527" id=task_1ce769e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Wait for bootstrap to complete"]
		role_a6a10bf2 -> task_1ce769e8 [label="5 " color="#62a527" fontcolor="#62a527" id=edge_8d4bba3d labeltooltip="5 " tooltip="5 "]
		task_2f009bcf [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config" color="#62a527" id=task_2f009bcf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node from haproxy config"]
		role_a6a10bf2 -> task_2f009bcf [label="6 " color="#62a527" fontcolor="#62a527" id=edge_2b931b35 labeltooltip="6 " tooltip="6 "]
		task_c0a102a1 [label="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container" color="#62a527" id=task_c0a102a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Restart haproxy container"]
		role_a6a10bf2 -> task_c0a102a1 [label="7 " color="#62a527" fontcolor="#62a527" id=edge_2922af2f labeltooltip="7 " tooltip="7 "]
		task_fe2f424d [label="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM" color="#62a527" id=task_fe2f424d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Destroy bootstrap node VM"]
		role_a6a10bf2 -> task_fe2f424d [label="8 " color="#62a527" fontcolor="#62a527" id=edge_0570e847 labeltooltip="8 " tooltip="8 "]
		task_e82b31b8 [label="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM" color="#62a527" id=task_e82b31b8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Undefine bootstrap node VM"]
		role_a6a10bf2 -> task_e82b31b8 [label="9 " color="#62a527" fontcolor="#62a527" id=edge_8f3a0007 labeltooltip="9 " tooltip="9 "]
		task_ce9ca7c5 [label="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage" color="#62a527" id=task_ce9ca7c5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Remove bootstrap node VM storage"]
		role_a6a10bf2 -> task_ce9ca7c5 [label="10 " color="#62a527" fontcolor="#62a527" id=edge_e262b661 labeltooltip="10 " tooltip="10 "]
		role_a6a10bf2 -> role_723afe02 [label="11 " color="#62a527" fontcolor="#62a527" id=edge_d5cb5fe4 labeltooltip="11 " tooltip="11 "]
		task_12987734 [label="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready" color="#62a527" id=task_12987734 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : wait until all nodes are ready"]
		role_a6a10bf2 -> task_12987734 [label="12 " color="#62a527" fontcolor="#62a527" id=edge_8a628163 labeltooltip="12 " tooltip="12 "]
		task_d0e1d935 [label="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig" color="#62a527" id=task_d0e1d935 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Copy the kubeconfig"]
		role_a6a10bf2 -> task_d0e1d935 [label="13 " color="#62a527" fontcolor="#62a527" id=edge_0bb3c2e5 labeltooltip="13 " tooltip="13 "]
		task_9574d95c [label="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information" color="#62a527" id=task_9574d95c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Get some final cluster information"]
		role_a6a10bf2 -> task_9574d95c [label="14 " color="#62a527" fontcolor="#62a527" id=edge_24ad4c7c labeltooltip="14 " tooltip="14 "]
		task_40e8531b [label="kubeinit.kubeinit.kubeinit_okd : Display final debug info" color="#62a527" id=task_40e8531b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Display final debug info"]
		role_a6a10bf2 -> task_40e8531b [label="15 " color="#62a527" fontcolor="#62a527" id=edge_5b91b021 labeltooltip="15 " tooltip="15 "]
		task_719ed852 [label="kubeinit.kubeinit.kubeinit_okd : Print some final data" color="#62a527" id=task_719ed852 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Print some final data"]
		role_a6a10bf2 -> task_719ed852 [label="16 " color="#62a527" fontcolor="#62a527" id=edge_48465f1f labeltooltip="16 " tooltip="16 "]
	}
	subgraph "task-deploy-cluster" {
		role_b61d207d [label="[role] task-deploy-cluster" color="#62a527" id=role_b61d207d tooltip="task-deploy-cluster"]
		role_b61d207d -> role_9148d3cc [label="1 [when: not services_prepared]" color="#62a527" fontcolor="#62a527" id=edge_ae09a658 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b61d207d -> role_a6a10bf2 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_4b8fbe32 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_043d0a67 [label="[role] Read podman secrets if running from the container" color="#62a527" id=role_043d0a67 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_0966240f [label="[role] Prepare environment if needed" color="#62a527" id=role_0966240f tooltip="Prepare environment if needed"]
		role_0966240f -> role_043d0a67 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#62a527" fontcolor="#62a527" id=edge_99d04946 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_c8f9f89c [label="[role] Gather network and host facts for guest" color="#62a527" id=role_c8f9f89c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_9fafb220 [label="[role] Prepare services if needed" color="#62a527" id=role_9fafb220 tooltip="Prepare services if needed"]
		role_9fafb220 -> role_0966240f [label="1 [when: not environment_prepared]" color="#62a527" fontcolor="#62a527" id=edge_ee956a06 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9fafb220 -> role_c8f9f89c [label="2 " color="#62a527" fontcolor="#62a527" id=edge_403877fe labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_d33aa21c [label="[role] Configure NFS" color="#62a527" id=role_d33aa21c tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_6a62a9a5 [label="[role] Deploy the apps" color="#62a527" id=role_6a62a9a5 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_76e7a946 [label="[role] Deploy KubeVirt" color="#62a527" id=role_76e7a946 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_2720b10d [label="[role] Deploy Submariner" color="#62a527" id=role_2720b10d tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_1af5f586 [label="[role] Delegate to distro role to run post-deployment tasks" color="#62a527" id=role_1af5f586 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_1af5f586 -> role_d33aa21c [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#62a527" fontcolor="#62a527" id=edge_c894ed26 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_1af5f586 -> role_6a62a9a5 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_04243dbd labeltooltip="2 " tooltip="2 "]
		role_1af5f586 -> role_76e7a946 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#62a527" fontcolor="#62a527" id=edge_55521624 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_1af5f586 -> role_2720b10d [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#62a527" fontcolor="#62a527" id=edge_5b187e3c labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_492c3a32 [label="[role] task-post-deployment" color="#62a527" id=role_492c3a32 tooltip="task-post-deployment"]
		role_492c3a32 -> role_9fafb220 [label="1 [when: not services_prepared]" color="#62a527" fontcolor="#62a527" id=edge_37a9a74f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_492c3a32 -> role_1af5f586 [label="2 " color="#62a527" fontcolor="#62a527" id=edge_cffb7c4a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_f7172f05 -> block_fd5dc195 [label=1 color="#62a527" fontcolor="#62a527" id=edge_ed82b8c9 labeltooltip=1 tooltip=1]
		subgraph cluster_block_fd5dc195 {
			block_fd5dc195 [label="[block] Prepare the environment" color="#62a527" id=block_fd5dc195 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_fd5dc195 -> role_f26bd985 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_62280f7f labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_607dd541 [label=2 color="#62a527" fontcolor="#62a527" id=edge_8805d3cd labeltooltip=2 tooltip=2]
		subgraph cluster_block_607dd541 {
			block_607dd541 [label="[block] Cleanup hypervisors" color="#62a527" id=block_607dd541 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_607dd541 -> role_ca089c98 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_e8e2945c labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_0ff4683a [label=3 color="#62a527" fontcolor="#62a527" id=edge_f9336aac labeltooltip=3 tooltip=3]
		subgraph cluster_block_0ff4683a {
			block_0ff4683a [label="[block] Run validations on cluster resources" color="#62a527" id=block_0ff4683a labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_0ff4683a -> role_1e0ea54e [label="1 " color="#62a527" fontcolor="#62a527" id=edge_c3e056d7 labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_378be134 [label=4 color="#62a527" fontcolor="#62a527" id=edge_f708a2ba labeltooltip=4 tooltip=4]
		subgraph cluster_block_378be134 {
			block_378be134 [label="[block] Create the cluster network resources" color="#62a527" id=block_378be134 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_378be134 -> role_ca4a7211 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_0a150e50 labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_9ab5ffda [label=5 color="#62a527" fontcolor="#62a527" id=edge_45ba3a1d labeltooltip=5 tooltip=5]
		subgraph cluster_block_9ab5ffda {
			block_9ab5ffda [label="[block] Create services the cluster will need" color="#62a527" id=block_9ab5ffda labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_9ab5ffda -> role_32b95ae9 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_d818f9ed labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_77a4b25a [label=6 color="#62a527" fontcolor="#62a527" id=edge_2e62a82e labeltooltip=6 tooltip=6]
		subgraph cluster_block_77a4b25a {
			block_77a4b25a [label="[block] Prepare to deploy the cluster" color="#62a527" id=block_77a4b25a labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_77a4b25a -> role_1114fa66 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_b8b3c8b9 labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_e19bd8cc [label=7 color="#62a527" fontcolor="#62a527" id=edge_78bb45f0 labeltooltip=7 tooltip=7]
		subgraph cluster_block_e19bd8cc {
			block_e19bd8cc [label="[block] Download cloud images" color="#62a527" id=block_e19bd8cc labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_e19bd8cc -> role_1f0e4762 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_088ddc19 labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_7235764d [label=8 color="#62a527" fontcolor="#62a527" id=edge_844c65df labeltooltip=8 tooltip=8]
		subgraph cluster_block_7235764d {
			block_7235764d [label="[block] Deploy the cluster" color="#62a527" id=block_7235764d labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_7235764d -> role_b61d207d [label="1 " color="#62a527" fontcolor="#62a527" id=edge_c562ae66 labeltooltip="1 " tooltip="1 "]
		}
		play_f7172f05 -> block_cfc91aeb [label=9 color="#62a527" fontcolor="#62a527" id=edge_5f743527 labeltooltip=9 tooltip=9]
		subgraph cluster_block_cfc91aeb {
			block_cfc91aeb [label="[block] Run any post-deployment tasks" color="#62a527" id=block_cfc91aeb labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_cfc91aeb -> role_492c3a32 [label="1 " color="#62a527" fontcolor="#62a527" id=edge_860fa33b labeltooltip="1 " tooltip="1 "]
		}
	}
}
