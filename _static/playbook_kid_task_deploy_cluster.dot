digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_12cd6865 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#04c869" fontcolor="#ffffff" id=play_12cd6865 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_12cd6865 [label="1 " color="#04c869" fontcolor="#04c869" id=edge_c2ea46f8 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_d8e98c61 [label="[role] Gather kubeinit secrets" color="#04c869" id=role_d8e98c61 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_3e08124d [label="[role] Gather additional facts from localhost for kubeinit" color="#04c869" id=role_3e08124d tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_33794241 [label="[role] Create ssh config file from template" color="#04c869" id=role_33794241 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_1a700e54 [label="[role] task-gather-facts" color="#04c869" id=role_1a700e54 tooltip="task-gather-facts"]
		role_1a700e54 -> role_d8e98c61 [label="1 " color="#04c869" fontcolor="#04c869" id=edge_e6880d6d labeltooltip="1 " tooltip="1 "]
		role_1a700e54 -> role_3e08124d [label="2 " color="#04c869" fontcolor="#04c869" id=edge_5043cf64 labeltooltip="2 " tooltip="2 "]
		role_1a700e54 -> role_33794241 [label="3 " color="#04c869" fontcolor="#04c869" id=edge_3c6b34ad labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_8e4adfc0 [label="[role] Gather kubeinit secrets" color="#04c869" id=role_8e4adfc0 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_c7b5a5da [label="[role] Gather additional facts from localhost for kubeinit" color="#04c869" id=role_c7b5a5da tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_924fc32b [label="[role] Create ssh config file from template" color="#04c869" id=role_924fc32b tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_81da154d [label="[role] task-prepare-hypervisors" color="#04c869" id=role_81da154d tooltip="task-prepare-hypervisors"]
		role_81da154d -> role_8e4adfc0 [label="1 " color="#04c869" fontcolor="#04c869" id=edge_6a0695bf labeltooltip="1 " tooltip="1 "]
		role_81da154d -> role_c7b5a5da [label="2 " color="#04c869" fontcolor="#04c869" id=edge_f4390d73 labeltooltip="2 " tooltip="2 "]
		role_81da154d -> role_924fc32b [label="3 " color="#04c869" fontcolor="#04c869" id=edge_f1094970 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_12cd6865 -> block_d8f8b9db [label=1 color="#04c869" fontcolor="#04c869" id=edge_cfebfa1d labeltooltip=1 tooltip=1]
		subgraph cluster_block_d8f8b9db {
			block_d8f8b9db [label="[block] Gather facts about the deployment environment" color="#04c869" id=block_d8f8b9db labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_d8f8b9db -> role_1a700e54 [label="1 " color="#04c869" fontcolor="#04c869" id=edge_28dca03f labeltooltip="1 " tooltip="1 "]
		}
		play_12cd6865 -> block_699e11aa [label=2 color="#04c869" fontcolor="#04c869" id=edge_eb48e5d8 labeltooltip=2 tooltip=2]
		subgraph cluster_block_699e11aa {
			block_699e11aa [label="[block] Prepare the hypervisors" color="#04c869" id=block_699e11aa labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_699e11aa -> role_81da154d [label="1 " color="#04c869" fontcolor="#04c869" id=edge_34dd8ea1 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_0d968a96 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#b71542" fontcolor="#ffffff" id=play_0d968a96 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_0d968a96 [label="2 " color="#b71542" fontcolor="#b71542" id=edge_812245b3 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_43523c07 [label="[role] Provision the libvirt services on the hypervisor" color="#b71542" id=role_43523c07 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_e5340515 [label="[role] Prepare each hypervisor in the deployment" color="#b71542" id=role_e5340515 tooltip="Prepare each hypervisor in the deployment"]
		role_e5340515 -> role_43523c07 [label="1 " color="#b71542" fontcolor="#b71542" id=edge_5bfbb8dd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_0d968a96 -> block_67d9c02c [label=1 color="#b71542" fontcolor="#b71542" id=edge_166910bd labeltooltip=1 tooltip=1]
		subgraph cluster_block_67d9c02c {
			block_67d9c02c [label="[block] Prepare individual hypervisors" color="#b71542" id=block_67d9c02c labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_67d9c02c -> role_e5340515 [label="1 " color="#b71542" fontcolor="#b71542" id=edge_adedf3a4 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_7ed55e43 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#43a329" fontcolor="#ffffff" id=play_7ed55e43 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_7ed55e43 [label="3 " color="#43a329" fontcolor="#43a329" id=edge_4c11b175 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_1d9005a8 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_1d9005a8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_1c269b16 [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_1c269b16 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_84e907a6 [label="[role] Create ssh config file from template" color="#43a329" id=role_84e907a6 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_4f4ae110 [label="[role] task-prepare-environment" color="#43a329" id=role_4f4ae110 tooltip="task-prepare-environment"]
		role_4f4ae110 -> role_1d9005a8 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_9def0d9d labeltooltip="1 " tooltip="1 "]
		role_4f4ae110 -> role_1c269b16 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_e0cdd1fb labeltooltip="2 " tooltip="2 "]
		role_4f4ae110 -> role_84e907a6 [label="3 " color="#43a329" fontcolor="#43a329" id=edge_d9543767 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_9ef7c185 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_9ef7c185 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_b19e20c7 [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_b19e20c7 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_a5b85782 [label="[role] Create ssh config file from template" color="#43a329" id=role_a5b85782 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_07f05832 [label="[role] Prepare environment if not prepared" color="#43a329" id=role_07f05832 tooltip="Prepare environment if not prepared"]
		role_07f05832 -> role_9ef7c185 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_41b3b2f0 labeltooltip="1 " tooltip="1 "]
		role_07f05832 -> role_b19e20c7 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_1d9ec6d7 labeltooltip="2 " tooltip="2 "]
		role_07f05832 -> role_a5b85782 [label="3 " color="#43a329" fontcolor="#43a329" id=edge_12aeb337 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_f5c74fec [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#43a329" id=role_f5c74fec tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_46fc9f14 [label="[role] task-cleanup-hypervisors" color="#43a329" id=role_46fc9f14 tooltip="task-cleanup-hypervisors"]
		role_46fc9f14 -> role_07f05832 [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_07b813fd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_46fc9f14 -> role_f5c74fec [label="2 " color="#43a329" fontcolor="#43a329" id=edge_2e4f1391 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_03d14d24 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_03d14d24 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_4357cc52 [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_4357cc52 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7554c325 [label="[role] Create ssh config file from template" color="#43a329" id=role_7554c325 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_72a7522a [label="[role] Prepare environment if not prepared" color="#43a329" id=role_72a7522a tooltip="Prepare environment if not prepared"]
		role_72a7522a -> role_03d14d24 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_90c85289 labeltooltip="1 " tooltip="1 "]
		role_72a7522a -> role_4357cc52 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_3e74ff6d labeltooltip="2 " tooltip="2 "]
		role_72a7522a -> role_7554c325 [label="3 " color="#43a329" fontcolor="#43a329" id=edge_10f12a7d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_2f83433d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#43a329" id=role_2f83433d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_d2da3ca7 [label="[role] Cleanup hypervisors if needed" color="#43a329" id=role_d2da3ca7 tooltip="Cleanup hypervisors if needed"]
		role_d2da3ca7 -> role_72a7522a [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_dfa6a966 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d2da3ca7 -> role_2f83433d [label="2 " color="#43a329" fontcolor="#43a329" id=edge_47d5eafa labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_14245ccb [label="[role] task-run-validations" color="#43a329" id=role_14245ccb tooltip="task-run-validations"]
		role_14245ccb -> role_d2da3ca7 [label="1 [when: not hypervisors_cleaned]" color="#43a329" fontcolor="#43a329" id=edge_8f6408a2 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_ca6683e3 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_ca6683e3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_fb564151 [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_fb564151 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_685e778e [label="[role] Create ssh config file from template" color="#43a329" id=role_685e778e tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f4493b3d [label="[role] Prepare environment if not prepared" color="#43a329" id=role_f4493b3d tooltip="Prepare environment if not prepared"]
		role_f4493b3d -> role_ca6683e3 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_f53e5cf5 labeltooltip="1 " tooltip="1 "]
		role_f4493b3d -> role_fb564151 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_03b3c121 labeltooltip="2 " tooltip="2 "]
		role_f4493b3d -> role_685e778e [label="3 " color="#43a329" fontcolor="#43a329" id=edge_e82f803c labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7648db2b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#43a329" id=role_7648db2b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_0a841883 [label="[role] Cleanup hypervisors if needed" color="#43a329" id=role_0a841883 tooltip="Cleanup hypervisors if needed"]
		role_0a841883 -> role_f4493b3d [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_3536f000 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0a841883 -> role_7648db2b [label="2 " color="#43a329" fontcolor="#43a329" id=edge_e63a3d39 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_15e625c8 [label="[role] task-create-network" color="#43a329" id=role_15e625c8 tooltip="task-create-network"]
		role_15e625c8 -> role_0a841883 [label="1 [when: not hypervisors_cleaned]" color="#43a329" fontcolor="#43a329" id=edge_7777ad80 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_389a33d4 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_389a33d4 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_e102c090 [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_e102c090 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_781fb19d [label="[role] Create ssh config file from template" color="#43a329" id=role_781fb19d tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e84929f8 [label="[role] Prepare environment if not prepared" color="#43a329" id=role_e84929f8 tooltip="Prepare environment if not prepared"]
		role_e84929f8 -> role_389a33d4 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_b31bdf1c labeltooltip="1 " tooltip="1 "]
		role_e84929f8 -> role_e102c090 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_3445233d labeltooltip="2 " tooltip="2 "]
		role_e84929f8 -> role_781fb19d [label="3 " color="#43a329" fontcolor="#43a329" id=edge_42e02e5f labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_eeaee947 [label="[role] Prepare podman" color="#43a329" id=role_eeaee947 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_c4ba3d37 [label="[role] Create systemd service for podman container" color="#43a329" id=role_c4ba3d37 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_9e450814 [label="[role] Configure Bind" color="#43a329" id=role_9e450814 tooltip="Configure Bind"]
		role_9e450814 -> role_c4ba3d37 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_3727c12e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_9798b077 [label="[role] Create systemd service for podman container" color="#43a329" id=role_9798b077 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_d16c0088 [label="[role] Configure Dnsmasq" color="#43a329" id=role_d16c0088 tooltip="Configure Dnsmasq"]
		role_d16c0088 -> role_9798b077 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_8161688e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f8f2130e [label="[role] Create systemd service for podman container" color="#43a329" id=role_f8f2130e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_4f54479d [label="[role] Configure HAProxy" color="#43a329" id=role_4f54479d tooltip="Configure HAProxy"]
		role_4f54479d -> role_f8f2130e [label="1 " color="#43a329" fontcolor="#43a329" id=edge_4cd388b0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4033a101 [label="[role] Create systemd service for podman container" color="#43a329" id=role_4033a101 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_321b8c4a [label="[role] Configure Nexus" color="#43a329" id=role_321b8c4a tooltip="Configure Nexus"]
		role_321b8c4a -> role_4033a101 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_c768955d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5166491a [label="[role] Create systemd service for podman container" color="#43a329" id=role_5166491a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_934733f7 [label="[role] Configure Apache" color="#43a329" id=role_934733f7 tooltip="Configure Apache"]
		role_934733f7 -> role_5166491a [label="1 " color="#43a329" fontcolor="#43a329" id=edge_95fdb9fb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_79e0fb6e [label="[role] Create systemd service for podman container" color="#43a329" id=role_79e0fb6e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_c094f5d7 [label="[role] Configure a local container image registry" color="#43a329" id=role_c094f5d7 tooltip="Configure a local container image registry"]
		role_c094f5d7 -> role_79e0fb6e [label="1 " color="#43a329" fontcolor="#43a329" id=edge_5d819948 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_6d36cdb1 [label="[role] task-create-services" color="#43a329" id=role_6d36cdb1 tooltip="task-create-services"]
		role_6d36cdb1 -> role_e84929f8 [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_d315f217 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6d36cdb1 -> role_eeaee947 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_ae10573f labeltooltip="2 " tooltip="2 "]
		role_6d36cdb1 -> role_9e450814 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#43a329" fontcolor="#43a329" id=edge_6ce13290 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6d36cdb1 -> role_d16c0088 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#43a329" fontcolor="#43a329" id=edge_b6057965 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6d36cdb1 -> role_4f54479d [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#43a329" fontcolor="#43a329" id=edge_c752ba88 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6d36cdb1 -> role_321b8c4a [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#43a329" fontcolor="#43a329" id=edge_30148113 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6d36cdb1 -> role_934733f7 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#43a329" fontcolor="#43a329" id=edge_a455488a labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6d36cdb1 -> role_c094f5d7 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#43a329" fontcolor="#43a329" id=edge_0eb2b447 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_07c24afa [label="[role] Gather kubeinit secrets" color="#43a329" id=role_07c24afa tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_131da9b6 [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_131da9b6 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c18ae60c [label="[role] Create ssh config file from template" color="#43a329" id=role_c18ae60c tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_ce58dc5b [label="[role] Prepare environment if needed" color="#43a329" id=role_ce58dc5b tooltip="Prepare environment if needed"]
		role_ce58dc5b -> role_07c24afa [label="1 " color="#43a329" fontcolor="#43a329" id=edge_c1d478e6 labeltooltip="1 " tooltip="1 "]
		role_ce58dc5b -> role_131da9b6 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_38ffa7a9 labeltooltip="2 " tooltip="2 "]
		role_ce58dc5b -> role_c18ae60c [label="3 " color="#43a329" fontcolor="#43a329" id=edge_44ad1808 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_d6d55cf8 [label="[role] Gather network and host facts for guest" color="#43a329" id=role_d6d55cf8 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_dc269b1b [label="[role] Prepare services if needed" color="#43a329" id=role_dc269b1b tooltip="Prepare services if needed"]
		role_dc269b1b -> role_ce58dc5b [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_1a7f94d0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_dc269b1b -> role_d6d55cf8 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_91891b2a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f8b1afaf [label="[role] Create systemd service for podman container" color="#43a329" id=role_f8b1afaf tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_b6046138 [label="[role] Gather network and host facts for provision service" color="#43a329" id=role_b6046138 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_9f51866e [label="[role] Setup the cluster provision container" color="#43a329" id=role_9f51866e tooltip="Setup the cluster provision container"]
		role_9f51866e -> role_f8b1afaf [label="1 " color="#43a329" fontcolor="#43a329" id=edge_e47075e8 labeltooltip="1 " tooltip="1 "]
		role_9f51866e -> role_b6046138 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_dc4d8185 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_e1530c9e [label="[role] Delegate to the distro role to prepare the cluster" color="#43a329" id=role_e1530c9e tooltip="Delegate to the distro role to prepare the cluster"]
		role_e1530c9e -> role_9f51866e [label="1 " color="#43a329" fontcolor="#43a329" id=edge_ed85c115 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_7d58067c [label="[role] task-prepare-cluster" color="#43a329" id=role_7d58067c tooltip="task-prepare-cluster"]
		role_7d58067c -> role_dc269b1b [label="1 [when: not services_prepared]" color="#43a329" fontcolor="#43a329" id=edge_25265f09 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_7d58067c -> role_e1530c9e [label="2 " color="#43a329" fontcolor="#43a329" id=edge_2155e5eb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e5d71785 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_e5d71785 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_710417bb [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_710417bb tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_eb0d8d5a [label="[role] Create ssh config file from template" color="#43a329" id=role_eb0d8d5a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_feb7bca4 [label="[role] Prepare environment if not prepared" color="#43a329" id=role_feb7bca4 tooltip="Prepare environment if not prepared"]
		role_feb7bca4 -> role_e5d71785 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_0d8883ea labeltooltip="1 " tooltip="1 "]
		role_feb7bca4 -> role_710417bb [label="2 " color="#43a329" fontcolor="#43a329" id=edge_2e98183d labeltooltip="2 " tooltip="2 "]
		role_feb7bca4 -> role_eb0d8d5a [label="3 " color="#43a329" fontcolor="#43a329" id=edge_411f45c3 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_0685c29d [label="[role] task-download-images" color="#43a329" id=role_0685c29d tooltip="task-download-images"]
		role_0685c29d -> role_feb7bca4 [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_83361a27 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_619a6860 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_619a6860 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6fae52b3 [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_6fae52b3 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_9a4517a8 [label="[role] Create ssh config file from template" color="#43a329" id=role_9a4517a8 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_15191a1c [label="[role] Prepare environment if needed" color="#43a329" id=role_15191a1c tooltip="Prepare environment if needed"]
		role_15191a1c -> role_619a6860 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_f05c3e1a labeltooltip="1 " tooltip="1 "]
		role_15191a1c -> role_6fae52b3 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_22c436f0 labeltooltip="2 " tooltip="2 "]
		role_15191a1c -> role_9a4517a8 [label="3 " color="#43a329" fontcolor="#43a329" id=edge_1c24ca60 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_38b16a6f [label="[role] Gather network and host facts for guest" color="#43a329" id=role_38b16a6f tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_21031d22 [label="[role] Prepare services if needed" color="#43a329" id=role_21031d22 tooltip="Prepare services if needed"]
		role_21031d22 -> role_15191a1c [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_d85e29c8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_21031d22 -> role_38b16a6f [label="2 " color="#43a329" fontcolor="#43a329" id=edge_2a2bf65c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_fe902015 [label="[role] Deploy the cluster nodes" color="#43a329" id=role_fe902015 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_7a5627b0 [label="[role] Delegate to the distro role to deploy the cluster" color="#43a329" id=role_7a5627b0 tooltip="Delegate to the distro role to deploy the cluster"]
		role_7a5627b0 -> role_fe902015 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#43a329" fontcolor="#43a329" id=edge_ec00471b labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_eb0d2369 [label="kubeinit.kubeinit.kubeinit_kid : Install controller requirements" color="#43a329" id=task_eb0d2369 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install controller requirements"]
		role_7a5627b0 -> task_eb0d2369 [label="2 [when: kubeinit_kid_controller_dependencies is defined]" color="#43a329" fontcolor="#43a329" id=edge_f368aa13 labeltooltip="2 [when: kubeinit_kid_controller_dependencies is defined]" tooltip="2 [when: kubeinit_kid_controller_dependencies is defined]"]
		task_c31ee81b [label="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements" color="#43a329" id=task_c31ee81b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements"]
		role_7a5627b0 -> task_c31ee81b [label="3 [when: kubeinit_kid_compute_dependencies is defined]" color="#43a329" fontcolor="#43a329" id=edge_599e30b2 labeltooltip="3 [when: kubeinit_kid_compute_dependencies is defined]" tooltip="3 [when: kubeinit_kid_compute_dependencies is defined]"]
		task_eca4e34e [label="kubeinit.kubeinit.kubeinit_kid : Create kube directory" color="#43a329" id=task_eca4e34e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Create kube directory"]
		role_7a5627b0 -> task_eca4e34e [label="4 " color="#43a329" fontcolor="#43a329" id=edge_39d5c41b labeltooltip="4 " tooltip="4 "]
		task_53536970 [label="kubeinit.kubeinit.kubeinit_kid : Touch a file" color="#43a329" id=task_53536970 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Touch a file"]
		role_7a5627b0 -> task_53536970 [label="5 " color="#43a329" fontcolor="#43a329" id=edge_b1422bf0 labeltooltip="5 " tooltip="5 "]
	}
	subgraph "task-deploy-cluster" {
		role_ded099d1 [label="[role] task-deploy-cluster" color="#43a329" id=role_ded099d1 tooltip="task-deploy-cluster"]
		role_ded099d1 -> role_21031d22 [label="1 [when: not services_prepared]" color="#43a329" fontcolor="#43a329" id=edge_7eefe3f7 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_ded099d1 -> role_7a5627b0 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_058e58cf labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_3b9a7488 [label="[role] Gather kubeinit secrets" color="#43a329" id=role_3b9a7488 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_1250946d [label="[role] Gather additional facts from localhost for kubeinit" color="#43a329" id=role_1250946d tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7977b102 [label="[role] Create ssh config file from template" color="#43a329" id=role_7977b102 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_29687904 [label="[role] Prepare environment if needed" color="#43a329" id=role_29687904 tooltip="Prepare environment if needed"]
		role_29687904 -> role_3b9a7488 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_b290e0e1 labeltooltip="1 " tooltip="1 "]
		role_29687904 -> role_1250946d [label="2 " color="#43a329" fontcolor="#43a329" id=edge_958acf4f labeltooltip="2 " tooltip="2 "]
		role_29687904 -> role_7977b102 [label="3 " color="#43a329" fontcolor="#43a329" id=edge_ab7fc1c7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_1f222960 [label="[role] Gather network and host facts for guest" color="#43a329" id=role_1f222960 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_187bf7de [label="[role] Prepare services if needed" color="#43a329" id=role_187bf7de tooltip="Prepare services if needed"]
		role_187bf7de -> role_29687904 [label="1 [when: not environment_prepared]" color="#43a329" fontcolor="#43a329" id=edge_2890e060 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_187bf7de -> role_1f222960 [label="2 " color="#43a329" fontcolor="#43a329" id=edge_19c66a28 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_ee578950 [label="[role] Configure NFS" color="#43a329" id=role_ee578950 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_69297ffc [label="[role] Delegate to distro role to run post-deployment tasks" color="#43a329" id=role_69297ffc tooltip="Delegate to distro role to run post-deployment tasks"]
		role_69297ffc -> role_ee578950 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#43a329" fontcolor="#43a329" id=edge_9eab8dfd labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_fcfcc9a0 [label="[role] task-post-deployment" color="#43a329" id=role_fcfcc9a0 tooltip="task-post-deployment"]
		role_fcfcc9a0 -> role_187bf7de [label="1 [when: not services_prepared]" color="#43a329" fontcolor="#43a329" id=edge_294231a3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_fcfcc9a0 -> role_69297ffc [label="2 " color="#43a329" fontcolor="#43a329" id=edge_76099b61 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_7ed55e43 -> block_09e31c6a [label=1 color="#43a329" fontcolor="#43a329" id=edge_f7647cfe labeltooltip=1 tooltip=1]
		subgraph cluster_block_09e31c6a {
			block_09e31c6a [label="[block] Prepare the environment" color="#43a329" id=block_09e31c6a labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_09e31c6a -> role_4f4ae110 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_718b6ec4 labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_b8a3ab21 [label=2 color="#43a329" fontcolor="#43a329" id=edge_cdee35a2 labeltooltip=2 tooltip=2]
		subgraph cluster_block_b8a3ab21 {
			block_b8a3ab21 [label="[block] Cleanup hypervisors" color="#43a329" id=block_b8a3ab21 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_b8a3ab21 -> role_46fc9f14 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_818fd0cb labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_d0ff2300 [label=3 color="#43a329" fontcolor="#43a329" id=edge_9b488186 labeltooltip=3 tooltip=3]
		subgraph cluster_block_d0ff2300 {
			block_d0ff2300 [label="[block] Run validations on cluster resources" color="#43a329" id=block_d0ff2300 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_d0ff2300 -> role_14245ccb [label="1 " color="#43a329" fontcolor="#43a329" id=edge_856a8bf0 labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_e7ffa38f [label=4 color="#43a329" fontcolor="#43a329" id=edge_00f5d617 labeltooltip=4 tooltip=4]
		subgraph cluster_block_e7ffa38f {
			block_e7ffa38f [label="[block] Create the cluster network resources" color="#43a329" id=block_e7ffa38f labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_e7ffa38f -> role_15e625c8 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_adf9ee73 labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_e22334b1 [label=5 color="#43a329" fontcolor="#43a329" id=edge_d04406b3 labeltooltip=5 tooltip=5]
		subgraph cluster_block_e22334b1 {
			block_e22334b1 [label="[block] Create services the cluster will need" color="#43a329" id=block_e22334b1 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_e22334b1 -> role_6d36cdb1 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_454da865 labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_3ecf8b59 [label=6 color="#43a329" fontcolor="#43a329" id=edge_8229ba50 labeltooltip=6 tooltip=6]
		subgraph cluster_block_3ecf8b59 {
			block_3ecf8b59 [label="[block] Prepare to deploy the cluster" color="#43a329" id=block_3ecf8b59 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_3ecf8b59 -> role_7d58067c [label="1 " color="#43a329" fontcolor="#43a329" id=edge_dc86ade3 labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_7c6908c4 [label=7 color="#43a329" fontcolor="#43a329" id=edge_5a4373f2 labeltooltip=7 tooltip=7]
		subgraph cluster_block_7c6908c4 {
			block_7c6908c4 [label="[block] Download cloud images" color="#43a329" id=block_7c6908c4 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_7c6908c4 -> role_0685c29d [label="1 " color="#43a329" fontcolor="#43a329" id=edge_40d79c0b labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_b8bf6d08 [label=8 color="#43a329" fontcolor="#43a329" id=edge_39c49b9e labeltooltip=8 tooltip=8]
		subgraph cluster_block_b8bf6d08 {
			block_b8bf6d08 [label="[block] Deploy the cluster" color="#43a329" id=block_b8bf6d08 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_b8bf6d08 -> role_ded099d1 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_6b0405d3 labeltooltip="1 " tooltip="1 "]
		}
		play_7ed55e43 -> block_2e07b0d6 [label=9 color="#43a329" fontcolor="#43a329" id=edge_d50c8a89 labeltooltip=9 tooltip=9]
		subgraph cluster_block_2e07b0d6 {
			block_2e07b0d6 [label="[block] Run any post-deployment tasks" color="#43a329" id=block_2e07b0d6 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_2e07b0d6 -> role_fcfcc9a0 [label="1 " color="#43a329" fontcolor="#43a329" id=edge_336df9c7 labeltooltip="1 " tooltip="1 "]
		}
	}
}
