digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_e6b1a402 [label="Play: Initial setup (1)" color="#15b746" fontcolor="#ffffff" id=play_e6b1a402 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e6b1a402 [label="1 " color="#15b746" fontcolor="#15b746" id=edge_dc4dc7b1 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_00b666dd [label="[role] Read podman secrets if running from the container" color="#15b746" id=role_00b666dd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_b710b687 [label="[role] task-gather-facts" color="#15b746" id=role_b710b687 tooltip="task-gather-facts"]
		role_b710b687 -> role_00b666dd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#15b746" fontcolor="#15b746" id=edge_544b219d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ce1efb12 [label="[role] Read podman secrets if running from the container" color="#15b746" id=role_ce1efb12 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_caefab66 [label="[role] task-prepare-hypervisors" color="#15b746" id=role_caefab66 tooltip="task-prepare-hypervisors"]
		role_caefab66 -> role_ce1efb12 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#15b746" fontcolor="#15b746" id=edge_49254220 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_e6b1a402 -> block_34966cc2 [label=1 color="#15b746" fontcolor="#15b746" id=edge_dc4cecca labeltooltip=1 tooltip=1]
		subgraph cluster_block_34966cc2 {
			block_34966cc2 [label="[block] Gather facts about the deployment environment" color="#15b746" id=block_34966cc2 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_34966cc2 -> role_b710b687 [label="1 " color="#15b746" fontcolor="#15b746" id=edge_626453d9 labeltooltip="1 " tooltip="1 "]
		}
		play_e6b1a402 -> block_a5060d05 [label=2 color="#15b746" fontcolor="#15b746" id=edge_97938719 labeltooltip=2 tooltip=2]
		subgraph cluster_block_a5060d05 {
			block_a5060d05 [label="[block] Prepare the hypervisors" color="#15b746" id=block_a5060d05 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_a5060d05 -> role_caefab66 [label="1 " color="#15b746" fontcolor="#15b746" id=edge_d8753401 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_483fb10e [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#9a7c32" fontcolor="#ffffff" id=play_483fb10e shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_483fb10e [label="2 " color="#9a7c32" fontcolor="#9a7c32" id=edge_ee0d9b00 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_8f7153d9 [label="[role] Provision the libvirt services on the hypervisor" color="#9a7c32" id=role_8f7153d9 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_39cf60a8 [label="[role] Prepare each hypervisor in the deployment" color="#9a7c32" id=role_39cf60a8 tooltip="Prepare each hypervisor in the deployment"]
		role_39cf60a8 -> role_8f7153d9 [label="1 " color="#9a7c32" fontcolor="#9a7c32" id=edge_33e3199a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_483fb10e -> block_f9be60b2 [label=1 color="#9a7c32" fontcolor="#9a7c32" id=edge_8aaaee2b labeltooltip=1 tooltip=1]
		subgraph cluster_block_f9be60b2 {
			block_f9be60b2 [label="[block] Prepare individual hypervisors" color="#9a7c32" id=block_f9be60b2 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_f9be60b2 -> role_39cf60a8 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#9a7c32" fontcolor="#9a7c32" id=edge_5041eeca labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_53cd7762 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#c20a24" fontcolor="#ffffff" id=play_53cd7762 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_53cd7762 [label="3 " color="#c20a24" fontcolor="#c20a24" id=edge_be16aadf labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_179899b7 [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_179899b7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_958b641f [label="[role] task-prepare-environment" color="#c20a24" id=role_958b641f tooltip="task-prepare-environment"]
		role_958b641f -> role_179899b7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_2636b552 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_50d938b4 [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_50d938b4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_6b51e745 [label="[role] Prepare environment if not prepared" color="#c20a24" id=role_6b51e745 tooltip="Prepare environment if not prepared"]
		role_6b51e745 -> role_50d938b4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_b9e69c21 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_00b68caf [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c20a24" id=role_00b68caf tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_560dd897 [label="[role] task-cleanup-hypervisors" color="#c20a24" id=role_560dd897 tooltip="task-cleanup-hypervisors"]
		role_560dd897 -> role_6b51e745 [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_0d9d6d0d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_560dd897 -> role_00b68caf [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_5b290b01 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a9229727 [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_a9229727 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ed467cb5 [label="[role] Prepare environment if not prepared" color="#c20a24" id=role_ed467cb5 tooltip="Prepare environment if not prepared"]
		role_ed467cb5 -> role_a9229727 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_814cddb6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_f5a06365 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c20a24" id=role_f5a06365 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3d7b2ba5 [label="[role] Cleanup hypervisors if needed" color="#c20a24" id=role_3d7b2ba5 tooltip="Cleanup hypervisors if needed"]
		role_3d7b2ba5 -> role_ed467cb5 [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_16fdf7ad labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3d7b2ba5 -> role_f5a06365 [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_6fa252d6 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_ddd176c1 [label="[role] task-run-validations" color="#c20a24" id=role_ddd176c1 tooltip="task-run-validations"]
		role_ddd176c1 -> role_3d7b2ba5 [label="1 [when: not hypervisors_cleaned]" color="#c20a24" fontcolor="#c20a24" id=edge_f3b71a70 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_33016c50 [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_33016c50 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_7424a522 [label="[role] Prepare environment if not prepared" color="#c20a24" id=role_7424a522 tooltip="Prepare environment if not prepared"]
		role_7424a522 -> role_33016c50 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_960f7013 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_06b0de7c [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c20a24" id=role_06b0de7c tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_d4a302e5 [label="[role] Cleanup hypervisors if needed" color="#c20a24" id=role_d4a302e5 tooltip="Cleanup hypervisors if needed"]
		role_d4a302e5 -> role_7424a522 [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_1a9ff4cf labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d4a302e5 -> role_06b0de7c [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_66c78184 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_41c11c2b [label="[role] task-create-network" color="#c20a24" id=role_41c11c2b tooltip="task-create-network"]
		role_41c11c2b -> role_d4a302e5 [label="1 [when: not hypervisors_cleaned]" color="#c20a24" fontcolor="#c20a24" id=edge_7a38ca56 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_67b9f148 [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_67b9f148 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f01d0935 [label="[role] Prepare environment if not prepared" color="#c20a24" id=role_f01d0935 tooltip="Prepare environment if not prepared"]
		role_f01d0935 -> role_67b9f148 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_90acefce labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_32b1f80f [label="[role] Prepare podman" color="#c20a24" id=role_32b1f80f tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_dba78838 [label="[role] Create systemd service for podman container" color="#c20a24" id=role_dba78838 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_2be4b483 [label="[role] Configure Bind" color="#c20a24" id=role_2be4b483 tooltip="Configure Bind"]
		role_2be4b483 -> role_dba78838 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_2e7aaba1 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_01d5393a [label="[role] Create systemd service for podman container" color="#c20a24" id=role_01d5393a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_22e727f2 [label="[role] Configure Dnsmasq" color="#c20a24" id=role_22e727f2 tooltip="Configure Dnsmasq"]
		role_22e727f2 -> role_01d5393a [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_a8fff9f8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_839470a9 [label="[role] Create systemd service for podman container" color="#c20a24" id=role_839470a9 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_b402e2cf [label="[role] Configure HAProxy" color="#c20a24" id=role_b402e2cf tooltip="Configure HAProxy"]
		role_b402e2cf -> role_839470a9 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_351bc6e8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_246fcee0 [label="[role] Create systemd service for podman container" color="#c20a24" id=role_246fcee0 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_e859d017 [label="[role] Configure Nexus" color="#c20a24" id=role_e859d017 tooltip="Configure Nexus"]
		role_e859d017 -> role_246fcee0 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_c1a99fb7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3ea85116 [label="[role] Create systemd service for podman container" color="#c20a24" id=role_3ea85116 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_002a775b [label="[role] Configure Apache" color="#c20a24" id=role_002a775b tooltip="Configure Apache"]
		role_002a775b -> role_3ea85116 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_71494f9c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6d101428 [label="[role] Create systemd service for podman container" color="#c20a24" id=role_6d101428 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_fbfb576c [label="[role] Configure a local container image registry" color="#c20a24" id=role_fbfb576c tooltip="Configure a local container image registry"]
		role_fbfb576c -> role_6d101428 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_6470104b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_2018ac37 [label="[role] task-create-services" color="#c20a24" id=role_2018ac37 tooltip="task-create-services"]
		role_2018ac37 -> role_f01d0935 [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_df5d61b6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2018ac37 -> role_32b1f80f [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_1a829839 labeltooltip="2 " tooltip="2 "]
		role_2018ac37 -> role_2be4b483 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c20a24" fontcolor="#c20a24" id=edge_35ebcb52 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2018ac37 -> role_22e727f2 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c20a24" fontcolor="#c20a24" id=edge_1595c579 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2018ac37 -> role_b402e2cf [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c20a24" fontcolor="#c20a24" id=edge_eea3197e labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2018ac37 -> role_e859d017 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c20a24" fontcolor="#c20a24" id=edge_87cac888 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2018ac37 -> role_002a775b [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c20a24" fontcolor="#c20a24" id=edge_0b607695 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2018ac37 -> role_fbfb576c [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c20a24" fontcolor="#c20a24" id=edge_8949c6d5 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_164f575e [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_164f575e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_29bb2ff6 [label="[role] Prepare environment if needed" color="#c20a24" id=role_29bb2ff6 tooltip="Prepare environment if needed"]
		role_29bb2ff6 -> role_164f575e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_4122ddfb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_2366b030 [label="[role] Gather network and host facts for guest" color="#c20a24" id=role_2366b030 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_933addc9 [label="[role] Prepare services if needed" color="#c20a24" id=role_933addc9 tooltip="Prepare services if needed"]
		role_933addc9 -> role_29bb2ff6 [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_aee123c8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_933addc9 -> role_2366b030 [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_ae6416b8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_17b80891 [label="[role] Create systemd service for podman container" color="#c20a24" id=role_17b80891 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_68af3eb8 [label="[role] Gather network and host facts for provision service" color="#c20a24" id=role_68af3eb8 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_f86663db [label="[role] Setup the cluster provision container" color="#c20a24" id=role_f86663db tooltip="Setup the cluster provision container"]
		role_f86663db -> role_17b80891 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_216d204d labeltooltip="1 " tooltip="1 "]
		role_f86663db -> role_68af3eb8 [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_ee4edc3f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_1bcc16ee [label="[role] Delegate to the distro role to prepare the cluster" color="#c20a24" id=role_1bcc16ee tooltip="Delegate to the distro role to prepare the cluster"]
		role_1bcc16ee -> role_f86663db [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_50c12374 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_eafef80b [label="[role] task-prepare-cluster" color="#c20a24" id=role_eafef80b tooltip="task-prepare-cluster"]
		role_eafef80b -> role_933addc9 [label="1 [when: not services_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_23f3d6a3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_eafef80b -> role_1bcc16ee [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_5a8b56ab labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_fa9e8eeb [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_fa9e8eeb tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_fb3a4cce [label="[role] Prepare environment if not prepared" color="#c20a24" id=role_fb3a4cce tooltip="Prepare environment if not prepared"]
		role_fb3a4cce -> role_fa9e8eeb [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_cfdb1ff1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_9adf0b64 [label="[role] task-download-images" color="#c20a24" id=role_9adf0b64 tooltip="task-download-images"]
		role_9adf0b64 -> role_fb3a4cce [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_4cab1f74 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_19b2bd87 [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_19b2bd87 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_7ad4ba25 [label="[role] Prepare environment if needed" color="#c20a24" id=role_7ad4ba25 tooltip="Prepare environment if needed"]
		role_7ad4ba25 -> role_19b2bd87 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_b4f2e90d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_d863bf0c [label="[role] Gather network and host facts for guest" color="#c20a24" id=role_d863bf0c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_ad387534 [label="[role] Prepare services if needed" color="#c20a24" id=role_ad387534 tooltip="Prepare services if needed"]
		role_ad387534 -> role_7ad4ba25 [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_3e8f4a68 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ad387534 -> role_d863bf0c [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_68840630 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_026f2bd0 [label="[role] Deploy the cluster nodes" color="#c20a24" id=role_026f2bd0 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_f87f23be [label="[role] Delegate to the distro role to deploy the cluster" color="#c20a24" id=role_f87f23be tooltip="Delegate to the distro role to deploy the cluster"]
		role_f87f23be -> role_026f2bd0 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#c20a24" fontcolor="#c20a24" id=edge_75eec10a labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_fadddb01 [label="kubeinit.kubeinit.kubeinit_kid : Install controller requirements" color="#c20a24" id=task_fadddb01 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install controller requirements"]
		role_f87f23be -> task_fadddb01 [label="2 [when: kubeinit_kid_controller_dependencies is defined]" color="#c20a24" fontcolor="#c20a24" id=edge_727f0187 labeltooltip="2 [when: kubeinit_kid_controller_dependencies is defined]" tooltip="2 [when: kubeinit_kid_controller_dependencies is defined]"]
		task_904a039c [label="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements" color="#c20a24" id=task_904a039c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements"]
		role_f87f23be -> task_904a039c [label="3 [when: kubeinit_kid_compute_dependencies is defined]" color="#c20a24" fontcolor="#c20a24" id=edge_97fcdd31 labeltooltip="3 [when: kubeinit_kid_compute_dependencies is defined]" tooltip="3 [when: kubeinit_kid_compute_dependencies is defined]"]
		task_86708935 [label="kubeinit.kubeinit.kubeinit_kid : Create kube directory" color="#c20a24" id=task_86708935 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Create kube directory"]
		role_f87f23be -> task_86708935 [label="4 " color="#c20a24" fontcolor="#c20a24" id=edge_d6314535 labeltooltip="4 " tooltip="4 "]
		task_bf5d2532 [label="kubeinit.kubeinit.kubeinit_kid : Touch a file" color="#c20a24" id=task_bf5d2532 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Touch a file"]
		role_f87f23be -> task_bf5d2532 [label="5 " color="#c20a24" fontcolor="#c20a24" id=edge_bf054ce1 labeltooltip="5 " tooltip="5 "]
	}
	subgraph "task-deploy-cluster" {
		role_b59c4d49 [label="[role] task-deploy-cluster" color="#c20a24" id=role_b59c4d49 tooltip="task-deploy-cluster"]
		role_b59c4d49 -> role_ad387534 [label="1 [when: not services_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_06daafaa labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b59c4d49 -> role_f87f23be [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_1b703fa1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_73219563 [label="[role] Read podman secrets if running from the container" color="#c20a24" id=role_73219563 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_298fb1e7 [label="[role] Prepare environment if needed" color="#c20a24" id=role_298fb1e7 tooltip="Prepare environment if needed"]
		role_298fb1e7 -> role_73219563 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c20a24" fontcolor="#c20a24" id=edge_59c8b59d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_ce87ebe3 [label="[role] Gather network and host facts for guest" color="#c20a24" id=role_ce87ebe3 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7678cfa6 [label="[role] Prepare services if needed" color="#c20a24" id=role_7678cfa6 tooltip="Prepare services if needed"]
		role_7678cfa6 -> role_298fb1e7 [label="1 [when: not environment_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_91a28108 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7678cfa6 -> role_ce87ebe3 [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_9347a2e8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_4fb4992a [label="[role] Configure NFS" color="#c20a24" id=role_4fb4992a tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_06c95fea [label="[role] Delegate to distro role to run post-deployment tasks" color="#c20a24" id=role_06c95fea tooltip="Delegate to distro role to run post-deployment tasks"]
		role_06c95fea -> role_4fb4992a [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c20a24" fontcolor="#c20a24" id=edge_7d432fd3 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_c29f78bc [label="[role] task-post-deployment" color="#c20a24" id=role_c29f78bc tooltip="task-post-deployment"]
		role_c29f78bc -> role_7678cfa6 [label="1 [when: not services_prepared]" color="#c20a24" fontcolor="#c20a24" id=edge_ee5ed1b5 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c29f78bc -> role_06c95fea [label="2 " color="#c20a24" fontcolor="#c20a24" id=edge_25978e6a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_53cd7762 -> block_ad15bbae [label=1 color="#c20a24" fontcolor="#c20a24" id=edge_2f168b04 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ad15bbae {
			block_ad15bbae [label="[block] Prepare the environment" color="#c20a24" id=block_ad15bbae labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_ad15bbae -> role_958b641f [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_dcbec821 labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_ed65940d [label=2 color="#c20a24" fontcolor="#c20a24" id=edge_af9f10c1 labeltooltip=2 tooltip=2]
		subgraph cluster_block_ed65940d {
			block_ed65940d [label="[block] Cleanup hypervisors" color="#c20a24" id=block_ed65940d labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_ed65940d -> role_560dd897 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_4a23bbcc labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_fa70d60d [label=3 color="#c20a24" fontcolor="#c20a24" id=edge_b27b19b1 labeltooltip=3 tooltip=3]
		subgraph cluster_block_fa70d60d {
			block_fa70d60d [label="[block] Run validations on cluster resources" color="#c20a24" id=block_fa70d60d labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_fa70d60d -> role_ddd176c1 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_30b319bc labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_11c4727f [label=4 color="#c20a24" fontcolor="#c20a24" id=edge_619677fc labeltooltip=4 tooltip=4]
		subgraph cluster_block_11c4727f {
			block_11c4727f [label="[block] Create the cluster network resources" color="#c20a24" id=block_11c4727f labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_11c4727f -> role_41c11c2b [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_3502a5e0 labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_e57374d5 [label=5 color="#c20a24" fontcolor="#c20a24" id=edge_5ad2fbd9 labeltooltip=5 tooltip=5]
		subgraph cluster_block_e57374d5 {
			block_e57374d5 [label="[block] Create services the cluster will need" color="#c20a24" id=block_e57374d5 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_e57374d5 -> role_2018ac37 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_e033b62d labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_87a08741 [label=6 color="#c20a24" fontcolor="#c20a24" id=edge_6dec5386 labeltooltip=6 tooltip=6]
		subgraph cluster_block_87a08741 {
			block_87a08741 [label="[block] Prepare to deploy the cluster" color="#c20a24" id=block_87a08741 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_87a08741 -> role_eafef80b [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_d7da592c labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_29605b8c [label=7 color="#c20a24" fontcolor="#c20a24" id=edge_8a386a0d labeltooltip=7 tooltip=7]
		subgraph cluster_block_29605b8c {
			block_29605b8c [label="[block] Download cloud images" color="#c20a24" id=block_29605b8c labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_29605b8c -> role_9adf0b64 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_5d7fab08 labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_18dcc45b [label=8 color="#c20a24" fontcolor="#c20a24" id=edge_cdf03a5f labeltooltip=8 tooltip=8]
		subgraph cluster_block_18dcc45b {
			block_18dcc45b [label="[block] Deploy the cluster" color="#c20a24" id=block_18dcc45b labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_18dcc45b -> role_b59c4d49 [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_a8281cda labeltooltip="1 " tooltip="1 "]
		}
		play_53cd7762 -> block_d835f8e8 [label=9 color="#c20a24" fontcolor="#c20a24" id=edge_c66e3aa8 labeltooltip=9 tooltip=9]
		subgraph cluster_block_d835f8e8 {
			block_d835f8e8 [label="[block] Run any post-deployment tasks" color="#c20a24" id=block_d835f8e8 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_d835f8e8 -> role_c29f78bc [label="1 " color="#c20a24" fontcolor="#c20a24" id=edge_9fdb8ee2 labeltooltip="1 " tooltip="1 "]
		}
	}
}
