digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_87744216 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#8dc903" fontcolor="#ffffff" id=play_87744216 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_87744216 [label="1 " color="#8dc903" fontcolor="#8dc903" id=edge_783f1b2d labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_5ed20a71 [label="[role] Gather kubeinit secrets" color="#8dc903" id=role_5ed20a71 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9ebfdf1c [label="[role] Gather additional facts from localhost for kubeinit" color="#8dc903" id=role_9ebfdf1c tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c2c6ee69 [label="[role] Create ssh config file from template" color="#8dc903" id=role_c2c6ee69 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_1424d19b [label="[role] task-gather-facts" color="#8dc903" id=role_1424d19b tooltip="task-gather-facts"]
		role_1424d19b -> role_5ed20a71 [label="1 " color="#8dc903" fontcolor="#8dc903" id=edge_bc8acbd7 labeltooltip="1 " tooltip="1 "]
		role_1424d19b -> role_9ebfdf1c [label="2 " color="#8dc903" fontcolor="#8dc903" id=edge_74421455 labeltooltip="2 " tooltip="2 "]
		role_1424d19b -> role_c2c6ee69 [label="3 " color="#8dc903" fontcolor="#8dc903" id=edge_9373c51a labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_4db7e3df [label="[role] Gather kubeinit secrets" color="#8dc903" id=role_4db7e3df tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_b3f93b1d [label="[role] Gather additional facts from localhost for kubeinit" color="#8dc903" id=role_b3f93b1d tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_1d384cd2 [label="[role] Create ssh config file from template" color="#8dc903" id=role_1d384cd2 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_fb4c38fb [label="[role] task-prepare-hypervisors" color="#8dc903" id=role_fb4c38fb tooltip="task-prepare-hypervisors"]
		role_fb4c38fb -> role_4db7e3df [label="1 " color="#8dc903" fontcolor="#8dc903" id=edge_da35d943 labeltooltip="1 " tooltip="1 "]
		role_fb4c38fb -> role_b3f93b1d [label="2 " color="#8dc903" fontcolor="#8dc903" id=edge_a77acbf8 labeltooltip="2 " tooltip="2 "]
		role_fb4c38fb -> role_1d384cd2 [label="3 " color="#8dc903" fontcolor="#8dc903" id=edge_43079ea0 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_87744216 -> block_e7c56faa [label=1 color="#8dc903" fontcolor="#8dc903" id=edge_cc77d3c8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e7c56faa {
			block_e7c56faa [label="[block] Gather facts about the deployment environment" color="#8dc903" id=block_e7c56faa labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_e7c56faa -> role_1424d19b [label="1 " color="#8dc903" fontcolor="#8dc903" id=edge_bb77714d labeltooltip="1 " tooltip="1 "]
		}
		play_87744216 -> block_729bcf3f [label=2 color="#8dc903" fontcolor="#8dc903" id=edge_60694739 labeltooltip=2 tooltip=2]
		subgraph cluster_block_729bcf3f {
			block_729bcf3f [label="[block] Prepare the hypervisors" color="#8dc903" id=block_729bcf3f labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_729bcf3f -> role_fb4c38fb [label="1 " color="#8dc903" fontcolor="#8dc903" id=edge_d5e1c1d8 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_64f4c56c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#89b01c" fontcolor="#ffffff" id=play_64f4c56c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_64f4c56c [label="2 " color="#89b01c" fontcolor="#89b01c" id=edge_37f96cc8 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_1d6f66a7 [label="[role] Provision the libvirt services on the hypervisor" color="#89b01c" id=role_1d6f66a7 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_347694f8 [label="[role] Prepare each hypervisor in the deployment" color="#89b01c" id=role_347694f8 tooltip="Prepare each hypervisor in the deployment"]
		role_347694f8 -> role_1d6f66a7 [label="1 " color="#89b01c" fontcolor="#89b01c" id=edge_466acc58 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_64f4c56c -> block_58c1aabf [label=1 color="#89b01c" fontcolor="#89b01c" id=edge_3d7fc870 labeltooltip=1 tooltip=1]
		subgraph cluster_block_58c1aabf {
			block_58c1aabf [label="[block] Prepare individual hypervisors" color="#89b01c" id=block_58c1aabf labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_58c1aabf -> role_347694f8 [label="1 " color="#89b01c" fontcolor="#89b01c" id=edge_9c6b50f3 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_7e19c010 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#0666c6" fontcolor="#ffffff" id=play_7e19c010 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_7e19c010 [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_bbd33968 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_a8434f59 [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_a8434f59 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_b8ee7775 [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_b8ee7775 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_abe2c591 [label="[role] Create ssh config file from template" color="#0666c6" id=role_abe2c591 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_f1f3df4e [label="[role] task-prepare-environment" color="#0666c6" id=role_f1f3df4e tooltip="task-prepare-environment"]
		role_f1f3df4e -> role_a8434f59 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_3a1c425b labeltooltip="1 " tooltip="1 "]
		role_f1f3df4e -> role_b8ee7775 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_14216865 labeltooltip="2 " tooltip="2 "]
		role_f1f3df4e -> role_abe2c591 [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_6aa9bec4 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_7a92b614 [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_7a92b614 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_e27b1b84 [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_e27b1b84 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_3d5f3045 [label="[role] Create ssh config file from template" color="#0666c6" id=role_3d5f3045 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_19b4db65 [label="[role] Prepare environment if not prepared" color="#0666c6" id=role_19b4db65 tooltip="Prepare environment if not prepared"]
		role_19b4db65 -> role_7a92b614 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_63fef7df labeltooltip="1 " tooltip="1 "]
		role_19b4db65 -> role_e27b1b84 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_d727a921 labeltooltip="2 " tooltip="2 "]
		role_19b4db65 -> role_3d5f3045 [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_bac75147 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_fa8bf63c [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0666c6" id=role_fa8bf63c tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_d929c1a6 [label="[role] task-cleanup-hypervisors" color="#0666c6" id=role_d929c1a6 tooltip="task-cleanup-hypervisors"]
		role_d929c1a6 -> role_19b4db65 [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_bd84b206 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d929c1a6 -> role_fa8bf63c [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_a25a2cb8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_2538c2b7 [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_2538c2b7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_e2a999ed [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_e2a999ed tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_8ae20e9a [label="[role] Create ssh config file from template" color="#0666c6" id=role_8ae20e9a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_6ca99ab0 [label="[role] Prepare environment if not prepared" color="#0666c6" id=role_6ca99ab0 tooltip="Prepare environment if not prepared"]
		role_6ca99ab0 -> role_2538c2b7 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_8748ec2f labeltooltip="1 " tooltip="1 "]
		role_6ca99ab0 -> role_e2a999ed [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_15774a69 labeltooltip="2 " tooltip="2 "]
		role_6ca99ab0 -> role_8ae20e9a [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_2118d268 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_f6861003 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0666c6" id=role_f6861003 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e544eaf1 [label="[role] Cleanup hypervisors if needed" color="#0666c6" id=role_e544eaf1 tooltip="Cleanup hypervisors if needed"]
		role_e544eaf1 -> role_6ca99ab0 [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_1af9ed13 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e544eaf1 -> role_f6861003 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_b265751c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_cdcef7da [label="[role] task-run-validations" color="#0666c6" id=role_cdcef7da tooltip="task-run-validations"]
		role_cdcef7da -> role_e544eaf1 [label="1 [when: not hypervisors_cleaned]" color="#0666c6" fontcolor="#0666c6" id=edge_42e96c2a labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_72e40a08 [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_72e40a08 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9dfbae88 [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_9dfbae88 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_efec88c0 [label="[role] Create ssh config file from template" color="#0666c6" id=role_efec88c0 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_59f907f3 [label="[role] Prepare environment if not prepared" color="#0666c6" id=role_59f907f3 tooltip="Prepare environment if not prepared"]
		role_59f907f3 -> role_72e40a08 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_3d0b8f14 labeltooltip="1 " tooltip="1 "]
		role_59f907f3 -> role_9dfbae88 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_ff2fbf8a labeltooltip="2 " tooltip="2 "]
		role_59f907f3 -> role_efec88c0 [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_e33069a9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d753bf98 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0666c6" id=role_d753bf98 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_a1bf213b [label="[role] Cleanup hypervisors if needed" color="#0666c6" id=role_a1bf213b tooltip="Cleanup hypervisors if needed"]
		role_a1bf213b -> role_59f907f3 [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_f37fa018 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a1bf213b -> role_d753bf98 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_a69d8652 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_4f6b344d [label="[role] task-create-network" color="#0666c6" id=role_4f6b344d tooltip="task-create-network"]
		role_4f6b344d -> role_a1bf213b [label="1 [when: not hypervisors_cleaned]" color="#0666c6" fontcolor="#0666c6" id=edge_59ea135b labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_d021aad2 [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_d021aad2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ca59f54d [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_ca59f54d tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_71c075ac [label="[role] Create ssh config file from template" color="#0666c6" id=role_71c075ac tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d2699360 [label="[role] Prepare environment if not prepared" color="#0666c6" id=role_d2699360 tooltip="Prepare environment if not prepared"]
		role_d2699360 -> role_d021aad2 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_641ffa68 labeltooltip="1 " tooltip="1 "]
		role_d2699360 -> role_ca59f54d [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_3d8a19f0 labeltooltip="2 " tooltip="2 "]
		role_d2699360 -> role_71c075ac [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_5b62833e labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_157b6674 [label="[role] Prepare podman" color="#0666c6" id=role_157b6674 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_f012e730 [label="[role] Create systemd service for podman container" color="#0666c6" id=role_f012e730 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_027072e1 [label="[role] Configure Bind" color="#0666c6" id=role_027072e1 tooltip="Configure Bind"]
		role_027072e1 -> role_f012e730 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_1d69b356 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6a2f5372 [label="[role] Create systemd service for podman container" color="#0666c6" id=role_6a2f5372 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_b1a15aa9 [label="[role] Configure Dnsmasq" color="#0666c6" id=role_b1a15aa9 tooltip="Configure Dnsmasq"]
		role_b1a15aa9 -> role_6a2f5372 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_8e119a26 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_058ec95d [label="[role] Create systemd service for podman container" color="#0666c6" id=role_058ec95d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_a240aa59 [label="[role] Configure HAProxy" color="#0666c6" id=role_a240aa59 tooltip="Configure HAProxy"]
		role_a240aa59 -> role_058ec95d [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_0c0a3058 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0f476952 [label="[role] Create systemd service for podman container" color="#0666c6" id=role_0f476952 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_f6e7078f [label="[role] Configure Nexus" color="#0666c6" id=role_f6e7078f tooltip="Configure Nexus"]
		role_f6e7078f -> role_0f476952 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_16407c67 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7d8fdad9 [label="[role] Create systemd service for podman container" color="#0666c6" id=role_7d8fdad9 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_d2df0fcd [label="[role] Configure Apache" color="#0666c6" id=role_d2df0fcd tooltip="Configure Apache"]
		role_d2df0fcd -> role_7d8fdad9 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_300c4b03 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_17d70b04 [label="[role] Create systemd service for podman container" color="#0666c6" id=role_17d70b04 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_faa93901 [label="[role] Configure a local container image registry" color="#0666c6" id=role_faa93901 tooltip="Configure a local container image registry"]
		role_faa93901 -> role_17d70b04 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_54e4bbb9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_2f068fbc [label="[role] task-create-services" color="#0666c6" id=role_2f068fbc tooltip="task-create-services"]
		role_2f068fbc -> role_d2699360 [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_0ff3d844 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2f068fbc -> role_157b6674 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_51609ba6 labeltooltip="2 " tooltip="2 "]
		role_2f068fbc -> role_027072e1 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#0666c6" fontcolor="#0666c6" id=edge_af68feb6 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2f068fbc -> role_b1a15aa9 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#0666c6" fontcolor="#0666c6" id=edge_a3910de9 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2f068fbc -> role_a240aa59 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#0666c6" fontcolor="#0666c6" id=edge_b5416ec7 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2f068fbc -> role_f6e7078f [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#0666c6" fontcolor="#0666c6" id=edge_e7a869c3 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2f068fbc -> role_d2df0fcd [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#0666c6" fontcolor="#0666c6" id=edge_c4117bd9 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2f068fbc -> role_faa93901 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#0666c6" fontcolor="#0666c6" id=edge_dc97f86b labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_030d3893 [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_030d3893 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_66d4939c [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_66d4939c tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_49fb5e74 [label="[role] Create ssh config file from template" color="#0666c6" id=role_49fb5e74 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_e1faa88b [label="[role] Prepare environment if needed" color="#0666c6" id=role_e1faa88b tooltip="Prepare environment if needed"]
		role_e1faa88b -> role_030d3893 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_77c4a16b labeltooltip="1 " tooltip="1 "]
		role_e1faa88b -> role_66d4939c [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_6a91dd32 labeltooltip="2 " tooltip="2 "]
		role_e1faa88b -> role_49fb5e74 [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_86f115ca labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_71922096 [label="[role] Gather network and host facts for guest" color="#0666c6" id=role_71922096 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_417a0be1 [label="[role] Prepare services if needed" color="#0666c6" id=role_417a0be1 tooltip="Prepare services if needed"]
		role_417a0be1 -> role_e1faa88b [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_71753b84 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_417a0be1 -> role_71922096 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_d2401c7b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_fcaabd2d [label="[role] Create systemd service for podman container" color="#0666c6" id=role_fcaabd2d tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_37581bac [label="[role] Gather network and host facts for provision service" color="#0666c6" id=role_37581bac tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_6a8c9576 [label="[role] Setup the cluster provision container" color="#0666c6" id=role_6a8c9576 tooltip="Setup the cluster provision container"]
		role_6a8c9576 -> role_fcaabd2d [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_0bc10e88 labeltooltip="1 " tooltip="1 "]
		role_6a8c9576 -> role_37581bac [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_f3072c9d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_eac596dc [label="[role] Delegate to the distro role to prepare the cluster" color="#0666c6" id=role_eac596dc tooltip="Delegate to the distro role to prepare the cluster"]
		role_eac596dc -> role_6a8c9576 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_732491c9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_70f398bd [label="[role] task-prepare-cluster" color="#0666c6" id=role_70f398bd tooltip="task-prepare-cluster"]
		role_70f398bd -> role_417a0be1 [label="1 [when: not services_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_928391fd labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_70f398bd -> role_eac596dc [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_cf7a4aab labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_ff90ef9e [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_ff90ef9e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a56eada7 [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_a56eada7 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_20ef080a [label="[role] Create ssh config file from template" color="#0666c6" id=role_20ef080a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_862ddce5 [label="[role] Prepare environment if not prepared" color="#0666c6" id=role_862ddce5 tooltip="Prepare environment if not prepared"]
		role_862ddce5 -> role_ff90ef9e [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_80a6d7e2 labeltooltip="1 " tooltip="1 "]
		role_862ddce5 -> role_a56eada7 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_1e248142 labeltooltip="2 " tooltip="2 "]
		role_862ddce5 -> role_20ef080a [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_d137e40f labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_c0ac61f3 [label="[role] task-download-images" color="#0666c6" id=role_c0ac61f3 tooltip="task-download-images"]
		role_c0ac61f3 -> role_862ddce5 [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_d2574403 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_769aa73d [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_769aa73d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_cff1bdd9 [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_cff1bdd9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d5190d1f [label="[role] Create ssh config file from template" color="#0666c6" id=role_d5190d1f tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_211f00b2 [label="[role] Prepare environment if needed" color="#0666c6" id=role_211f00b2 tooltip="Prepare environment if needed"]
		role_211f00b2 -> role_769aa73d [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_72468f42 labeltooltip="1 " tooltip="1 "]
		role_211f00b2 -> role_cff1bdd9 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_c55734f7 labeltooltip="2 " tooltip="2 "]
		role_211f00b2 -> role_d5190d1f [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_4e60f152 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_fb389797 [label="[role] Gather network and host facts for guest" color="#0666c6" id=role_fb389797 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_1e9a0beb [label="[role] Prepare services if needed" color="#0666c6" id=role_1e9a0beb tooltip="Prepare services if needed"]
		role_1e9a0beb -> role_211f00b2 [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_61b23d6b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1e9a0beb -> role_fb389797 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_25bb6d09 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_1c6e9e12 [label="[role] Deploy the cluster nodes" color="#0666c6" id=role_1c6e9e12 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_6e0a8d8f [label="[role] Delegate to the distro role to deploy the cluster" color="#0666c6" id=role_6e0a8d8f tooltip="Delegate to the distro role to deploy the cluster"]
		role_6e0a8d8f -> role_1c6e9e12 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#0666c6" fontcolor="#0666c6" id=edge_c5e9af9e labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_d3c6e35e [label="kubeinit.kubeinit.kubeinit_kid : Install controller requirements" color="#0666c6" id=task_d3c6e35e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install controller requirements"]
		role_6e0a8d8f -> task_d3c6e35e [label="2 [when: kubeinit_kid_controller_dependencies is defined]" color="#0666c6" fontcolor="#0666c6" id=edge_269fdee3 labeltooltip="2 [when: kubeinit_kid_controller_dependencies is defined]" tooltip="2 [when: kubeinit_kid_controller_dependencies is defined]"]
		task_4572fe7e [label="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements" color="#0666c6" id=task_4572fe7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements"]
		role_6e0a8d8f -> task_4572fe7e [label="3 [when: kubeinit_kid_compute_dependencies is defined]" color="#0666c6" fontcolor="#0666c6" id=edge_495d4635 labeltooltip="3 [when: kubeinit_kid_compute_dependencies is defined]" tooltip="3 [when: kubeinit_kid_compute_dependencies is defined]"]
		task_30441e06 [label="kubeinit.kubeinit.kubeinit_kid : Create kube directory" color="#0666c6" id=task_30441e06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Create kube directory"]
		role_6e0a8d8f -> task_30441e06 [label="4 " color="#0666c6" fontcolor="#0666c6" id=edge_f6fd77bb labeltooltip="4 " tooltip="4 "]
		task_47641b74 [label="kubeinit.kubeinit.kubeinit_kid : Touch a file" color="#0666c6" id=task_47641b74 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Touch a file"]
		role_6e0a8d8f -> task_47641b74 [label="5 " color="#0666c6" fontcolor="#0666c6" id=edge_db4d38a8 labeltooltip="5 " tooltip="5 "]
	}
	subgraph "task-deploy-cluster" {
		role_c5c19744 [label="[role] task-deploy-cluster" color="#0666c6" id=role_c5c19744 tooltip="task-deploy-cluster"]
		role_c5c19744 -> role_1e9a0beb [label="1 [when: not services_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_2ed499ca labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c5c19744 -> role_6e0a8d8f [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_02d8e48f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_d67e3c4a [label="[role] Gather kubeinit secrets" color="#0666c6" id=role_d67e3c4a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_3d6dcd20 [label="[role] Gather additional facts from localhost for kubeinit" color="#0666c6" id=role_3d6dcd20 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_b9e69db5 [label="[role] Create ssh config file from template" color="#0666c6" id=role_b9e69db5 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_ae820dcb [label="[role] Prepare environment if needed" color="#0666c6" id=role_ae820dcb tooltip="Prepare environment if needed"]
		role_ae820dcb -> role_d67e3c4a [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_b4c1fcbd labeltooltip="1 " tooltip="1 "]
		role_ae820dcb -> role_3d6dcd20 [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_7acab3ad labeltooltip="2 " tooltip="2 "]
		role_ae820dcb -> role_b9e69db5 [label="3 " color="#0666c6" fontcolor="#0666c6" id=edge_04f3fe74 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_b9cb91da [label="[role] Gather network and host facts for guest" color="#0666c6" id=role_b9cb91da tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_31034537 [label="[role] Prepare services if needed" color="#0666c6" id=role_31034537 tooltip="Prepare services if needed"]
		role_31034537 -> role_ae820dcb [label="1 [when: not environment_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_66cdcb52 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_31034537 -> role_b9cb91da [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_ec9e5c50 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_74947643 [label="[role] Configure NFS" color="#0666c6" id=role_74947643 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_d5e6c66a [label="[role] Delegate to distro role to run post-deployment tasks" color="#0666c6" id=role_d5e6c66a tooltip="Delegate to distro role to run post-deployment tasks"]
		role_d5e6c66a -> role_74947643 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#0666c6" fontcolor="#0666c6" id=edge_0efe40ad labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_7be4b218 [label="[role] task-post-deployment" color="#0666c6" id=role_7be4b218 tooltip="task-post-deployment"]
		role_7be4b218 -> role_31034537 [label="1 [when: not services_prepared]" color="#0666c6" fontcolor="#0666c6" id=edge_387a1c5e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_7be4b218 -> role_d5e6c66a [label="2 " color="#0666c6" fontcolor="#0666c6" id=edge_07805227 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_7e19c010 -> block_96802b0e [label=1 color="#0666c6" fontcolor="#0666c6" id=edge_895d02e2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_96802b0e {
			block_96802b0e [label="[block] Prepare the environment" color="#0666c6" id=block_96802b0e labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_96802b0e -> role_f1f3df4e [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_7717c2a5 labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_349a0a83 [label=2 color="#0666c6" fontcolor="#0666c6" id=edge_34b9fbb1 labeltooltip=2 tooltip=2]
		subgraph cluster_block_349a0a83 {
			block_349a0a83 [label="[block] Cleanup hypervisors" color="#0666c6" id=block_349a0a83 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_349a0a83 -> role_d929c1a6 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_4800d8c4 labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_91edd2a2 [label=3 color="#0666c6" fontcolor="#0666c6" id=edge_fc5f0680 labeltooltip=3 tooltip=3]
		subgraph cluster_block_91edd2a2 {
			block_91edd2a2 [label="[block] Run validations on cluster resources" color="#0666c6" id=block_91edd2a2 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_91edd2a2 -> role_cdcef7da [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_3f72b2da labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_e9661b93 [label=4 color="#0666c6" fontcolor="#0666c6" id=edge_6262f456 labeltooltip=4 tooltip=4]
		subgraph cluster_block_e9661b93 {
			block_e9661b93 [label="[block] Create the cluster network resources" color="#0666c6" id=block_e9661b93 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_e9661b93 -> role_4f6b344d [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_c5499ff6 labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_ef0a1a7a [label=5 color="#0666c6" fontcolor="#0666c6" id=edge_87f0b200 labeltooltip=5 tooltip=5]
		subgraph cluster_block_ef0a1a7a {
			block_ef0a1a7a [label="[block] Create services the cluster will need" color="#0666c6" id=block_ef0a1a7a labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_ef0a1a7a -> role_2f068fbc [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_0005d1c5 labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_2e72d7ad [label=6 color="#0666c6" fontcolor="#0666c6" id=edge_39966d37 labeltooltip=6 tooltip=6]
		subgraph cluster_block_2e72d7ad {
			block_2e72d7ad [label="[block] Prepare to deploy the cluster" color="#0666c6" id=block_2e72d7ad labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_2e72d7ad -> role_70f398bd [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_c917425b labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_a959f7c8 [label=7 color="#0666c6" fontcolor="#0666c6" id=edge_046af247 labeltooltip=7 tooltip=7]
		subgraph cluster_block_a959f7c8 {
			block_a959f7c8 [label="[block] Download cloud images" color="#0666c6" id=block_a959f7c8 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_a959f7c8 -> role_c0ac61f3 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_af43e647 labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_51c14a0d [label=8 color="#0666c6" fontcolor="#0666c6" id=edge_dddf1579 labeltooltip=8 tooltip=8]
		subgraph cluster_block_51c14a0d {
			block_51c14a0d [label="[block] Deploy the cluster" color="#0666c6" id=block_51c14a0d labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_51c14a0d -> role_c5c19744 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_f304f34b labeltooltip="1 " tooltip="1 "]
		}
		play_7e19c010 -> block_3c605f43 [label=9 color="#0666c6" fontcolor="#0666c6" id=edge_b2a2a067 labeltooltip=9 tooltip=9]
		subgraph cluster_block_3c605f43 {
			block_3c605f43 [label="[block] Run any post-deployment tasks" color="#0666c6" id=block_3c605f43 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_3c605f43 -> role_7be4b218 [label="1 " color="#0666c6" fontcolor="#0666c6" id=edge_e75e1d83 labeltooltip="1 " tooltip="1 "]
		}
	}
}
