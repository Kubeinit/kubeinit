digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_1c395bcc [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#a52754" fontcolor="#ffffff" id=play_1c395bcc shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_1c395bcc [label="1 " color="#a52754" fontcolor="#a52754" id=edge_ab151964 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_4e699200 [label="[role] Gather kubeinit secrets" color="#a52754" id=role_4e699200 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a7fa6b73 [label="[role] Gather additional facts from localhost for kubeinit" color="#a52754" id=role_a7fa6b73 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d9d628a5 [label="[role] Create ssh config file from template" color="#a52754" id=role_d9d628a5 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_2133da0c [label="[role] task-gather-facts" color="#a52754" id=role_2133da0c tooltip="task-gather-facts"]
		role_2133da0c -> role_4e699200 [label="1 " color="#a52754" fontcolor="#a52754" id=edge_4a1a937e labeltooltip="1 " tooltip="1 "]
		role_2133da0c -> role_a7fa6b73 [label="2 " color="#a52754" fontcolor="#a52754" id=edge_d5e6530a labeltooltip="2 " tooltip="2 "]
		role_2133da0c -> role_d9d628a5 [label="3 " color="#a52754" fontcolor="#a52754" id=edge_8e287137 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_dccbcb1c [label="[role] Gather kubeinit secrets" color="#a52754" id=role_dccbcb1c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_75a02e72 [label="[role] Gather additional facts from localhost for kubeinit" color="#a52754" id=role_75a02e72 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7dfb38c1 [label="[role] Create ssh config file from template" color="#a52754" id=role_7dfb38c1 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_5a1d8cc9 [label="[role] task-prepare-hypervisors" color="#a52754" id=role_5a1d8cc9 tooltip="task-prepare-hypervisors"]
		role_5a1d8cc9 -> role_dccbcb1c [label="1 " color="#a52754" fontcolor="#a52754" id=edge_5945d167 labeltooltip="1 " tooltip="1 "]
		role_5a1d8cc9 -> role_75a02e72 [label="2 " color="#a52754" fontcolor="#a52754" id=edge_c2bf80d1 labeltooltip="2 " tooltip="2 "]
		role_5a1d8cc9 -> role_7dfb38c1 [label="3 " color="#a52754" fontcolor="#a52754" id=edge_f12b26c7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_1c395bcc -> block_9d32b01a [label=1 color="#a52754" fontcolor="#a52754" id=edge_9b4dd58e labeltooltip=1 tooltip=1]
		subgraph cluster_block_9d32b01a {
			block_9d32b01a [label="[block] Gather facts about the deployment environment" color="#a52754" id=block_9d32b01a labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_9d32b01a -> role_2133da0c [label="1 " color="#a52754" fontcolor="#a52754" id=edge_2eab6904 labeltooltip="1 " tooltip="1 "]
		}
		play_1c395bcc -> block_79f08b8d [label=2 color="#a52754" fontcolor="#a52754" id=edge_0438c3fc labeltooltip=2 tooltip=2]
		subgraph cluster_block_79f08b8d {
			block_79f08b8d [label="[block] Prepare the hypervisors" color="#a52754" id=block_79f08b8d labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_79f08b8d -> role_5a1d8cc9 [label="1 " color="#a52754" fontcolor="#a52754" id=edge_c214e70c labeltooltip="1 " tooltip="1 "]
		}
	}
	play_5bc1c492 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#3729a3" fontcolor="#ffffff" id=play_5bc1c492 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_5bc1c492 [label="2 " color="#3729a3" fontcolor="#3729a3" id=edge_fd7105b8 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_7441c783 [label="[role] Provision the libvirt services on the hypervisor" color="#3729a3" id=role_7441c783 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_11e1f38b [label="[role] Prepare each hypervisor in the deployment" color="#3729a3" id=role_11e1f38b tooltip="Prepare each hypervisor in the deployment"]
		role_11e1f38b -> role_7441c783 [label="1 " color="#3729a3" fontcolor="#3729a3" id=edge_20f5f30d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_5bc1c492 -> block_d24ba3bc [label=1 color="#3729a3" fontcolor="#3729a3" id=edge_c062f0a9 labeltooltip=1 tooltip=1]
		subgraph cluster_block_d24ba3bc {
			block_d24ba3bc [label="[block] Prepare individual hypervisors" color="#3729a3" id=block_d24ba3bc labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_d24ba3bc -> role_11e1f38b [label="1 " color="#3729a3" fontcolor="#3729a3" id=edge_ee5c0b87 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_0b8c780c [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#446a88" fontcolor="#ffffff" id=play_0b8c780c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_0b8c780c [label="3 " color="#446a88" fontcolor="#446a88" id=edge_75fe1dc1 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_dba65e98 [label="[role] Gather kubeinit secrets" color="#446a88" id=role_dba65e98 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9ac5fed0 [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_9ac5fed0 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_e6b6258c [label="[role] Create ssh config file from template" color="#446a88" id=role_e6b6258c tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_a6ba8e25 [label="[role] task-prepare-environment" color="#446a88" id=role_a6ba8e25 tooltip="task-prepare-environment"]
		role_a6ba8e25 -> role_dba65e98 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_bd401e17 labeltooltip="1 " tooltip="1 "]
		role_a6ba8e25 -> role_9ac5fed0 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_89a1db69 labeltooltip="2 " tooltip="2 "]
		role_a6ba8e25 -> role_e6b6258c [label="3 " color="#446a88" fontcolor="#446a88" id=edge_d7665ce9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_8f6ae083 [label="[role] Gather kubeinit secrets" color="#446a88" id=role_8f6ae083 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7f376718 [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_7f376718 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_5e56be15 [label="[role] Create ssh config file from template" color="#446a88" id=role_5e56be15 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0dc7ea4d [label="[role] Prepare environment if not prepared" color="#446a88" id=role_0dc7ea4d tooltip="Prepare environment if not prepared"]
		role_0dc7ea4d -> role_8f6ae083 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_5fe6ae93 labeltooltip="1 " tooltip="1 "]
		role_0dc7ea4d -> role_7f376718 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_f58bae93 labeltooltip="2 " tooltip="2 "]
		role_0dc7ea4d -> role_5e56be15 [label="3 " color="#446a88" fontcolor="#446a88" id=edge_8166b7a2 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_11bcc830 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#446a88" id=role_11bcc830 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_43b16913 [label="[role] task-cleanup-hypervisors" color="#446a88" id=role_43b16913 tooltip="task-cleanup-hypervisors"]
		role_43b16913 -> role_0dc7ea4d [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_9700985b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_43b16913 -> role_11bcc830 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_8b87a553 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_b3c6c4bd [label="[role] Gather kubeinit secrets" color="#446a88" id=role_b3c6c4bd tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_885bdc9b [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_885bdc9b tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_8757459a [label="[role] Create ssh config file from template" color="#446a88" id=role_8757459a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1fb75e73 [label="[role] Prepare environment if not prepared" color="#446a88" id=role_1fb75e73 tooltip="Prepare environment if not prepared"]
		role_1fb75e73 -> role_b3c6c4bd [label="1 " color="#446a88" fontcolor="#446a88" id=edge_d52202fb labeltooltip="1 " tooltip="1 "]
		role_1fb75e73 -> role_885bdc9b [label="2 " color="#446a88" fontcolor="#446a88" id=edge_cd7aa433 labeltooltip="2 " tooltip="2 "]
		role_1fb75e73 -> role_8757459a [label="3 " color="#446a88" fontcolor="#446a88" id=edge_4c916dc0 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_df9cf43c [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#446a88" id=role_df9cf43c tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_ec6a98f0 [label="[role] Cleanup hypervisors if needed" color="#446a88" id=role_ec6a98f0 tooltip="Cleanup hypervisors if needed"]
		role_ec6a98f0 -> role_1fb75e73 [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_b62fbd36 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ec6a98f0 -> role_df9cf43c [label="2 " color="#446a88" fontcolor="#446a88" id=edge_6489e2d2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_390ca2ab [label="[role] task-run-validations" color="#446a88" id=role_390ca2ab tooltip="task-run-validations"]
		role_390ca2ab -> role_ec6a98f0 [label="1 [when: not hypervisors_cleaned]" color="#446a88" fontcolor="#446a88" id=edge_5258e059 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_8c2c85fd [label="[role] Gather kubeinit secrets" color="#446a88" id=role_8c2c85fd tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_02a07c59 [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_02a07c59 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_5d801b8d [label="[role] Create ssh config file from template" color="#446a88" id=role_5d801b8d tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_bb5cf284 [label="[role] Prepare environment if not prepared" color="#446a88" id=role_bb5cf284 tooltip="Prepare environment if not prepared"]
		role_bb5cf284 -> role_8c2c85fd [label="1 " color="#446a88" fontcolor="#446a88" id=edge_eb594d57 labeltooltip="1 " tooltip="1 "]
		role_bb5cf284 -> role_02a07c59 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_5bc55604 labeltooltip="2 " tooltip="2 "]
		role_bb5cf284 -> role_5d801b8d [label="3 " color="#446a88" fontcolor="#446a88" id=edge_38d9ba82 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_813b0257 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#446a88" id=role_813b0257 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3473ef33 [label="[role] Cleanup hypervisors if needed" color="#446a88" id=role_3473ef33 tooltip="Cleanup hypervisors if needed"]
		role_3473ef33 -> role_bb5cf284 [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_f6bf1326 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3473ef33 -> role_813b0257 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_323426fa labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_c1997959 [label="[role] task-create-network" color="#446a88" id=role_c1997959 tooltip="task-create-network"]
		role_c1997959 -> role_3473ef33 [label="1 [when: not hypervisors_cleaned]" color="#446a88" fontcolor="#446a88" id=edge_a1312c16 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_d8ed2635 [label="[role] Gather kubeinit secrets" color="#446a88" id=role_d8ed2635 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_5186cb20 [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_5186cb20 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_1501a69a [label="[role] Create ssh config file from template" color="#446a88" id=role_1501a69a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_55f70294 [label="[role] Prepare environment if not prepared" color="#446a88" id=role_55f70294 tooltip="Prepare environment if not prepared"]
		role_55f70294 -> role_d8ed2635 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_c3e068ec labeltooltip="1 " tooltip="1 "]
		role_55f70294 -> role_5186cb20 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_2905ef80 labeltooltip="2 " tooltip="2 "]
		role_55f70294 -> role_1501a69a [label="3 " color="#446a88" fontcolor="#446a88" id=edge_954a49bc labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_7d9e3b42 [label="[role] Prepare podman" color="#446a88" id=role_7d9e3b42 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_0c34aafd [label="[role] Create systemd service for podman container" color="#446a88" id=role_0c34aafd tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_2fcae34a [label="[role] Configure Bind" color="#446a88" id=role_2fcae34a tooltip="Configure Bind"]
		role_2fcae34a -> role_0c34aafd [label="1 " color="#446a88" fontcolor="#446a88" id=edge_e260c522 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2884c010 [label="[role] Create systemd service for podman container" color="#446a88" id=role_2884c010 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_5ea35b21 [label="[role] Configure Dnsmasq" color="#446a88" id=role_5ea35b21 tooltip="Configure Dnsmasq"]
		role_5ea35b21 -> role_2884c010 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_5bfb53b4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e28f2939 [label="[role] Create systemd service for podman container" color="#446a88" id=role_e28f2939 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_1c2fe4fd [label="[role] Configure HAProxy" color="#446a88" id=role_1c2fe4fd tooltip="Configure HAProxy"]
		role_1c2fe4fd -> role_e28f2939 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_40ed761e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3ce2aeea [label="[role] Create systemd service for podman container" color="#446a88" id=role_3ce2aeea tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_db4dbc8a [label="[role] Configure Nexus" color="#446a88" id=role_db4dbc8a tooltip="Configure Nexus"]
		role_db4dbc8a -> role_3ce2aeea [label="1 " color="#446a88" fontcolor="#446a88" id=edge_bcc1d9c0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_71dbe015 [label="[role] Create systemd service for podman container" color="#446a88" id=role_71dbe015 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_84a09c48 [label="[role] Configure Apache" color="#446a88" id=role_84a09c48 tooltip="Configure Apache"]
		role_84a09c48 -> role_71dbe015 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_22c7920e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ef06d4fd [label="[role] Create systemd service for podman container" color="#446a88" id=role_ef06d4fd tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_6de8cb13 [label="[role] Configure a local container image registry" color="#446a88" id=role_6de8cb13 tooltip="Configure a local container image registry"]
		role_6de8cb13 -> role_ef06d4fd [label="1 " color="#446a88" fontcolor="#446a88" id=edge_c1b40b6d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_47f0dd3d [label="[role] task-create-services" color="#446a88" id=role_47f0dd3d tooltip="task-create-services"]
		role_47f0dd3d -> role_55f70294 [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_53a35bf6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_47f0dd3d -> role_7d9e3b42 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_6768caa9 labeltooltip="2 " tooltip="2 "]
		role_47f0dd3d -> role_2fcae34a [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#446a88" fontcolor="#446a88" id=edge_eb74d4f2 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_47f0dd3d -> role_5ea35b21 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#446a88" fontcolor="#446a88" id=edge_b9abacb8 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_47f0dd3d -> role_1c2fe4fd [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#446a88" fontcolor="#446a88" id=edge_3ef6dfb8 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_47f0dd3d -> role_db4dbc8a [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#446a88" fontcolor="#446a88" id=edge_3e61953c labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_47f0dd3d -> role_84a09c48 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#446a88" fontcolor="#446a88" id=edge_dafe0d4b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_47f0dd3d -> role_6de8cb13 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#446a88" fontcolor="#446a88" id=edge_554df445 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_abdcdfbd [label="[role] Gather kubeinit secrets" color="#446a88" id=role_abdcdfbd tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_d317e8a1 [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_d317e8a1 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_6756cd0b [label="[role] Create ssh config file from template" color="#446a88" id=role_6756cd0b tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_a772dc0b [label="[role] Prepare environment if needed" color="#446a88" id=role_a772dc0b tooltip="Prepare environment if needed"]
		role_a772dc0b -> role_abdcdfbd [label="1 " color="#446a88" fontcolor="#446a88" id=edge_8b8ba90c labeltooltip="1 " tooltip="1 "]
		role_a772dc0b -> role_d317e8a1 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_957822e4 labeltooltip="2 " tooltip="2 "]
		role_a772dc0b -> role_6756cd0b [label="3 " color="#446a88" fontcolor="#446a88" id=edge_9e1f2a42 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_8bf7c827 [label="[role] Gather network and host facts for guest" color="#446a88" id=role_8bf7c827 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7f578b5a [label="[role] Prepare services if needed" color="#446a88" id=role_7f578b5a tooltip="Prepare services if needed"]
		role_7f578b5a -> role_a772dc0b [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_889a8bd8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7f578b5a -> role_8bf7c827 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_87f45588 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_aff350d4 [label="[role] Create systemd service for podman container" color="#446a88" id=role_aff350d4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_2c53cb4c [label="[role] Gather network and host facts for provision service" color="#446a88" id=role_2c53cb4c tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_61d362bd [label="[role] Setup the cluster provision container" color="#446a88" id=role_61d362bd tooltip="Setup the cluster provision container"]
		role_61d362bd -> role_aff350d4 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_99856f99 labeltooltip="1 " tooltip="1 "]
		role_61d362bd -> role_2c53cb4c [label="2 " color="#446a88" fontcolor="#446a88" id=edge_ca011f50 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_57bc7627 [label="[role] Delegate to the distro role to prepare the cluster" color="#446a88" id=role_57bc7627 tooltip="Delegate to the distro role to prepare the cluster"]
		role_57bc7627 -> role_61d362bd [label="1 " color="#446a88" fontcolor="#446a88" id=edge_0598adb2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_0ffba87b [label="[role] task-prepare-cluster" color="#446a88" id=role_0ffba87b tooltip="task-prepare-cluster"]
		role_0ffba87b -> role_7f578b5a [label="1 [when: not services_prepared]" color="#446a88" fontcolor="#446a88" id=edge_76944ddf labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0ffba87b -> role_57bc7627 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_ed487d41 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_59354cc5 [label="[role] Gather kubeinit secrets" color="#446a88" id=role_59354cc5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_273da441 [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_273da441 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_0e054114 [label="[role] Create ssh config file from template" color="#446a88" id=role_0e054114 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9b1c1a21 [label="[role] Prepare environment if not prepared" color="#446a88" id=role_9b1c1a21 tooltip="Prepare environment if not prepared"]
		role_9b1c1a21 -> role_59354cc5 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_c897e37a labeltooltip="1 " tooltip="1 "]
		role_9b1c1a21 -> role_273da441 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_e7824aa4 labeltooltip="2 " tooltip="2 "]
		role_9b1c1a21 -> role_0e054114 [label="3 " color="#446a88" fontcolor="#446a88" id=edge_90daee37 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_e54b9f99 [label="[role] task-download-images" color="#446a88" id=role_e54b9f99 tooltip="task-download-images"]
		role_e54b9f99 -> role_9b1c1a21 [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_24c1c142 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_66a3e117 [label="[role] Gather kubeinit secrets" color="#446a88" id=role_66a3e117 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_5a5777de [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_5a5777de tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_98227e76 [label="[role] Create ssh config file from template" color="#446a88" id=role_98227e76 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_b974b789 [label="[role] Prepare environment if needed" color="#446a88" id=role_b974b789 tooltip="Prepare environment if needed"]
		role_b974b789 -> role_66a3e117 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_0d126175 labeltooltip="1 " tooltip="1 "]
		role_b974b789 -> role_5a5777de [label="2 " color="#446a88" fontcolor="#446a88" id=edge_3458d94c labeltooltip="2 " tooltip="2 "]
		role_b974b789 -> role_98227e76 [label="3 " color="#446a88" fontcolor="#446a88" id=edge_48f9a208 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_bc7e4366 [label="[role] Gather network and host facts for guest" color="#446a88" id=role_bc7e4366 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_e5c60053 [label="[role] Prepare services if needed" color="#446a88" id=role_e5c60053 tooltip="Prepare services if needed"]
		role_e5c60053 -> role_b974b789 [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_caf45adf labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e5c60053 -> role_bc7e4366 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_a582ff4e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_c4fc8393 [label="[role] Deploy the cluster nodes" color="#446a88" id=role_c4fc8393 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_b39a0475 [label="[role] Delegate to the distro role to deploy the cluster" color="#446a88" id=role_b39a0475 tooltip="Delegate to the distro role to deploy the cluster"]
		role_b39a0475 -> role_c4fc8393 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#446a88" fontcolor="#446a88" id=edge_bc98397b labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_36c10290 [label="kubeinit.kubeinit.kubeinit_kid : Install controller requirements" color="#446a88" id=task_36c10290 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install controller requirements"]
		role_b39a0475 -> task_36c10290 [label="2 [when: kubeinit_kid_controller_dependencies is defined]" color="#446a88" fontcolor="#446a88" id=edge_5843bd81 labeltooltip="2 [when: kubeinit_kid_controller_dependencies is defined]" tooltip="2 [when: kubeinit_kid_controller_dependencies is defined]"]
		task_14c44025 [label="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements" color="#446a88" id=task_14c44025 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements"]
		role_b39a0475 -> task_14c44025 [label="3 [when: kubeinit_kid_compute_dependencies is defined]" color="#446a88" fontcolor="#446a88" id=edge_cfc5a1ae labeltooltip="3 [when: kubeinit_kid_compute_dependencies is defined]" tooltip="3 [when: kubeinit_kid_compute_dependencies is defined]"]
		task_5a4e7b08 [label="kubeinit.kubeinit.kubeinit_kid : Create kube directory" color="#446a88" id=task_5a4e7b08 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Create kube directory"]
		role_b39a0475 -> task_5a4e7b08 [label="4 " color="#446a88" fontcolor="#446a88" id=edge_d0cab5fa labeltooltip="4 " tooltip="4 "]
		task_b68d6ca7 [label="kubeinit.kubeinit.kubeinit_kid : Touch a file" color="#446a88" id=task_b68d6ca7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Touch a file"]
		role_b39a0475 -> task_b68d6ca7 [label="5 " color="#446a88" fontcolor="#446a88" id=edge_170dbdd1 labeltooltip="5 " tooltip="5 "]
	}
	subgraph "task-deploy-cluster" {
		role_0e635660 [label="[role] task-deploy-cluster" color="#446a88" id=role_0e635660 tooltip="task-deploy-cluster"]
		role_0e635660 -> role_e5c60053 [label="1 [when: not services_prepared]" color="#446a88" fontcolor="#446a88" id=edge_8fce955d labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0e635660 -> role_b39a0475 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_dce53ab1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_d11aebee [label="[role] Gather kubeinit secrets" color="#446a88" id=role_d11aebee tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_121a5f1a [label="[role] Gather additional facts from localhost for kubeinit" color="#446a88" id=role_121a5f1a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_cd210d01 [label="[role] Create ssh config file from template" color="#446a88" id=role_cd210d01 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_a334e3a0 [label="[role] Prepare environment if needed" color="#446a88" id=role_a334e3a0 tooltip="Prepare environment if needed"]
		role_a334e3a0 -> role_d11aebee [label="1 " color="#446a88" fontcolor="#446a88" id=edge_812cef4a labeltooltip="1 " tooltip="1 "]
		role_a334e3a0 -> role_121a5f1a [label="2 " color="#446a88" fontcolor="#446a88" id=edge_7b88bb43 labeltooltip="2 " tooltip="2 "]
		role_a334e3a0 -> role_cd210d01 [label="3 " color="#446a88" fontcolor="#446a88" id=edge_500f5a63 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_6f3203aa [label="[role] Gather network and host facts for guest" color="#446a88" id=role_6f3203aa tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f59bd757 [label="[role] Prepare services if needed" color="#446a88" id=role_f59bd757 tooltip="Prepare services if needed"]
		role_f59bd757 -> role_a334e3a0 [label="1 [when: not environment_prepared]" color="#446a88" fontcolor="#446a88" id=edge_feb3d959 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f59bd757 -> role_6f3203aa [label="2 " color="#446a88" fontcolor="#446a88" id=edge_73f739fe labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_bb4b692e [label="[role] Configure NFS" color="#446a88" id=role_bb4b692e tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_706fbc56 [label="[role] Delegate to distro role to run post-deployment tasks" color="#446a88" id=role_706fbc56 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_706fbc56 -> role_bb4b692e [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#446a88" fontcolor="#446a88" id=edge_aeb094d7 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_16608960 [label="[role] task-post-deployment" color="#446a88" id=role_16608960 tooltip="task-post-deployment"]
		role_16608960 -> role_f59bd757 [label="1 [when: not services_prepared]" color="#446a88" fontcolor="#446a88" id=edge_b82848c6 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_16608960 -> role_706fbc56 [label="2 " color="#446a88" fontcolor="#446a88" id=edge_5a1be416 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_0b8c780c -> block_81305c31 [label=1 color="#446a88" fontcolor="#446a88" id=edge_97206f7d labeltooltip=1 tooltip=1]
		subgraph cluster_block_81305c31 {
			block_81305c31 [label="[block] Prepare the environment" color="#446a88" id=block_81305c31 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_81305c31 -> role_a6ba8e25 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_a5d938d8 labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_dfbc2cc7 [label=2 color="#446a88" fontcolor="#446a88" id=edge_c2d54aee labeltooltip=2 tooltip=2]
		subgraph cluster_block_dfbc2cc7 {
			block_dfbc2cc7 [label="[block] Cleanup hypervisors" color="#446a88" id=block_dfbc2cc7 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_dfbc2cc7 -> role_43b16913 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_aa2a925b labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_b5e7d869 [label=3 color="#446a88" fontcolor="#446a88" id=edge_4bca86bf labeltooltip=3 tooltip=3]
		subgraph cluster_block_b5e7d869 {
			block_b5e7d869 [label="[block] Run validations on cluster resources" color="#446a88" id=block_b5e7d869 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_b5e7d869 -> role_390ca2ab [label="1 " color="#446a88" fontcolor="#446a88" id=edge_d79c94c8 labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_b5e20231 [label=4 color="#446a88" fontcolor="#446a88" id=edge_76349d66 labeltooltip=4 tooltip=4]
		subgraph cluster_block_b5e20231 {
			block_b5e20231 [label="[block] Create the cluster network resources" color="#446a88" id=block_b5e20231 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_b5e20231 -> role_c1997959 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_5a0ee7a8 labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_2aba8189 [label=5 color="#446a88" fontcolor="#446a88" id=edge_abf08994 labeltooltip=5 tooltip=5]
		subgraph cluster_block_2aba8189 {
			block_2aba8189 [label="[block] Create services the cluster will need" color="#446a88" id=block_2aba8189 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_2aba8189 -> role_47f0dd3d [label="1 " color="#446a88" fontcolor="#446a88" id=edge_f80dbbc1 labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_5343ad89 [label=6 color="#446a88" fontcolor="#446a88" id=edge_b81aa78c labeltooltip=6 tooltip=6]
		subgraph cluster_block_5343ad89 {
			block_5343ad89 [label="[block] Prepare to deploy the cluster" color="#446a88" id=block_5343ad89 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_5343ad89 -> role_0ffba87b [label="1 " color="#446a88" fontcolor="#446a88" id=edge_9f7ff7de labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_54389816 [label=7 color="#446a88" fontcolor="#446a88" id=edge_0e8475fd labeltooltip=7 tooltip=7]
		subgraph cluster_block_54389816 {
			block_54389816 [label="[block] Download cloud images" color="#446a88" id=block_54389816 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_54389816 -> role_e54b9f99 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_489ea40e labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_0cc8c1ce [label=8 color="#446a88" fontcolor="#446a88" id=edge_cd6d58e3 labeltooltip=8 tooltip=8]
		subgraph cluster_block_0cc8c1ce {
			block_0cc8c1ce [label="[block] Deploy the cluster" color="#446a88" id=block_0cc8c1ce labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_0cc8c1ce -> role_0e635660 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_133041b3 labeltooltip="1 " tooltip="1 "]
		}
		play_0b8c780c -> block_ced8ddd3 [label=9 color="#446a88" fontcolor="#446a88" id=edge_cc48daa4 labeltooltip=9 tooltip=9]
		subgraph cluster_block_ced8ddd3 {
			block_ced8ddd3 [label="[block] Run any post-deployment tasks" color="#446a88" id=block_ced8ddd3 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_ced8ddd3 -> role_16608960 [label="1 " color="#446a88" fontcolor="#446a88" id=edge_969bf3a3 labeltooltip="1 " tooltip="1 "]
		}
	}
}
