digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_f4e7883f [label="Play: Initial setup (1)" color="#05c74d" fontcolor="#ffffff" id=play_f4e7883f shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_f4e7883f [label="1 " color="#05c74d" fontcolor="#05c74d" id=edge_0867fb1a labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_13d65bdd [label="[role] Read podman secrets if running from the container" color="#05c74d" id=role_13d65bdd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_a44ad2e0 [label="[role] task-gather-facts" color="#05c74d" id=role_a44ad2e0 tooltip="task-gather-facts"]
		role_a44ad2e0 -> role_13d65bdd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#05c74d" fontcolor="#05c74d" id=edge_cc7e737c labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d328955e [label="[role] Read podman secrets if running from the container" color="#05c74d" id=role_d328955e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_05b4045c [label="[role] task-prepare-hypervisors" color="#05c74d" id=role_05b4045c tooltip="task-prepare-hypervisors"]
		role_05b4045c -> role_d328955e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#05c74d" fontcolor="#05c74d" id=edge_634de4f3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_f4e7883f -> block_7ed04274 [label=1 color="#05c74d" fontcolor="#05c74d" id=edge_0ce2a15b labeltooltip=1 tooltip=1]
		subgraph cluster_block_7ed04274 {
			block_7ed04274 [label="[block] Gather facts about the deployment environment" color="#05c74d" id=block_7ed04274 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_7ed04274 -> role_a44ad2e0 [label="1 " color="#05c74d" fontcolor="#05c74d" id=edge_04b39c6e labeltooltip="1 " tooltip="1 "]
		}
		play_f4e7883f -> block_aa2172f9 [label=2 color="#05c74d" fontcolor="#05c74d" id=edge_95e9793b labeltooltip=2 tooltip=2]
		subgraph cluster_block_aa2172f9 {
			block_aa2172f9 [label="[block] Prepare the hypervisors" color="#05c74d" id=block_aa2172f9 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_aa2172f9 -> role_05b4045c [label="1 " color="#05c74d" fontcolor="#05c74d" id=edge_fc12ae80 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_e1125369 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#a85224" fontcolor="#ffffff" id=play_e1125369 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_e1125369 [label="2 " color="#a85224" fontcolor="#a85224" id=edge_271a386b labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_5b46e97f [label="[role] Provision the libvirt services on the hypervisor" color="#a85224" id=role_5b46e97f tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_60e21792 [label="[role] Prepare each hypervisor in the deployment" color="#a85224" id=role_60e21792 tooltip="Prepare each hypervisor in the deployment"]
		role_60e21792 -> role_5b46e97f [label="1 " color="#a85224" fontcolor="#a85224" id=edge_220eae01 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_e1125369 -> block_62740e2e [label=1 color="#a85224" fontcolor="#a85224" id=edge_247f4fd2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_62740e2e {
			block_62740e2e [label="[block] Prepare individual hypervisors" color="#a85224" id=block_62740e2e labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_62740e2e -> role_60e21792 [label="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" color="#a85224" fontcolor="#a85224" id=edge_4ccca94e labeltooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]"]
		}
	}
	play_ecf52994 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#7a3696" fontcolor="#ffffff" id=play_ecf52994 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_ecf52994 [label="3 " color="#7a3696" fontcolor="#7a3696" id=edge_7cf66d0b labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_44733955 [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_44733955 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_275f1120 [label="[role] task-prepare-environment" color="#7a3696" id=role_275f1120 tooltip="task-prepare-environment"]
		role_275f1120 -> role_44733955 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_455b939f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b4117a8d [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_b4117a8d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0449af79 [label="[role] Prepare environment if not prepared" color="#7a3696" id=role_0449af79 tooltip="Prepare environment if not prepared"]
		role_0449af79 -> role_b4117a8d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_d0ef97e2 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_5f5bce27 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#7a3696" id=role_5f5bce27 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_ea16e16a [label="[role] task-cleanup-hypervisors" color="#7a3696" id=role_ea16e16a tooltip="task-cleanup-hypervisors"]
		role_ea16e16a -> role_0449af79 [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_0e47c2cc labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ea16e16a -> role_5f5bce27 [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_9d1f5d1e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_22afd8cd [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_22afd8cd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_de1aed0f [label="[role] Prepare environment if not prepared" color="#7a3696" id=role_de1aed0f tooltip="Prepare environment if not prepared"]
		role_de1aed0f -> role_22afd8cd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_a27b6343 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_8a3550e7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#7a3696" id=role_8a3550e7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e889e952 [label="[role] Cleanup hypervisors if needed" color="#7a3696" id=role_e889e952 tooltip="Cleanup hypervisors if needed"]
		role_e889e952 -> role_de1aed0f [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_b102e853 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e889e952 -> role_8a3550e7 [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_a9d774f1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_9cfc671b [label="[role] task-run-validations" color="#7a3696" id=role_9cfc671b tooltip="task-run-validations"]
		role_9cfc671b -> role_e889e952 [label="1 [when: not hypervisors_cleaned]" color="#7a3696" fontcolor="#7a3696" id=edge_d5384a09 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0e1ef1fb [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_0e1ef1fb tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_71fcfb7b [label="[role] Prepare environment if not prepared" color="#7a3696" id=role_71fcfb7b tooltip="Prepare environment if not prepared"]
		role_71fcfb7b -> role_0e1ef1fb [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_bd92e824 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_23e16053 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#7a3696" id=role_23e16053 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_35323134 [label="[role] Cleanup hypervisors if needed" color="#7a3696" id=role_35323134 tooltip="Cleanup hypervisors if needed"]
		role_35323134 -> role_71fcfb7b [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_f9e20772 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_35323134 -> role_23e16053 [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_d5cc6f0b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_a73617cb [label="[role] task-create-network" color="#7a3696" id=role_a73617cb tooltip="task-create-network"]
		role_a73617cb -> role_35323134 [label="1 [when: not hypervisors_cleaned]" color="#7a3696" fontcolor="#7a3696" id=edge_1be5bb6c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5bb541cf [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_5bb541cf tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ebac8483 [label="[role] Prepare environment if not prepared" color="#7a3696" id=role_ebac8483 tooltip="Prepare environment if not prepared"]
		role_ebac8483 -> role_5bb541cf [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_56f7737d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_df7aa02d [label="[role] Prepare podman" color="#7a3696" id=role_df7aa02d tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_c015db5d [label="[role] Create systemd service for podman container" color="#7a3696" id=role_c015db5d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_7f24dcb9 [label="[role] Configure Bind" color="#7a3696" id=role_7f24dcb9 tooltip="Configure Bind"]
		role_7f24dcb9 -> role_c015db5d [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_ac4b5913 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_88a5ffbf [label="[role] Create systemd service for podman container" color="#7a3696" id=role_88a5ffbf tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_8c30152e [label="[role] Configure Dnsmasq" color="#7a3696" id=role_8c30152e tooltip="Configure Dnsmasq"]
		role_8c30152e -> role_88a5ffbf [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_d54e82db labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_23670ac2 [label="[role] Create systemd service for podman container" color="#7a3696" id=role_23670ac2 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_8b6770fe [label="[role] Configure HAProxy" color="#7a3696" id=role_8b6770fe tooltip="Configure HAProxy"]
		role_8b6770fe -> role_23670ac2 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_5977402b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6c79bf3c [label="[role] Create systemd service for podman container" color="#7a3696" id=role_6c79bf3c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_79497a92 [label="[role] Configure Nexus" color="#7a3696" id=role_79497a92 tooltip="Configure Nexus"]
		role_79497a92 -> role_6c79bf3c [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_69fa955b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_33dcdf31 [label="[role] Create systemd service for podman container" color="#7a3696" id=role_33dcdf31 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_e785b9a9 [label="[role] Configure Apache" color="#7a3696" id=role_e785b9a9 tooltip="Configure Apache"]
		role_e785b9a9 -> role_33dcdf31 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_0e935d91 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a4e7ec79 [label="[role] Create systemd service for podman container" color="#7a3696" id=role_a4e7ec79 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_a6416747 [label="[role] Configure a local container image registry" color="#7a3696" id=role_a6416747 tooltip="Configure a local container image registry"]
		role_a6416747 -> role_a4e7ec79 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_51043e6e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_666b68a4 [label="[role] task-create-services" color="#7a3696" id=role_666b68a4 tooltip="task-create-services"]
		role_666b68a4 -> role_ebac8483 [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_94a38036 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_666b68a4 -> role_df7aa02d [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_6e041978 labeltooltip="2 " tooltip="2 "]
		role_666b68a4 -> role_7f24dcb9 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#7a3696" fontcolor="#7a3696" id=edge_e2e7ae25 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_666b68a4 -> role_8c30152e [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#7a3696" fontcolor="#7a3696" id=edge_aacc0be1 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_666b68a4 -> role_8b6770fe [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#7a3696" fontcolor="#7a3696" id=edge_bcf7bbcf labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_666b68a4 -> role_79497a92 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#7a3696" fontcolor="#7a3696" id=edge_503f492f labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_666b68a4 -> role_e785b9a9 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#7a3696" fontcolor="#7a3696" id=edge_8e3c8006 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_666b68a4 -> role_a6416747 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#7a3696" fontcolor="#7a3696" id=edge_c6764be9 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_cfe1d53d [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_cfe1d53d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_80db4125 [label="[role] Prepare environment if needed" color="#7a3696" id=role_80db4125 tooltip="Prepare environment if needed"]
		role_80db4125 -> role_cfe1d53d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_de516efb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_14f53a5b [label="[role] Gather network and host facts for guest" color="#7a3696" id=role_14f53a5b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_1e7df77b [label="[role] Prepare services if needed" color="#7a3696" id=role_1e7df77b tooltip="Prepare services if needed"]
		role_1e7df77b -> role_80db4125 [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_e1c13a9c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1e7df77b -> role_14f53a5b [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_d1847e37 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_46dced95 [label="[role] Create systemd service for podman container" color="#7a3696" id=role_46dced95 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_ae3e213d [label="[role] Gather network and host facts for provision service" color="#7a3696" id=role_ae3e213d tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_0284fbb3 [label="[role] Setup the cluster provision container" color="#7a3696" id=role_0284fbb3 tooltip="Setup the cluster provision container"]
		role_0284fbb3 -> role_46dced95 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_a79ed18f labeltooltip="1 " tooltip="1 "]
		role_0284fbb3 -> role_ae3e213d [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_b84ce8c2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_58cc5baf [label="[role] Delegate to the distro role to prepare the cluster" color="#7a3696" id=role_58cc5baf tooltip="Delegate to the distro role to prepare the cluster"]
		role_58cc5baf -> role_0284fbb3 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_5a156ae4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_7f988fb6 [label="[role] task-prepare-cluster" color="#7a3696" id=role_7f988fb6 tooltip="task-prepare-cluster"]
		role_7f988fb6 -> role_1e7df77b [label="1 [when: not services_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_3f8ca77c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_7f988fb6 -> role_58cc5baf [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_91e1a452 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9139918a [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_9139918a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_12efd178 [label="[role] Prepare environment if not prepared" color="#7a3696" id=role_12efd178 tooltip="Prepare environment if not prepared"]
		role_12efd178 -> role_9139918a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_edbad020 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_bb258ab3 [label="[role] task-download-images" color="#7a3696" id=role_bb258ab3 tooltip="task-download-images"]
		role_bb258ab3 -> role_12efd178 [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_011a2af6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a748f387 [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_a748f387 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_c69e7fb1 [label="[role] Prepare environment if needed" color="#7a3696" id=role_c69e7fb1 tooltip="Prepare environment if needed"]
		role_c69e7fb1 -> role_a748f387 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_63bfad44 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_162fc5c1 [label="[role] Gather network and host facts for guest" color="#7a3696" id=role_162fc5c1 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f5e1044a [label="[role] Prepare services if needed" color="#7a3696" id=role_f5e1044a tooltip="Prepare services if needed"]
		role_f5e1044a -> role_c69e7fb1 [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_a91b29f3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f5e1044a -> role_162fc5c1 [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_e6b1e026 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_f55a7cb7 [label="[role] Deploy the cluster nodes" color="#7a3696" id=role_f55a7cb7 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_28246687 [label="[role] Delegate to the distro role to deploy the cluster" color="#7a3696" id=role_28246687 tooltip="Delegate to the distro role to deploy the cluster"]
		role_28246687 -> role_f55a7cb7 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#7a3696" fontcolor="#7a3696" id=edge_4d5eb738 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_a1844bdd [label="kubeinit.kubeinit.kubeinit_kid : Install controller requirements" color="#7a3696" id=task_a1844bdd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install controller requirements"]
		role_28246687 -> task_a1844bdd [label="2 [when: kubeinit_kid_controller_dependencies is defined]" color="#7a3696" fontcolor="#7a3696" id=edge_8bb5697d labeltooltip="2 [when: kubeinit_kid_controller_dependencies is defined]" tooltip="2 [when: kubeinit_kid_controller_dependencies is defined]"]
		task_76034ae9 [label="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements" color="#7a3696" id=task_76034ae9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements"]
		role_28246687 -> task_76034ae9 [label="3 [when: kubeinit_kid_compute_dependencies is defined]" color="#7a3696" fontcolor="#7a3696" id=edge_536176d6 labeltooltip="3 [when: kubeinit_kid_compute_dependencies is defined]" tooltip="3 [when: kubeinit_kid_compute_dependencies is defined]"]
		task_b4f54377 [label="kubeinit.kubeinit.kubeinit_kid : Create kube directory" color="#7a3696" id=task_b4f54377 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Create kube directory"]
		role_28246687 -> task_b4f54377 [label="4 " color="#7a3696" fontcolor="#7a3696" id=edge_f6c0d13b labeltooltip="4 " tooltip="4 "]
		task_9297e495 [label="kubeinit.kubeinit.kubeinit_kid : Touch a file" color="#7a3696" id=task_9297e495 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Touch a file"]
		role_28246687 -> task_9297e495 [label="5 " color="#7a3696" fontcolor="#7a3696" id=edge_5b6bbea6 labeltooltip="5 " tooltip="5 "]
	}
	subgraph "task-deploy-cluster" {
		role_daefdb59 [label="[role] task-deploy-cluster" color="#7a3696" id=role_daefdb59 tooltip="task-deploy-cluster"]
		role_daefdb59 -> role_f5e1044a [label="1 [when: not services_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_6ef59e1e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_daefdb59 -> role_28246687 [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_a7845a72 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_f74b7b26 [label="[role] Read podman secrets if running from the container" color="#7a3696" id=role_f74b7b26 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_a8606045 [label="[role] Prepare environment if needed" color="#7a3696" id=role_a8606045 tooltip="Prepare environment if needed"]
		role_a8606045 -> role_f74b7b26 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7a3696" fontcolor="#7a3696" id=edge_ea9e3327 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_e0632732 [label="[role] Gather network and host facts for guest" color="#7a3696" id=role_e0632732 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_fd2e68b3 [label="[role] Prepare services if needed" color="#7a3696" id=role_fd2e68b3 tooltip="Prepare services if needed"]
		role_fd2e68b3 -> role_a8606045 [label="1 [when: not environment_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_a1f69df0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_fd2e68b3 -> role_e0632732 [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_e8468806 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_9ce72015 [label="[role] Configure NFS" color="#7a3696" id=role_9ce72015 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_3eb12111 [label="[role] Delegate to distro role to run post-deployment tasks" color="#7a3696" id=role_3eb12111 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_3eb12111 -> role_9ce72015 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#7a3696" fontcolor="#7a3696" id=edge_40f3adac labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_092989a0 [label="[role] task-post-deployment" color="#7a3696" id=role_092989a0 tooltip="task-post-deployment"]
		role_092989a0 -> role_fd2e68b3 [label="1 [when: not services_prepared]" color="#7a3696" fontcolor="#7a3696" id=edge_360ac03a labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_092989a0 -> role_3eb12111 [label="2 " color="#7a3696" fontcolor="#7a3696" id=edge_647b59b0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_ecf52994 -> block_4f5cd4b3 [label=1 color="#7a3696" fontcolor="#7a3696" id=edge_241e6907 labeltooltip=1 tooltip=1]
		subgraph cluster_block_4f5cd4b3 {
			block_4f5cd4b3 [label="[block] Prepare the environment" color="#7a3696" id=block_4f5cd4b3 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_4f5cd4b3 -> role_275f1120 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_9349231c labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_096c1881 [label=2 color="#7a3696" fontcolor="#7a3696" id=edge_ba4a8436 labeltooltip=2 tooltip=2]
		subgraph cluster_block_096c1881 {
			block_096c1881 [label="[block] Cleanup hypervisors" color="#7a3696" id=block_096c1881 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_096c1881 -> role_ea16e16a [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_ce3b638a labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_01784259 [label=3 color="#7a3696" fontcolor="#7a3696" id=edge_c1f628db labeltooltip=3 tooltip=3]
		subgraph cluster_block_01784259 {
			block_01784259 [label="[block] Run validations on cluster resources" color="#7a3696" id=block_01784259 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_01784259 -> role_9cfc671b [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_8b93906b labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_276821e3 [label=4 color="#7a3696" fontcolor="#7a3696" id=edge_303bdfe6 labeltooltip=4 tooltip=4]
		subgraph cluster_block_276821e3 {
			block_276821e3 [label="[block] Create the cluster network resources" color="#7a3696" id=block_276821e3 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_276821e3 -> role_a73617cb [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_2457d225 labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_5d2872f1 [label=5 color="#7a3696" fontcolor="#7a3696" id=edge_ba19f0d1 labeltooltip=5 tooltip=5]
		subgraph cluster_block_5d2872f1 {
			block_5d2872f1 [label="[block] Create services the cluster will need" color="#7a3696" id=block_5d2872f1 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_5d2872f1 -> role_666b68a4 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_82ecac8c labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_a3651394 [label=6 color="#7a3696" fontcolor="#7a3696" id=edge_fd25fef7 labeltooltip=6 tooltip=6]
		subgraph cluster_block_a3651394 {
			block_a3651394 [label="[block] Prepare to deploy the cluster" color="#7a3696" id=block_a3651394 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_a3651394 -> role_7f988fb6 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_f8f4250b labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_dd9dd28e [label=7 color="#7a3696" fontcolor="#7a3696" id=edge_260bf790 labeltooltip=7 tooltip=7]
		subgraph cluster_block_dd9dd28e {
			block_dd9dd28e [label="[block] Download cloud images" color="#7a3696" id=block_dd9dd28e labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_dd9dd28e -> role_bb258ab3 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_4226d422 labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_2a86772d [label=8 color="#7a3696" fontcolor="#7a3696" id=edge_11767322 labeltooltip=8 tooltip=8]
		subgraph cluster_block_2a86772d {
			block_2a86772d [label="[block] Deploy the cluster" color="#7a3696" id=block_2a86772d labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_2a86772d -> role_daefdb59 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_cd9930a4 labeltooltip="1 " tooltip="1 "]
		}
		play_ecf52994 -> block_deb167b6 [label=9 color="#7a3696" fontcolor="#7a3696" id=edge_7ac2cee3 labeltooltip=9 tooltip=9]
		subgraph cluster_block_deb167b6 {
			block_deb167b6 [label="[block] Run any post-deployment tasks" color="#7a3696" id=block_deb167b6 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_deb167b6 -> role_092989a0 [label="1 " color="#7a3696" fontcolor="#7a3696" id=edge_eedfcb95 labeltooltip="1 " tooltip="1 "]
		}
	}
}
