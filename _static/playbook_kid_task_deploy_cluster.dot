digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_c7c4244e [label="Play: Initial setup (1)" color="#2a9da2" fontcolor="#ffffff" id=play_c7c4244e shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_c7c4244e [label="1 " color="#2a9da2" fontcolor="#2a9da2" id=edge_aed97bb0 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_f5daa499 [label="[role] Read podman secrets if running from the container" color="#2a9da2" id=role_f5daa499 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_80c6f2e5 [label="[role] task-gather-facts" color="#2a9da2" id=role_80c6f2e5 tooltip="task-gather-facts"]
		role_80c6f2e5 -> role_f5daa499 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2a9da2" fontcolor="#2a9da2" id=edge_a0815695 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b9eb7ce7 [label="[role] Read podman secrets if running from the container" color="#2a9da2" id=role_b9eb7ce7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_8793e54c [label="[role] task-prepare-hypervisors" color="#2a9da2" id=role_8793e54c tooltip="task-prepare-hypervisors"]
		role_8793e54c -> role_b9eb7ce7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2a9da2" fontcolor="#2a9da2" id=edge_85f0b55e labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_c7c4244e -> block_0421fe7e [label=1 color="#2a9da2" fontcolor="#2a9da2" id=edge_94b4957a labeltooltip=1 tooltip=1]
		subgraph cluster_block_0421fe7e {
			block_0421fe7e [label="[block] Gather facts about the deployment environment" color="#2a9da2" id=block_0421fe7e labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_0421fe7e -> role_80c6f2e5 [label="1 " color="#2a9da2" fontcolor="#2a9da2" id=edge_e2be462d labeltooltip="1 " tooltip="1 "]
		}
		play_c7c4244e -> block_b61f8439 [label=2 color="#2a9da2" fontcolor="#2a9da2" id=edge_0bdb75f0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_b61f8439 {
			block_b61f8439 [label="[block] Prepare the hypervisors" color="#2a9da2" id=block_b61f8439 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_b61f8439 -> role_8793e54c [label="1 " color="#2a9da2" fontcolor="#2a9da2" id=edge_ad9264ef labeltooltip="1 " tooltip="1 "]
		}
	}
	play_2d266fb2 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#b67f16" fontcolor="#ffffff" id=play_2d266fb2 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_2d266fb2 [label="2 " color="#b67f16" fontcolor="#b67f16" id=edge_cb430b09 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_6c302af9 [label="[role] Provision the libvirt services on the hypervisor" color="#b67f16" id=role_6c302af9 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_91f6549c [label="[role] Prepare each hypervisor in the deployment" color="#b67f16" id=role_91f6549c tooltip="Prepare each hypervisor in the deployment"]
		role_91f6549c -> role_6c302af9 [label="1 " color="#b67f16" fontcolor="#b67f16" id=edge_09f7cbc0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_2d266fb2 -> block_5f810e94 [label=1 color="#b67f16" fontcolor="#b67f16" id=edge_8931278a labeltooltip=1 tooltip=1]
		subgraph cluster_block_5f810e94 {
			block_5f810e94 [label="[block] Prepare individual hypervisors" color="#b67f16" id=block_5f810e94 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_5f810e94 -> role_91f6549c [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#b67f16" fontcolor="#b67f16" id=edge_2e1fc644 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_49335403 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#3a4692" fontcolor="#ffffff" id=play_49335403 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_49335403 [label="3 " color="#3a4692" fontcolor="#3a4692" id=edge_21acf954 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_67c32a99 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_67c32a99 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_082b5de9 [label="[role] task-prepare-environment" color="#3a4692" id=role_082b5de9 tooltip="task-prepare-environment"]
		role_082b5de9 -> role_67c32a99 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_12b353ee labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c50f83c5 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_c50f83c5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_eaed963b [label="[role] Prepare environment if not prepared" color="#3a4692" id=role_eaed963b tooltip="Prepare environment if not prepared"]
		role_eaed963b -> role_c50f83c5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_6c109427 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_c73ecead [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#3a4692" id=role_c73ecead tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_b3b3bdfd [label="[role] task-cleanup-hypervisors" color="#3a4692" id=role_b3b3bdfd tooltip="task-cleanup-hypervisors"]
		role_b3b3bdfd -> role_eaed963b [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_dd5d40f5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b3b3bdfd -> role_c73ecead [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_3cd8b5e4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_54a66305 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_54a66305 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_33ffafb8 [label="[role] Prepare environment if not prepared" color="#3a4692" id=role_33ffafb8 tooltip="Prepare environment if not prepared"]
		role_33ffafb8 -> role_54a66305 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_600242b2 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b25b40e8 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#3a4692" id=role_b25b40e8 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_47fe9bcb [label="[role] Cleanup hypervisors if needed" color="#3a4692" id=role_47fe9bcb tooltip="Cleanup hypervisors if needed"]
		role_47fe9bcb -> role_33ffafb8 [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_d30f9924 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_47fe9bcb -> role_b25b40e8 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_38484ba8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_7ef80d5f [label="[role] task-run-validations" color="#3a4692" id=role_7ef80d5f tooltip="task-run-validations"]
		role_7ef80d5f -> role_47fe9bcb [label="1 [when: not hypervisors_cleaned]" color="#3a4692" fontcolor="#3a4692" id=edge_8783ac80 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_043c17e5 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_043c17e5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_65fe25c2 [label="[role] Prepare environment if not prepared" color="#3a4692" id=role_65fe25c2 tooltip="Prepare environment if not prepared"]
		role_65fe25c2 -> role_043c17e5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_47d6d173 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_8732fb53 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#3a4692" id=role_8732fb53 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_534dcfa3 [label="[role] Cleanup hypervisors if needed" color="#3a4692" id=role_534dcfa3 tooltip="Cleanup hypervisors if needed"]
		role_534dcfa3 -> role_65fe25c2 [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_81a2f6a2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_534dcfa3 -> role_8732fb53 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_c6e23b8f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_29abb6ca [label="[role] task-create-network" color="#3a4692" id=role_29abb6ca tooltip="task-create-network"]
		role_29abb6ca -> role_534dcfa3 [label="1 [when: not hypervisors_cleaned]" color="#3a4692" fontcolor="#3a4692" id=edge_60fcfe67 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_03f94be3 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_03f94be3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d7ad94b0 [label="[role] Prepare environment if not prepared" color="#3a4692" id=role_d7ad94b0 tooltip="Prepare environment if not prepared"]
		role_d7ad94b0 -> role_03f94be3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_ec8800c0 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_e4fca821 [label="[role] Prepare podman" color="#3a4692" id=role_e4fca821 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_4534d521 [label="[role] Create systemd service for podman container" color="#3a4692" id=role_4534d521 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_f3d68622 [label="[role] Configure Bind" color="#3a4692" id=role_f3d68622 tooltip="Configure Bind"]
		role_f3d68622 -> role_4534d521 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_31d0db3e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3362e053 [label="[role] Create systemd service for podman container" color="#3a4692" id=role_3362e053 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_849591e7 [label="[role] Configure Dnsmasq" color="#3a4692" id=role_849591e7 tooltip="Configure Dnsmasq"]
		role_849591e7 -> role_3362e053 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_5e905473 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0c691523 [label="[role] Create systemd service for podman container" color="#3a4692" id=role_0c691523 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_d433f154 [label="[role] Configure HAProxy" color="#3a4692" id=role_d433f154 tooltip="Configure HAProxy"]
		role_d433f154 -> role_0c691523 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_c3368771 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c8da731c [label="[role] Create systemd service for podman container" color="#3a4692" id=role_c8da731c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_7488633d [label="[role] Configure Nexus" color="#3a4692" id=role_7488633d tooltip="Configure Nexus"]
		role_7488633d -> role_c8da731c [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_ff51a708 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d178b2d3 [label="[role] Create systemd service for podman container" color="#3a4692" id=role_d178b2d3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_10566935 [label="[role] Configure Apache" color="#3a4692" id=role_10566935 tooltip="Configure Apache"]
		role_10566935 -> role_d178b2d3 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_d89dc905 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7ff29e07 [label="[role] Create systemd service for podman container" color="#3a4692" id=role_7ff29e07 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_132e29bf [label="[role] Configure a local container image registry" color="#3a4692" id=role_132e29bf tooltip="Configure a local container image registry"]
		role_132e29bf -> role_7ff29e07 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_9098af61 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_c28f6316 [label="[role] task-create-services" color="#3a4692" id=role_c28f6316 tooltip="task-create-services"]
		role_c28f6316 -> role_d7ad94b0 [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_75a02c07 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c28f6316 -> role_e4fca821 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_a46c9c1a labeltooltip="2 " tooltip="2 "]
		role_c28f6316 -> role_f3d68622 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#3a4692" fontcolor="#3a4692" id=edge_bd4cb39d labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c28f6316 -> role_849591e7 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#3a4692" fontcolor="#3a4692" id=edge_4e809b0a labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c28f6316 -> role_d433f154 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#3a4692" fontcolor="#3a4692" id=edge_eaf50330 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c28f6316 -> role_7488633d [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#3a4692" fontcolor="#3a4692" id=edge_6c630381 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c28f6316 -> role_10566935 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#3a4692" fontcolor="#3a4692" id=edge_96152158 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c28f6316 -> role_132e29bf [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#3a4692" fontcolor="#3a4692" id=edge_005bab72 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_f506a992 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_f506a992 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_10a2e361 [label="[role] Prepare environment if needed" color="#3a4692" id=role_10a2e361 tooltip="Prepare environment if needed"]
		role_10a2e361 -> role_f506a992 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_3a426c1a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_d81be8f6 [label="[role] Gather network and host facts for guest" color="#3a4692" id=role_d81be8f6 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_ef08c5e6 [label="[role] Prepare services if needed" color="#3a4692" id=role_ef08c5e6 tooltip="Prepare services if needed"]
		role_ef08c5e6 -> role_10a2e361 [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_8ef5d42c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ef08c5e6 -> role_d81be8f6 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_1fc3c713 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_33b4d5b4 [label="[role] Create systemd service for podman container" color="#3a4692" id=role_33b4d5b4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_ca2514f6 [label="[role] Gather network and host facts for provision service" color="#3a4692" id=role_ca2514f6 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_138d25f4 [label="[role] Setup the cluster provision container" color="#3a4692" id=role_138d25f4 tooltip="Setup the cluster provision container"]
		role_138d25f4 -> role_33b4d5b4 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_4e4033e1 labeltooltip="1 " tooltip="1 "]
		role_138d25f4 -> role_ca2514f6 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_ca1f366f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_d0961dcc [label="[role] Delegate to the distro role to prepare the cluster" color="#3a4692" id=role_d0961dcc tooltip="Delegate to the distro role to prepare the cluster"]
		role_d0961dcc -> role_138d25f4 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_9579a5a1 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_8cd90754 [label="[role] task-prepare-cluster" color="#3a4692" id=role_8cd90754 tooltip="task-prepare-cluster"]
		role_8cd90754 -> role_ef08c5e6 [label="1 [when: not services_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_663e19ec labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_8cd90754 -> role_d0961dcc [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_f0695880 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_bddd3d06 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_bddd3d06 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2c595923 [label="[role] Prepare environment if not prepared" color="#3a4692" id=role_2c595923 tooltip="Prepare environment if not prepared"]
		role_2c595923 -> role_bddd3d06 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_adc989cd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_0e706435 [label="[role] task-download-images" color="#3a4692" id=role_0e706435 tooltip="task-download-images"]
		role_0e706435 -> role_2c595923 [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_148c0faa labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2e3955f7 [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_2e3955f7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_2ff6548e [label="[role] Prepare environment if needed" color="#3a4692" id=role_2ff6548e tooltip="Prepare environment if needed"]
		role_2ff6548e -> role_2e3955f7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_795e62ee labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_0f5d6cc6 [label="[role] Gather network and host facts for guest" color="#3a4692" id=role_0f5d6cc6 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_0dbcb209 [label="[role] Prepare services if needed" color="#3a4692" id=role_0dbcb209 tooltip="Prepare services if needed"]
		role_0dbcb209 -> role_2ff6548e [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_530292c4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0dbcb209 -> role_0f5d6cc6 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_6df18fd8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_372c7e40 [label="[role] Deploy the cluster nodes" color="#3a4692" id=role_372c7e40 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_d3da5e61 [label="[role] Delegate to the distro role to deploy the cluster" color="#3a4692" id=role_d3da5e61 tooltip="Delegate to the distro role to deploy the cluster"]
		role_d3da5e61 -> role_372c7e40 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#3a4692" fontcolor="#3a4692" id=edge_1d34c35b labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_440f1b4a [label="kubeinit.kubeinit.kubeinit_kid : Install controller requirements" color="#3a4692" id=task_440f1b4a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install controller requirements"]
		role_d3da5e61 -> task_440f1b4a [label="2 [when: kubeinit_kid_controller_dependencies is defined]" color="#3a4692" fontcolor="#3a4692" id=edge_4623413c labeltooltip="2 [when: kubeinit_kid_controller_dependencies is defined]" tooltip="2 [when: kubeinit_kid_controller_dependencies is defined]"]
		task_aefaf77e [label="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements" color="#3a4692" id=task_aefaf77e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Install compute nodes requirements"]
		role_d3da5e61 -> task_aefaf77e [label="3 [when: kubeinit_kid_compute_dependencies is defined]" color="#3a4692" fontcolor="#3a4692" id=edge_dc47b8de labeltooltip="3 [when: kubeinit_kid_compute_dependencies is defined]" tooltip="3 [when: kubeinit_kid_compute_dependencies is defined]"]
		task_b70a6d23 [label="kubeinit.kubeinit.kubeinit_kid : Create kube directory" color="#3a4692" id=task_b70a6d23 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Create kube directory"]
		role_d3da5e61 -> task_b70a6d23 [label="4 " color="#3a4692" fontcolor="#3a4692" id=edge_2ac5f981 labeltooltip="4 " tooltip="4 "]
		task_818ae64e [label="kubeinit.kubeinit.kubeinit_kid : Touch a file" color="#3a4692" id=task_818ae64e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Touch a file"]
		role_d3da5e61 -> task_818ae64e [label="5 " color="#3a4692" fontcolor="#3a4692" id=edge_a9e1caae labeltooltip="5 " tooltip="5 "]
	}
	subgraph "task-deploy-cluster" {
		role_aa2f9b32 [label="[role] task-deploy-cluster" color="#3a4692" id=role_aa2f9b32 tooltip="task-deploy-cluster"]
		role_aa2f9b32 -> role_0dbcb209 [label="1 [when: not services_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_8ba6f762 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_aa2f9b32 -> role_d3da5e61 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_57c76a09 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_bd52545e [label="[role] Read podman secrets if running from the container" color="#3a4692" id=role_bd52545e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_1bff4fc0 [label="[role] Prepare environment if needed" color="#3a4692" id=role_1bff4fc0 tooltip="Prepare environment if needed"]
		role_1bff4fc0 -> role_bd52545e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3a4692" fontcolor="#3a4692" id=edge_08804764 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_adae50a2 [label="[role] Gather network and host facts for guest" color="#3a4692" id=role_adae50a2 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_53184bdd [label="[role] Prepare services if needed" color="#3a4692" id=role_53184bdd tooltip="Prepare services if needed"]
		role_53184bdd -> role_1bff4fc0 [label="1 [when: not environment_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_65f695e2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_53184bdd -> role_adae50a2 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_82a76e92 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_d694caaa [label="[role] Configure NFS" color="#3a4692" id=role_d694caaa tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_faacca12 [label="[role] Delegate to distro role to run post-deployment tasks" color="#3a4692" id=role_faacca12 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_faacca12 -> role_d694caaa [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#3a4692" fontcolor="#3a4692" id=edge_07350bf8 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_9f47986b [label="[role] task-post-deployment" color="#3a4692" id=role_9f47986b tooltip="task-post-deployment"]
		role_9f47986b -> role_53184bdd [label="1 [when: not services_prepared]" color="#3a4692" fontcolor="#3a4692" id=edge_45467ff1 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_9f47986b -> role_faacca12 [label="2 " color="#3a4692" fontcolor="#3a4692" id=edge_6ef99226 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_49335403 -> block_fb154c27 [label=1 color="#3a4692" fontcolor="#3a4692" id=edge_cd6dd1aa labeltooltip=1 tooltip=1]
		subgraph cluster_block_fb154c27 {
			block_fb154c27 [label="[block] Prepare the environment" color="#3a4692" id=block_fb154c27 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_fb154c27 -> role_082b5de9 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_43dce600 labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_90bf0a56 [label=2 color="#3a4692" fontcolor="#3a4692" id=edge_11df7d00 labeltooltip=2 tooltip=2]
		subgraph cluster_block_90bf0a56 {
			block_90bf0a56 [label="[block] Cleanup hypervisors" color="#3a4692" id=block_90bf0a56 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_90bf0a56 -> role_b3b3bdfd [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_a5bb39aa labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_44ec35a0 [label=3 color="#3a4692" fontcolor="#3a4692" id=edge_952dc948 labeltooltip=3 tooltip=3]
		subgraph cluster_block_44ec35a0 {
			block_44ec35a0 [label="[block] Run validations on cluster resources" color="#3a4692" id=block_44ec35a0 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_44ec35a0 -> role_7ef80d5f [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_d6866156 labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_db3a65b5 [label=4 color="#3a4692" fontcolor="#3a4692" id=edge_51109a1e labeltooltip=4 tooltip=4]
		subgraph cluster_block_db3a65b5 {
			block_db3a65b5 [label="[block] Create the cluster network resources" color="#3a4692" id=block_db3a65b5 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_db3a65b5 -> role_29abb6ca [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_32cf6e8b labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_da18774e [label=5 color="#3a4692" fontcolor="#3a4692" id=edge_8a518672 labeltooltip=5 tooltip=5]
		subgraph cluster_block_da18774e {
			block_da18774e [label="[block] Create services the cluster will need" color="#3a4692" id=block_da18774e labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_da18774e -> role_c28f6316 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_481c4329 labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_bacdd409 [label=6 color="#3a4692" fontcolor="#3a4692" id=edge_7e856877 labeltooltip=6 tooltip=6]
		subgraph cluster_block_bacdd409 {
			block_bacdd409 [label="[block] Prepare to deploy the cluster" color="#3a4692" id=block_bacdd409 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_bacdd409 -> role_8cd90754 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_7a5755b0 labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_8f1dfe8b [label=7 color="#3a4692" fontcolor="#3a4692" id=edge_f7634825 labeltooltip=7 tooltip=7]
		subgraph cluster_block_8f1dfe8b {
			block_8f1dfe8b [label="[block] Download cloud images" color="#3a4692" id=block_8f1dfe8b labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_8f1dfe8b -> role_0e706435 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_3c996073 labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_9f60d20c [label=8 color="#3a4692" fontcolor="#3a4692" id=edge_41234548 labeltooltip=8 tooltip=8]
		subgraph cluster_block_9f60d20c {
			block_9f60d20c [label="[block] Deploy the cluster" color="#3a4692" id=block_9f60d20c labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_9f60d20c -> role_aa2f9b32 [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_6d5bdba8 labeltooltip="1 " tooltip="1 "]
		}
		play_49335403 -> block_d259477b [label=9 color="#3a4692" fontcolor="#3a4692" id=edge_a34e5a7c labeltooltip=9 tooltip=9]
		subgraph cluster_block_d259477b {
			block_d259477b [label="[block] Run any post-deployment tasks" color="#3a4692" id=block_d259477b labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_d259477b -> role_9f47986b [label="1 " color="#3a4692" fontcolor="#3a4692" id=edge_9930b90e labeltooltip="1 " tooltip="1 "]
		}
	}
}
