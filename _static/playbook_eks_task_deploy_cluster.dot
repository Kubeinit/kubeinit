digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_ebad9f6a style=dotted]
	play_bda67edd [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b21a7c" fontcolor="#ffffff" id=play_bda67edd shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_bda67edd [label="1 " color="#b21a7c" fontcolor="#b21a7c" id=edge_39c630fd labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_e3023545 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#b21a7c" id=role_e3023545 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_308ee9ba [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#b21a7c" id=role_308ee9ba tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_1cf0a3c7 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#b21a7c" id=role_1cf0a3c7 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_34651aca [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b21a7c" id=role_34651aca tooltip="task-gather-facts"]
		role_34651aca -> role_e3023545 [label="1 " color="#b21a7c" fontcolor="#b21a7c" id=edge_314b58af labeltooltip="1 " tooltip="1 "]
		role_34651aca -> role_308ee9ba [label="2 " color="#b21a7c" fontcolor="#b21a7c" id=edge_b1e7d431 labeltooltip="2 " tooltip="2 "]
		role_34651aca -> role_1cf0a3c7 [label="3 " color="#b21a7c" fontcolor="#b21a7c" id=edge_8f76e044 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_bda67edd -> block_3de53609 [label=1 color="#b21a7c" fontcolor="#b21a7c" id=edge_dcfa249d labeltooltip=1 tooltip=1]
		subgraph cluster_block_3de53609 {
			block_3de53609 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b21a7c" id=block_3de53609 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_3de53609 -> role_34651aca [label="1 " color="#b21a7c" fontcolor="#b21a7c" id=edge_88656e33 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_b47a60b5 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2286" fontcolor="#ffffff" id=play_b47a60b5 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_b47a60b5 [label="2 " color="#aa2286" fontcolor="#aa2286" id=edge_9dff9939 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_e29c673d [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2286" id=role_e29c673d tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_b47a60b5 -> block_2eb47813 [label=1 color="#aa2286" fontcolor="#aa2286" id=edge_527fa6b8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_2eb47813 {
			block_2eb47813 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2286" id=block_2eb47813 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_2eb47813 -> role_e29c673d [label="1 " color="#aa2286" fontcolor="#aa2286" id=edge_72123fd2 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_af0ea4dc [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7c4389" fontcolor="#ffffff" id=play_af0ea4dc shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_af0ea4dc [label="3 " color="#7c4389" fontcolor="#7c4389" id=edge_832492c7 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_459f93c1 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#7c4389" id=role_459f93c1 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_523dbc7d [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7c4389" id=role_523dbc7d tooltip="Gather facts to prepare the cluster hypervisors"]
		role_523dbc7d -> role_459f93c1 [label="1 " color="#7c4389" fontcolor="#7c4389" id=edge_16144ccd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_22f673dd [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#7c4389" id=role_22f673dd tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_20f4090f [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7c4389" id=role_20f4090f tooltip="task-prepare-hypervisors"]
		role_20f4090f -> role_22f673dd [label="1 " color="#7c4389" fontcolor="#7c4389" id=edge_d1bf5de7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_af0ea4dc -> block_ec33adfc [label=1 color="#7c4389" fontcolor="#7c4389" id=edge_ddc4ac6a labeltooltip=1 tooltip=1]
		subgraph cluster_block_ec33adfc {
			block_ec33adfc [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7c4389" id=block_ec33adfc labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_ec33adfc -> role_523dbc7d [label="1 " color="#7c4389" fontcolor="#7c4389" id=edge_ee08586f labeltooltip="1 " tooltip="1 "]
		}
		play_af0ea4dc -> block_40692259 [label=2 color="#7c4389" fontcolor="#7c4389" id=edge_07e8b8f0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_40692259 {
			block_40692259 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7c4389" id=block_40692259 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_40692259 -> role_20f4090f [label="1 " color="#7c4389" fontcolor="#7c4389" id=edge_51c20dd3 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_8c0f23d1 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5a2f9d" fontcolor="#ffffff" id=play_8c0f23d1 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_8c0f23d1 [label="4 " color="#5a2f9d" fontcolor="#5a2f9d" id=edge_df4e46c0 labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_fd281c9e [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#5a2f9d" id=role_fd281c9e tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_e18f3ae6 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5a2f9d" id=role_e18f3ae6 tooltip="Prepare each hypervisor in the deployment"]
		role_e18f3ae6 -> role_fd281c9e [label="1 " color="#5a2f9d" fontcolor="#5a2f9d" id=edge_70003d05 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_8c0f23d1 -> block_14f2475f [label=1 color="#5a2f9d" fontcolor="#5a2f9d" id=edge_fb8234eb labeltooltip=1 tooltip=1]
		subgraph cluster_block_14f2475f {
			block_14f2475f [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5a2f9d" id=block_14f2475f labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_14f2475f -> role_e18f3ae6 [label="1 " color="#5a2f9d" fontcolor="#5a2f9d" id=edge_ca3ebc71 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_a30656ce [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" fontcolor="#ffffff" id=play_a30656ce shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_a30656ce [label="5 " color="#465686" fontcolor="#465686" id=edge_72848f1b labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_68541e49 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_68541e49 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_5759f2fc [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_5759f2fc tooltip="task-prepare-environment"]
		role_5759f2fc -> role_68541e49 [label="1 " color="#465686" fontcolor="#465686" id=edge_869fa1a5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_8f7028f2 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_8f7028f2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_915bf636 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#465686" id=role_915bf636 tooltip="Prepare environment if not prepared"]
		role_915bf636 -> role_8f7028f2 [label="1 " color="#465686" fontcolor="#465686" id=edge_8b4370a3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_5a97bf61 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#465686" id=role_5a97bf61 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_ed7e8718 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_ed7e8718 tooltip="task-cleanup-hypervisors"]
		role_ed7e8718 -> role_915bf636 [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_3f974198 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ed7e8718 -> role_5a97bf61 [label="2 " color="#465686" fontcolor="#465686" id=edge_8c52c461 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_cd2fed7a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_cd2fed7a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_de60ec08 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#465686" id=role_de60ec08 tooltip="Prepare environment if not prepared"]
		role_de60ec08 -> role_cd2fed7a [label="1 " color="#465686" fontcolor="#465686" id=edge_21618bff labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d2a71d9b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#465686" id=role_d2a71d9b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_7f70e995 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#465686" id=role_7f70e995 tooltip="Cleanup hypervisors if needed"]
		role_7f70e995 -> role_de60ec08 [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_4e208e90 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7f70e995 -> role_d2a71d9b [label="2 " color="#465686" fontcolor="#465686" id=edge_e5443ddd labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_e970ed87 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_e970ed87 tooltip="task-run-validations"]
		role_e970ed87 -> role_7f70e995 [label="1 [when: not hypervisors_cleaned]" color="#465686" fontcolor="#465686" id=edge_19676359 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_6c57e8fa [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_6c57e8fa tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2b60f11a [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#465686" id=role_2b60f11a tooltip="Prepare environment if not prepared"]
		role_2b60f11a -> role_6c57e8fa [label="1 " color="#465686" fontcolor="#465686" id=edge_c93e29c9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b5d154a7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#465686" id=role_b5d154a7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_44ae5ff4 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#465686" id=role_44ae5ff4 tooltip="Cleanup hypervisors if needed"]
		role_44ae5ff4 -> role_2b60f11a [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_6093974d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_44ae5ff4 -> role_b5d154a7 [label="2 " color="#465686" fontcolor="#465686" id=edge_fcfa77cb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_4fd3ab35 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_4fd3ab35 tooltip="task-create-network"]
		role_4fd3ab35 -> role_44ae5ff4 [label="1 [when: not hypervisors_cleaned]" color="#465686" fontcolor="#465686" id=edge_a3a924de labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_9c85f479 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_9c85f479 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_dbdbd8a6 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#465686" id=role_dbdbd8a6 tooltip="Prepare environment if not prepared"]
		role_dbdbd8a6 -> role_9c85f479 [label="1 " color="#465686" fontcolor="#465686" id=edge_8aea01fd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_c58db00e [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#465686" id=role_c58db00e tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_54008bfe [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#465686" id=role_54008bfe tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_1329e5ae [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#465686" id=role_1329e5ae tooltip="Configure Bind"]
		role_1329e5ae -> role_54008bfe [label="1 " color="#465686" fontcolor="#465686" id=edge_b4fb169e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_52ac8f15 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#465686" id=role_52ac8f15 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_0ca5d241 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#465686" id=role_0ca5d241 tooltip="Configure Dnsmasq"]
		role_0ca5d241 -> role_52ac8f15 [label="1 " color="#465686" fontcolor="#465686" id=edge_0206006b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c87cce97 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#465686" id=role_c87cce97 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_df3c49e7 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#465686" id=role_df3c49e7 tooltip="Configure HAProxy"]
		role_df3c49e7 -> role_c87cce97 [label="1 " color="#465686" fontcolor="#465686" id=edge_cfc82170 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_797527fb [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#465686" id=role_797527fb tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_94d7da6b [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#465686" id=role_94d7da6b tooltip="Configure Nexus"]
		role_94d7da6b -> role_797527fb [label="1 " color="#465686" fontcolor="#465686" id=edge_5b28075c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_505d896a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#465686" id=role_505d896a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_3ee49434 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#465686" id=role_3ee49434 tooltip="Configure Apache"]
		role_3ee49434 -> role_505d896a [label="1 " color="#465686" fontcolor="#465686" id=edge_818c57c8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ade89b66 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#465686" id=role_ade89b66 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_61f38901 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#465686" id=role_61f38901 tooltip="Configure a local container image registry"]
		role_61f38901 -> role_ade89b66 [label="1 " color="#465686" fontcolor="#465686" id=edge_aa8ebb8d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_5fcd5323 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_5fcd5323 tooltip="task-create-services"]
		role_5fcd5323 -> role_dbdbd8a6 [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_70d79d15 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5fcd5323 -> role_c58db00e [label="2 " color="#465686" fontcolor="#465686" id=edge_c16563a7 labeltooltip="2 " tooltip="2 "]
		role_5fcd5323 -> role_1329e5ae [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#465686" fontcolor="#465686" id=edge_4b456054 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5fcd5323 -> role_0ca5d241 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#465686" fontcolor="#465686" id=edge_129f3745 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5fcd5323 -> role_df3c49e7 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#465686" fontcolor="#465686" id=edge_a19dc1f4 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5fcd5323 -> role_94d7da6b [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#465686" fontcolor="#465686" id=edge_f14b1d7a labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5fcd5323 -> role_3ee49434 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#465686" fontcolor="#465686" id=edge_8a272ce6 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5fcd5323 -> role_61f38901 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#465686" fontcolor="#465686" id=edge_907f69ed labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_3aac41ba [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_3aac41ba tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_d554bb7f [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#465686" id=role_d554bb7f tooltip="Prepare environment if needed"]
		role_d554bb7f -> role_3aac41ba [label="1 " color="#465686" fontcolor="#465686" id=edge_15600a3f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_bbaaaa3f [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#465686" id=role_bbaaaa3f tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_bc45a8e3 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#465686" id=role_bc45a8e3 tooltip="Prepare services if needed"]
		role_bc45a8e3 -> role_d554bb7f [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_20df8bd6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bc45a8e3 -> role_bbaaaa3f [label="2 " color="#465686" fontcolor="#465686" id=edge_59395443 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_60bf1954 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#465686" id=role_60bf1954 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_27152ea6 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#465686" id=role_27152ea6 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_8e3cfbb7 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#465686" id=role_8e3cfbb7 tooltip="Setup the cluster provision container"]
		role_8e3cfbb7 -> role_60bf1954 [label="1 " color="#465686" fontcolor="#465686" id=edge_254659cf labeltooltip="1 " tooltip="1 "]
		role_8e3cfbb7 -> role_27152ea6 [label="2 " color="#465686" fontcolor="#465686" id=edge_15505a95 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_d62e3557 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#465686" id=role_d62e3557 tooltip="Delegate to the distro role to prepare the cluster"]
		role_d62e3557 -> role_8e3cfbb7 [label="1 " color="#465686" fontcolor="#465686" id=edge_ae4c4a6e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_b06d675a [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_b06d675a tooltip="task-prepare-cluster"]
		role_b06d675a -> role_bc45a8e3 [label="1 [when: not services_prepared]" color="#465686" fontcolor="#465686" id=edge_a436f81e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b06d675a -> role_d62e3557 [label="2 " color="#465686" fontcolor="#465686" id=edge_ebfa1329 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_144fa364 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_144fa364 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_56c36b02 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#465686" id=role_56c36b02 tooltip="Prepare environment if not prepared"]
		role_56c36b02 -> role_144fa364 [label="1 " color="#465686" fontcolor="#465686" id=edge_5c2221ec labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_1a76046e [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_1a76046e tooltip="task-download-images"]
		role_1a76046e -> role_56c36b02 [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_8853a20e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_c6511b37 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_c6511b37 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_e4d79040 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#465686" id=role_e4d79040 tooltip="Prepare environment if needed"]
		role_e4d79040 -> role_c6511b37 [label="1 " color="#465686" fontcolor="#465686" id=edge_0561b4e9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_2fcb4e0b [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#465686" id=role_2fcb4e0b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_ed3b9442 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#465686" id=role_ed3b9442 tooltip="Prepare services if needed"]
		role_ed3b9442 -> role_e4d79040 [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_41511215 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ed3b9442 -> role_2fcb4e0b [label="2 " color="#465686" fontcolor="#465686" id=edge_5625d649 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_c6245047 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=role_c6245047 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_e1c896db [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#465686" id=role_e1c896db tooltip="Delegate to the distro role to deploy the cluster"]
		role_e1c896db -> role_c6245047 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#465686" fontcolor="#465686" id=edge_45732d89 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_121395d9 [label="kubeinit.kubeinit.kubeinit_eks : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_121395d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Copy cert to pki directory"]
		role_e1c896db -> task_121395d9 [label="2 " color="#465686" fontcolor="#465686" id=edge_34d53b3c labeltooltip="2 " tooltip="2 "]
		task_f8a2dfc6 [label="kubeinit.kubeinit.kubeinit_eks : Insert the local registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_f8a2dfc6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Insert the local registry auth details"]
		role_e1c896db -> task_f8a2dfc6 [label="3 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#465686" fontcolor="#465686" id=edge_519efc38 labeltooltip="3 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="3 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
		task_c7ebfcb8 [label="kubeinit.kubeinit.kubeinit_eks : Update the CA certs files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_c7ebfcb8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Update the CA certs files"]
		role_e1c896db -> task_c7ebfcb8 [label="4 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#465686" fontcolor="#465686" id=edge_6adf0102 labeltooltip="4 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="4 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
		task_44307bc0 [label="kubeinit.kubeinit.kubeinit_eks : Get etcd tag" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_44307bc0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Get etcd tag"]
		role_e1c896db -> task_44307bc0 [label="5 " color="#465686" fontcolor="#465686" id=edge_023fb1d4 labeltooltip="5 " tooltip="5 "]
		task_b8e2facd [label="kubeinit.kubeinit.kubeinit_eks : Clean kubeadm and initialize Kubernetes cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_b8e2facd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Clean kubeadm and initialize Kubernetes cluster"]
		role_e1c896db -> task_b8e2facd [label="6 " color="#465686" fontcolor="#465686" id=edge_b4823181 labeltooltip="6 " tooltip="6 "]
		task_2b864652 [label="kubeinit.kubeinit.kubeinit_eks : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_2b864652 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Debug"]
		role_e1c896db -> task_2b864652 [label="7 " color="#465686" fontcolor="#465686" id=edge_808b82cd labeltooltip="7 " tooltip="7 "]
		task_d5f539a8 [label="kubeinit.kubeinit.kubeinit_eks : Get the controller join key" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_d5f539a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Get the controller join key"]
		role_e1c896db -> task_d5f539a8 [label="8 [when: ('--control-plane --certificate-key' in item)]" color="#465686" fontcolor="#465686" id=edge_a120f3e7 labeltooltip="8 [when: ('--control-plane --certificate-key' in item)]" tooltip="8 [when: ('--control-plane --certificate-key' in item)]"]
		task_fd53cf86 [label="kubeinit.kubeinit.kubeinit_eks : Debug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_fd53cf86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Debug"]
		role_e1c896db -> task_fd53cf86 [label="9 " color="#465686" fontcolor="#465686" id=edge_42d991b4 labeltooltip="9 " tooltip="9 "]
		task_b94136aa [label="kubeinit.kubeinit.kubeinit_eks : Storing the controller join key to add the other controller nodes." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_b94136aa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Storing the controller join key to add the other controller nodes."]
		role_e1c896db -> task_b94136aa [label="10 [when: kubeinit_controller_count|int > 1]" color="#465686" fontcolor="#465686" id=edge_0c62e097 labeltooltip="10 [when: kubeinit_controller_count|int > 1]" tooltip="10 [when: kubeinit_controller_count|int > 1]"]
		task_3069fc7a [label="kubeinit.kubeinit.kubeinit_eks : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_3069fc7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Create kube directory"]
		role_e1c896db -> task_3069fc7a [label="11 " color="#465686" fontcolor="#465686" id=edge_c2bfec85 labeltooltip="11 " tooltip="11 "]
		task_6441b8e1 [label="kubeinit.kubeinit.kubeinit_eks : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_6441b8e1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Copying required files"]
		role_e1c896db -> task_6441b8e1 [label="12 " color="#465686" fontcolor="#465686" id=edge_722f937c labeltooltip="12 " tooltip="12 "]
		task_cfafe9ea [label="kubeinit.kubeinit.kubeinit_eks : Get the join command" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_cfafe9ea shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Get the join command"]
		role_e1c896db -> task_cfafe9ea [label="13 " color="#465686" fontcolor="#465686" id=edge_cd230769 labeltooltip="13 " tooltip="13 "]
		task_dff785ee [label="kubeinit.kubeinit.kubeinit_eks : Storing the join cluster command token." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_dff785ee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Storing the join cluster command token."]
		role_e1c896db -> task_dff785ee [label="14 [when: kubeinit_controller_count|int > 1]" color="#465686" fontcolor="#465686" id=edge_331bb41a labeltooltip="14 [when: kubeinit_controller_count|int > 1]" tooltip="14 [when: kubeinit_controller_count|int > 1]"]
		task_6788d6e1 [label="kubeinit.kubeinit.kubeinit_eks : Install Network Add-on" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_6788d6e1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install Network Add-on"]
		role_e1c896db -> task_6788d6e1 [label="15 " color="#465686" fontcolor="#465686" id=edge_fd340e43 labeltooltip="15 " tooltip="15 "]
		task_73ef5ddf [label="kubeinit.kubeinit.kubeinit_eks : Join additional controller nodes using the PK" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_73ef5ddf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Join additional controller nodes using the PK"]
		role_e1c896db -> task_73ef5ddf [label="16 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#465686" fontcolor="#465686" id=edge_3f6b2d30 labeltooltip="16 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="16 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_bd76ea8f [label="kubeinit.kubeinit.kubeinit_eks : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_bd76ea8f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Create kube directory"]
		role_e1c896db -> task_bd76ea8f [label="17 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#465686" fontcolor="#465686" id=edge_135aca3b labeltooltip="17 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="17 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_45000f1a [label="kubeinit.kubeinit.kubeinit_eks : Copying required files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_45000f1a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Copying required files"]
		role_e1c896db -> task_45000f1a [label="18 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" color="#465686" fontcolor="#465686" id=edge_fa715e70 labeltooltip="18 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]" tooltip="18 [when: kubeinit_controller_count|int > 1 and controller_node not in kubeinit_first_controller_node]"]
		task_82d58e90 [label="kubeinit.kubeinit.kubeinit_eks : Join compute nodes with kubernetes control plane" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_82d58e90 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Join compute nodes with kubernetes control plane"]
		role_e1c896db -> task_82d58e90 [label="19 " color="#465686" fontcolor="#465686" id=edge_2f55f926 labeltooltip="19 " tooltip="19 "]
		task_41209006 [label="kubeinit.kubeinit.kubeinit_eks : Fetch the kubeconfig from the first controller node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_41209006 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Fetch the kubeconfig from the first controller node"]
		role_e1c896db -> task_41209006 [label="20 " color="#465686" fontcolor="#465686" id=edge_e091f68c labeltooltip="20 " tooltip="20 "]
		task_9d59a21f [label="kubeinit.kubeinit.kubeinit_eks : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_9d59a21f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Create kube directory"]
		role_e1c896db -> task_9d59a21f [label="21 " color="#465686" fontcolor="#465686" id=edge_79cca444 labeltooltip="21 " tooltip="21 "]
		task_28d074ee [label="kubeinit.kubeinit.kubeinit_eks : Store the kubeconfig to the provision services machine." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_28d074ee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Store the kubeconfig to the provision services machine."]
		role_e1c896db -> task_28d074ee [label="22 " color="#465686" fontcolor="#465686" id=edge_b4e454ea labeltooltip="22 " tooltip="22 "]
		task_c777f35d [label="kubeinit.kubeinit.kubeinit_eks : Label compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_c777f35d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Label compute nodes"]
		role_e1c896db -> task_c777f35d [label="23 " color="#465686" fontcolor="#465686" id=edge_50640f99 labeltooltip="23 " tooltip="23 "]
		task_61ab420a [label="kubeinit.kubeinit.kubeinit_eks : Allow schedule workloads in controller nodes if there are no compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_61ab420a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Allow schedule workloads in controller nodes if there are no compute nodes"]
		role_e1c896db -> task_61ab420a [label="24 [when: not kubeinit_compute_count|int > 0]" color="#465686" fontcolor="#465686" id=edge_f05729c6 labeltooltip="24 [when: not kubeinit_compute_count|int > 0]" tooltip="24 [when: not kubeinit_compute_count|int > 0]"]
		task_3dad86fc [label="kubeinit.kubeinit.kubeinit_eks : Deploy EKS manifests." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#465686" id=task_3dad86fc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Deploy EKS manifests."]
		role_e1c896db -> task_3dad86fc [label="25 " color="#465686" fontcolor="#465686" id=edge_e0de8a62 labeltooltip="25 " tooltip="25 "]
	}
	subgraph "task-deploy-cluster" {
		role_d07ddb65 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_d07ddb65 tooltip="task-deploy-cluster"]
		role_d07ddb65 -> role_ed3b9442 [label="1 [when: not services_prepared]" color="#465686" fontcolor="#465686" id=edge_5c8f189e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_d07ddb65 -> role_e1c896db [label="2 " color="#465686" fontcolor="#465686" id=edge_0b67bc4e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_423512a2 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465686" id=role_423512a2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_cfb8347d [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#465686" id=role_cfb8347d tooltip="Prepare environment if needed"]
		role_cfb8347d -> role_423512a2 [label="1 " color="#465686" fontcolor="#465686" id=edge_716e7d2f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_df957913 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#465686" id=role_df957913 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_6413909f [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#465686" id=role_6413909f tooltip="Prepare services if needed"]
		role_6413909f -> role_cfb8347d [label="1 [when: not environment_prepared]" color="#465686" fontcolor="#465686" id=edge_4d0a35d1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6413909f -> role_df957913 [label="2 " color="#465686" fontcolor="#465686" id=edge_31a31dfc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_47b35e65 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/post_deployment_tasks.yml" color="#465686" id=role_47b35e65 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_42798264 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/post_deployment_tasks.yml" color="#465686" id=role_42798264 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_21e12928 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#465686" id=role_21e12928 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_21e12928 -> role_47b35e65 [label="1 " color="#465686" fontcolor="#465686" id=edge_79ce9d5a labeltooltip="1 " tooltip="1 "]
		role_21e12928 -> role_42798264 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#465686" fontcolor="#465686" id=edge_7376a620 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_bb1aa860 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=role_bb1aa860 tooltip="task-post-deployment"]
		role_bb1aa860 -> role_6413909f [label="1 [when: not services_prepared]" color="#465686" fontcolor="#465686" id=edge_7eac7bb4 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_bb1aa860 -> role_21e12928 [label="2 " color="#465686" fontcolor="#465686" id=edge_b4629a54 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_a30656ce -> block_5d2b217d [label=1 color="#465686" fontcolor="#465686" id=edge_f2653fff labeltooltip=1 tooltip=1]
		subgraph cluster_block_5d2b217d {
			block_5d2b217d [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_5d2b217d labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_5d2b217d -> role_5759f2fc [label="1 " color="#465686" fontcolor="#465686" id=edge_e0519d88 labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_fb9f1da4 [label=2 color="#465686" fontcolor="#465686" id=edge_52c46c8e labeltooltip=2 tooltip=2]
		subgraph cluster_block_fb9f1da4 {
			block_fb9f1da4 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_fb9f1da4 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_fb9f1da4 -> role_ed7e8718 [label="1 " color="#465686" fontcolor="#465686" id=edge_83620404 labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_fe0d3ee4 [label=3 color="#465686" fontcolor="#465686" id=edge_5d2a32e7 labeltooltip=3 tooltip=3]
		subgraph cluster_block_fe0d3ee4 {
			block_fe0d3ee4 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_fe0d3ee4 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_fe0d3ee4 -> role_e970ed87 [label="1 " color="#465686" fontcolor="#465686" id=edge_7eed2b10 labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_4a8ae50d [label=4 color="#465686" fontcolor="#465686" id=edge_7be79396 labeltooltip=4 tooltip=4]
		subgraph cluster_block_4a8ae50d {
			block_4a8ae50d [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_4a8ae50d labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_4a8ae50d -> role_4fd3ab35 [label="1 " color="#465686" fontcolor="#465686" id=edge_f65a0ddc labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_6681c485 [label=5 color="#465686" fontcolor="#465686" id=edge_aa2690ac labeltooltip=5 tooltip=5]
		subgraph cluster_block_6681c485 {
			block_6681c485 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_6681c485 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_6681c485 -> role_5fcd5323 [label="1 " color="#465686" fontcolor="#465686" id=edge_def37e4b labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_702340e6 [label=6 color="#465686" fontcolor="#465686" id=edge_fc7ed002 labeltooltip=6 tooltip=6]
		subgraph cluster_block_702340e6 {
			block_702340e6 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_702340e6 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_702340e6 -> role_b06d675a [label="1 " color="#465686" fontcolor="#465686" id=edge_f2d14038 labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_b5ddc67b [label=7 color="#465686" fontcolor="#465686" id=edge_3110d6f9 labeltooltip=7 tooltip=7]
		subgraph cluster_block_b5ddc67b {
			block_b5ddc67b [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_b5ddc67b labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_b5ddc67b -> role_1a76046e [label="1 " color="#465686" fontcolor="#465686" id=edge_93286ad9 labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_89888bbc [label=8 color="#465686" fontcolor="#465686" id=edge_01293097 labeltooltip=8 tooltip=8]
		subgraph cluster_block_89888bbc {
			block_89888bbc [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_89888bbc labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_89888bbc -> role_d07ddb65 [label="1 " color="#465686" fontcolor="#465686" id=edge_85e7154f labeltooltip="1 " tooltip="1 "]
		}
		play_a30656ce -> block_1b6aee28 [label=9 color="#465686" fontcolor="#465686" id=edge_7cdf6972 labeltooltip=9 tooltip=9]
		subgraph cluster_block_1b6aee28 {
			block_1b6aee28 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465686" id=block_1b6aee28 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_1b6aee28 -> role_bb1aa860 [label="1 " color="#465686" fontcolor="#465686" id=edge_1b760b8e labeltooltip="1 " tooltip="1 "]
		}
	}
}
