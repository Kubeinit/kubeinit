digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_a239d398 [label="Play: Initial setup (1)" color="#04ca02" fontcolor="#ffffff" id=play_a239d398 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_a239d398 [label="1 " color="#04ca02" fontcolor="#04ca02" id=edge_42942084 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_7c1c283b [label="[role] Read podman secrets if running from the container" color="#04ca02" id=role_7c1c283b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_961c66e1 [label="[role] task-gather-facts" color="#04ca02" id=role_961c66e1 tooltip="task-gather-facts"]
		role_961c66e1 -> role_7c1c283b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#04ca02" fontcolor="#04ca02" id=edge_193b63d1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e6493bc1 [label="[role] Read podman secrets if running from the container" color="#04ca02" id=role_e6493bc1 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_396172da [label="[role] task-prepare-hypervisors" color="#04ca02" id=role_396172da tooltip="task-prepare-hypervisors"]
		role_396172da -> role_e6493bc1 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#04ca02" fontcolor="#04ca02" id=edge_c158695e labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_a239d398 -> block_baf64539 [label=1 color="#04ca02" fontcolor="#04ca02" id=edge_060b0827 labeltooltip=1 tooltip=1]
		subgraph cluster_block_baf64539 {
			block_baf64539 [label="[block] Gather facts about the deployment environment" color="#04ca02" id=block_baf64539 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_baf64539 -> role_961c66e1 [label="1 " color="#04ca02" fontcolor="#04ca02" id=edge_d8bb8e48 labeltooltip="1 " tooltip="1 "]
		}
		play_a239d398 -> block_6f7a5387 [label=2 color="#04ca02" fontcolor="#04ca02" id=edge_841a7c9b labeltooltip=2 tooltip=2]
		subgraph cluster_block_6f7a5387 {
			block_6f7a5387 [label="[block] Prepare the hypervisors" color="#04ca02" id=block_6f7a5387 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_6f7a5387 -> role_396172da [label="1 " color="#04ca02" fontcolor="#04ca02" id=edge_f0bb1bd3 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_30f5141a [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#a87224" fontcolor="#ffffff" id=play_30f5141a shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_30f5141a [label="2 " color="#a87224" fontcolor="#a87224" id=edge_f06ef490 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_fe6aa7c6 [label="[role] Provision the libvirt services on the hypervisor" color="#a87224" id=role_fe6aa7c6 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_ebc04b40 [label="[role] Prepare each hypervisor in the deployment" color="#a87224" id=role_ebc04b40 tooltip="Prepare each hypervisor in the deployment"]
		role_ebc04b40 -> role_fe6aa7c6 [label="1 " color="#a87224" fontcolor="#a87224" id=edge_b0aa969a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_30f5141a -> block_6ff5ddff [label=1 color="#a87224" fontcolor="#a87224" id=edge_0ccb99e1 labeltooltip=1 tooltip=1]
		subgraph cluster_block_6ff5ddff {
			block_6ff5ddff [label="[block] Prepare individual hypervisors" color="#a87224" id=block_6ff5ddff labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_6ff5ddff -> role_ebc04b40 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#a87224" fontcolor="#a87224" id=edge_e6e6d71a labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_9c03c293 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#330dbf" fontcolor="#ffffff" id=play_9c03c293 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_9c03c293 [label="3 " color="#330dbf" fontcolor="#330dbf" id=edge_a16b38de labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_790930a3 [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_790930a3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_78bd853e [label="[role] task-prepare-environment" color="#330dbf" id=role_78bd853e tooltip="task-prepare-environment"]
		role_78bd853e -> role_790930a3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_b48f32a9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b2c2d9a5 [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_b2c2d9a5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b6831829 [label="[role] Prepare environment if not prepared" color="#330dbf" id=role_b6831829 tooltip="Prepare environment if not prepared"]
		role_b6831829 -> role_b2c2d9a5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_0f594efd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_8bc18299 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#330dbf" id=role_8bc18299 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_b60a5ead [label="[role] task-cleanup-hypervisors" color="#330dbf" id=role_b60a5ead tooltip="task-cleanup-hypervisors"]
		role_b60a5ead -> role_b6831829 [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_076ccca5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b60a5ead -> role_8bc18299 [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_b6c6a407 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_48a14774 [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_48a14774 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_74868677 [label="[role] Prepare environment if not prepared" color="#330dbf" id=role_74868677 tooltip="Prepare environment if not prepared"]
		role_74868677 -> role_48a14774 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_fdbf9df7 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_75145ee7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#330dbf" id=role_75145ee7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_29d0df7c [label="[role] Cleanup hypervisors if needed" color="#330dbf" id=role_29d0df7c tooltip="Cleanup hypervisors if needed"]
		role_29d0df7c -> role_74868677 [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_35bcf9ad labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_29d0df7c -> role_75145ee7 [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_22cb8286 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_2b063072 [label="[role] task-run-validations" color="#330dbf" id=role_2b063072 tooltip="task-run-validations"]
		role_2b063072 -> role_29d0df7c [label="1 [when: not hypervisors_cleaned]" color="#330dbf" fontcolor="#330dbf" id=edge_86a7ff5e labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_91ffea3e [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_91ffea3e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0b81220e [label="[role] Prepare environment if not prepared" color="#330dbf" id=role_0b81220e tooltip="Prepare environment if not prepared"]
		role_0b81220e -> role_91ffea3e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_f4bc0d50 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_027a0ec7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#330dbf" id=role_027a0ec7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_d3c9970a [label="[role] Cleanup hypervisors if needed" color="#330dbf" id=role_d3c9970a tooltip="Cleanup hypervisors if needed"]
		role_d3c9970a -> role_0b81220e [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_bc5d622f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d3c9970a -> role_027a0ec7 [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_387f1034 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_6507f7bc [label="[role] task-create-network" color="#330dbf" id=role_6507f7bc tooltip="task-create-network"]
		role_6507f7bc -> role_d3c9970a [label="1 [when: not hypervisors_cleaned]" color="#330dbf" fontcolor="#330dbf" id=edge_37390c8d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_79d42581 [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_79d42581 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_aae9e84d [label="[role] Prepare environment if not prepared" color="#330dbf" id=role_aae9e84d tooltip="Prepare environment if not prepared"]
		role_aae9e84d -> role_79d42581 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_0b561162 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_8e8bb57b [label="[role] Prepare podman" color="#330dbf" id=role_8e8bb57b tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_589fd8b4 [label="[role] Create systemd service for podman container" color="#330dbf" id=role_589fd8b4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_3737fe8b [label="[role] Configure Bind" color="#330dbf" id=role_3737fe8b tooltip="Configure Bind"]
		role_3737fe8b -> role_589fd8b4 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_10d29a2d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e48454b5 [label="[role] Create systemd service for podman container" color="#330dbf" id=role_e48454b5 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_ba789bfb [label="[role] Configure Dnsmasq" color="#330dbf" id=role_ba789bfb tooltip="Configure Dnsmasq"]
		role_ba789bfb -> role_e48454b5 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_cea838c4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2aacf42b [label="[role] Create systemd service for podman container" color="#330dbf" id=role_2aacf42b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_f2261b63 [label="[role] Configure HAProxy" color="#330dbf" id=role_f2261b63 tooltip="Configure HAProxy"]
		role_f2261b63 -> role_2aacf42b [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_8116f4df labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e6af30d4 [label="[role] Create systemd service for podman container" color="#330dbf" id=role_e6af30d4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_4263f7fc [label="[role] Configure Nexus" color="#330dbf" id=role_4263f7fc tooltip="Configure Nexus"]
		role_4263f7fc -> role_e6af30d4 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_0279fa40 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_18a897d6 [label="[role] Create systemd service for podman container" color="#330dbf" id=role_18a897d6 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_e67dd100 [label="[role] Configure Apache" color="#330dbf" id=role_e67dd100 tooltip="Configure Apache"]
		role_e67dd100 -> role_18a897d6 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_6679ad4c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ee3ff52c [label="[role] Create systemd service for podman container" color="#330dbf" id=role_ee3ff52c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_429af438 [label="[role] Configure a local container image registry" color="#330dbf" id=role_429af438 tooltip="Configure a local container image registry"]
		role_429af438 -> role_ee3ff52c [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_f6780eee labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_df710f42 [label="[role] task-create-services" color="#330dbf" id=role_df710f42 tooltip="task-create-services"]
		role_df710f42 -> role_aae9e84d [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_9ac24cd9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_df710f42 -> role_8e8bb57b [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_9f251b76 labeltooltip="2 " tooltip="2 "]
		role_df710f42 -> role_3737fe8b [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#330dbf" fontcolor="#330dbf" id=edge_f17a1b67 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_df710f42 -> role_ba789bfb [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#330dbf" fontcolor="#330dbf" id=edge_4f1ee1ef labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_df710f42 -> role_f2261b63 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#330dbf" fontcolor="#330dbf" id=edge_dea0bc25 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_df710f42 -> role_4263f7fc [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#330dbf" fontcolor="#330dbf" id=edge_0aac09f4 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_df710f42 -> role_e67dd100 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#330dbf" fontcolor="#330dbf" id=edge_fe6780fb labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_df710f42 -> role_429af438 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#330dbf" fontcolor="#330dbf" id=edge_7eff13e7 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_278e90ef [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_278e90ef tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_3457196d [label="[role] Prepare environment if needed" color="#330dbf" id=role_3457196d tooltip="Prepare environment if needed"]
		role_3457196d -> role_278e90ef [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_4b78a359 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_bc4749bd [label="[role] Gather network and host facts for guest" color="#330dbf" id=role_bc4749bd tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_e0c14b32 [label="[role] Prepare services if needed" color="#330dbf" id=role_e0c14b32 tooltip="Prepare services if needed"]
		role_e0c14b32 -> role_3457196d [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_c4ed6c05 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e0c14b32 -> role_bc4749bd [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_efae9394 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_cdf60b1a [label="[role] Create systemd service for podman container" color="#330dbf" id=role_cdf60b1a tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_1e38c5dc [label="[role] Gather network and host facts for provision service" color="#330dbf" id=role_1e38c5dc tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_40293440 [label="[role] Setup the cluster provision container" color="#330dbf" id=role_40293440 tooltip="Setup the cluster provision container"]
		role_40293440 -> role_cdf60b1a [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_c8adb55b labeltooltip="1 " tooltip="1 "]
		role_40293440 -> role_1e38c5dc [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_195e65cf labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_b024d5b8 [label="[role] Delegate to the distro role to prepare the cluster" color="#330dbf" id=role_b024d5b8 tooltip="Delegate to the distro role to prepare the cluster"]
		role_b024d5b8 -> role_40293440 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_67e668aa labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_a8aeacb9 [label="[role] task-prepare-cluster" color="#330dbf" id=role_a8aeacb9 tooltip="task-prepare-cluster"]
		role_a8aeacb9 -> role_e0c14b32 [label="1 [when: not services_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_ada1ae8f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_a8aeacb9 -> role_b024d5b8 [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_10cb74b7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_03bcc258 [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_03bcc258 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_74e1d5d7 [label="[role] Prepare environment if not prepared" color="#330dbf" id=role_74e1d5d7 tooltip="Prepare environment if not prepared"]
		role_74e1d5d7 -> role_03bcc258 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_52a067b5 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_115804c6 [label="[role] task-download-images" color="#330dbf" id=role_115804c6 tooltip="task-download-images"]
		role_115804c6 -> role_74e1d5d7 [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_5e122391 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1de54f31 [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_1de54f31 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_39a8fdb1 [label="[role] Prepare environment if needed" color="#330dbf" id=role_39a8fdb1 tooltip="Prepare environment if needed"]
		role_39a8fdb1 -> role_1de54f31 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_bf8c1600 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_46a1c0c0 [label="[role] Gather network and host facts for guest" color="#330dbf" id=role_46a1c0c0 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7c9ea50e [label="[role] Prepare services if needed" color="#330dbf" id=role_7c9ea50e tooltip="Prepare services if needed"]
		role_7c9ea50e -> role_39a8fdb1 [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_f063ba2f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7c9ea50e -> role_46a1c0c0 [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_d296b0cf labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_8209e303 [label="[role] Deploy the cluster nodes" color="#330dbf" id=role_8209e303 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_e3112728 [label="[role] Delegate to the distro role to deploy the cluster" color="#330dbf" id=role_e3112728 tooltip="Delegate to the distro role to deploy the cluster"]
		role_e3112728 -> role_8209e303 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#330dbf" fontcolor="#330dbf" id=edge_cacd9b07 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_8d3e869f [label="kubeinit.kubeinit.kubeinit_rke : Enable insecure registry in Docker" color="#330dbf" id=task_8d3e869f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Enable insecure registry in Docker"]
		role_e3112728 -> task_8d3e869f [label="2 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#330dbf" fontcolor="#330dbf" id=edge_4484bdbd labeltooltip="2 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
		task_61e3883b [label="kubeinit.kubeinit.kubeinit_rke : Install RKE" color="#330dbf" id=task_61e3883b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Install RKE"]
		role_e3112728 -> task_61e3883b [label="3 " color="#330dbf" fontcolor="#330dbf" id=edge_f9f1818c labeltooltip="3 " tooltip="3 "]
		task_d70a05dc [label="kubeinit.kubeinit.kubeinit_rke : Autoload kubeconfig" color="#330dbf" id=task_d70a05dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Autoload kubeconfig"]
		role_e3112728 -> task_d70a05dc [label="4 " color="#330dbf" fontcolor="#330dbf" id=edge_21ef2a85 labeltooltip="4 " tooltip="4 "]
		task_3f9d98e9 [label="kubeinit.kubeinit.kubeinit_rke : Create kube directory" color="#330dbf" id=task_3f9d98e9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Create kube directory"]
		role_e3112728 -> task_3f9d98e9 [label="5 " color="#330dbf" fontcolor="#330dbf" id=edge_91fa9987 labeltooltip="5 " tooltip="5 "]
		task_84f24cd1 [label="kubeinit.kubeinit.kubeinit_rke : Copy the kubeconfig" color="#330dbf" id=task_84f24cd1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Copy the kubeconfig"]
		role_e3112728 -> task_84f24cd1 [label="6 " color="#330dbf" fontcolor="#330dbf" id=edge_c4133c2f labeltooltip="6 " tooltip="6 "]
		task_06d895a3 [label="kubeinit.kubeinit.kubeinit_rke : Touch a file" color="#330dbf" id=task_06d895a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Touch a file"]
		role_e3112728 -> task_06d895a3 [label="7 " color="#330dbf" fontcolor="#330dbf" id=edge_dbd66759 labeltooltip="7 " tooltip="7 "]
		task_50786eab [label="kubeinit.kubeinit.kubeinit_rke : Allow schedule workloads in controller nodes if there are no compute nodes" color="#330dbf" id=task_50786eab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Allow schedule workloads in controller nodes if there are no compute nodes"]
		role_e3112728 -> task_50786eab [label="8 [when: not kubeinit_compute_count|int > 0]" color="#330dbf" fontcolor="#330dbf" id=edge_4686ac30 labeltooltip="8 [when: not kubeinit_compute_count|int > 0]" tooltip="8 [when: not kubeinit_compute_count|int > 0]"]
	}
	subgraph "task-deploy-cluster" {
		role_a9863048 [label="[role] task-deploy-cluster" color="#330dbf" id=role_a9863048 tooltip="task-deploy-cluster"]
		role_a9863048 -> role_7c9ea50e [label="1 [when: not services_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_e85a69c5 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_a9863048 -> role_e3112728 [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_30bfa5ba labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b8eb160e [label="[role] Read podman secrets if running from the container" color="#330dbf" id=role_b8eb160e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_0a558f69 [label="[role] Prepare environment if needed" color="#330dbf" id=role_0a558f69 tooltip="Prepare environment if needed"]
		role_0a558f69 -> role_b8eb160e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#330dbf" fontcolor="#330dbf" id=edge_eb947b58 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_1f641265 [label="[role] Gather network and host facts for guest" color="#330dbf" id=role_1f641265 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_6bb60a78 [label="[role] Prepare services if needed" color="#330dbf" id=role_6bb60a78 tooltip="Prepare services if needed"]
		role_6bb60a78 -> role_0a558f69 [label="1 [when: not environment_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_ad2b8a96 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6bb60a78 -> role_1f641265 [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_b1bbf1d2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_5c39830e [label="[role] Deploy the apps" color="#330dbf" id=role_5c39830e tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_4b6c3d3b [label="[role] Configure NFS" color="#330dbf" id=role_4b6c3d3b tooltip="Configure NFS"]
	}
	subgraph "Deploy Submariner" {
		role_110650b5 [label="[role] Deploy Submariner" color="#330dbf" id=role_110650b5 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_607a714b [label="[role] Delegate to distro role to run post-deployment tasks" color="#330dbf" id=role_607a714b tooltip="Delegate to distro role to run post-deployment tasks"]
		role_607a714b -> role_5c39830e [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_c92b462e labeltooltip="1 " tooltip="1 "]
		role_607a714b -> role_4b6c3d3b [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#330dbf" fontcolor="#330dbf" id=edge_9fd3e11f labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_607a714b -> role_110650b5 [label="3 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#330dbf" fontcolor="#330dbf" id=edge_620fdba6 labeltooltip="3 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="3 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_f3ec3224 [label="[role] task-post-deployment" color="#330dbf" id=role_f3ec3224 tooltip="task-post-deployment"]
		role_f3ec3224 -> role_6bb60a78 [label="1 [when: not services_prepared]" color="#330dbf" fontcolor="#330dbf" id=edge_972da557 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f3ec3224 -> role_607a714b [label="2 " color="#330dbf" fontcolor="#330dbf" id=edge_d9121c3d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_9c03c293 -> block_10f480a8 [label=1 color="#330dbf" fontcolor="#330dbf" id=edge_165ff51a labeltooltip=1 tooltip=1]
		subgraph cluster_block_10f480a8 {
			block_10f480a8 [label="[block] Prepare the environment" color="#330dbf" id=block_10f480a8 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_10f480a8 -> role_78bd853e [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_43f29de6 labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_d2a9d5d1 [label=2 color="#330dbf" fontcolor="#330dbf" id=edge_8388b91e labeltooltip=2 tooltip=2]
		subgraph cluster_block_d2a9d5d1 {
			block_d2a9d5d1 [label="[block] Cleanup hypervisors" color="#330dbf" id=block_d2a9d5d1 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_d2a9d5d1 -> role_b60a5ead [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_634b277e labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_48b5963a [label=3 color="#330dbf" fontcolor="#330dbf" id=edge_f8438f33 labeltooltip=3 tooltip=3]
		subgraph cluster_block_48b5963a {
			block_48b5963a [label="[block] Run validations on cluster resources" color="#330dbf" id=block_48b5963a labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_48b5963a -> role_2b063072 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_590268e5 labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_29eb3000 [label=4 color="#330dbf" fontcolor="#330dbf" id=edge_1e036979 labeltooltip=4 tooltip=4]
		subgraph cluster_block_29eb3000 {
			block_29eb3000 [label="[block] Create the cluster network resources" color="#330dbf" id=block_29eb3000 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_29eb3000 -> role_6507f7bc [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_7d412936 labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_2c264277 [label=5 color="#330dbf" fontcolor="#330dbf" id=edge_08128078 labeltooltip=5 tooltip=5]
		subgraph cluster_block_2c264277 {
			block_2c264277 [label="[block] Create services the cluster will need" color="#330dbf" id=block_2c264277 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_2c264277 -> role_df710f42 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_49bd5364 labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_9a03784d [label=6 color="#330dbf" fontcolor="#330dbf" id=edge_64a4b494 labeltooltip=6 tooltip=6]
		subgraph cluster_block_9a03784d {
			block_9a03784d [label="[block] Prepare to deploy the cluster" color="#330dbf" id=block_9a03784d labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_9a03784d -> role_a8aeacb9 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_c572942f labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_d546b170 [label=7 color="#330dbf" fontcolor="#330dbf" id=edge_eb760f2d labeltooltip=7 tooltip=7]
		subgraph cluster_block_d546b170 {
			block_d546b170 [label="[block] Download cloud images" color="#330dbf" id=block_d546b170 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_d546b170 -> role_115804c6 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_916ac1b8 labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_96d88a20 [label=8 color="#330dbf" fontcolor="#330dbf" id=edge_da379b63 labeltooltip=8 tooltip=8]
		subgraph cluster_block_96d88a20 {
			block_96d88a20 [label="[block] Deploy the cluster" color="#330dbf" id=block_96d88a20 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_96d88a20 -> role_a9863048 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_47cc701d labeltooltip="1 " tooltip="1 "]
		}
		play_9c03c293 -> block_bc7aea82 [label=9 color="#330dbf" fontcolor="#330dbf" id=edge_d0e6ae37 labeltooltip=9 tooltip=9]
		subgraph cluster_block_bc7aea82 {
			block_bc7aea82 [label="[block] Run any post-deployment tasks" color="#330dbf" id=block_bc7aea82 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_bc7aea82 -> role_f3ec3224 [label="1 " color="#330dbf" fontcolor="#330dbf" id=edge_464a043c labeltooltip="1 " tooltip="1 "]
		}
	}
}
