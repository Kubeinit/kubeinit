digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_1c11fe2e [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#c5b607" fontcolor="#ffffff" id=play_1c11fe2e shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_1c11fe2e [label="1 " color="#c5b607" fontcolor="#c5b607" id=edge_86789ab3 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_bea603c6 [label="[role] Gather kubeinit secrets" color="#c5b607" id=role_bea603c6 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_67ae60c4 [label="[role] Gather additional facts from localhost for kubeinit" color="#c5b607" id=role_67ae60c4 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c6c953bc [label="[role] Create ssh config file from template" color="#c5b607" id=role_c6c953bc tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_099b36d8 [label="[role] task-gather-facts" color="#c5b607" id=role_099b36d8 tooltip="task-gather-facts"]
		role_099b36d8 -> role_bea603c6 [label="1 " color="#c5b607" fontcolor="#c5b607" id=edge_4f588c03 labeltooltip="1 " tooltip="1 "]
		role_099b36d8 -> role_67ae60c4 [label="2 " color="#c5b607" fontcolor="#c5b607" id=edge_05b0b32e labeltooltip="2 " tooltip="2 "]
		role_099b36d8 -> role_c6c953bc [label="3 " color="#c5b607" fontcolor="#c5b607" id=edge_803c7f8d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_fe54b3e0 [label="[role] Gather kubeinit secrets" color="#c5b607" id=role_fe54b3e0 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_219a833c [label="[role] Gather additional facts from localhost for kubeinit" color="#c5b607" id=role_219a833c tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_a397d592 [label="[role] Create ssh config file from template" color="#c5b607" id=role_a397d592 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_1c2a22ac [label="[role] task-prepare-hypervisors" color="#c5b607" id=role_1c2a22ac tooltip="task-prepare-hypervisors"]
		role_1c2a22ac -> role_fe54b3e0 [label="1 " color="#c5b607" fontcolor="#c5b607" id=edge_5787243f labeltooltip="1 " tooltip="1 "]
		role_1c2a22ac -> role_219a833c [label="2 " color="#c5b607" fontcolor="#c5b607" id=edge_80424b59 labeltooltip="2 " tooltip="2 "]
		role_1c2a22ac -> role_a397d592 [label="3 " color="#c5b607" fontcolor="#c5b607" id=edge_a87e8f77 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_1c11fe2e -> block_99fc4832 [label=1 color="#c5b607" fontcolor="#c5b607" id=edge_52bbe962 labeltooltip=1 tooltip=1]
		subgraph cluster_block_99fc4832 {
			block_99fc4832 [label="[block] Gather facts about the deployment environment" color="#c5b607" id=block_99fc4832 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_99fc4832 -> role_099b36d8 [label="1 " color="#c5b607" fontcolor="#c5b607" id=edge_8c851da3 labeltooltip="1 " tooltip="1 "]
		}
		play_1c11fe2e -> block_9ad633be [label=2 color="#c5b607" fontcolor="#c5b607" id=edge_7010f9df labeltooltip=2 tooltip=2]
		subgraph cluster_block_9ad633be {
			block_9ad633be [label="[block] Prepare the hypervisors" color="#c5b607" id=block_9ad633be labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_9ad633be -> role_1c2a22ac [label="1 " color="#c5b607" fontcolor="#c5b607" id=edge_3b8be4a8 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_19016952 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#ad1f23" fontcolor="#ffffff" id=play_19016952 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_19016952 [label="2 " color="#ad1f23" fontcolor="#ad1f23" id=edge_96b97f71 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_6295e11e [label="[role] Provision the libvirt services on the hypervisor" color="#ad1f23" id=role_6295e11e tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_8be8cbfc [label="[role] Prepare each hypervisor in the deployment" color="#ad1f23" id=role_8be8cbfc tooltip="Prepare each hypervisor in the deployment"]
		role_8be8cbfc -> role_6295e11e [label="1 " color="#ad1f23" fontcolor="#ad1f23" id=edge_18202c12 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_19016952 -> block_e76912db [label=1 color="#ad1f23" fontcolor="#ad1f23" id=edge_32480336 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e76912db {
			block_e76912db [label="[block] Prepare individual hypervisors" color="#ad1f23" id=block_e76912db labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_e76912db -> role_8be8cbfc [label="1 " color="#ad1f23" fontcolor="#ad1f23" id=edge_1d9b2b82 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_4c58b4fb [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#b69316" fontcolor="#ffffff" id=play_4c58b4fb shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_4c58b4fb [label="3 " color="#b69316" fontcolor="#b69316" id=edge_0e24ec0e labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_2ed2cf68 [label="[role] Gather kubeinit secrets" color="#b69316" id=role_2ed2cf68 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_af007224 [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_af007224 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_9365e415 [label="[role] Create ssh config file from template" color="#b69316" id=role_9365e415 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_f9ea6840 [label="[role] task-prepare-environment" color="#b69316" id=role_f9ea6840 tooltip="task-prepare-environment"]
		role_f9ea6840 -> role_2ed2cf68 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_79500c8a labeltooltip="1 " tooltip="1 "]
		role_f9ea6840 -> role_af007224 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_6d8ebd4c labeltooltip="2 " tooltip="2 "]
		role_f9ea6840 -> role_9365e415 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_72a0c287 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_039708b9 [label="[role] Gather kubeinit secrets" color="#b69316" id=role_039708b9 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_1e65137b [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_1e65137b tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_faab5f99 [label="[role] Create ssh config file from template" color="#b69316" id=role_faab5f99 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_7df7f241 [label="[role] Prepare environment if not prepared" color="#b69316" id=role_7df7f241 tooltip="Prepare environment if not prepared"]
		role_7df7f241 -> role_039708b9 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_09a2d33d labeltooltip="1 " tooltip="1 "]
		role_7df7f241 -> role_1e65137b [label="2 " color="#b69316" fontcolor="#b69316" id=edge_f2449712 labeltooltip="2 " tooltip="2 "]
		role_7df7f241 -> role_faab5f99 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_cec1358e labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_98f9470f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#b69316" id=role_98f9470f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_2a5bbafa [label="[role] task-cleanup-hypervisors" color="#b69316" id=role_2a5bbafa tooltip="task-cleanup-hypervisors"]
		role_2a5bbafa -> role_7df7f241 [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_f7ce9909 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2a5bbafa -> role_98f9470f [label="2 " color="#b69316" fontcolor="#b69316" id=edge_607d2b23 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_cbd548f1 [label="[role] Gather kubeinit secrets" color="#b69316" id=role_cbd548f1 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a471d6e7 [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_a471d6e7 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_12289c99 [label="[role] Create ssh config file from template" color="#b69316" id=role_12289c99 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_727e2b1f [label="[role] Prepare environment if not prepared" color="#b69316" id=role_727e2b1f tooltip="Prepare environment if not prepared"]
		role_727e2b1f -> role_cbd548f1 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_3bb77247 labeltooltip="1 " tooltip="1 "]
		role_727e2b1f -> role_a471d6e7 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_ac630291 labeltooltip="2 " tooltip="2 "]
		role_727e2b1f -> role_12289c99 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_e0187e6c labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_8e45b35a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#b69316" id=role_8e45b35a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_2c1b56a3 [label="[role] Cleanup hypervisors if needed" color="#b69316" id=role_2c1b56a3 tooltip="Cleanup hypervisors if needed"]
		role_2c1b56a3 -> role_727e2b1f [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_d38339f5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2c1b56a3 -> role_8e45b35a [label="2 " color="#b69316" fontcolor="#b69316" id=edge_a61ba50d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_417bd283 [label="[role] task-run-validations" color="#b69316" id=role_417bd283 tooltip="task-run-validations"]
		role_417bd283 -> role_2c1b56a3 [label="1 [when: not hypervisors_cleaned]" color="#b69316" fontcolor="#b69316" id=edge_2f000b7f labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_9762ad83 [label="[role] Gather kubeinit secrets" color="#b69316" id=role_9762ad83 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_0474fccd [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_0474fccd tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_15337037 [label="[role] Create ssh config file from template" color="#b69316" id=role_15337037 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1aed4939 [label="[role] Prepare environment if not prepared" color="#b69316" id=role_1aed4939 tooltip="Prepare environment if not prepared"]
		role_1aed4939 -> role_9762ad83 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_a95cc868 labeltooltip="1 " tooltip="1 "]
		role_1aed4939 -> role_0474fccd [label="2 " color="#b69316" fontcolor="#b69316" id=edge_e2847363 labeltooltip="2 " tooltip="2 "]
		role_1aed4939 -> role_15337037 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_f21edf88 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_cab92821 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#b69316" id=role_cab92821 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_95061814 [label="[role] Cleanup hypervisors if needed" color="#b69316" id=role_95061814 tooltip="Cleanup hypervisors if needed"]
		role_95061814 -> role_1aed4939 [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_7c3e7ae4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_95061814 -> role_cab92821 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_71e72343 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_8d2a01b6 [label="[role] task-create-network" color="#b69316" id=role_8d2a01b6 tooltip="task-create-network"]
		role_8d2a01b6 -> role_95061814 [label="1 [when: not hypervisors_cleaned]" color="#b69316" fontcolor="#b69316" id=edge_f00881b8 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_e0ff70d3 [label="[role] Gather kubeinit secrets" color="#b69316" id=role_e0ff70d3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_0b575cad [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_0b575cad tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c121cb40 [label="[role] Create ssh config file from template" color="#b69316" id=role_c121cb40 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0d9ebe5e [label="[role] Prepare environment if not prepared" color="#b69316" id=role_0d9ebe5e tooltip="Prepare environment if not prepared"]
		role_0d9ebe5e -> role_e0ff70d3 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_57bd6425 labeltooltip="1 " tooltip="1 "]
		role_0d9ebe5e -> role_0b575cad [label="2 " color="#b69316" fontcolor="#b69316" id=edge_ab4e17c0 labeltooltip="2 " tooltip="2 "]
		role_0d9ebe5e -> role_c121cb40 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_a2a2445a labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_bf839271 [label="[role] Prepare podman" color="#b69316" id=role_bf839271 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_2900e391 [label="[role] Create systemd service for podman container" color="#b69316" id=role_2900e391 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_9b4cf791 [label="[role] Configure Bind" color="#b69316" id=role_9b4cf791 tooltip="Configure Bind"]
		role_9b4cf791 -> role_2900e391 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_7244b0c4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7500fb57 [label="[role] Create systemd service for podman container" color="#b69316" id=role_7500fb57 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_ccef1af5 [label="[role] Configure Dnsmasq" color="#b69316" id=role_ccef1af5 tooltip="Configure Dnsmasq"]
		role_ccef1af5 -> role_7500fb57 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_9a755ea1 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f8ccd402 [label="[role] Create systemd service for podman container" color="#b69316" id=role_f8ccd402 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_72347b3f [label="[role] Configure HAProxy" color="#b69316" id=role_72347b3f tooltip="Configure HAProxy"]
		role_72347b3f -> role_f8ccd402 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_780197fb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5d73f805 [label="[role] Create systemd service for podman container" color="#b69316" id=role_5d73f805 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_87b04346 [label="[role] Configure Nexus" color="#b69316" id=role_87b04346 tooltip="Configure Nexus"]
		role_87b04346 -> role_5d73f805 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_ca445583 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6179ec2d [label="[role] Create systemd service for podman container" color="#b69316" id=role_6179ec2d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_ef51a254 [label="[role] Configure Apache" color="#b69316" id=role_ef51a254 tooltip="Configure Apache"]
		role_ef51a254 -> role_6179ec2d [label="1 " color="#b69316" fontcolor="#b69316" id=edge_25940ad3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_61d69891 [label="[role] Create systemd service for podman container" color="#b69316" id=role_61d69891 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_664a6dc2 [label="[role] Configure a local container image registry" color="#b69316" id=role_664a6dc2 tooltip="Configure a local container image registry"]
		role_664a6dc2 -> role_61d69891 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_cb62ba5e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_203e88c5 [label="[role] task-create-services" color="#b69316" id=role_203e88c5 tooltip="task-create-services"]
		role_203e88c5 -> role_0d9ebe5e [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_450516af labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_203e88c5 -> role_bf839271 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_54e3d3c3 labeltooltip="2 " tooltip="2 "]
		role_203e88c5 -> role_9b4cf791 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#b69316" fontcolor="#b69316" id=edge_0d1e2ad0 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_203e88c5 -> role_ccef1af5 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#b69316" fontcolor="#b69316" id=edge_b4176f0d labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_203e88c5 -> role_72347b3f [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#b69316" fontcolor="#b69316" id=edge_b800dd0c labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_203e88c5 -> role_87b04346 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#b69316" fontcolor="#b69316" id=edge_ba5b7e3b labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_203e88c5 -> role_ef51a254 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#b69316" fontcolor="#b69316" id=edge_365e0069 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_203e88c5 -> role_664a6dc2 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#b69316" fontcolor="#b69316" id=edge_c4cf47d3 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_6acf3ca8 [label="[role] Gather kubeinit secrets" color="#b69316" id=role_6acf3ca8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_46e6aa9a [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_46e6aa9a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_a307767b [label="[role] Create ssh config file from template" color="#b69316" id=role_a307767b tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_5656b991 [label="[role] Prepare environment if needed" color="#b69316" id=role_5656b991 tooltip="Prepare environment if needed"]
		role_5656b991 -> role_6acf3ca8 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_b1f86902 labeltooltip="1 " tooltip="1 "]
		role_5656b991 -> role_46e6aa9a [label="2 " color="#b69316" fontcolor="#b69316" id=edge_f6744e9d labeltooltip="2 " tooltip="2 "]
		role_5656b991 -> role_a307767b [label="3 " color="#b69316" fontcolor="#b69316" id=edge_9ad08474 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_5b612214 [label="[role] Gather network and host facts for guest" color="#b69316" id=role_5b612214 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_473adef2 [label="[role] Prepare services if needed" color="#b69316" id=role_473adef2 tooltip="Prepare services if needed"]
		role_473adef2 -> role_5656b991 [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_aaf48a98 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_473adef2 -> role_5b612214 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_c0ca7d3c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1a50f89a [label="[role] Create systemd service for podman container" color="#b69316" id=role_1a50f89a tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_05b3a4d2 [label="[role] Gather network and host facts for provision service" color="#b69316" id=role_05b3a4d2 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_663b3c38 [label="[role] Setup the cluster provision container" color="#b69316" id=role_663b3c38 tooltip="Setup the cluster provision container"]
		role_663b3c38 -> role_1a50f89a [label="1 " color="#b69316" fontcolor="#b69316" id=edge_2085f521 labeltooltip="1 " tooltip="1 "]
		role_663b3c38 -> role_05b3a4d2 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_3a3d3883 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_5136911d [label="[role] Delegate to the distro role to prepare the cluster" color="#b69316" id=role_5136911d tooltip="Delegate to the distro role to prepare the cluster"]
		role_5136911d -> role_663b3c38 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_d753e944 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_c1b75d7d [label="[role] task-prepare-cluster" color="#b69316" id=role_c1b75d7d tooltip="task-prepare-cluster"]
		role_c1b75d7d -> role_473adef2 [label="1 [when: not services_prepared]" color="#b69316" fontcolor="#b69316" id=edge_8611853b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c1b75d7d -> role_5136911d [label="2 " color="#b69316" fontcolor="#b69316" id=edge_6558ae1c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_f300be81 [label="[role] Gather kubeinit secrets" color="#b69316" id=role_f300be81 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ba63bce6 [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_ba63bce6 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_b5306fcf [label="[role] Create ssh config file from template" color="#b69316" id=role_b5306fcf tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_6b768c2b [label="[role] Prepare environment if not prepared" color="#b69316" id=role_6b768c2b tooltip="Prepare environment if not prepared"]
		role_6b768c2b -> role_f300be81 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_d08975f3 labeltooltip="1 " tooltip="1 "]
		role_6b768c2b -> role_ba63bce6 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_bc5af42d labeltooltip="2 " tooltip="2 "]
		role_6b768c2b -> role_b5306fcf [label="3 " color="#b69316" fontcolor="#b69316" id=edge_5484750c labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_c7a9b270 [label="[role] task-download-images" color="#b69316" id=role_c7a9b270 tooltip="task-download-images"]
		role_c7a9b270 -> role_6b768c2b [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_f6de5604 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_8fb69cfe [label="[role] Gather kubeinit secrets" color="#b69316" id=role_8fb69cfe tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_8f1687b9 [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_8f1687b9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_61b59784 [label="[role] Create ssh config file from template" color="#b69316" id=role_61b59784 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_70bf95ee [label="[role] Prepare environment if needed" color="#b69316" id=role_70bf95ee tooltip="Prepare environment if needed"]
		role_70bf95ee -> role_8fb69cfe [label="1 " color="#b69316" fontcolor="#b69316" id=edge_3af62a9a labeltooltip="1 " tooltip="1 "]
		role_70bf95ee -> role_8f1687b9 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_34444b33 labeltooltip="2 " tooltip="2 "]
		role_70bf95ee -> role_61b59784 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_952b28a9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_f4b3dc83 [label="[role] Gather network and host facts for guest" color="#b69316" id=role_f4b3dc83 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_33e1eb5f [label="[role] Prepare services if needed" color="#b69316" id=role_33e1eb5f tooltip="Prepare services if needed"]
		role_33e1eb5f -> role_70bf95ee [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_6b139906 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_33e1eb5f -> role_f4b3dc83 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_9ae68d95 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_e5f2ea64 [label="[role] Deploy the cluster nodes" color="#b69316" id=role_e5f2ea64 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_edcbd43e [label="[role] Delegate to the distro role to deploy the cluster" color="#b69316" id=role_edcbd43e tooltip="Delegate to the distro role to deploy the cluster"]
		role_edcbd43e -> role_e5f2ea64 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#b69316" fontcolor="#b69316" id=edge_7cef9e79 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
		task_55419835 [label="kubeinit.kubeinit.kubeinit_rke : Enable insecure registry in Docker" color="#b69316" id=task_55419835 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Enable insecure registry in Docker"]
		role_edcbd43e -> task_55419835 [label="2 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#b69316" fontcolor="#b69316" id=edge_e22dfe81 labeltooltip="2 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
		task_45efc7e2 [label="kubeinit.kubeinit.kubeinit_rke : Install RKE" color="#b69316" id=task_45efc7e2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Install RKE"]
		role_edcbd43e -> task_45efc7e2 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_c1084225 labeltooltip="3 " tooltip="3 "]
		task_fd0daf4e [label="kubeinit.kubeinit.kubeinit_rke : Autoload kubeconfig" color="#b69316" id=task_fd0daf4e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Autoload kubeconfig"]
		role_edcbd43e -> task_fd0daf4e [label="4 " color="#b69316" fontcolor="#b69316" id=edge_940d9366 labeltooltip="4 " tooltip="4 "]
		task_67b14168 [label="kubeinit.kubeinit.kubeinit_rke : Create kube directory" color="#b69316" id=task_67b14168 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Create kube directory"]
		role_edcbd43e -> task_67b14168 [label="5 " color="#b69316" fontcolor="#b69316" id=edge_a8c25373 labeltooltip="5 " tooltip="5 "]
		task_7105a48a [label="kubeinit.kubeinit.kubeinit_rke : Copy the kubeconfig" color="#b69316" id=task_7105a48a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Copy the kubeconfig"]
		role_edcbd43e -> task_7105a48a [label="6 " color="#b69316" fontcolor="#b69316" id=edge_eebac56d labeltooltip="6 " tooltip="6 "]
		task_88dd2a3d [label="kubeinit.kubeinit.kubeinit_rke : Touch a file" color="#b69316" id=task_88dd2a3d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Touch a file"]
		role_edcbd43e -> task_88dd2a3d [label="7 " color="#b69316" fontcolor="#b69316" id=edge_f3a28282 labeltooltip="7 " tooltip="7 "]
		task_f7a6c1cd [label="kubeinit.kubeinit.kubeinit_rke : Allow schedule workloads in controller nodes if there are no compute nodes" color="#b69316" id=task_f7a6c1cd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_rke : Allow schedule workloads in controller nodes if there are no compute nodes"]
		role_edcbd43e -> task_f7a6c1cd [label="8 [when: not kubeinit_compute_count|int > 0]" color="#b69316" fontcolor="#b69316" id=edge_85c9c628 labeltooltip="8 [when: not kubeinit_compute_count|int > 0]" tooltip="8 [when: not kubeinit_compute_count|int > 0]"]
	}
	subgraph "task-deploy-cluster" {
		role_f4060629 [label="[role] task-deploy-cluster" color="#b69316" id=role_f4060629 tooltip="task-deploy-cluster"]
		role_f4060629 -> role_33e1eb5f [label="1 [when: not services_prepared]" color="#b69316" fontcolor="#b69316" id=edge_f44c6bf9 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f4060629 -> role_edcbd43e [label="2 " color="#b69316" fontcolor="#b69316" id=edge_776bb4b5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_4f22fb7b [label="[role] Gather kubeinit secrets" color="#b69316" id=role_4f22fb7b tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_755b29f4 [label="[role] Gather additional facts from localhost for kubeinit" color="#b69316" id=role_755b29f4 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2def4a47 [label="[role] Create ssh config file from template" color="#b69316" id=role_2def4a47 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_4aba54b5 [label="[role] Prepare environment if needed" color="#b69316" id=role_4aba54b5 tooltip="Prepare environment if needed"]
		role_4aba54b5 -> role_4f22fb7b [label="1 " color="#b69316" fontcolor="#b69316" id=edge_98cdcb30 labeltooltip="1 " tooltip="1 "]
		role_4aba54b5 -> role_755b29f4 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_55b79cc7 labeltooltip="2 " tooltip="2 "]
		role_4aba54b5 -> role_2def4a47 [label="3 " color="#b69316" fontcolor="#b69316" id=edge_18e8eee3 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_1ab97189 [label="[role] Gather network and host facts for guest" color="#b69316" id=role_1ab97189 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_8e7c7c93 [label="[role] Prepare services if needed" color="#b69316" id=role_8e7c7c93 tooltip="Prepare services if needed"]
		role_8e7c7c93 -> role_4aba54b5 [label="1 [when: not environment_prepared]" color="#b69316" fontcolor="#b69316" id=edge_d5fbe0b4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8e7c7c93 -> role_1ab97189 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_5cbda74a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_c08e8fcf [label="[role] Deploy the apps" color="#b69316" id=role_c08e8fcf tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_9ee5e988 [label="[role] Configure NFS" color="#b69316" id=role_9ee5e988 tooltip="Configure NFS"]
	}
	subgraph "Deploy Submariner" {
		role_0289ac2a [label="[role] Deploy Submariner" color="#b69316" id=role_0289ac2a tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_58ba69e3 [label="[role] Delegate to distro role to run post-deployment tasks" color="#b69316" id=role_58ba69e3 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_58ba69e3 -> role_c08e8fcf [label="1 " color="#b69316" fontcolor="#b69316" id=edge_f826e645 labeltooltip="1 " tooltip="1 "]
		role_58ba69e3 -> role_9ee5e988 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#b69316" fontcolor="#b69316" id=edge_98cfb155 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_58ba69e3 -> role_0289ac2a [label="3 [when: 'submariner' in kubeinit_cluster_hostvars.post_deployment_services | default(False)]" color="#b69316" fontcolor="#b69316" id=edge_ff9a7710 labeltooltip="3 [when: 'submariner' in kubeinit_cluster_hostvars.post_deployment_services | default(False)]" tooltip="3 [when: 'submariner' in kubeinit_cluster_hostvars.post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_e1890714 [label="[role] task-post-deployment" color="#b69316" id=role_e1890714 tooltip="task-post-deployment"]
		role_e1890714 -> role_8e7c7c93 [label="1 [when: not services_prepared]" color="#b69316" fontcolor="#b69316" id=edge_3405a1c5 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_e1890714 -> role_58ba69e3 [label="2 " color="#b69316" fontcolor="#b69316" id=edge_f8f3a9d7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_4c58b4fb -> block_93ac67db [label=1 color="#b69316" fontcolor="#b69316" id=edge_761ad28f labeltooltip=1 tooltip=1]
		subgraph cluster_block_93ac67db {
			block_93ac67db [label="[block] Prepare the environment" color="#b69316" id=block_93ac67db labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_93ac67db -> role_f9ea6840 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_7f5d15e3 labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_f2cfc37a [label=2 color="#b69316" fontcolor="#b69316" id=edge_0eaaa05c labeltooltip=2 tooltip=2]
		subgraph cluster_block_f2cfc37a {
			block_f2cfc37a [label="[block] Cleanup hypervisors" color="#b69316" id=block_f2cfc37a labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_f2cfc37a -> role_2a5bbafa [label="1 " color="#b69316" fontcolor="#b69316" id=edge_15e394c3 labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_8c2c4b39 [label=3 color="#b69316" fontcolor="#b69316" id=edge_8f75db22 labeltooltip=3 tooltip=3]
		subgraph cluster_block_8c2c4b39 {
			block_8c2c4b39 [label="[block] Run validations on cluster resources" color="#b69316" id=block_8c2c4b39 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_8c2c4b39 -> role_417bd283 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_78eb99ea labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_d69b228b [label=4 color="#b69316" fontcolor="#b69316" id=edge_114bc2f4 labeltooltip=4 tooltip=4]
		subgraph cluster_block_d69b228b {
			block_d69b228b [label="[block] Create the cluster network resources" color="#b69316" id=block_d69b228b labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_d69b228b -> role_8d2a01b6 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_018ee79b labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_5b72d986 [label=5 color="#b69316" fontcolor="#b69316" id=edge_22848ca1 labeltooltip=5 tooltip=5]
		subgraph cluster_block_5b72d986 {
			block_5b72d986 [label="[block] Create services the cluster will need" color="#b69316" id=block_5b72d986 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_5b72d986 -> role_203e88c5 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_026ff980 labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_b1e7d437 [label=6 color="#b69316" fontcolor="#b69316" id=edge_e1a7f244 labeltooltip=6 tooltip=6]
		subgraph cluster_block_b1e7d437 {
			block_b1e7d437 [label="[block] Prepare to deploy the cluster" color="#b69316" id=block_b1e7d437 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_b1e7d437 -> role_c1b75d7d [label="1 " color="#b69316" fontcolor="#b69316" id=edge_d9cf32b4 labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_72369e13 [label=7 color="#b69316" fontcolor="#b69316" id=edge_f169175b labeltooltip=7 tooltip=7]
		subgraph cluster_block_72369e13 {
			block_72369e13 [label="[block] Download cloud images" color="#b69316" id=block_72369e13 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_72369e13 -> role_c7a9b270 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_73445aa0 labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_d671f2d7 [label=8 color="#b69316" fontcolor="#b69316" id=edge_393bd53b labeltooltip=8 tooltip=8]
		subgraph cluster_block_d671f2d7 {
			block_d671f2d7 [label="[block] Deploy the cluster" color="#b69316" id=block_d671f2d7 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_d671f2d7 -> role_f4060629 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_51950696 labeltooltip="1 " tooltip="1 "]
		}
		play_4c58b4fb -> block_b80b6229 [label=9 color="#b69316" fontcolor="#b69316" id=edge_87e6ddf3 labeltooltip=9 tooltip=9]
		subgraph cluster_block_b80b6229 {
			block_b80b6229 [label="[block] Run any post-deployment tasks" color="#b69316" id=block_b80b6229 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_b80b6229 -> role_e1890714 [label="1 " color="#b69316" fontcolor="#b69316" id=edge_6e793f7c labeltooltip="1 " tooltip="1 "]
		}
	}
}
