digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_f09ca85b [label="Play: Initial setup (1)" color="#91309c" fontcolor="#ffffff" id=play_f09ca85b shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_f09ca85b [label="1 " color="#91309c" fontcolor="#91309c" id=edge_72b66998 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_2bd5f11c [label="[role] Read podman secrets if running from the container" color="#91309c" id=role_2bd5f11c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_71ad5100 [label="[role] task-gather-facts" color="#91309c" id=role_71ad5100 tooltip="task-gather-facts"]
		role_71ad5100 -> role_2bd5f11c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91309c" fontcolor="#91309c" id=edge_4b5b4be4 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_93383291 [label="[role] Read podman secrets if running from the container" color="#91309c" id=role_93383291 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_090c292e [label="[role] task-prepare-hypervisors" color="#91309c" id=role_090c292e tooltip="task-prepare-hypervisors"]
		role_090c292e -> role_93383291 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#91309c" fontcolor="#91309c" id=edge_d11ae1b8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_f09ca85b -> block_8b508e47 [label=1 color="#91309c" fontcolor="#91309c" id=edge_21f3b0bc labeltooltip=1 tooltip=1]
		subgraph cluster_block_8b508e47 {
			block_8b508e47 [label="[block] Gather facts about the deployment environment" color="#91309c" id=block_8b508e47 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_8b508e47 -> role_71ad5100 [label="1 " color="#91309c" fontcolor="#91309c" id=edge_2958d3f8 labeltooltip="1 " tooltip="1 "]
		}
		play_f09ca85b -> block_03c92ab1 [label=2 color="#91309c" fontcolor="#91309c" id=edge_795acd76 labeltooltip=2 tooltip=2]
		subgraph cluster_block_03c92ab1 {
			block_03c92ab1 [label="[block] Prepare the hypervisors" color="#91309c" id=block_03c92ab1 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_03c92ab1 -> role_090c292e [label="1 " color="#91309c" fontcolor="#91309c" id=edge_c5719e52 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_645f592c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#9f2d9f" fontcolor="#ffffff" id=play_645f592c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_645f592c [label="2 " color="#9f2d9f" fontcolor="#9f2d9f" id=edge_6daab8a1 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_1ea0fbfc [label="[role] Provision the libvirt services on the hypervisor" color="#9f2d9f" id=role_1ea0fbfc tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_f399d889 [label="[role] Prepare each hypervisor in the deployment" color="#9f2d9f" id=role_f399d889 tooltip="Prepare each hypervisor in the deployment"]
		role_f399d889 -> role_1ea0fbfc [label="1 " color="#9f2d9f" fontcolor="#9f2d9f" id=edge_55acecd6 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_645f592c -> block_de5adc8f [label=1 color="#9f2d9f" fontcolor="#9f2d9f" id=edge_a86da36e labeltooltip=1 tooltip=1]
		subgraph cluster_block_de5adc8f {
			block_de5adc8f [label="[block] Prepare individual hypervisors" color="#9f2d9f" id=block_de5adc8f labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_de5adc8f -> role_f399d889 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#9f2d9f" fontcolor="#9f2d9f" id=edge_2ee4acd1 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_9e5d35e7 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#45af1d" fontcolor="#ffffff" id=play_9e5d35e7 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_9e5d35e7 [label="3 " color="#45af1d" fontcolor="#45af1d" id=edge_daebc0dd labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_560d365e [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_560d365e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_117c9bd4 [label="[role] task-prepare-environment" color="#45af1d" id=role_117c9bd4 tooltip="task-prepare-environment"]
		role_117c9bd4 -> role_560d365e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_e5734c6d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_7aacbb9f [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_7aacbb9f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_641601e0 [label="[role] Prepare environment if not prepared" color="#45af1d" id=role_641601e0 tooltip="Prepare environment if not prepared"]
		role_641601e0 -> role_7aacbb9f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_7d6b96d2 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_9f1feb11 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#45af1d" id=role_9f1feb11 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_e5def307 [label="[role] task-cleanup-hypervisors" color="#45af1d" id=role_e5def307 tooltip="task-cleanup-hypervisors"]
		role_e5def307 -> role_641601e0 [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_0b5a81b4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e5def307 -> role_9f1feb11 [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_8b1aa773 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_81a0fbcb [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_81a0fbcb tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_cd2e9c7c [label="[role] Prepare environment if not prepared" color="#45af1d" id=role_cd2e9c7c tooltip="Prepare environment if not prepared"]
		role_cd2e9c7c -> role_81a0fbcb [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_ab2c1122 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_2666ff41 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#45af1d" id=role_2666ff41 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_c8357276 [label="[role] Cleanup hypervisors if needed" color="#45af1d" id=role_c8357276 tooltip="Cleanup hypervisors if needed"]
		role_c8357276 -> role_cd2e9c7c [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_0b63b1fd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c8357276 -> role_2666ff41 [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_7137efb0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_ba0398d1 [label="[role] task-run-validations" color="#45af1d" id=role_ba0398d1 tooltip="task-run-validations"]
		role_ba0398d1 -> role_c8357276 [label="1 [when: not hypervisors_cleaned]" color="#45af1d" fontcolor="#45af1d" id=edge_026e99d5 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e7f9851a [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_e7f9851a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_20f29929 [label="[role] Prepare environment if not prepared" color="#45af1d" id=role_20f29929 tooltip="Prepare environment if not prepared"]
		role_20f29929 -> role_e7f9851a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_8c638642 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_8cd0b613 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#45af1d" id=role_8cd0b613 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_9c3410cb [label="[role] Cleanup hypervisors if needed" color="#45af1d" id=role_9c3410cb tooltip="Cleanup hypervisors if needed"]
		role_9c3410cb -> role_20f29929 [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_39585788 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9c3410cb -> role_8cd0b613 [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_589d2894 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_660e4b98 [label="[role] task-create-network" color="#45af1d" id=role_660e4b98 tooltip="task-create-network"]
		role_660e4b98 -> role_9c3410cb [label="1 [when: not hypervisors_cleaned]" color="#45af1d" fontcolor="#45af1d" id=edge_85943026 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_fd9ae0b3 [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_fd9ae0b3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_04ee47c6 [label="[role] Prepare environment if not prepared" color="#45af1d" id=role_04ee47c6 tooltip="Prepare environment if not prepared"]
		role_04ee47c6 -> role_fd9ae0b3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_cd551d18 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_9a29e1ee [label="[role] Prepare podman" color="#45af1d" id=role_9a29e1ee tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_785008de [label="[role] Create systemd service for podman container" color="#45af1d" id=role_785008de tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_0b09d265 [label="[role] Configure Bind" color="#45af1d" id=role_0b09d265 tooltip="Configure Bind"]
		role_0b09d265 -> role_785008de [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_8877b887 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_accd0569 [label="[role] Create systemd service for podman container" color="#45af1d" id=role_accd0569 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_1be42892 [label="[role] Configure Dnsmasq" color="#45af1d" id=role_1be42892 tooltip="Configure Dnsmasq"]
		role_1be42892 -> role_accd0569 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_db654f1d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_07a89ff5 [label="[role] Create systemd service for podman container" color="#45af1d" id=role_07a89ff5 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_19f1f3c4 [label="[role] Configure HAProxy" color="#45af1d" id=role_19f1f3c4 tooltip="Configure HAProxy"]
		role_19f1f3c4 -> role_07a89ff5 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_784feec2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_bd54f024 [label="[role] Create systemd service for podman container" color="#45af1d" id=role_bd54f024 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_432fa893 [label="[role] Configure Nexus" color="#45af1d" id=role_432fa893 tooltip="Configure Nexus"]
		role_432fa893 -> role_bd54f024 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_ed9771d7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_dc6531a9 [label="[role] Create systemd service for podman container" color="#45af1d" id=role_dc6531a9 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_dfda8ea5 [label="[role] Configure Apache" color="#45af1d" id=role_dfda8ea5 tooltip="Configure Apache"]
		role_dfda8ea5 -> role_dc6531a9 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_b4a93f82 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_b8bd6cea [label="[role] Create systemd service for podman container" color="#45af1d" id=role_b8bd6cea tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_e2cc8309 [label="[role] Configure a local container image registry" color="#45af1d" id=role_e2cc8309 tooltip="Configure a local container image registry"]
		role_e2cc8309 -> role_b8bd6cea [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_e69676f8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_cda128f7 [label="[role] task-create-services" color="#45af1d" id=role_cda128f7 tooltip="task-create-services"]
		role_cda128f7 -> role_04ee47c6 [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_a128a5e9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_cda128f7 -> role_9a29e1ee [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_23c59cd9 labeltooltip="2 " tooltip="2 "]
		role_cda128f7 -> role_0b09d265 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#45af1d" fontcolor="#45af1d" id=edge_3bbfa931 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_cda128f7 -> role_1be42892 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#45af1d" fontcolor="#45af1d" id=edge_595204ee labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_cda128f7 -> role_19f1f3c4 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#45af1d" fontcolor="#45af1d" id=edge_6cd84de4 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_cda128f7 -> role_432fa893 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#45af1d" fontcolor="#45af1d" id=edge_5c1b17dd labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_cda128f7 -> role_dfda8ea5 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#45af1d" fontcolor="#45af1d" id=edge_e76dc865 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_cda128f7 -> role_e2cc8309 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#45af1d" fontcolor="#45af1d" id=edge_1b425f70 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_aa1bc6ef [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_aa1bc6ef tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_34d71cf7 [label="[role] Prepare environment if needed" color="#45af1d" id=role_34d71cf7 tooltip="Prepare environment if needed"]
		role_34d71cf7 -> role_aa1bc6ef [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_69842d7f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_7a9ea421 [label="[role] Gather network and host facts for guest" color="#45af1d" id=role_7a9ea421 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_e319ab5c [label="[role] Prepare services if needed" color="#45af1d" id=role_e319ab5c tooltip="Prepare services if needed"]
		role_e319ab5c -> role_34d71cf7 [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_cfdca576 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e319ab5c -> role_7a9ea421 [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_0ae13f9c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_82a5e457 [label="[role] Create systemd service for podman container" color="#45af1d" id=role_82a5e457 tooltip="Create systemd service for podman container"]
		task_7d0d9d07 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#45af1d" id=task_7d0d9d07 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_82a5e457 -> task_7d0d9d07 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_9a5a419e labeltooltip="1 " tooltip="1 "]
		task_6d7659ac [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#45af1d" id=task_6d7659ac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_82a5e457 -> task_6d7659ac [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_4e17f81f labeltooltip="2 " tooltip="2 "]
		task_d96e7da5 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#45af1d" id=task_d96e7da5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_82a5e457 -> task_d96e7da5 [label="3 " color="#45af1d" fontcolor="#45af1d" id=edge_75517598 labeltooltip="3 " tooltip="3 "]
		task_df22f323 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#45af1d" id=task_df22f323 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_82a5e457 -> task_df22f323 [label="4 " color="#45af1d" fontcolor="#45af1d" id=edge_83e04bb7 labeltooltip="4 " tooltip="4 "]
		task_1ab9ab1b [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#45af1d" id=task_1ab9ab1b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_82a5e457 -> task_1ab9ab1b [label="5 " color="#45af1d" fontcolor="#45af1d" id=edge_e7bd39d6 labeltooltip="5 " tooltip="5 "]
		task_7ab52650 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#45af1d" id=task_7ab52650 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_82a5e457 -> task_7ab52650 [label="6 " color="#45af1d" fontcolor="#45af1d" id=edge_e63d39db labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_1cd5f98b [label="[role] Gather network and host facts for provision service" color="#45af1d" id=role_1cd5f98b tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_62a31a6d [label="[role] Setup the cluster provision container" color="#45af1d" id=role_62a31a6d tooltip="Setup the cluster provision container"]
		task_9e62fac9 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#45af1d" id=task_9e62fac9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_62a31a6d -> task_9e62fac9 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_4555e2be labeltooltip="1 " tooltip="1 "]
		task_3fe0c07b [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#45af1d" id=task_3fe0c07b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_62a31a6d -> task_3fe0c07b [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_d5da99f6 labeltooltip="2 " tooltip="2 "]
		task_3c37939d [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#45af1d" id=task_3c37939d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_62a31a6d -> task_3c37939d [label="3 [when: kubeinit_deployment_os == 'centos']" color="#45af1d" fontcolor="#45af1d" id=edge_608e3dfa labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_c448fe33 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#45af1d" id=task_c448fe33 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_62a31a6d -> task_c448fe33 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#45af1d" fontcolor="#45af1d" id=edge_067d8ecc labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_8c7ceb61 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#45af1d" id=task_8c7ceb61 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_62a31a6d -> task_8c7ceb61 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#45af1d" fontcolor="#45af1d" id=edge_0a28103e labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_89348dc7 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#45af1d" id=task_89348dc7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_62a31a6d -> task_89348dc7 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#45af1d" fontcolor="#45af1d" id=edge_027b069e labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_d2b94219 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#45af1d" id=task_d2b94219 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_62a31a6d -> task_d2b94219 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#45af1d" fontcolor="#45af1d" id=edge_0c755cfa labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_07e819c7 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#45af1d" id=task_07e819c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_62a31a6d -> task_07e819c7 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#45af1d" fontcolor="#45af1d" id=edge_4e355f68 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_1d845849 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#45af1d" id=task_1d845849 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_62a31a6d -> task_1d845849 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#45af1d" fontcolor="#45af1d" id=edge_5c1651d4 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_fb54222f [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#45af1d" id=task_fb54222f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_62a31a6d -> task_fb54222f [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#45af1d" fontcolor="#45af1d" id=edge_5b742319 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_93a555bf [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#45af1d" id=task_93a555bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_62a31a6d -> task_93a555bf [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#45af1d" fontcolor="#45af1d" id=edge_dcd01e86 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_c607455a [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#45af1d" id=task_c607455a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_62a31a6d -> task_c607455a [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#45af1d" fontcolor="#45af1d" id=edge_3e50aa26 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_a97c8f66 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#45af1d" id=task_a97c8f66 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_62a31a6d -> task_a97c8f66 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#45af1d" fontcolor="#45af1d" id=edge_a81985d3 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_68fb6e8b [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#45af1d" id=task_68fb6e8b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_62a31a6d -> task_68fb6e8b [label="14 " color="#45af1d" fontcolor="#45af1d" id=edge_31879a7e labeltooltip="14 " tooltip="14 "]
		task_8089d66b [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#45af1d" id=task_8089d66b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_62a31a6d -> task_8089d66b [label="15 " color="#45af1d" fontcolor="#45af1d" id=edge_13c49c90 labeltooltip="15 " tooltip="15 "]
		task_96d3f321 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#45af1d" id=task_96d3f321 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_62a31a6d -> task_96d3f321 [label="16 " color="#45af1d" fontcolor="#45af1d" id=edge_6c750f99 labeltooltip="16 " tooltip="16 "]
		task_9eb7bdd8 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#45af1d" id=task_9eb7bdd8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_62a31a6d -> task_9eb7bdd8 [label="17 " color="#45af1d" fontcolor="#45af1d" id=edge_c45bfa63 labeltooltip="17 " tooltip="17 "]
		task_c7aac5df [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#45af1d" id=task_c7aac5df shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_62a31a6d -> task_c7aac5df [label="18 " color="#45af1d" fontcolor="#45af1d" id=edge_27f96df3 labeltooltip="18 " tooltip="18 "]
		task_14ceb8d0 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#45af1d" id=task_14ceb8d0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_62a31a6d -> task_14ceb8d0 [label="19 " color="#45af1d" fontcolor="#45af1d" id=edge_9299ec59 labeltooltip="19 " tooltip="19 "]
		task_a7a976c7 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#45af1d" id=task_a7a976c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_62a31a6d -> task_a7a976c7 [label="20 " color="#45af1d" fontcolor="#45af1d" id=edge_bbaca6d7 labeltooltip="20 " tooltip="20 "]
		task_e7095bca [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#45af1d" id=task_e7095bca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_62a31a6d -> task_e7095bca [label="21 " color="#45af1d" fontcolor="#45af1d" id=edge_bfac6e59 labeltooltip="21 " tooltip="21 "]
		task_9ea9cf43 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#45af1d" id=task_9ea9cf43 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_62a31a6d -> task_9ea9cf43 [label="22 " color="#45af1d" fontcolor="#45af1d" id=edge_64b2b473 labeltooltip="22 " tooltip="22 "]
		role_62a31a6d -> role_82a5e457 [label="23 " color="#45af1d" fontcolor="#45af1d" id=edge_d1913eee labeltooltip="23 " tooltip="23 "]
		task_5e81ca9d [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#45af1d" id=task_5e81ca9d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_62a31a6d -> task_5e81ca9d [label="24 " color="#45af1d" fontcolor="#45af1d" id=edge_d4693c0e labeltooltip="24 " tooltip="24 "]
		task_8f3af5a9 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#45af1d" id=task_8f3af5a9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_62a31a6d -> task_8f3af5a9 [label="25 " color="#45af1d" fontcolor="#45af1d" id=edge_c5c5dabf labeltooltip="25 " tooltip="25 "]
		task_acfda742 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#45af1d" id=task_acfda742 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_62a31a6d -> task_acfda742 [label="26 " color="#45af1d" fontcolor="#45af1d" id=edge_77697bb5 labeltooltip="26 " tooltip="26 "]
		task_4a75a7f6 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#45af1d" id=task_4a75a7f6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_62a31a6d -> task_4a75a7f6 [label="27 " color="#45af1d" fontcolor="#45af1d" id=edge_ee61da69 labeltooltip="27 " tooltip="27 "]
		task_74f3e85c [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#45af1d" id=task_74f3e85c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_62a31a6d -> task_74f3e85c [label="28 " color="#45af1d" fontcolor="#45af1d" id=edge_9da9f4c4 labeltooltip="28 " tooltip="28 "]
		task_bcc7afe6 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#45af1d" id=task_bcc7afe6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_62a31a6d -> task_bcc7afe6 [label="29 " color="#45af1d" fontcolor="#45af1d" id=edge_19c51c00 labeltooltip="29 " tooltip="29 "]
		task_cdc5afed [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#45af1d" id=task_cdc5afed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_62a31a6d -> task_cdc5afed [label="30 " color="#45af1d" fontcolor="#45af1d" id=edge_9f56bea0 labeltooltip="30 " tooltip="30 "]
		task_b2a525b3 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#45af1d" id=task_b2a525b3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_62a31a6d -> task_b2a525b3 [label="31 " color="#45af1d" fontcolor="#45af1d" id=edge_965addd6 labeltooltip="31 " tooltip="31 "]
		task_67f62af0 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#45af1d" id=task_67f62af0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_62a31a6d -> task_67f62af0 [label="32 " color="#45af1d" fontcolor="#45af1d" id=edge_5003596a labeltooltip="32 " tooltip="32 "]
		task_e2ce1126 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#45af1d" id=task_e2ce1126 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_62a31a6d -> task_e2ce1126 [label="33 " color="#45af1d" fontcolor="#45af1d" id=edge_034fb3d8 labeltooltip="33 " tooltip="33 "]
		task_8c07dd07 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#45af1d" id=task_8c07dd07 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_62a31a6d -> task_8c07dd07 [label="34 " color="#45af1d" fontcolor="#45af1d" id=edge_fda7a8ef labeltooltip="34 " tooltip="34 "]
		task_471f1e0d [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#45af1d" id=task_471f1e0d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_62a31a6d -> task_471f1e0d [label="35 " color="#45af1d" fontcolor="#45af1d" id=edge_87c27539 labeltooltip="35 " tooltip="35 "]
		task_6117b44f [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#45af1d" id=task_6117b44f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_62a31a6d -> task_6117b44f [label="36 " color="#45af1d" fontcolor="#45af1d" id=edge_dbd4acf9 labeltooltip="36 " tooltip="36 "]
		task_af51abb2 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#45af1d" id=task_af51abb2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_62a31a6d -> task_af51abb2 [label="37 " color="#45af1d" fontcolor="#45af1d" id=edge_dee95a90 labeltooltip="37 " tooltip="37 "]
		task_e5c9b03d [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#45af1d" id=task_e5c9b03d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_62a31a6d -> task_e5c9b03d [label="38 " color="#45af1d" fontcolor="#45af1d" id=edge_af67a6d9 labeltooltip="38 " tooltip="38 "]
		task_78509096 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#45af1d" id=task_78509096 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_62a31a6d -> task_78509096 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#45af1d" fontcolor="#45af1d" id=edge_6f574d0a labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_4c6450fe [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#45af1d" id=task_4c6450fe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_62a31a6d -> task_4c6450fe [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#45af1d" fontcolor="#45af1d" id=edge_90944d43 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_ae3f0f51 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#45af1d" id=task_ae3f0f51 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_62a31a6d -> task_ae3f0f51 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#45af1d" fontcolor="#45af1d" id=edge_aa0f62cd labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_3dacf73e [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#45af1d" id=task_3dacf73e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_62a31a6d -> task_3dacf73e [label="42 [when: kubeinit_deployment_os == 'centos']" color="#45af1d" fontcolor="#45af1d" id=edge_1811e2e2 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_7fabac4f [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#45af1d" id=task_7fabac4f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_62a31a6d -> task_7fabac4f [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#45af1d" fontcolor="#45af1d" id=edge_7bb77214 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_142a112d [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#45af1d" id=task_142a112d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_62a31a6d -> task_142a112d [label="44 " color="#45af1d" fontcolor="#45af1d" id=edge_0299b1f7 labeltooltip="44 " tooltip="44 "]
		task_b2f566f9 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#45af1d" id=task_b2f566f9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_62a31a6d -> task_b2f566f9 [label="45 " color="#45af1d" fontcolor="#45af1d" id=edge_2285aa6d labeltooltip="45 " tooltip="45 "]
		task_d1599044 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#45af1d" id=task_d1599044 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_62a31a6d -> task_d1599044 [label="46 " color="#45af1d" fontcolor="#45af1d" id=edge_c6b4dd3a labeltooltip="46 " tooltip="46 "]
		task_38e75078 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#45af1d" id=task_38e75078 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_62a31a6d -> task_38e75078 [label="47 " color="#45af1d" fontcolor="#45af1d" id=edge_3c5c3b23 labeltooltip="47 " tooltip="47 "]
		task_c7c5bc4d [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#45af1d" id=task_c7c5bc4d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_62a31a6d -> task_c7c5bc4d [label="48 " color="#45af1d" fontcolor="#45af1d" id=edge_3f4c1f2e labeltooltip="48 " tooltip="48 "]
		task_961abc94 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#45af1d" id=task_961abc94 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_62a31a6d -> task_961abc94 [label="49 " color="#45af1d" fontcolor="#45af1d" id=edge_fdba28ce labeltooltip="49 " tooltip="49 "]
		task_1d734964 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#45af1d" id=task_1d734964 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_62a31a6d -> task_1d734964 [label="50 " color="#45af1d" fontcolor="#45af1d" id=edge_ffb8c9ef labeltooltip="50 " tooltip="50 "]
		task_4825950f [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#45af1d" id=task_4825950f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_62a31a6d -> task_4825950f [label="51 " color="#45af1d" fontcolor="#45af1d" id=edge_862ab7b5 labeltooltip="51 " tooltip="51 "]
		task_cc53bde2 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#45af1d" id=task_cc53bde2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_62a31a6d -> task_cc53bde2 [label="52 " color="#45af1d" fontcolor="#45af1d" id=edge_9cdd05ed labeltooltip="52 " tooltip="52 "]
		role_62a31a6d -> role_1cd5f98b [label="53 " color="#45af1d" fontcolor="#45af1d" id=edge_36e5a69e labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_8580521e [label="[role] Delegate to the distro role to prepare the cluster" color="#45af1d" id=role_8580521e tooltip="Delegate to the distro role to prepare the cluster"]
		task_9a49b42b [label="kubeinit.kubeinit.kubeinit_okd : Override initial pullsecret with fake auth" color="#45af1d" id=task_9a49b42b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Override initial pullsecret with fake auth"]
		role_8580521e -> task_9a49b42b [label="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]" color="#45af1d" fontcolor="#45af1d" id=edge_1de9a16b labeltooltip="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]" tooltip="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]"]
		task_39d4f852 [label="kubeinit.kubeinit.kubeinit_okd : Check for openshift pullsecret in container secrets" color="#45af1d" id=task_39d4f852 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Check for openshift pullsecret in container secrets"]
		role_8580521e -> task_39d4f852 [label="2 [when: kubeinit_okd_openshift_deploy and kubeinit_facts_hostvars.container_run|bool]" color="#45af1d" fontcolor="#45af1d" id=edge_2536cc87 labeltooltip="2 [when: kubeinit_okd_openshift_deploy and kubeinit_facts_hostvars.container_run|bool]" tooltip="2 [when: kubeinit_okd_openshift_deploy and kubeinit_facts_hostvars.container_run|bool]"]
		task_4e1a4b2b [label="kubeinit.kubeinit.kubeinit_okd : Read openshift pullsecret" color="#45af1d" id=task_4e1a4b2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Read openshift pullsecret"]
		role_8580521e -> task_4e1a4b2b [label="3 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
kubeinit_okd_openshift_pullsecret is defined and
kubeinit_okd_openshift_pullsecret
]" color="#45af1d" fontcolor="#45af1d" id=edge_bb68b274 labeltooltip="3 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
kubeinit_okd_openshift_pullsecret is defined and
kubeinit_okd_openshift_pullsecret
]" tooltip="3 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
kubeinit_okd_openshift_pullsecret is defined and
kubeinit_okd_openshift_pullsecret
]"]
		task_8275f40e [label="kubeinit.kubeinit.kubeinit_okd : Set pullsecret content" color="#45af1d" id=task_8275f40e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Set pullsecret content"]
		role_8580521e -> task_8275f40e [label="4 [when: kubeinit_okd_openshift_deploy and _result_openshift_pullsecret is defined]" color="#45af1d" fontcolor="#45af1d" id=edge_881c7f2d labeltooltip="4 [when: kubeinit_okd_openshift_deploy and _result_openshift_pullsecret is defined]" tooltip="4 [when: kubeinit_okd_openshift_deploy and _result_openshift_pullsecret is defined]"]
		task_8a22292d [label="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret using individual auth values" color="#45af1d" id=task_8a22292d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret using individual auth values"]
		role_8580521e -> task_8a22292d [label="5 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
not kubeinit_okd_openshift_pullsecret is defined or
not kubeinit_okd_openshift_pullsecret
]" color="#45af1d" fontcolor="#45af1d" id=edge_1bf80257 labeltooltip="5 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
not kubeinit_okd_openshift_pullsecret is defined or
not kubeinit_okd_openshift_pullsecret
]" tooltip="5 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
not kubeinit_okd_openshift_pullsecret is defined or
not kubeinit_okd_openshift_pullsecret
]"]
		task_de018a6b [label="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret" color="#45af1d" id=task_de018a6b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret"]
		role_8580521e -> task_de018a6b [label="6 [when: kubeinit_okd_openshift_deploy]" color="#45af1d" fontcolor="#45af1d" id=edge_27ae10a7 labeltooltip="6 [when: kubeinit_okd_openshift_deploy]" tooltip="6 [when: kubeinit_okd_openshift_deploy]"]
		task_919e0dde [label="kubeinit.kubeinit.kubeinit_okd : Append openshift auth to pullsecret" color="#45af1d" id=task_919e0dde shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Append openshift auth to pullsecret"]
		role_8580521e -> task_919e0dde [label="7 [when: kubeinit_okd_openshift_deploy]" color="#45af1d" fontcolor="#45af1d" id=edge_cdd8439f labeltooltip="7 [when: kubeinit_okd_openshift_deploy]" tooltip="7 [when: kubeinit_okd_openshift_deploy]"]
		task_c4d399c8 [label="kubeinit.kubeinit.kubeinit_okd : Override final openshift kubeinit_okd_registry_pullsecret with both auths" color="#45af1d" id=task_c4d399c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Override final openshift kubeinit_okd_registry_pullsecret with both auths"]
		role_8580521e -> task_c4d399c8 [label="8 [when: kubeinit_okd_openshift_deploy]" color="#45af1d" fontcolor="#45af1d" id=edge_f8f87a82 labeltooltip="8 [when: kubeinit_okd_openshift_deploy]" tooltip="8 [when: kubeinit_okd_openshift_deploy]"]
		task_b8f5a336 [label="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_okd_registry_pullsecret before overriding kubeinit_registry_pullsecret" color="#45af1d" id=task_b8f5a336 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_okd_registry_pullsecret before overriding kubeinit_registry_pullsecret"]
		role_8580521e -> task_b8f5a336 [label="9 " color="#45af1d" fontcolor="#45af1d" id=edge_1fd53f48 labeltooltip="9 " tooltip="9 "]
		task_94d7c3c1 [label="kubeinit.kubeinit.kubeinit_okd : Assign a default pullsecret when we use a local registry and deploying OKD" color="#45af1d" id=task_94d7c3c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Assign a default pullsecret when we use a local registry and deploying OKD"]
		role_8580521e -> task_94d7c3c1 [label="10 " color="#45af1d" fontcolor="#45af1d" id=edge_92d64ed4 labeltooltip="10 " tooltip="10 "]
		task_c5b0293c [label="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_registry_pullsecret after overriding it" color="#45af1d" id=task_c5b0293c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_registry_pullsecret after overriding it"]
		role_8580521e -> task_c5b0293c [label="11 " color="#45af1d" fontcolor="#45af1d" id=edge_5a4ab937 labeltooltip="11 " tooltip="11 "]
		role_8580521e -> role_62a31a6d [label="12 " color="#45af1d" fontcolor="#45af1d" id=edge_75b74adb labeltooltip="12 " tooltip="12 "]
		task_a84ab810 [label="kubeinit.kubeinit.kubeinit_okd : Render net info" color="#45af1d" id=task_a84ab810 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render net info"]
		role_8580521e -> task_a84ab810 [label="13 " color="#45af1d" fontcolor="#45af1d" id=edge_6dc86c7f labeltooltip="13 " tooltip="13 "]
		task_a34c8a90 [label="kubeinit.kubeinit.kubeinit_okd : Install services requirements" color="#45af1d" id=task_a34c8a90 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Install services requirements"]
		role_8580521e -> task_a34c8a90 [label="14 " color="#45af1d" fontcolor="#45af1d" id=edge_8dff35fb labeltooltip="14 " tooltip="14 "]
		task_505fc2fd [label="kubeinit.kubeinit.kubeinit_okd : Download okd installer" color="#45af1d" id=task_505fc2fd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download okd installer"]
		role_8580521e -> task_505fc2fd [label="15 " color="#45af1d" fontcolor="#45af1d" id=edge_81a606fe labeltooltip="15 " tooltip="15 "]
		task_4fbe9b22 [label="kubeinit.kubeinit.kubeinit_okd : Download okd client" color="#45af1d" id=task_4fbe9b22 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download okd client"]
		role_8580521e -> task_4fbe9b22 [label="16 " color="#45af1d" fontcolor="#45af1d" id=edge_28405fb1 labeltooltip="16 " tooltip="16 "]
		task_81da3c6c [label="kubeinit.kubeinit.kubeinit_okd : Install okd client and installer" color="#45af1d" id=task_81da3c6c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Install okd client and installer"]
		role_8580521e -> task_81da3c6c [label="17 " color="#45af1d" fontcolor="#45af1d" id=edge_7f25d062 labeltooltip="17 " tooltip="17 "]
		task_0aff1e33 [label="kubeinit.kubeinit.kubeinit_okd : Render the required container images" color="#45af1d" id=task_0aff1e33 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the required container images"]
		role_8580521e -> task_0aff1e33 [label="18 " color="#45af1d" fontcolor="#45af1d" id=edge_f7dc4ca9 labeltooltip="18 " tooltip="18 "]
		task_53c8e397 [label="kubeinit.kubeinit.kubeinit_okd : Mirror OKD remote registry to local" color="#45af1d" id=task_53c8e397 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Mirror OKD remote registry to local"]
		role_8580521e -> task_53c8e397 [label="19 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#45af1d" fontcolor="#45af1d" id=edge_74d405bf labeltooltip="19 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="19 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
		task_9238a136 [label="kubeinit.kubeinit.kubeinit_okd : Set name of CoreOS distribution" color="#45af1d" id=task_9238a136 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Set name of CoreOS distribution"]
		role_8580521e -> task_9238a136 [label="20 " color="#45af1d" fontcolor="#45af1d" id=edge_2642d539 labeltooltip="20 " tooltip="20 "]
		task_9065a0d2 [label="kubeinit.kubeinit.kubeinit_okd : Download kernel image" color="#45af1d" id=task_9065a0d2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download kernel image"]
		role_8580521e -> task_9065a0d2 [label="21 " color="#45af1d" fontcolor="#45af1d" id=edge_aeae7824 labeltooltip="21 " tooltip="21 "]
		task_5391ad69 [label="kubeinit.kubeinit.kubeinit_okd : Download initrd image" color="#45af1d" id=task_5391ad69 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download initrd image"]
		role_8580521e -> task_5391ad69 [label="22 " color="#45af1d" fontcolor="#45af1d" id=edge_182c9d91 labeltooltip="22 " tooltip="22 "]
		task_96b9dd38 [label="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for FCOS" color="#45af1d" id=task_96b9dd38 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for FCOS"]
		role_8580521e -> task_96b9dd38 [label="23 [when: not kubeinit_okd_openshift_deploy]" color="#45af1d" fontcolor="#45af1d" id=edge_7d556f30 labeltooltip="23 [when: not kubeinit_okd_openshift_deploy]" tooltip="23 [when: not kubeinit_okd_openshift_deploy]"]
		task_d667dc25 [label="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for RHCOS" color="#45af1d" id=task_d667dc25 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for RHCOS"]
		role_8580521e -> task_d667dc25 [label="24 [when: kubeinit_okd_openshift_deploy]" color="#45af1d" fontcolor="#45af1d" id=edge_85ede351 labeltooltip="24 [when: kubeinit_okd_openshift_deploy]" tooltip="24 [when: kubeinit_okd_openshift_deploy]"]
		task_3a30afe7 [label="kubeinit.kubeinit.kubeinit_okd : Create OKD directory for apache" color="#45af1d" id=task_3a30afe7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create OKD directory for apache"]
		role_8580521e -> task_3a30afe7 [label="25 " color="#45af1d" fontcolor="#45af1d" id=edge_666e7064 labeltooltip="25 " tooltip="25 "]
		task_df545d40 [label="kubeinit.kubeinit.kubeinit_okd : Download initrd image" color="#45af1d" id=task_df545d40 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download initrd image"]
		role_8580521e -> task_df545d40 [label="26 " color="#45af1d" fontcolor="#45af1d" id=edge_eb206e27 labeltooltip="26 " tooltip="26 "]
		task_8813c7f9 [label="kubeinit.kubeinit.kubeinit_okd : Download rootfs image" color="#45af1d" id=task_8813c7f9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download rootfs image"]
		role_8580521e -> task_8813c7f9 [label="27 " color="#45af1d" fontcolor="#45af1d" id=edge_87c5fa78 labeltooltip="27 " tooltip="27 "]
		task_87610b70 [label="kubeinit.kubeinit.kubeinit_okd : Download raw image" color="#45af1d" id=task_87610b70 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download raw image"]
		role_8580521e -> task_87610b70 [label="28 " color="#45af1d" fontcolor="#45af1d" id=edge_2807c0bc labeltooltip="28 " tooltip="28 "]
		task_dbae499e [label="kubeinit.kubeinit.kubeinit_okd : Download signature file" color="#45af1d" id=task_dbae499e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download signature file"]
		role_8580521e -> task_dbae499e [label="29 [when: not kubeinit_okd_openshift_deploy]" color="#45af1d" fontcolor="#45af1d" id=edge_07c8fa94 labeltooltip="29 [when: not kubeinit_okd_openshift_deploy]" tooltip="29 [when: not kubeinit_okd_openshift_deploy]"]
		task_5fc0ec5b [label="kubeinit.kubeinit.kubeinit_okd : Render the cluster template" color="#45af1d" id=task_5fc0ec5b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the cluster template"]
		role_8580521e -> task_5fc0ec5b [label="30 " color="#45af1d" fontcolor="#45af1d" id=edge_1296e9d3 labeltooltip="30 " tooltip="30 "]
		task_1887db18 [label="kubeinit.kubeinit.kubeinit_okd : Backup the install config file" color="#45af1d" id=task_1887db18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Backup the install config file"]
		role_8580521e -> task_1887db18 [label="31 " color="#45af1d" fontcolor="#45af1d" id=edge_c2c97d8d labeltooltip="31 " tooltip="31 "]
		task_a2c495bc [label="kubeinit.kubeinit.kubeinit_okd : Render the bootstrap details" color="#45af1d" id=task_a2c495bc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the bootstrap details"]
		role_8580521e -> task_a2c495bc [label="32 " color="#45af1d" fontcolor="#45af1d" id=edge_be26923b labeltooltip="32 " tooltip="32 "]
		task_a9717e4c [label="kubeinit.kubeinit.kubeinit_okd : Enable master schedulable if there are no worker nodes" color="#45af1d" id=task_a9717e4c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Enable master schedulable if there are no worker nodes"]
		role_8580521e -> task_a9717e4c [label="33 [when: not kubeinit_compute_count|int > 0]" color="#45af1d" fontcolor="#45af1d" id=edge_16312a67 labeltooltip="33 [when: not kubeinit_compute_count|int > 0]" tooltip="33 [when: not kubeinit_compute_count|int > 0]"]
		task_dcb890bc [label="kubeinit.kubeinit.kubeinit_okd : Disable master schedulable if there is at least one worker node" color="#45af1d" id=task_dcb890bc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Disable master schedulable if there is at least one worker node"]
		role_8580521e -> task_dcb890bc [label="34 [when: kubeinit_compute_count|int > 0]" color="#45af1d" fontcolor="#45af1d" id=edge_b069a43f labeltooltip="34 [when: kubeinit_compute_count|int > 0]" tooltip="34 [when: kubeinit_compute_count|int > 0]"]
		task_775d9aa8 [label="kubeinit.kubeinit.kubeinit_okd : Render ignition files" color="#45af1d" id=task_775d9aa8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render ignition files"]
		role_8580521e -> task_775d9aa8 [label="35 " color="#45af1d" fontcolor="#45af1d" id=edge_bac68314 labeltooltip="35 " tooltip="35 "]
		task_34a1bb54 [label="kubeinit.kubeinit.kubeinit_okd : Apply permissions to the apache folder" color="#45af1d" id=task_34a1bb54 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Apply permissions to the apache folder"]
		role_8580521e -> task_34a1bb54 [label="36 " color="#45af1d" fontcolor="#45af1d" id=edge_05abf9c8 labeltooltip="36 " tooltip="36 "]
		task_ce94f7ae [label="kubeinit.kubeinit.kubeinit_okd : Create kube directory" color="#45af1d" id=task_ce94f7ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create kube directory"]
		role_8580521e -> task_ce94f7ae [label="37 " color="#45af1d" fontcolor="#45af1d" id=edge_49f3fbfc labeltooltip="37 " tooltip="37 "]
		task_5e074d6e [label="kubeinit.kubeinit.kubeinit_okd : Autoload kubeconfig" color="#45af1d" id=task_5e074d6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Autoload kubeconfig"]
		role_8580521e -> task_5e074d6e [label="38 " color="#45af1d" fontcolor="#45af1d" id=edge_e0a62fa4 labeltooltip="38 " tooltip="38 "]
	}
	subgraph "task-prepare-cluster" {
		role_b13e9abb [label="[role] task-prepare-cluster" color="#45af1d" id=role_b13e9abb tooltip="task-prepare-cluster"]
		role_b13e9abb -> role_e319ab5c [label="1 [when: not services_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_691c23b8 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b13e9abb -> role_8580521e [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_236e8bfc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b3539e6c [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_b3539e6c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_041d14ba [label="[role] Prepare environment if not prepared" color="#45af1d" id=role_041d14ba tooltip="Prepare environment if not prepared"]
		role_041d14ba -> role_b3539e6c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_e7a92d70 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_9491b1c9 [label="[role] task-download-images" color="#45af1d" id=role_9491b1c9 tooltip="task-download-images"]
		role_9491b1c9 -> role_041d14ba [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_a0db96d1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6b386bd3 [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_6b386bd3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_1c44de35 [label="[role] Prepare environment if needed" color="#45af1d" id=role_1c44de35 tooltip="Prepare environment if needed"]
		role_1c44de35 -> role_6b386bd3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_b2abeefc labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_19537614 [label="[role] Gather network and host facts for guest" color="#45af1d" id=role_19537614 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_ecef73f5 [label="[role] Prepare services if needed" color="#45af1d" id=role_ecef73f5 tooltip="Prepare services if needed"]
		role_ecef73f5 -> role_1c44de35 [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_91d48d0d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ecef73f5 -> role_19537614 [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_c4fba476 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_ed0a5bf9 [label="[role] Deploy the cluster bootstrap node" color="#45af1d" id=role_ed0a5bf9 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_90fac22d [label="[role] Deploy the cluster controller nodes" color="#45af1d" id=role_90fac22d tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_c48d468c [label="[role] Deploy the cluster compute nodes" color="#45af1d" id=role_c48d468c tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_cc9b683f [label="[role] Delegate to the distro role to deploy the cluster" color="#45af1d" id=role_cc9b683f tooltip="Delegate to the distro role to deploy the cluster"]
		role_cc9b683f -> role_ed0a5bf9 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_e41c34ff labeltooltip="1 " tooltip="1 "]
		role_cc9b683f -> role_90fac22d [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_40464505 labeltooltip="2 " tooltip="2 "]
		role_cc9b683f -> role_c48d468c [label="3 " color="#45af1d" fontcolor="#45af1d" id=edge_14445b6d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_537e65ba [label="[role] task-deploy-cluster" color="#45af1d" id=role_537e65ba tooltip="task-deploy-cluster"]
		role_537e65ba -> role_ecef73f5 [label="1 [when: not services_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_c5cebca6 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_537e65ba -> role_cc9b683f [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_c8a9034a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e0f01c46 [label="[role] Read podman secrets if running from the container" color="#45af1d" id=role_e0f01c46 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_afe06407 [label="[role] Prepare environment if needed" color="#45af1d" id=role_afe06407 tooltip="Prepare environment if needed"]
		role_afe06407 -> role_e0f01c46 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#45af1d" fontcolor="#45af1d" id=edge_076ef26f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_6f6c5ad8 [label="[role] Gather network and host facts for guest" color="#45af1d" id=role_6f6c5ad8 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d5ece3e1 [label="[role] Prepare services if needed" color="#45af1d" id=role_d5ece3e1 tooltip="Prepare services if needed"]
		role_d5ece3e1 -> role_afe06407 [label="1 [when: not environment_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_ed59174f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d5ece3e1 -> role_6f6c5ad8 [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_48b1124b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_21466ad0 [label="[role] Configure NFS" color="#45af1d" id=role_21466ad0 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_8f64ef76 [label="[role] Deploy the apps" color="#45af1d" id=role_8f64ef76 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_5648540a [label="[role] Deploy KubeVirt" color="#45af1d" id=role_5648540a tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_586af5e0 [label="[role] Deploy Submariner" color="#45af1d" id=role_586af5e0 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_22edebee [label="[role] Delegate to distro role to run post-deployment tasks" color="#45af1d" id=role_22edebee tooltip="Delegate to distro role to run post-deployment tasks"]
		role_22edebee -> role_21466ad0 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#45af1d" fontcolor="#45af1d" id=edge_80774dfd labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_22edebee -> role_8f64ef76 [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_896bbea3 labeltooltip="2 " tooltip="2 "]
		role_22edebee -> role_5648540a [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#45af1d" fontcolor="#45af1d" id=edge_a201f38a labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_22edebee -> role_586af5e0 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#45af1d" fontcolor="#45af1d" id=edge_a28a6d69 labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_0a1c1dcb [label="[role] task-post-deployment" color="#45af1d" id=role_0a1c1dcb tooltip="task-post-deployment"]
		role_0a1c1dcb -> role_d5ece3e1 [label="1 [when: not services_prepared]" color="#45af1d" fontcolor="#45af1d" id=edge_7a9ac10d labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0a1c1dcb -> role_22edebee [label="2 " color="#45af1d" fontcolor="#45af1d" id=edge_574e0290 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_9e5d35e7 -> block_d6881e3d [label=1 color="#45af1d" fontcolor="#45af1d" id=edge_3caf3259 labeltooltip=1 tooltip=1]
		subgraph cluster_block_d6881e3d {
			block_d6881e3d [label="[block] Prepare the environment" color="#45af1d" id=block_d6881e3d labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_d6881e3d -> role_117c9bd4 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_e55712fd labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_c5a0cb56 [label=2 color="#45af1d" fontcolor="#45af1d" id=edge_9b9fa2c0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_c5a0cb56 {
			block_c5a0cb56 [label="[block] Cleanup hypervisors" color="#45af1d" id=block_c5a0cb56 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_c5a0cb56 -> role_e5def307 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_f8831a2d labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_1f018476 [label=3 color="#45af1d" fontcolor="#45af1d" id=edge_06ca0a0b labeltooltip=3 tooltip=3]
		subgraph cluster_block_1f018476 {
			block_1f018476 [label="[block] Run validations on cluster resources" color="#45af1d" id=block_1f018476 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_1f018476 -> role_ba0398d1 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_1d282f6b labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_cbf6e112 [label=4 color="#45af1d" fontcolor="#45af1d" id=edge_98484d7d labeltooltip=4 tooltip=4]
		subgraph cluster_block_cbf6e112 {
			block_cbf6e112 [label="[block] Create the cluster network resources" color="#45af1d" id=block_cbf6e112 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_cbf6e112 -> role_660e4b98 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_4b38df8b labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_71ceff3f [label=5 color="#45af1d" fontcolor="#45af1d" id=edge_0364ca32 labeltooltip=5 tooltip=5]
		subgraph cluster_block_71ceff3f {
			block_71ceff3f [label="[block] Create services the cluster will need" color="#45af1d" id=block_71ceff3f labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_71ceff3f -> role_cda128f7 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_26eac577 labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_d6a108b3 [label=6 color="#45af1d" fontcolor="#45af1d" id=edge_2410d279 labeltooltip=6 tooltip=6]
		subgraph cluster_block_d6a108b3 {
			block_d6a108b3 [label="[block] Prepare to deploy the cluster" color="#45af1d" id=block_d6a108b3 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_d6a108b3 -> role_b13e9abb [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_12c944e0 labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_afe41287 [label=7 color="#45af1d" fontcolor="#45af1d" id=edge_0c8b0667 labeltooltip=7 tooltip=7]
		subgraph cluster_block_afe41287 {
			block_afe41287 [label="[block] Download cloud images" color="#45af1d" id=block_afe41287 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_afe41287 -> role_9491b1c9 [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_45c6f1f8 labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_cc852793 [label=8 color="#45af1d" fontcolor="#45af1d" id=edge_40e71dcb labeltooltip=8 tooltip=8]
		subgraph cluster_block_cc852793 {
			block_cc852793 [label="[block] Deploy the cluster" color="#45af1d" id=block_cc852793 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_cc852793 -> role_537e65ba [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_0976f1ec labeltooltip="1 " tooltip="1 "]
		}
		play_9e5d35e7 -> block_19f3fe4d [label=9 color="#45af1d" fontcolor="#45af1d" id=edge_352bbd5c labeltooltip=9 tooltip=9]
		subgraph cluster_block_19f3fe4d {
			block_19f3fe4d [label="[block] Run any post-deployment tasks" color="#45af1d" id=block_19f3fe4d labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_19f3fe4d -> role_0a1c1dcb [label="1 " color="#45af1d" fontcolor="#45af1d" id=edge_9b54b34e labeltooltip="1 " tooltip="1 "]
		}
	}
}
