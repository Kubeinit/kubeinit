digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_a880a032 [label="Play: Initial setup (1)" color="#a12b89" fontcolor="#ffffff" id=play_a880a032 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_a880a032 [label="1 " color="#a12b89" fontcolor="#a12b89" id=edge_89cd1193 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_c635f7a0 [label="[role] Read podman secrets if running from the container" color="#a12b89" id=role_c635f7a0 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_6c4757cd [label="[role] task-gather-facts" color="#a12b89" id=role_6c4757cd tooltip="task-gather-facts"]
		role_6c4757cd -> role_c635f7a0 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a12b89" fontcolor="#a12b89" id=edge_298f4f09 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5e99aed5 [label="[role] Read podman secrets if running from the container" color="#a12b89" id=role_5e99aed5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_7910aa04 [label="[role] task-prepare-hypervisors" color="#a12b89" id=role_7910aa04 tooltip="task-prepare-hypervisors"]
		role_7910aa04 -> role_5e99aed5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a12b89" fontcolor="#a12b89" id=edge_162a0cc6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_a880a032 -> block_9571e6c0 [label=1 color="#a12b89" fontcolor="#a12b89" id=edge_11ab3265 labeltooltip=1 tooltip=1]
		subgraph cluster_block_9571e6c0 {
			block_9571e6c0 [label="[block] Gather facts about the deployment environment" color="#a12b89" id=block_9571e6c0 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_9571e6c0 -> role_6c4757cd [label="1 " color="#a12b89" fontcolor="#a12b89" id=edge_f6e2941a labeltooltip="1 " tooltip="1 "]
		}
		play_a880a032 -> block_9fe0c0aa [label=2 color="#a12b89" fontcolor="#a12b89" id=edge_c501959a labeltooltip=2 tooltip=2]
		subgraph cluster_block_9fe0c0aa {
			block_9fe0c0aa [label="[block] Prepare the hypervisors" color="#a12b89" id=block_9fe0c0aa labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_9fe0c0aa -> role_7910aa04 [label="1 " color="#a12b89" fontcolor="#a12b89" id=edge_268c00f5 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_9ff2e8a0 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#5106c6" fontcolor="#ffffff" id=play_9ff2e8a0 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_9ff2e8a0 [label="2 " color="#5106c6" fontcolor="#5106c6" id=edge_061d0984 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_ce99c9aa [label="[role] Provision the libvirt services on the hypervisor" color="#5106c6" id=role_ce99c9aa tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_57351de2 [label="[role] Prepare each hypervisor in the deployment" color="#5106c6" id=role_57351de2 tooltip="Prepare each hypervisor in the deployment"]
		role_57351de2 -> role_ce99c9aa [label="1 " color="#5106c6" fontcolor="#5106c6" id=edge_ca63e8e2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_9ff2e8a0 -> block_9760b942 [label=1 color="#5106c6" fontcolor="#5106c6" id=edge_8702eddd labeltooltip=1 tooltip=1]
		subgraph cluster_block_9760b942 {
			block_9760b942 [label="[block] Prepare individual hypervisors" color="#5106c6" id=block_9760b942 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_9760b942 -> role_57351de2 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#5106c6" fontcolor="#5106c6" id=edge_93c39c82 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_db8fb6db [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#2d9f73" fontcolor="#ffffff" id=play_db8fb6db shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_db8fb6db [label="3 " color="#2d9f73" fontcolor="#2d9f73" id=edge_70e8bef0 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_04866c5c [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_04866c5c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_a956f3bc [label="[role] task-prepare-environment" color="#2d9f73" id=role_a956f3bc tooltip="task-prepare-environment"]
		role_a956f3bc -> role_04866c5c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_ffc8d48f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_60f991cd [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_60f991cd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_872a863a [label="[role] Prepare environment if not prepared" color="#2d9f73" id=role_872a863a tooltip="Prepare environment if not prepared"]
		role_872a863a -> role_60f991cd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_9602bb42 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_aa43ff07 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2d9f73" id=role_aa43ff07 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_26191288 [label="[role] task-cleanup-hypervisors" color="#2d9f73" id=role_26191288 tooltip="task-cleanup-hypervisors"]
		role_26191288 -> role_872a863a [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_e486ef6d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_26191288 -> role_aa43ff07 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_15f8f798 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_33d5a1f4 [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_33d5a1f4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c3b417e8 [label="[role] Prepare environment if not prepared" color="#2d9f73" id=role_c3b417e8 tooltip="Prepare environment if not prepared"]
		role_c3b417e8 -> role_33d5a1f4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_a47a60cd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_3e90b072 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2d9f73" id=role_3e90b072 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_91d624e6 [label="[role] Cleanup hypervisors if needed" color="#2d9f73" id=role_91d624e6 tooltip="Cleanup hypervisors if needed"]
		role_91d624e6 -> role_c3b417e8 [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_77498a18 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_91d624e6 -> role_3e90b072 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_a4521827 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_db07446e [label="[role] task-run-validations" color="#2d9f73" id=role_db07446e tooltip="task-run-validations"]
		role_db07446e -> role_91d624e6 [label="1 [when: not hypervisors_cleaned]" color="#2d9f73" fontcolor="#2d9f73" id=edge_cbda509f labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_f9035d98 [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_f9035d98 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_a58ccbd1 [label="[role] Prepare environment if not prepared" color="#2d9f73" id=role_a58ccbd1 tooltip="Prepare environment if not prepared"]
		role_a58ccbd1 -> role_f9035d98 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_c959bd94 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_80c50392 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2d9f73" id=role_80c50392 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_a9956931 [label="[role] Cleanup hypervisors if needed" color="#2d9f73" id=role_a9956931 tooltip="Cleanup hypervisors if needed"]
		role_a9956931 -> role_a58ccbd1 [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_f7c2d7e0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a9956931 -> role_80c50392 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_0b199151 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_cd1b08b3 [label="[role] task-create-network" color="#2d9f73" id=role_cd1b08b3 tooltip="task-create-network"]
		role_cd1b08b3 -> role_a9956931 [label="1 [when: not hypervisors_cleaned]" color="#2d9f73" fontcolor="#2d9f73" id=edge_51b69236 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_457f76fd [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_457f76fd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_4c7f1095 [label="[role] Prepare environment if not prepared" color="#2d9f73" id=role_4c7f1095 tooltip="Prepare environment if not prepared"]
		role_4c7f1095 -> role_457f76fd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_b3eaea2a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_dc5b768f [label="[role] Prepare podman" color="#2d9f73" id=role_dc5b768f tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_f27e3961 [label="[role] Create systemd service for podman container" color="#2d9f73" id=role_f27e3961 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_ce941577 [label="[role] Configure Bind" color="#2d9f73" id=role_ce941577 tooltip="Configure Bind"]
		role_ce941577 -> role_f27e3961 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_7b9d100d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_9ba7d5f8 [label="[role] Create systemd service for podman container" color="#2d9f73" id=role_9ba7d5f8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_b1814220 [label="[role] Configure Dnsmasq" color="#2d9f73" id=role_b1814220 tooltip="Configure Dnsmasq"]
		role_b1814220 -> role_9ba7d5f8 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_4edce8ec labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a184daee [label="[role] Create systemd service for podman container" color="#2d9f73" id=role_a184daee tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_a1fb1ef1 [label="[role] Configure HAProxy" color="#2d9f73" id=role_a1fb1ef1 tooltip="Configure HAProxy"]
		role_a1fb1ef1 -> role_a184daee [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_b79476f3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_76c1b572 [label="[role] Create systemd service for podman container" color="#2d9f73" id=role_76c1b572 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_f48d57b4 [label="[role] Configure Nexus" color="#2d9f73" id=role_f48d57b4 tooltip="Configure Nexus"]
		role_f48d57b4 -> role_76c1b572 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_0bfa7e19 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_74e13e76 [label="[role] Create systemd service for podman container" color="#2d9f73" id=role_74e13e76 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_e4042b1f [label="[role] Configure Apache" color="#2d9f73" id=role_e4042b1f tooltip="Configure Apache"]
		role_e4042b1f -> role_74e13e76 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_b57ea923 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f1955fac [label="[role] Create systemd service for podman container" color="#2d9f73" id=role_f1955fac tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_ae826230 [label="[role] Configure a local container image registry" color="#2d9f73" id=role_ae826230 tooltip="Configure a local container image registry"]
		role_ae826230 -> role_f1955fac [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_014332ae labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_719cc0c9 [label="[role] task-create-services" color="#2d9f73" id=role_719cc0c9 tooltip="task-create-services"]
		role_719cc0c9 -> role_4c7f1095 [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_733a3435 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_719cc0c9 -> role_dc5b768f [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_bdf36e2b labeltooltip="2 " tooltip="2 "]
		role_719cc0c9 -> role_ce941577 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_f10ba31a labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_719cc0c9 -> role_b1814220 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_6b8c1e89 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_719cc0c9 -> role_a1fb1ef1 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_c33592a1 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_719cc0c9 -> role_f48d57b4 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_537a3f79 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_719cc0c9 -> role_e4042b1f [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_2bbaf22d labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_719cc0c9 -> role_ae826230 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_30fd6e7f labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1ddd935e [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_1ddd935e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d330c749 [label="[role] Prepare environment if needed" color="#2d9f73" id=role_d330c749 tooltip="Prepare environment if needed"]
		role_d330c749 -> role_1ddd935e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_39ad1efd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_cc9d6e9c [label="[role] Gather network and host facts for guest" color="#2d9f73" id=role_cc9d6e9c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_938d7b82 [label="[role] Prepare services if needed" color="#2d9f73" id=role_938d7b82 tooltip="Prepare services if needed"]
		role_938d7b82 -> role_d330c749 [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_48f751a0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_938d7b82 -> role_cc9d6e9c [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_fddaf31d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6325fe55 [label="[role] Create systemd service for podman container" color="#2d9f73" id=role_6325fe55 tooltip="Create systemd service for podman container"]
		task_3917bad9 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#2d9f73" id=task_3917bad9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_6325fe55 -> task_3917bad9 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_d740a317 labeltooltip="1 " tooltip="1 "]
		task_e570435f [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#2d9f73" id=task_e570435f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_6325fe55 -> task_e570435f [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_7681e47c labeltooltip="2 " tooltip="2 "]
		task_d18f24aa [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#2d9f73" id=task_d18f24aa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_6325fe55 -> task_d18f24aa [label="3 " color="#2d9f73" fontcolor="#2d9f73" id=edge_b89de150 labeltooltip="3 " tooltip="3 "]
		task_2c97819b [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#2d9f73" id=task_2c97819b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_6325fe55 -> task_2c97819b [label="4 " color="#2d9f73" fontcolor="#2d9f73" id=edge_97923b84 labeltooltip="4 " tooltip="4 "]
		task_10b176b2 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#2d9f73" id=task_10b176b2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_6325fe55 -> task_10b176b2 [label="5 " color="#2d9f73" fontcolor="#2d9f73" id=edge_12f3affd labeltooltip="5 " tooltip="5 "]
		task_339a470c [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#2d9f73" id=task_339a470c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_6325fe55 -> task_339a470c [label="6 " color="#2d9f73" fontcolor="#2d9f73" id=edge_086133f0 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_5b8accc1 [label="[role] Gather network and host facts for provision service" color="#2d9f73" id=role_5b8accc1 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_49c0e876 [label="[role] Setup the cluster provision container" color="#2d9f73" id=role_49c0e876 tooltip="Setup the cluster provision container"]
		task_a844ec22 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#2d9f73" id=task_a844ec22 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_49c0e876 -> task_a844ec22 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_0662c0df labeltooltip="1 " tooltip="1 "]
		task_9efb33f1 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#2d9f73" id=task_9efb33f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_49c0e876 -> task_9efb33f1 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_fd997ac9 labeltooltip="2 " tooltip="2 "]
		task_b069df7e [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#2d9f73" id=task_b069df7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_49c0e876 -> task_b069df7e [label="3 [when: kubeinit_deployment_os == 'centos']" color="#2d9f73" fontcolor="#2d9f73" id=edge_4d5a3b67 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_993a9574 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2d9f73" id=task_993a9574 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_49c0e876 -> task_993a9574 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#2d9f73" fontcolor="#2d9f73" id=edge_4f7f65cf labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_4f40f011 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2d9f73" id=task_4f40f011 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_49c0e876 -> task_4f40f011 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#2d9f73" fontcolor="#2d9f73" id=edge_224c82b1 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_c5601fba [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#2d9f73" id=task_c5601fba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_49c0e876 -> task_c5601fba [label="6 [when: kubeinit_deployment_os == 'debian']" color="#2d9f73" fontcolor="#2d9f73" id=edge_41ac81a2 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_c126581d [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2d9f73" id=task_c126581d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_49c0e876 -> task_c126581d [label="7 [when: kubeinit_deployment_os == 'debian']" color="#2d9f73" fontcolor="#2d9f73" id=edge_817b7da3 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_06e2312f [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2d9f73" id=task_06e2312f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_49c0e876 -> task_06e2312f [label="8 [when: kubeinit_deployment_os == 'debian']" color="#2d9f73" fontcolor="#2d9f73" id=edge_f25e996c labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_7d822e70 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#2d9f73" id=task_7d822e70 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_49c0e876 -> task_7d822e70 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#2d9f73" fontcolor="#2d9f73" id=edge_b68302bc labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_e81384ba [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#2d9f73" id=task_e81384ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_49c0e876 -> task_e81384ba [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#2d9f73" fontcolor="#2d9f73" id=edge_5bf75777 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_4a205e23 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2d9f73" id=task_4a205e23 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_49c0e876 -> task_4a205e23 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#2d9f73" fontcolor="#2d9f73" id=edge_5ece12dc labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_ac3f9819 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2d9f73" id=task_ac3f9819 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_49c0e876 -> task_ac3f9819 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#2d9f73" fontcolor="#2d9f73" id=edge_5f71ecc6 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_3233a933 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#2d9f73" id=task_3233a933 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_49c0e876 -> task_3233a933 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#2d9f73" fontcolor="#2d9f73" id=edge_1a76d076 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_2e33c588 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#2d9f73" id=task_2e33c588 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_49c0e876 -> task_2e33c588 [label="14 " color="#2d9f73" fontcolor="#2d9f73" id=edge_a103b364 labeltooltip="14 " tooltip="14 "]
		task_70f2c1c0 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#2d9f73" id=task_70f2c1c0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_49c0e876 -> task_70f2c1c0 [label="15 " color="#2d9f73" fontcolor="#2d9f73" id=edge_13810da9 labeltooltip="15 " tooltip="15 "]
		task_db937273 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#2d9f73" id=task_db937273 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_49c0e876 -> task_db937273 [label="16 " color="#2d9f73" fontcolor="#2d9f73" id=edge_412e93e7 labeltooltip="16 " tooltip="16 "]
		task_55779afe [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#2d9f73" id=task_55779afe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_49c0e876 -> task_55779afe [label="17 " color="#2d9f73" fontcolor="#2d9f73" id=edge_5a52a092 labeltooltip="17 " tooltip="17 "]
		task_d156c95f [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#2d9f73" id=task_d156c95f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_49c0e876 -> task_d156c95f [label="18 " color="#2d9f73" fontcolor="#2d9f73" id=edge_a38ea0cd labeltooltip="18 " tooltip="18 "]
		task_b7e41c73 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#2d9f73" id=task_b7e41c73 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_49c0e876 -> task_b7e41c73 [label="19 " color="#2d9f73" fontcolor="#2d9f73" id=edge_801dab43 labeltooltip="19 " tooltip="19 "]
		task_7c6c596e [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#2d9f73" id=task_7c6c596e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_49c0e876 -> task_7c6c596e [label="20 " color="#2d9f73" fontcolor="#2d9f73" id=edge_539d2adf labeltooltip="20 " tooltip="20 "]
		task_929eb904 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#2d9f73" id=task_929eb904 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_49c0e876 -> task_929eb904 [label="21 " color="#2d9f73" fontcolor="#2d9f73" id=edge_5cc1a12a labeltooltip="21 " tooltip="21 "]
		task_16e2c95f [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#2d9f73" id=task_16e2c95f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_49c0e876 -> task_16e2c95f [label="22 " color="#2d9f73" fontcolor="#2d9f73" id=edge_ec68b720 labeltooltip="22 " tooltip="22 "]
		role_49c0e876 -> role_6325fe55 [label="23 " color="#2d9f73" fontcolor="#2d9f73" id=edge_81bb6593 labeltooltip="23 " tooltip="23 "]
		task_1c05a275 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#2d9f73" id=task_1c05a275 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_49c0e876 -> task_1c05a275 [label="24 " color="#2d9f73" fontcolor="#2d9f73" id=edge_cb1fd6d2 labeltooltip="24 " tooltip="24 "]
		task_66e68b39 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#2d9f73" id=task_66e68b39 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_49c0e876 -> task_66e68b39 [label="25 " color="#2d9f73" fontcolor="#2d9f73" id=edge_fa704283 labeltooltip="25 " tooltip="25 "]
		task_63fcbf1d [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#2d9f73" id=task_63fcbf1d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_49c0e876 -> task_63fcbf1d [label="26 " color="#2d9f73" fontcolor="#2d9f73" id=edge_01ace442 labeltooltip="26 " tooltip="26 "]
		task_534976ff [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#2d9f73" id=task_534976ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_49c0e876 -> task_534976ff [label="27 " color="#2d9f73" fontcolor="#2d9f73" id=edge_0a2250f9 labeltooltip="27 " tooltip="27 "]
		task_23ab3486 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#2d9f73" id=task_23ab3486 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_49c0e876 -> task_23ab3486 [label="28 " color="#2d9f73" fontcolor="#2d9f73" id=edge_36c08940 labeltooltip="28 " tooltip="28 "]
		task_95a19616 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#2d9f73" id=task_95a19616 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_49c0e876 -> task_95a19616 [label="29 " color="#2d9f73" fontcolor="#2d9f73" id=edge_187a9d35 labeltooltip="29 " tooltip="29 "]
		task_b0f08559 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#2d9f73" id=task_b0f08559 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_49c0e876 -> task_b0f08559 [label="30 " color="#2d9f73" fontcolor="#2d9f73" id=edge_8003e8fc labeltooltip="30 " tooltip="30 "]
		task_4c8fae80 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#2d9f73" id=task_4c8fae80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_49c0e876 -> task_4c8fae80 [label="31 " color="#2d9f73" fontcolor="#2d9f73" id=edge_e38d0363 labeltooltip="31 " tooltip="31 "]
		task_89a19014 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#2d9f73" id=task_89a19014 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_49c0e876 -> task_89a19014 [label="32 " color="#2d9f73" fontcolor="#2d9f73" id=edge_e9c2cb37 labeltooltip="32 " tooltip="32 "]
		task_7453cb7f [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#2d9f73" id=task_7453cb7f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_49c0e876 -> task_7453cb7f [label="33 " color="#2d9f73" fontcolor="#2d9f73" id=edge_244db258 labeltooltip="33 " tooltip="33 "]
		task_13129807 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#2d9f73" id=task_13129807 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_49c0e876 -> task_13129807 [label="34 " color="#2d9f73" fontcolor="#2d9f73" id=edge_4c56d852 labeltooltip="34 " tooltip="34 "]
		task_eb1871b4 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#2d9f73" id=task_eb1871b4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_49c0e876 -> task_eb1871b4 [label="35 " color="#2d9f73" fontcolor="#2d9f73" id=edge_829878a5 labeltooltip="35 " tooltip="35 "]
		task_a3400d39 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#2d9f73" id=task_a3400d39 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_49c0e876 -> task_a3400d39 [label="36 " color="#2d9f73" fontcolor="#2d9f73" id=edge_d32517e0 labeltooltip="36 " tooltip="36 "]
		task_84a679b0 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#2d9f73" id=task_84a679b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_49c0e876 -> task_84a679b0 [label="37 " color="#2d9f73" fontcolor="#2d9f73" id=edge_360b3fed labeltooltip="37 " tooltip="37 "]
		task_63a86d1e [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#2d9f73" id=task_63a86d1e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_49c0e876 -> task_63a86d1e [label="38 " color="#2d9f73" fontcolor="#2d9f73" id=edge_12dff4fa labeltooltip="38 " tooltip="38 "]
		task_337a6fa6 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#2d9f73" id=task_337a6fa6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_49c0e876 -> task_337a6fa6 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#2d9f73" fontcolor="#2d9f73" id=edge_ea233478 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_2d08abfa [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#2d9f73" id=task_2d08abfa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_49c0e876 -> task_2d08abfa [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2d9f73" fontcolor="#2d9f73" id=edge_443535c1 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_b2ffa187 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#2d9f73" id=task_b2ffa187 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_49c0e876 -> task_b2ffa187 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2d9f73" fontcolor="#2d9f73" id=edge_53f70b85 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_0f892153 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#2d9f73" id=task_0f892153 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_49c0e876 -> task_0f892153 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#2d9f73" fontcolor="#2d9f73" id=edge_d2e70228 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_f606ae7e [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#2d9f73" id=task_f606ae7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_49c0e876 -> task_f606ae7e [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2d9f73" fontcolor="#2d9f73" id=edge_09e292c3 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_1722f609 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#2d9f73" id=task_1722f609 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_49c0e876 -> task_1722f609 [label="44 " color="#2d9f73" fontcolor="#2d9f73" id=edge_17f69b09 labeltooltip="44 " tooltip="44 "]
		task_f292a658 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#2d9f73" id=task_f292a658 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_49c0e876 -> task_f292a658 [label="45 " color="#2d9f73" fontcolor="#2d9f73" id=edge_e5574d50 labeltooltip="45 " tooltip="45 "]
		task_059fca4c [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#2d9f73" id=task_059fca4c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_49c0e876 -> task_059fca4c [label="46 " color="#2d9f73" fontcolor="#2d9f73" id=edge_e7df5dd0 labeltooltip="46 " tooltip="46 "]
		task_3cc02df2 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#2d9f73" id=task_3cc02df2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_49c0e876 -> task_3cc02df2 [label="47 " color="#2d9f73" fontcolor="#2d9f73" id=edge_8587a45b labeltooltip="47 " tooltip="47 "]
		task_a35a66de [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#2d9f73" id=task_a35a66de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_49c0e876 -> task_a35a66de [label="48 " color="#2d9f73" fontcolor="#2d9f73" id=edge_ca7d5fcf labeltooltip="48 " tooltip="48 "]
		task_c61a99af [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#2d9f73" id=task_c61a99af shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_49c0e876 -> task_c61a99af [label="49 " color="#2d9f73" fontcolor="#2d9f73" id=edge_daa64012 labeltooltip="49 " tooltip="49 "]
		task_f582a0da [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#2d9f73" id=task_f582a0da shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_49c0e876 -> task_f582a0da [label="50 " color="#2d9f73" fontcolor="#2d9f73" id=edge_06e0493a labeltooltip="50 " tooltip="50 "]
		task_b85508f4 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#2d9f73" id=task_b85508f4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_49c0e876 -> task_b85508f4 [label="51 " color="#2d9f73" fontcolor="#2d9f73" id=edge_82bc89c1 labeltooltip="51 " tooltip="51 "]
		task_858c3008 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#2d9f73" id=task_858c3008 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_49c0e876 -> task_858c3008 [label="52 " color="#2d9f73" fontcolor="#2d9f73" id=edge_dbe2b94c labeltooltip="52 " tooltip="52 "]
		role_49c0e876 -> role_5b8accc1 [label="53 " color="#2d9f73" fontcolor="#2d9f73" id=edge_c56ed695 labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_739c3ab3 [label="[role] Delegate to the distro role to prepare the cluster" color="#2d9f73" id=role_739c3ab3 tooltip="Delegate to the distro role to prepare the cluster"]
		task_873a08d7 [label="kubeinit.kubeinit.kubeinit_okd : Override initial pullsecret with fake auth" color="#2d9f73" id=task_873a08d7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Override initial pullsecret with fake auth"]
		role_739c3ab3 -> task_873a08d7 [label="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]" color="#2d9f73" fontcolor="#2d9f73" id=edge_b7f78375 labeltooltip="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]" tooltip="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]"]
		task_6ac009c1 [label="kubeinit.kubeinit.kubeinit_okd : Check for openshift pullsecret in container secrets" color="#2d9f73" id=task_6ac009c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Check for openshift pullsecret in container secrets"]
		role_739c3ab3 -> task_6ac009c1 [label="2 [when: kubeinit_okd_openshift_deploy and kubeinit_facts_hostvars.container_run|bool]" color="#2d9f73" fontcolor="#2d9f73" id=edge_ade15848 labeltooltip="2 [when: kubeinit_okd_openshift_deploy and kubeinit_facts_hostvars.container_run|bool]" tooltip="2 [when: kubeinit_okd_openshift_deploy and kubeinit_facts_hostvars.container_run|bool]"]
		task_53bf142c [label="kubeinit.kubeinit.kubeinit_okd : Read openshift pullsecret" color="#2d9f73" id=task_53bf142c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Read openshift pullsecret"]
		role_739c3ab3 -> task_53bf142c [label="3 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
kubeinit_okd_openshift_pullsecret is defined and
kubeinit_okd_openshift_pullsecret
]" color="#2d9f73" fontcolor="#2d9f73" id=edge_d481cfa1 labeltooltip="3 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
kubeinit_okd_openshift_pullsecret is defined and
kubeinit_okd_openshift_pullsecret
]" tooltip="3 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
kubeinit_okd_openshift_pullsecret is defined and
kubeinit_okd_openshift_pullsecret
]"]
		task_6045b2d2 [label="kubeinit.kubeinit.kubeinit_okd : Set pullsecret content" color="#2d9f73" id=task_6045b2d2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Set pullsecret content"]
		role_739c3ab3 -> task_6045b2d2 [label="4 [when: kubeinit_okd_openshift_deploy and _result_openshift_pullsecret is defined]" color="#2d9f73" fontcolor="#2d9f73" id=edge_ce9e5bb1 labeltooltip="4 [when: kubeinit_okd_openshift_deploy and _result_openshift_pullsecret is defined]" tooltip="4 [when: kubeinit_okd_openshift_deploy and _result_openshift_pullsecret is defined]"]
		task_efc2904f [label="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret using individual auth values" color="#2d9f73" id=task_efc2904f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret using individual auth values"]
		role_739c3ab3 -> task_efc2904f [label="5 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
not kubeinit_okd_openshift_pullsecret is defined or
not kubeinit_okd_openshift_pullsecret
]" color="#2d9f73" fontcolor="#2d9f73" id=edge_05cfc979 labeltooltip="5 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
not kubeinit_okd_openshift_pullsecret is defined or
not kubeinit_okd_openshift_pullsecret
]" tooltip="5 [when: kubeinit_okd_openshift_deploy and not kubeinit_facts_hostvars.container_run|bool and
not kubeinit_okd_openshift_pullsecret is defined or
not kubeinit_okd_openshift_pullsecret
]"]
		task_f29dd58b [label="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret" color="#2d9f73" id=task_f29dd58b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret"]
		role_739c3ab3 -> task_f29dd58b [label="6 [when: kubeinit_okd_openshift_deploy]" color="#2d9f73" fontcolor="#2d9f73" id=edge_08cb20cd labeltooltip="6 [when: kubeinit_okd_openshift_deploy]" tooltip="6 [when: kubeinit_okd_openshift_deploy]"]
		task_1dc23e9c [label="kubeinit.kubeinit.kubeinit_okd : Append openshift auth to pullsecret" color="#2d9f73" id=task_1dc23e9c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Append openshift auth to pullsecret"]
		role_739c3ab3 -> task_1dc23e9c [label="7 [when: kubeinit_okd_openshift_deploy]" color="#2d9f73" fontcolor="#2d9f73" id=edge_ed5fdac5 labeltooltip="7 [when: kubeinit_okd_openshift_deploy]" tooltip="7 [when: kubeinit_okd_openshift_deploy]"]
		task_d5a0ee7e [label="kubeinit.kubeinit.kubeinit_okd : Override final openshift kubeinit_okd_registry_pullsecret with both auths" color="#2d9f73" id=task_d5a0ee7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Override final openshift kubeinit_okd_registry_pullsecret with both auths"]
		role_739c3ab3 -> task_d5a0ee7e [label="8 [when: kubeinit_okd_openshift_deploy]" color="#2d9f73" fontcolor="#2d9f73" id=edge_27abb0d7 labeltooltip="8 [when: kubeinit_okd_openshift_deploy]" tooltip="8 [when: kubeinit_okd_openshift_deploy]"]
		task_f2a2eb68 [label="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_okd_registry_pullsecret before overriding kubeinit_registry_pullsecret" color="#2d9f73" id=task_f2a2eb68 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_okd_registry_pullsecret before overriding kubeinit_registry_pullsecret"]
		role_739c3ab3 -> task_f2a2eb68 [label="9 " color="#2d9f73" fontcolor="#2d9f73" id=edge_c549e935 labeltooltip="9 " tooltip="9 "]
		task_66903f00 [label="kubeinit.kubeinit.kubeinit_okd : Assign a default pullsecret when we use a local registry and deploying OKD" color="#2d9f73" id=task_66903f00 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Assign a default pullsecret when we use a local registry and deploying OKD"]
		role_739c3ab3 -> task_66903f00 [label="10 " color="#2d9f73" fontcolor="#2d9f73" id=edge_8f2304bb labeltooltip="10 " tooltip="10 "]
		task_001db3d5 [label="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_registry_pullsecret after overriding it" color="#2d9f73" id=task_001db3d5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_registry_pullsecret after overriding it"]
		role_739c3ab3 -> task_001db3d5 [label="11 " color="#2d9f73" fontcolor="#2d9f73" id=edge_0ea036bb labeltooltip="11 " tooltip="11 "]
		role_739c3ab3 -> role_49c0e876 [label="12 " color="#2d9f73" fontcolor="#2d9f73" id=edge_fdeff904 labeltooltip="12 " tooltip="12 "]
		task_b79938f7 [label="kubeinit.kubeinit.kubeinit_okd : Render net info" color="#2d9f73" id=task_b79938f7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render net info"]
		role_739c3ab3 -> task_b79938f7 [label="13 " color="#2d9f73" fontcolor="#2d9f73" id=edge_e347922e labeltooltip="13 " tooltip="13 "]
		task_e2b31f76 [label="kubeinit.kubeinit.kubeinit_okd : Install services requirements" color="#2d9f73" id=task_e2b31f76 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Install services requirements"]
		role_739c3ab3 -> task_e2b31f76 [label="14 " color="#2d9f73" fontcolor="#2d9f73" id=edge_6092e3e1 labeltooltip="14 " tooltip="14 "]
		task_64a1243a [label="kubeinit.kubeinit.kubeinit_okd : Download okd installer" color="#2d9f73" id=task_64a1243a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download okd installer"]
		role_739c3ab3 -> task_64a1243a [label="15 " color="#2d9f73" fontcolor="#2d9f73" id=edge_1b7ac7c0 labeltooltip="15 " tooltip="15 "]
		task_68394b05 [label="kubeinit.kubeinit.kubeinit_okd : Download okd client" color="#2d9f73" id=task_68394b05 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download okd client"]
		role_739c3ab3 -> task_68394b05 [label="16 " color="#2d9f73" fontcolor="#2d9f73" id=edge_717f69f3 labeltooltip="16 " tooltip="16 "]
		task_6a420f6b [label="kubeinit.kubeinit.kubeinit_okd : Install okd client and installer" color="#2d9f73" id=task_6a420f6b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Install okd client and installer"]
		role_739c3ab3 -> task_6a420f6b [label="17 " color="#2d9f73" fontcolor="#2d9f73" id=edge_6721b69c labeltooltip="17 " tooltip="17 "]
		task_b209b54d [label="kubeinit.kubeinit.kubeinit_okd : Render the required container images" color="#2d9f73" id=task_b209b54d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the required container images"]
		role_739c3ab3 -> task_b209b54d [label="18 " color="#2d9f73" fontcolor="#2d9f73" id=edge_10c20844 labeltooltip="18 " tooltip="18 "]
		task_32859ddf [label="kubeinit.kubeinit.kubeinit_okd : Mirror OKD remote registry to local" color="#2d9f73" id=task_32859ddf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Mirror OKD remote registry to local"]
		role_739c3ab3 -> task_32859ddf [label="19 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_960067a1 labeltooltip="19 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="19 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
		task_6a209d41 [label="kubeinit.kubeinit.kubeinit_okd : Set name of CoreOS distribution" color="#2d9f73" id=task_6a209d41 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Set name of CoreOS distribution"]
		role_739c3ab3 -> task_6a209d41 [label="20 " color="#2d9f73" fontcolor="#2d9f73" id=edge_79ef448c labeltooltip="20 " tooltip="20 "]
		task_86d57682 [label="kubeinit.kubeinit.kubeinit_okd : Download kernel image" color="#2d9f73" id=task_86d57682 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download kernel image"]
		role_739c3ab3 -> task_86d57682 [label="21 " color="#2d9f73" fontcolor="#2d9f73" id=edge_e29a069a labeltooltip="21 " tooltip="21 "]
		task_23651492 [label="kubeinit.kubeinit.kubeinit_okd : Download initrd image" color="#2d9f73" id=task_23651492 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download initrd image"]
		role_739c3ab3 -> task_23651492 [label="22 " color="#2d9f73" fontcolor="#2d9f73" id=edge_0f2f000d labeltooltip="22 " tooltip="22 "]
		task_ee71b348 [label="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for FCOS" color="#2d9f73" id=task_ee71b348 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for FCOS"]
		role_739c3ab3 -> task_ee71b348 [label="23 [when: not kubeinit_okd_openshift_deploy]" color="#2d9f73" fontcolor="#2d9f73" id=edge_606de339 labeltooltip="23 [when: not kubeinit_okd_openshift_deploy]" tooltip="23 [when: not kubeinit_okd_openshift_deploy]"]
		task_25976d04 [label="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for RHCOS" color="#2d9f73" id=task_25976d04 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for RHCOS"]
		role_739c3ab3 -> task_25976d04 [label="24 [when: kubeinit_okd_openshift_deploy]" color="#2d9f73" fontcolor="#2d9f73" id=edge_30697ceb labeltooltip="24 [when: kubeinit_okd_openshift_deploy]" tooltip="24 [when: kubeinit_okd_openshift_deploy]"]
		task_1c70975e [label="kubeinit.kubeinit.kubeinit_okd : Create OKD directory for apache" color="#2d9f73" id=task_1c70975e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create OKD directory for apache"]
		role_739c3ab3 -> task_1c70975e [label="25 " color="#2d9f73" fontcolor="#2d9f73" id=edge_ca292d1f labeltooltip="25 " tooltip="25 "]
		task_b4959e12 [label="kubeinit.kubeinit.kubeinit_okd : Download initrd image" color="#2d9f73" id=task_b4959e12 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download initrd image"]
		role_739c3ab3 -> task_b4959e12 [label="26 " color="#2d9f73" fontcolor="#2d9f73" id=edge_34103099 labeltooltip="26 " tooltip="26 "]
		task_7b5bc8e0 [label="kubeinit.kubeinit.kubeinit_okd : Download rootfs image" color="#2d9f73" id=task_7b5bc8e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download rootfs image"]
		role_739c3ab3 -> task_7b5bc8e0 [label="27 " color="#2d9f73" fontcolor="#2d9f73" id=edge_fb8a860f labeltooltip="27 " tooltip="27 "]
		task_be2e8dee [label="kubeinit.kubeinit.kubeinit_okd : Download raw image" color="#2d9f73" id=task_be2e8dee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download raw image"]
		role_739c3ab3 -> task_be2e8dee [label="28 " color="#2d9f73" fontcolor="#2d9f73" id=edge_22c2905b labeltooltip="28 " tooltip="28 "]
		task_a867f02b [label="kubeinit.kubeinit.kubeinit_okd : Download signature file" color="#2d9f73" id=task_a867f02b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download signature file"]
		role_739c3ab3 -> task_a867f02b [label="29 [when: not kubeinit_okd_openshift_deploy]" color="#2d9f73" fontcolor="#2d9f73" id=edge_1e90e5f9 labeltooltip="29 [when: not kubeinit_okd_openshift_deploy]" tooltip="29 [when: not kubeinit_okd_openshift_deploy]"]
		task_20331938 [label="kubeinit.kubeinit.kubeinit_okd : Render the cluster template" color="#2d9f73" id=task_20331938 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the cluster template"]
		role_739c3ab3 -> task_20331938 [label="30 " color="#2d9f73" fontcolor="#2d9f73" id=edge_03e98213 labeltooltip="30 " tooltip="30 "]
		task_4f94c380 [label="kubeinit.kubeinit.kubeinit_okd : Backup the install config file" color="#2d9f73" id=task_4f94c380 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Backup the install config file"]
		role_739c3ab3 -> task_4f94c380 [label="31 " color="#2d9f73" fontcolor="#2d9f73" id=edge_c06006bf labeltooltip="31 " tooltip="31 "]
		task_9fdeced6 [label="kubeinit.kubeinit.kubeinit_okd : Render the bootstrap details" color="#2d9f73" id=task_9fdeced6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the bootstrap details"]
		role_739c3ab3 -> task_9fdeced6 [label="32 " color="#2d9f73" fontcolor="#2d9f73" id=edge_13c17567 labeltooltip="32 " tooltip="32 "]
		task_4e54b9dc [label="kubeinit.kubeinit.kubeinit_okd : Enable master schedulable if there are no worker nodes" color="#2d9f73" id=task_4e54b9dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Enable master schedulable if there are no worker nodes"]
		role_739c3ab3 -> task_4e54b9dc [label="33 [when: not kubeinit_compute_count|int > 0]" color="#2d9f73" fontcolor="#2d9f73" id=edge_77f34fda labeltooltip="33 [when: not kubeinit_compute_count|int > 0]" tooltip="33 [when: not kubeinit_compute_count|int > 0]"]
		task_ea9999b8 [label="kubeinit.kubeinit.kubeinit_okd : Disable master schedulable if there is at least one worker node" color="#2d9f73" id=task_ea9999b8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Disable master schedulable if there is at least one worker node"]
		role_739c3ab3 -> task_ea9999b8 [label="34 [when: kubeinit_compute_count|int > 0]" color="#2d9f73" fontcolor="#2d9f73" id=edge_11c07f1c labeltooltip="34 [when: kubeinit_compute_count|int > 0]" tooltip="34 [when: kubeinit_compute_count|int > 0]"]
		task_b8ee832d [label="kubeinit.kubeinit.kubeinit_okd : Render ignition files" color="#2d9f73" id=task_b8ee832d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render ignition files"]
		role_739c3ab3 -> task_b8ee832d [label="35 " color="#2d9f73" fontcolor="#2d9f73" id=edge_5df0be96 labeltooltip="35 " tooltip="35 "]
		task_a2f43878 [label="kubeinit.kubeinit.kubeinit_okd : Apply permissions to the apache folder" color="#2d9f73" id=task_a2f43878 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Apply permissions to the apache folder"]
		role_739c3ab3 -> task_a2f43878 [label="36 " color="#2d9f73" fontcolor="#2d9f73" id=edge_623cd3bf labeltooltip="36 " tooltip="36 "]
		task_9080368e [label="kubeinit.kubeinit.kubeinit_okd : Create kube directory" color="#2d9f73" id=task_9080368e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create kube directory"]
		role_739c3ab3 -> task_9080368e [label="37 " color="#2d9f73" fontcolor="#2d9f73" id=edge_970cada4 labeltooltip="37 " tooltip="37 "]
		task_5df63369 [label="kubeinit.kubeinit.kubeinit_okd : Autoload kubeconfig" color="#2d9f73" id=task_5df63369 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Autoload kubeconfig"]
		role_739c3ab3 -> task_5df63369 [label="38 " color="#2d9f73" fontcolor="#2d9f73" id=edge_4b702aa4 labeltooltip="38 " tooltip="38 "]
	}
	subgraph "task-prepare-cluster" {
		role_03d1afbf [label="[role] task-prepare-cluster" color="#2d9f73" id=role_03d1afbf tooltip="task-prepare-cluster"]
		role_03d1afbf -> role_938d7b82 [label="1 [when: not services_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_67d3e8c5 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_03d1afbf -> role_739c3ab3 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_589f778e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ce389cae [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_ce389cae tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e64ddfe6 [label="[role] Prepare environment if not prepared" color="#2d9f73" id=role_e64ddfe6 tooltip="Prepare environment if not prepared"]
		role_e64ddfe6 -> role_ce389cae [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_b5db92a3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_dfbb71ce [label="[role] task-download-images" color="#2d9f73" id=role_dfbb71ce tooltip="task-download-images"]
		role_dfbb71ce -> role_e64ddfe6 [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_e992102b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d2f1b193 [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_d2f1b193 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_6b387f78 [label="[role] Prepare environment if needed" color="#2d9f73" id=role_6b387f78 tooltip="Prepare environment if needed"]
		role_6b387f78 -> role_d2f1b193 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_42ec5144 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_949e4f60 [label="[role] Gather network and host facts for guest" color="#2d9f73" id=role_949e4f60 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_5e9826cf [label="[role] Prepare services if needed" color="#2d9f73" id=role_5e9826cf tooltip="Prepare services if needed"]
		role_5e9826cf -> role_6b387f78 [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_9ec76fe8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5e9826cf -> role_949e4f60 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_cf7b9986 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_d85c0929 [label="[role] Deploy the cluster bootstrap node" color="#2d9f73" id=role_d85c0929 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_7bdb3760 [label="[role] Deploy the cluster controller nodes" color="#2d9f73" id=role_7bdb3760 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_64e0727f [label="[role] Deploy the cluster compute nodes" color="#2d9f73" id=role_64e0727f tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_d96db878 [label="[role] Delegate to the distro role to deploy the cluster" color="#2d9f73" id=role_d96db878 tooltip="Delegate to the distro role to deploy the cluster"]
		role_d96db878 -> role_d85c0929 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_8244a66e labeltooltip="1 " tooltip="1 "]
		role_d96db878 -> role_7bdb3760 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_7bd6d84f labeltooltip="2 " tooltip="2 "]
		role_d96db878 -> role_64e0727f [label="3 " color="#2d9f73" fontcolor="#2d9f73" id=edge_364481e5 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_31df7286 [label="[role] task-deploy-cluster" color="#2d9f73" id=role_31df7286 tooltip="task-deploy-cluster"]
		role_31df7286 -> role_5e9826cf [label="1 [when: not services_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_12183e8c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_31df7286 -> role_d96db878 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_05b53779 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ff480248 [label="[role] Read podman secrets if running from the container" color="#2d9f73" id=role_ff480248 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_eca68a11 [label="[role] Prepare environment if needed" color="#2d9f73" id=role_eca68a11 tooltip="Prepare environment if needed"]
		role_eca68a11 -> role_ff480248 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2d9f73" fontcolor="#2d9f73" id=edge_e26f3c21 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_0ce9dcd6 [label="[role] Gather network and host facts for guest" color="#2d9f73" id=role_0ce9dcd6 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_26a7743e [label="[role] Prepare services if needed" color="#2d9f73" id=role_26a7743e tooltip="Prepare services if needed"]
		role_26a7743e -> role_eca68a11 [label="1 [when: not environment_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_d0fcd8b8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_26a7743e -> role_0ce9dcd6 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_58bff616 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_2b83e550 [label="[role] Configure NFS" color="#2d9f73" id=role_2b83e550 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_1e5b35b4 [label="[role] Deploy the apps" color="#2d9f73" id=role_1e5b35b4 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_c18b842e [label="[role] Deploy KubeVirt" color="#2d9f73" id=role_c18b842e tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_a25c954f [label="[role] Deploy Submariner" color="#2d9f73" id=role_a25c954f tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_814d1dfd [label="[role] Delegate to distro role to run post-deployment tasks" color="#2d9f73" id=role_814d1dfd tooltip="Delegate to distro role to run post-deployment tasks"]
		role_814d1dfd -> role_2b83e550 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#2d9f73" fontcolor="#2d9f73" id=edge_1a24aab9 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_814d1dfd -> role_1e5b35b4 [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_2fd08e2f labeltooltip="2 " tooltip="2 "]
		role_814d1dfd -> role_c18b842e [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#2d9f73" fontcolor="#2d9f73" id=edge_8f3329a1 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_814d1dfd -> role_a25c954f [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#2d9f73" fontcolor="#2d9f73" id=edge_7b8bcf5c labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_213465a0 [label="[role] task-post-deployment" color="#2d9f73" id=role_213465a0 tooltip="task-post-deployment"]
		role_213465a0 -> role_26a7743e [label="1 [when: not services_prepared]" color="#2d9f73" fontcolor="#2d9f73" id=edge_52b14617 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_213465a0 -> role_814d1dfd [label="2 " color="#2d9f73" fontcolor="#2d9f73" id=edge_e9d20332 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_db8fb6db -> block_24d6fdc9 [label=1 color="#2d9f73" fontcolor="#2d9f73" id=edge_912dd246 labeltooltip=1 tooltip=1]
		subgraph cluster_block_24d6fdc9 {
			block_24d6fdc9 [label="[block] Prepare the environment" color="#2d9f73" id=block_24d6fdc9 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_24d6fdc9 -> role_a956f3bc [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_1f8e33f4 labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_e9fc1f4d [label=2 color="#2d9f73" fontcolor="#2d9f73" id=edge_c41ddcad labeltooltip=2 tooltip=2]
		subgraph cluster_block_e9fc1f4d {
			block_e9fc1f4d [label="[block] Cleanup hypervisors" color="#2d9f73" id=block_e9fc1f4d labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_e9fc1f4d -> role_26191288 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_1d677ac2 labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_3924c9fc [label=3 color="#2d9f73" fontcolor="#2d9f73" id=edge_cb433e3d labeltooltip=3 tooltip=3]
		subgraph cluster_block_3924c9fc {
			block_3924c9fc [label="[block] Run validations on cluster resources" color="#2d9f73" id=block_3924c9fc labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_3924c9fc -> role_db07446e [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_cdfbd7ea labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_9b56d240 [label=4 color="#2d9f73" fontcolor="#2d9f73" id=edge_8c3d0fbb labeltooltip=4 tooltip=4]
		subgraph cluster_block_9b56d240 {
			block_9b56d240 [label="[block] Create the cluster network resources" color="#2d9f73" id=block_9b56d240 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_9b56d240 -> role_cd1b08b3 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_4fc2c2c1 labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_a27806c6 [label=5 color="#2d9f73" fontcolor="#2d9f73" id=edge_a10f6407 labeltooltip=5 tooltip=5]
		subgraph cluster_block_a27806c6 {
			block_a27806c6 [label="[block] Create services the cluster will need" color="#2d9f73" id=block_a27806c6 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_a27806c6 -> role_719cc0c9 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_8eadce23 labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_a2f02da7 [label=6 color="#2d9f73" fontcolor="#2d9f73" id=edge_75d1a94c labeltooltip=6 tooltip=6]
		subgraph cluster_block_a2f02da7 {
			block_a2f02da7 [label="[block] Prepare to deploy the cluster" color="#2d9f73" id=block_a2f02da7 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_a2f02da7 -> role_03d1afbf [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_5c1a095d labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_a2094a96 [label=7 color="#2d9f73" fontcolor="#2d9f73" id=edge_662f88cc labeltooltip=7 tooltip=7]
		subgraph cluster_block_a2094a96 {
			block_a2094a96 [label="[block] Download cloud images" color="#2d9f73" id=block_a2094a96 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_a2094a96 -> role_dfbb71ce [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_350e7f60 labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_09d1088e [label=8 color="#2d9f73" fontcolor="#2d9f73" id=edge_37b214cd labeltooltip=8 tooltip=8]
		subgraph cluster_block_09d1088e {
			block_09d1088e [label="[block] Deploy the cluster" color="#2d9f73" id=block_09d1088e labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_09d1088e -> role_31df7286 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_305c5b30 labeltooltip="1 " tooltip="1 "]
		}
		play_db8fb6db -> block_7d0ec541 [label=9 color="#2d9f73" fontcolor="#2d9f73" id=edge_9ba2794f labeltooltip=9 tooltip=9]
		subgraph cluster_block_7d0ec541 {
			block_7d0ec541 [label="[block] Run any post-deployment tasks" color="#2d9f73" id=block_7d0ec541 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_7d0ec541 -> role_213465a0 [label="1 " color="#2d9f73" fontcolor="#2d9f73" id=edge_ddf3e028 labeltooltip="1 " tooltip="1 "]
		}
	}
}
