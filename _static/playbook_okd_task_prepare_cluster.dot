digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_1d8f896d style=dotted]
	play_7222ccff [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c5074c" fontcolor="#ffffff" id=play_7222ccff shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_7222ccff [label="1 " color="#c5074c" fontcolor="#c5074c" id=edge_963d4445 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_e71d6bcf [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c5074c" id=role_e71d6bcf tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_3b36442c [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c5074c" id=role_3b36442c tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_ee6484be [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c5074c" id=role_ee6484be tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_029ca842 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c5074c" id=role_029ca842 tooltip="task-gather-facts"]
		role_029ca842 -> role_e71d6bcf [label="1 " color="#c5074c" fontcolor="#c5074c" id=edge_c3f3ca4c labeltooltip="1 " tooltip="1 "]
		role_029ca842 -> role_3b36442c [label="2 " color="#c5074c" fontcolor="#c5074c" id=edge_de7c8047 labeltooltip="2 " tooltip="2 "]
		role_029ca842 -> role_ee6484be [label="3 " color="#c5074c" fontcolor="#c5074c" id=edge_4dbdba07 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_7222ccff -> block_3a593dbc [label=1 color="#c5074c" fontcolor="#c5074c" id=edge_8c9bf34b labeltooltip=1 tooltip=1]
		subgraph cluster_block_3a593dbc {
			block_3a593dbc [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c5074c" id=block_3a593dbc labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_3a593dbc -> role_029ca842 [label="1 " color="#c5074c" fontcolor="#c5074c" id=edge_b47c3b50 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_c73fe70f [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#478583" fontcolor="#ffffff" id=play_c73fe70f shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_c73fe70f [label="2 " color="#478583" fontcolor="#478583" id=edge_90181bbe labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_b832a86c [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#478583" id=role_b832a86c tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_c73fe70f -> block_451faad4 [label=1 color="#478583" fontcolor="#478583" id=edge_5d49f55a labeltooltip=1 tooltip=1]
		subgraph cluster_block_451faad4 {
			block_451faad4 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#478583" id=block_451faad4 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_451faad4 -> role_b832a86c [label="1 " color="#478583" fontcolor="#478583" id=edge_1bfff8ae labeltooltip="1 " tooltip="1 "]
		}
	}
	play_6b779b83 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0b8dc1" fontcolor="#ffffff" id=play_6b779b83 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_6b779b83 [label="3 " color="#0b8dc1" fontcolor="#0b8dc1" id=edge_4e20a6e5 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_21eb74d7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0b8dc1" id=role_21eb74d7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_31ad65f6 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0b8dc1" id=role_31ad65f6 tooltip="Gather facts to prepare the cluster hypervisors"]
		role_31ad65f6 -> role_21eb74d7 [label="1 " color="#0b8dc1" fontcolor="#0b8dc1" id=edge_931f1204 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_bd94f12a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#0b8dc1" id=role_bd94f12a tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_75d76850 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0b8dc1" id=role_75d76850 tooltip="task-prepare-hypervisors"]
		role_75d76850 -> role_bd94f12a [label="1 " color="#0b8dc1" fontcolor="#0b8dc1" id=edge_491e156d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_6b779b83 -> block_4254b360 [label=1 color="#0b8dc1" fontcolor="#0b8dc1" id=edge_a2b64221 labeltooltip=1 tooltip=1]
		subgraph cluster_block_4254b360 {
			block_4254b360 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0b8dc1" id=block_4254b360 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_4254b360 -> role_31ad65f6 [label="1 " color="#0b8dc1" fontcolor="#0b8dc1" id=edge_25b1e7f9 labeltooltip="1 " tooltip="1 "]
		}
		play_6b779b83 -> block_84c6c390 [label=2 color="#0b8dc1" fontcolor="#0b8dc1" id=edge_56165bd5 labeltooltip=2 tooltip=2]
		subgraph cluster_block_84c6c390 {
			block_84c6c390 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0b8dc1" id=block_84c6c390 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_84c6c390 -> role_75d76850 [label="1 " color="#0b8dc1" fontcolor="#0b8dc1" id=edge_51b230b6 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_6799809a [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#37953f" fontcolor="#ffffff" id=play_6799809a shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_6799809a [label="4 " color="#37953f" fontcolor="#37953f" id=edge_750c0cdb labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_d2b719fb [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#37953f" id=role_d2b719fb tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_62696203 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#37953f" id=role_62696203 tooltip="Prepare each hypervisor in the deployment"]
		role_62696203 -> role_d2b719fb [label="1 " color="#37953f" fontcolor="#37953f" id=edge_0599225d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_6799809a -> block_126c16d9 [label=1 color="#37953f" fontcolor="#37953f" id=edge_f3c14349 labeltooltip=1 tooltip=1]
		subgraph cluster_block_126c16d9 {
			block_126c16d9 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#37953f" id=block_126c16d9 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_126c16d9 -> role_62696203 [label="1 " color="#37953f" fontcolor="#37953f" id=edge_c13ada9a labeltooltip="1 " tooltip="1 "]
		}
	}
	play_0292c54a [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" fontcolor="#ffffff" id=play_0292c54a shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_0292c54a [label="5 " color="#587469" fontcolor="#587469" id=edge_85718c93 labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_5b34ff20 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_5b34ff20 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_79d90f9b [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_79d90f9b tooltip="task-prepare-environment"]
		role_79d90f9b -> role_5b34ff20 [label="1 " color="#587469" fontcolor="#587469" id=edge_3c69b542 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_d7ebc7e3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_d7ebc7e3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_22fbe6de [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#587469" id=role_22fbe6de tooltip="Prepare environment if not prepared"]
		role_22fbe6de -> role_d7ebc7e3 [label="1 " color="#587469" fontcolor="#587469" id=edge_3bb37305 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b9153691 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#587469" id=role_b9153691 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_e7407052 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_e7407052 tooltip="task-cleanup-hypervisors"]
		role_e7407052 -> role_22fbe6de [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_60c3dc59 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e7407052 -> role_b9153691 [label="2 " color="#587469" fontcolor="#587469" id=edge_6fa06dde labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6a98ae75 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_6a98ae75 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_db8d24f8 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#587469" id=role_db8d24f8 tooltip="Prepare environment if not prepared"]
		role_db8d24f8 -> role_6a98ae75 [label="1 " color="#587469" fontcolor="#587469" id=edge_5adbea30 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_6ac87111 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#587469" id=role_6ac87111 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_70cc5672 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#587469" id=role_70cc5672 tooltip="Cleanup hypervisors if needed"]
		role_70cc5672 -> role_db8d24f8 [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_99059707 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_70cc5672 -> role_6ac87111 [label="2 " color="#587469" fontcolor="#587469" id=edge_65d4037a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_f75acb58 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_f75acb58 tooltip="task-run-validations"]
		role_f75acb58 -> role_70cc5672 [label="1 [when: not hypervisors_cleaned]" color="#587469" fontcolor="#587469" id=edge_53ecb92d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_12c5888c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_12c5888c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1fc01523 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#587469" id=role_1fc01523 tooltip="Prepare environment if not prepared"]
		role_1fc01523 -> role_12c5888c [label="1 " color="#587469" fontcolor="#587469" id=edge_4a3059a3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_bedef144 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#587469" id=role_bedef144 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_ab566932 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#587469" id=role_ab566932 tooltip="Cleanup hypervisors if needed"]
		role_ab566932 -> role_1fc01523 [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_3629cb6f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ab566932 -> role_bedef144 [label="2 " color="#587469" fontcolor="#587469" id=edge_fb34f6eb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_fb997650 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_fb997650 tooltip="task-create-network"]
		role_fb997650 -> role_ab566932 [label="1 [when: not hypervisors_cleaned]" color="#587469" fontcolor="#587469" id=edge_5cce96b2 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_68292ebf [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_68292ebf tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e01bb07a [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#587469" id=role_e01bb07a tooltip="Prepare environment if not prepared"]
		role_e01bb07a -> role_68292ebf [label="1 " color="#587469" fontcolor="#587469" id=edge_e50891c3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_96bc0c48 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#587469" id=role_96bc0c48 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_5847eb28 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#587469" id=role_5847eb28 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_a9e77246 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#587469" id=role_a9e77246 tooltip="Configure Bind"]
		role_a9e77246 -> role_5847eb28 [label="1 " color="#587469" fontcolor="#587469" id=edge_f1a9036f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e3dc04c3 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#587469" id=role_e3dc04c3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_cbc1c59f [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#587469" id=role_cbc1c59f tooltip="Configure Dnsmasq"]
		role_cbc1c59f -> role_e3dc04c3 [label="1 " color="#587469" fontcolor="#587469" id=edge_932ba097 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0ca4397d [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#587469" id=role_0ca4397d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_5d62eced [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#587469" id=role_5d62eced tooltip="Configure HAProxy"]
		role_5d62eced -> role_0ca4397d [label="1 " color="#587469" fontcolor="#587469" id=edge_bcbb87cd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_230f0696 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#587469" id=role_230f0696 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_90338e8b [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#587469" id=role_90338e8b tooltip="Configure Nexus"]
		role_90338e8b -> role_230f0696 [label="1 " color="#587469" fontcolor="#587469" id=edge_56b2eafd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5b8d9107 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#587469" id=role_5b8d9107 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_4fdf6907 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#587469" id=role_4fdf6907 tooltip="Configure Apache"]
		role_4fdf6907 -> role_5b8d9107 [label="1 " color="#587469" fontcolor="#587469" id=edge_fb1bec10 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2db2ca8a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#587469" id=role_2db2ca8a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_3872d6fc [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#587469" id=role_3872d6fc tooltip="Configure a local container image registry"]
		role_3872d6fc -> role_2db2ca8a [label="1 " color="#587469" fontcolor="#587469" id=edge_53f1d0c7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_3ba3e551 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_3ba3e551 tooltip="task-create-services"]
		role_3ba3e551 -> role_e01bb07a [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_7bcd5b9a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3ba3e551 -> role_96bc0c48 [label="2 " color="#587469" fontcolor="#587469" id=edge_060a336b labeltooltip="2 " tooltip="2 "]
		role_3ba3e551 -> role_a9e77246 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#587469" fontcolor="#587469" id=edge_80cd8a25 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3ba3e551 -> role_cbc1c59f [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#587469" fontcolor="#587469" id=edge_898b8c7f labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3ba3e551 -> role_5d62eced [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#587469" fontcolor="#587469" id=edge_328ade9c labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3ba3e551 -> role_90338e8b [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#587469" fontcolor="#587469" id=edge_c546a012 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3ba3e551 -> role_4fdf6907 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#587469" fontcolor="#587469" id=edge_4ef4fe9c labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3ba3e551 -> role_3872d6fc [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#587469" fontcolor="#587469" id=edge_25eafe39 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_7eb487ce [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_7eb487ce tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_f1930a53 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#587469" id=role_f1930a53 tooltip="Prepare environment if needed"]
		role_f1930a53 -> role_7eb487ce [label="1 " color="#587469" fontcolor="#587469" id=edge_9ec408d3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_823ad9d7 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#587469" id=role_823ad9d7 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_32ff2c1c [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#587469" id=role_32ff2c1c tooltip="Prepare services if needed"]
		role_32ff2c1c -> role_f1930a53 [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_b6a64ece labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_32ff2c1c -> role_823ad9d7 [label="2 " color="#587469" fontcolor="#587469" id=edge_1bbf95e2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_37e4e75e [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=role_37e4e75e tooltip="Create systemd service for podman container"]
		task_733b0130 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#587469" id=task_733b0130 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_37e4e75e -> task_733b0130 [label="1 " color="#587469" fontcolor="#587469" id=edge_144458b0 labeltooltip="1 " tooltip="1 "]
		task_c688c68a [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#587469" id=task_c688c68a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_37e4e75e -> task_c688c68a [label="2 " color="#587469" fontcolor="#587469" id=edge_410e0e23 labeltooltip="2 " tooltip="2 "]
		task_732ecc7c [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#587469" id=task_732ecc7c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_37e4e75e -> task_732ecc7c [label="3 " color="#587469" fontcolor="#587469" id=edge_922c612d labeltooltip="3 " tooltip="3 "]
		task_1ce408b0 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#587469" id=task_1ce408b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_37e4e75e -> task_1ce408b0 [label="4 " color="#587469" fontcolor="#587469" id=edge_90922e05 labeltooltip="4 " tooltip="4 "]
		task_226ce4a0 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#587469" id=task_226ce4a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_37e4e75e -> task_226ce4a0 [label="5 " color="#587469" fontcolor="#587469" id=edge_f8869bdc labeltooltip="5 " tooltip="5 "]
		task_bafa2622 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#587469" id=task_bafa2622 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_37e4e75e -> task_bafa2622 [label="6 " color="#587469" fontcolor="#587469" id=edge_841ced78 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_26408c99 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=role_26408c99 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_8b034bc6 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=role_8b034bc6 tooltip="Setup the cluster provision container"]
		task_dfbf8410 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_dfbf8410 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_8b034bc6 -> task_dfbf8410 [label="1 " color="#587469" fontcolor="#587469" id=edge_e258baa0 labeltooltip="1 " tooltip="1 "]
		task_e2cac08c [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_e2cac08c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_8b034bc6 -> task_e2cac08c [label="2 " color="#587469" fontcolor="#587469" id=edge_bdf402cb labeltooltip="2 " tooltip="2 "]
		task_039af5ae [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_039af5ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_8b034bc6 -> task_039af5ae [label="3 [when: kubeinit_deployment_os == 'centos']" color="#587469" fontcolor="#587469" id=edge_75374910 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_96ff79a3 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_96ff79a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_8b034bc6 -> task_96ff79a3 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#587469" fontcolor="#587469" id=edge_b1da798e labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_65f4a55f [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_65f4a55f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_8b034bc6 -> task_65f4a55f [label="5 [when: kubeinit_deployment_os == 'centos']" color="#587469" fontcolor="#587469" id=edge_3cfcf910 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_4f17ef13 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_4f17ef13 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_8b034bc6 -> task_4f17ef13 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#587469" fontcolor="#587469" id=edge_cbccb91b labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_fc372b8c [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_fc372b8c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_8b034bc6 -> task_fc372b8c [label="7 [when: kubeinit_deployment_os == 'debian']" color="#587469" fontcolor="#587469" id=edge_867a5243 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_9bf65f96 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_9bf65f96 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_8b034bc6 -> task_9bf65f96 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#587469" fontcolor="#587469" id=edge_380fe755 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_dfe45593 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_dfe45593 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_8b034bc6 -> task_dfe45593 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#587469" fontcolor="#587469" id=edge_e715322d labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_fc3269f5 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_fc3269f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_8b034bc6 -> task_fc3269f5 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#587469" fontcolor="#587469" id=edge_bc25c5de labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_9ca12a2b [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_9ca12a2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_8b034bc6 -> task_9ca12a2b [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#587469" fontcolor="#587469" id=edge_327d4d7e labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_f9c79588 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_f9c79588 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_8b034bc6 -> task_f9c79588 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#587469" fontcolor="#587469" id=edge_ba43d8fb labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_e3df4308 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_e3df4308 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_8b034bc6 -> task_e3df4308 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#587469" fontcolor="#587469" id=edge_8118e5b9 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_20c959c2 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_20c959c2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_8b034bc6 -> task_20c959c2 [label="14 " color="#587469" fontcolor="#587469" id=edge_35fc5f94 labeltooltip="14 " tooltip="14 "]
		task_7a60ba55 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_7a60ba55 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_8b034bc6 -> task_7a60ba55 [label="15 " color="#587469" fontcolor="#587469" id=edge_c3f06c36 labeltooltip="15 " tooltip="15 "]
		task_dd1bba5d [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_dd1bba5d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_8b034bc6 -> task_dd1bba5d [label="16 " color="#587469" fontcolor="#587469" id=edge_2172f54b labeltooltip="16 " tooltip="16 "]
		task_9f96aada [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_9f96aada shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_8b034bc6 -> task_9f96aada [label="17 " color="#587469" fontcolor="#587469" id=edge_dcbbd6dc labeltooltip="17 " tooltip="17 "]
		task_4f5f5881 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_4f5f5881 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_8b034bc6 -> task_4f5f5881 [label="18 " color="#587469" fontcolor="#587469" id=edge_8017a1f7 labeltooltip="18 " tooltip="18 "]
		task_2525408d [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_2525408d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_8b034bc6 -> task_2525408d [label="19 " color="#587469" fontcolor="#587469" id=edge_eb391dd2 labeltooltip="19 " tooltip="19 "]
		task_1b2d3e75 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_1b2d3e75 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_8b034bc6 -> task_1b2d3e75 [label="20 " color="#587469" fontcolor="#587469" id=edge_054183a4 labeltooltip="20 " tooltip="20 "]
		task_31d3bfd8 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_31d3bfd8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_8b034bc6 -> task_31d3bfd8 [label="21 " color="#587469" fontcolor="#587469" id=edge_3be22e43 labeltooltip="21 " tooltip="21 "]
		task_47f01b27 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_47f01b27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_8b034bc6 -> task_47f01b27 [label="22 " color="#587469" fontcolor="#587469" id=edge_b3c0eece labeltooltip="22 " tooltip="22 "]
		role_8b034bc6 -> role_37e4e75e [label="23 " color="#587469" fontcolor="#587469" id=edge_aab2495a labeltooltip="23 " tooltip="23 "]
		task_d913f5dc [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_d913f5dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_8b034bc6 -> task_d913f5dc [label="24 " color="#587469" fontcolor="#587469" id=edge_be75d9af labeltooltip="24 " tooltip="24 "]
		task_008b053f [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_008b053f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_8b034bc6 -> task_008b053f [label="25 " color="#587469" fontcolor="#587469" id=edge_62666550 labeltooltip="25 " tooltip="25 "]
		task_9d56f83b [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_9d56f83b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_8b034bc6 -> task_9d56f83b [label="26 " color="#587469" fontcolor="#587469" id=edge_98ac4e82 labeltooltip="26 " tooltip="26 "]
		task_b288d156 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_b288d156 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_8b034bc6 -> task_b288d156 [label="27 " color="#587469" fontcolor="#587469" id=edge_b5b25f08 labeltooltip="27 " tooltip="27 "]
		task_7dccd92a [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_7dccd92a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_8b034bc6 -> task_7dccd92a [label="28 " color="#587469" fontcolor="#587469" id=edge_95209dcb labeltooltip="28 " tooltip="28 "]
		task_5e2db4d4 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_5e2db4d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_8b034bc6 -> task_5e2db4d4 [label="29 " color="#587469" fontcolor="#587469" id=edge_3ca47604 labeltooltip="29 " tooltip="29 "]
		task_02565161 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_02565161 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_8b034bc6 -> task_02565161 [label="30 " color="#587469" fontcolor="#587469" id=edge_77aaf8ef labeltooltip="30 " tooltip="30 "]
		task_b5919227 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_b5919227 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_8b034bc6 -> task_b5919227 [label="31 " color="#587469" fontcolor="#587469" id=edge_13c8b73a labeltooltip="31 " tooltip="31 "]
		task_85ddce9e [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_85ddce9e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_8b034bc6 -> task_85ddce9e [label="32 " color="#587469" fontcolor="#587469" id=edge_5cde29a3 labeltooltip="32 " tooltip="32 "]
		task_0af9fd73 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_0af9fd73 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_8b034bc6 -> task_0af9fd73 [label="33 " color="#587469" fontcolor="#587469" id=edge_0653b7cb labeltooltip="33 " tooltip="33 "]
		task_90a4f32e [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_90a4f32e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_8b034bc6 -> task_90a4f32e [label="34 " color="#587469" fontcolor="#587469" id=edge_eb4cb73c labeltooltip="34 " tooltip="34 "]
		task_c9c97b89 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_c9c97b89 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_8b034bc6 -> task_c9c97b89 [label="35 " color="#587469" fontcolor="#587469" id=edge_ca8086a8 labeltooltip="35 " tooltip="35 "]
		task_7e2197de [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_7e2197de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_8b034bc6 -> task_7e2197de [label="36 " color="#587469" fontcolor="#587469" id=edge_7d329dc0 labeltooltip="36 " tooltip="36 "]
		task_4ca7dfb5 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_4ca7dfb5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_8b034bc6 -> task_4ca7dfb5 [label="37 " color="#587469" fontcolor="#587469" id=edge_7362e3b2 labeltooltip="37 " tooltip="37 "]
		task_94c40124 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_94c40124 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_8b034bc6 -> task_94c40124 [label="38 " color="#587469" fontcolor="#587469" id=edge_694ab6c6 labeltooltip="38 " tooltip="38 "]
		task_18d33e21 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_18d33e21 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_8b034bc6 -> task_18d33e21 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#587469" fontcolor="#587469" id=edge_68eefa68 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_f9341fb6 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_f9341fb6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_8b034bc6 -> task_f9341fb6 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#587469" fontcolor="#587469" id=edge_41401d6c labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_b5022d38 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_b5022d38 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_8b034bc6 -> task_b5022d38 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#587469" fontcolor="#587469" id=edge_50b60f48 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_248ea8d4 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_248ea8d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_8b034bc6 -> task_248ea8d4 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#587469" fontcolor="#587469" id=edge_5ee061f4 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_268d5332 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_268d5332 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_8b034bc6 -> task_268d5332 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#587469" fontcolor="#587469" id=edge_826e16ec labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_85ecf15c [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_85ecf15c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_8b034bc6 -> task_85ecf15c [label="44 " color="#587469" fontcolor="#587469" id=edge_8089a9ee labeltooltip="44 " tooltip="44 "]
		task_e4fa86a1 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_e4fa86a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_8b034bc6 -> task_e4fa86a1 [label="45 " color="#587469" fontcolor="#587469" id=edge_6cf0eed8 labeltooltip="45 " tooltip="45 "]
		task_173964f9 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_173964f9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_8b034bc6 -> task_173964f9 [label="46 " color="#587469" fontcolor="#587469" id=edge_6c13a90f labeltooltip="46 " tooltip="46 "]
		task_646db7e1 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_646db7e1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_8b034bc6 -> task_646db7e1 [label="47 " color="#587469" fontcolor="#587469" id=edge_d4337b25 labeltooltip="47 " tooltip="47 "]
		task_2562ab72 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_2562ab72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_8b034bc6 -> task_2562ab72 [label="48 " color="#587469" fontcolor="#587469" id=edge_e6f4e49b labeltooltip="48 " tooltip="48 "]
		task_b69db477 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_b69db477 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
		role_8b034bc6 -> task_b69db477 [label="49 " color="#587469" fontcolor="#587469" id=edge_2c83f7b1 labeltooltip="49 " tooltip="49 "]
		task_75590951 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_75590951 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_8b034bc6 -> task_75590951 [label="50 " color="#587469" fontcolor="#587469" id=edge_d0de8e14 labeltooltip="50 " tooltip="50 "]
		task_fd604e0e [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_fd604e0e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_8b034bc6 -> task_fd604e0e [label="51 " color="#587469" fontcolor="#587469" id=edge_75e46f60 labeltooltip="51 " tooltip="51 "]
		task_65e1dd5e [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_65e1dd5e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_8b034bc6 -> task_65e1dd5e [label="52 " color="#587469" fontcolor="#587469" id=edge_4e81822a labeltooltip="52 " tooltip="52 "]
		task_3503f188 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#587469" id=task_3503f188 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_8b034bc6 -> task_3503f188 [label="53 " color="#587469" fontcolor="#587469" id=edge_fb6efccc labeltooltip="53 " tooltip="53 "]
		role_8b034bc6 -> role_26408c99 [label="54 " color="#587469" fontcolor="#587469" id=edge_45dfa2c6 labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_07c64a2c [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#587469" id=role_07c64a2c tooltip="Delegate to the distro role to prepare the cluster"]
		task_77cf6060 [label="kubeinit.kubeinit.kubeinit_okd : Override initial pullsecret with fake auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_77cf6060 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Override initial pullsecret with fake auth"]
		role_07c64a2c -> task_77cf6060 [label="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]" color="#587469" fontcolor="#587469" id=edge_d7e66984 labeltooltip="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]" tooltip="1 [when: not 'registry' in kubeinit_cluster_hostvars.services and kubeinit_okd_registry_pullsecret_empty in kubeinit_okd_registry_pullsecret]"]
		task_e1c1de24 [label="kubeinit.kubeinit.kubeinit_okd : Check for openshift pullsecret in kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_e1c1de24 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Check for openshift pullsecret in kubeinit secrets"]
		role_07c64a2c -> task_e1c1de24 [label="2 [when: kubeinit_okd_openshift_deploy]" color="#587469" fontcolor="#587469" id=edge_5ce51455 labeltooltip="2 [when: kubeinit_okd_openshift_deploy]" tooltip="2 [when: kubeinit_okd_openshift_deploy]"]
		task_e4a0999c [label="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_e4a0999c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create registry auth for pullsecret"]
		role_07c64a2c -> task_e4a0999c [label="3 [when: kubeinit_okd_openshift_deploy]" color="#587469" fontcolor="#587469" id=edge_c372848f labeltooltip="3 [when: kubeinit_okd_openshift_deploy]" tooltip="3 [when: kubeinit_okd_openshift_deploy]"]
		task_1b2f3d2a [label="kubeinit.kubeinit.kubeinit_okd : Append openshift auth to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_1b2f3d2a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Append openshift auth to pullsecret"]
		role_07c64a2c -> task_1b2f3d2a [label="4 [when: kubeinit_okd_openshift_deploy]" color="#587469" fontcolor="#587469" id=edge_119c7b7b labeltooltip="4 [when: kubeinit_okd_openshift_deploy]" tooltip="4 [when: kubeinit_okd_openshift_deploy]"]
		task_61ac66fc [label="kubeinit.kubeinit.kubeinit_okd : Override final openshift kubeinit_okd_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_61ac66fc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Override final openshift kubeinit_okd_registry_pullsecret with both auths"]
		role_07c64a2c -> task_61ac66fc [label="5 [when: kubeinit_okd_openshift_deploy]" color="#587469" fontcolor="#587469" id=edge_61716311 labeltooltip="5 [when: kubeinit_okd_openshift_deploy]" tooltip="5 [when: kubeinit_okd_openshift_deploy]"]
		task_ac540c7e [label="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_okd_registry_pullsecret before overriding kubeinit_registry_pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_ac540c7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_okd_registry_pullsecret before overriding kubeinit_registry_pullsecret"]
		role_07c64a2c -> task_ac540c7e [label="6 " color="#587469" fontcolor="#587469" id=edge_658c2b73 labeltooltip="6 " tooltip="6 "]
		task_ad7db841 [label="kubeinit.kubeinit.kubeinit_okd : Assign a default pullsecret when we use a local registry and deploying OKD" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_ad7db841 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Assign a default pullsecret when we use a local registry and deploying OKD"]
		role_07c64a2c -> task_ad7db841 [label="7 " color="#587469" fontcolor="#587469" id=edge_dd8fe655 labeltooltip="7 " tooltip="7 "]
		task_09340c2b [label="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_registry_pullsecret after overriding it" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_09340c2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Debug kubeinit_registry_pullsecret after overriding it"]
		role_07c64a2c -> task_09340c2b [label="8 " color="#587469" fontcolor="#587469" id=edge_ead69d51 labeltooltip="8 " tooltip="8 "]
		role_07c64a2c -> role_8b034bc6 [label="9 " color="#587469" fontcolor="#587469" id=edge_5180d2b4 labeltooltip="9 " tooltip="9 "]
		task_737c5f41 [label="kubeinit.kubeinit.kubeinit_okd : Render net info" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_737c5f41 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render net info"]
		role_07c64a2c -> task_737c5f41 [label="10 " color="#587469" fontcolor="#587469" id=edge_6eb31805 labeltooltip="10 " tooltip="10 "]
		task_289d1a88 [label="kubeinit.kubeinit.kubeinit_okd : Install services requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_289d1a88 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Install services requirements"]
		role_07c64a2c -> task_289d1a88 [label="11 " color="#587469" fontcolor="#587469" id=edge_7d14a531 labeltooltip="11 " tooltip="11 "]
		task_9013869f [label="kubeinit.kubeinit.kubeinit_okd : Download okd installer" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_9013869f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download okd installer"]
		role_07c64a2c -> task_9013869f [label="12 " color="#587469" fontcolor="#587469" id=edge_8c809409 labeltooltip="12 " tooltip="12 "]
		task_7a8bc184 [label="kubeinit.kubeinit.kubeinit_okd : Download okd client" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_7a8bc184 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download okd client"]
		role_07c64a2c -> task_7a8bc184 [label="13 " color="#587469" fontcolor="#587469" id=edge_431079ad labeltooltip="13 " tooltip="13 "]
		task_0c07a7e0 [label="kubeinit.kubeinit.kubeinit_okd : Install okd client and installer" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_0c07a7e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Install okd client and installer"]
		role_07c64a2c -> task_0c07a7e0 [label="14 " color="#587469" fontcolor="#587469" id=edge_f0ac70fb labeltooltip="14 " tooltip="14 "]
		task_24e046ce [label="kubeinit.kubeinit.kubeinit_okd : Check FCOS version and stream match" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_24e046ce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Check FCOS version and stream match"]
		role_07c64a2c -> task_24e046ce [label="15 " color="#587469" fontcolor="#587469" id=edge_62765dc1 labeltooltip="15 " tooltip="15 "]
		task_2c413bb6 [label="kubeinit.kubeinit.kubeinit_okd : Render the required container images" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_2c413bb6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the required container images"]
		role_07c64a2c -> task_2c413bb6 [label="16 " color="#587469" fontcolor="#587469" id=edge_f61890d6 labeltooltip="16 " tooltip="16 "]
		task_a3f8520f [label="kubeinit.kubeinit.kubeinit_okd : Mirror OKD remote registry to local" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_a3f8520f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Mirror OKD remote registry to local"]
		role_07c64a2c -> task_a3f8520f [label="17 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#587469" fontcolor="#587469" id=edge_0d53f243 labeltooltip="17 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="17 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
		task_26275439 [label="kubeinit.kubeinit.kubeinit_okd : Set name of CoreOS distribution" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_26275439 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Set name of CoreOS distribution"]
		role_07c64a2c -> task_26275439 [label="18 " color="#587469" fontcolor="#587469" id=edge_0efe268d labeltooltip="18 " tooltip="18 "]
		task_7b4b68ad [label="kubeinit.kubeinit.kubeinit_okd : Download kernel image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_7b4b68ad shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download kernel image"]
		role_07c64a2c -> task_7b4b68ad [label="19 " color="#587469" fontcolor="#587469" id=edge_92453752 labeltooltip="19 " tooltip="19 "]
		task_0d78a875 [label="kubeinit.kubeinit.kubeinit_okd : Download initrd image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_0d78a875 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download initrd image"]
		role_07c64a2c -> task_0d78a875 [label="20 " color="#587469" fontcolor="#587469" id=edge_6e30a824 labeltooltip="20 " tooltip="20 "]
		task_b61682f0 [label="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for FCOS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_b61682f0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for FCOS"]
		role_07c64a2c -> task_b61682f0 [label="21 [when: not kubeinit_okd_openshift_deploy]" color="#587469" fontcolor="#587469" id=edge_fdb549c9 labeltooltip="21 [when: not kubeinit_okd_openshift_deploy]" tooltip="21 [when: not kubeinit_okd_openshift_deploy]"]
		task_ffe46352 [label="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for RHCOS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_ffe46352 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create the treeinfo directory for RHCOS"]
		role_07c64a2c -> task_ffe46352 [label="22 [when: kubeinit_okd_openshift_deploy]" color="#587469" fontcolor="#587469" id=edge_a1f7fa41 labeltooltip="22 [when: kubeinit_okd_openshift_deploy]" tooltip="22 [when: kubeinit_okd_openshift_deploy]"]
		task_a6d75844 [label="kubeinit.kubeinit.kubeinit_okd : Create OKD directory for apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_a6d75844 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create OKD directory for apache"]
		role_07c64a2c -> task_a6d75844 [label="23 " color="#587469" fontcolor="#587469" id=edge_2e301c8d labeltooltip="23 " tooltip="23 "]
		task_5d157e75 [label="kubeinit.kubeinit.kubeinit_okd : Download initrd image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_5d157e75 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download initrd image"]
		role_07c64a2c -> task_5d157e75 [label="24 " color="#587469" fontcolor="#587469" id=edge_95e08c83 labeltooltip="24 " tooltip="24 "]
		task_3e343261 [label="kubeinit.kubeinit.kubeinit_okd : Download rootfs image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_3e343261 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download rootfs image"]
		role_07c64a2c -> task_3e343261 [label="25 " color="#587469" fontcolor="#587469" id=edge_6670a110 labeltooltip="25 " tooltip="25 "]
		task_4e7d6240 [label="kubeinit.kubeinit.kubeinit_okd : Download raw image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_4e7d6240 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download raw image"]
		role_07c64a2c -> task_4e7d6240 [label="26 " color="#587469" fontcolor="#587469" id=edge_beea1fea labeltooltip="26 " tooltip="26 "]
		task_0c153081 [label="kubeinit.kubeinit.kubeinit_okd : Download signature file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_0c153081 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Download signature file"]
		role_07c64a2c -> task_0c153081 [label="27 [when: not kubeinit_okd_openshift_deploy]" color="#587469" fontcolor="#587469" id=edge_7d733c2a labeltooltip="27 [when: not kubeinit_okd_openshift_deploy]" tooltip="27 [when: not kubeinit_okd_openshift_deploy]"]
		task_f6462b19 [label="kubeinit.kubeinit.kubeinit_okd : Render the cluster template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_f6462b19 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the cluster template"]
		role_07c64a2c -> task_f6462b19 [label="28 " color="#587469" fontcolor="#587469" id=edge_b9b7713c labeltooltip="28 " tooltip="28 "]
		task_257e194c [label="kubeinit.kubeinit.kubeinit_okd : Backup the install config file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_257e194c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Backup the install config file"]
		role_07c64a2c -> task_257e194c [label="29 " color="#587469" fontcolor="#587469" id=edge_2aa0a0f9 labeltooltip="29 " tooltip="29 "]
		task_2b654bf5 [label="kubeinit.kubeinit.kubeinit_okd : Render the bootstrap details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_2b654bf5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render the bootstrap details"]
		role_07c64a2c -> task_2b654bf5 [label="30 " color="#587469" fontcolor="#587469" id=edge_13e201c1 labeltooltip="30 " tooltip="30 "]
		task_9fb87ae6 [label="kubeinit.kubeinit.kubeinit_okd : Enable master schedulable if there are no worker nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_9fb87ae6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Enable master schedulable if there are no worker nodes"]
		role_07c64a2c -> task_9fb87ae6 [label="31 [when: not kubeinit_compute_count|int > 0]" color="#587469" fontcolor="#587469" id=edge_19a63bff labeltooltip="31 [when: not kubeinit_compute_count|int > 0]" tooltip="31 [when: not kubeinit_compute_count|int > 0]"]
		task_3252db57 [label="kubeinit.kubeinit.kubeinit_okd : Disable master schedulable if there is at least one worker node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_3252db57 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Disable master schedulable if there is at least one worker node"]
		role_07c64a2c -> task_3252db57 [label="32 [when: kubeinit_compute_count|int > 0]" color="#587469" fontcolor="#587469" id=edge_9a1d6ca7 labeltooltip="32 [when: kubeinit_compute_count|int > 0]" tooltip="32 [when: kubeinit_compute_count|int > 0]"]
		task_adc42aa7 [label="kubeinit.kubeinit.kubeinit_okd : Render ignition files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_adc42aa7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Render ignition files"]
		role_07c64a2c -> task_adc42aa7 [label="33 " color="#587469" fontcolor="#587469" id=edge_e448466b labeltooltip="33 " tooltip="33 "]
		task_36d80368 [label="kubeinit.kubeinit.kubeinit_okd : Apply permissions to the apache folder" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_36d80368 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Apply permissions to the apache folder"]
		role_07c64a2c -> task_36d80368 [label="34 " color="#587469" fontcolor="#587469" id=edge_289e8880 labeltooltip="34 " tooltip="34 "]
		task_252e0b66 [label="kubeinit.kubeinit.kubeinit_okd : Create kube directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_252e0b66 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Create kube directory"]
		role_07c64a2c -> task_252e0b66 [label="35 " color="#587469" fontcolor="#587469" id=edge_9e673ece labeltooltip="35 " tooltip="35 "]
		task_96c7a907 [label="kubeinit.kubeinit.kubeinit_okd : Autoload kubeconfig" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#587469" id=task_96c7a907 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_okd : Autoload kubeconfig"]
		role_07c64a2c -> task_96c7a907 [label="36 " color="#587469" fontcolor="#587469" id=edge_5b2d5269 labeltooltip="36 " tooltip="36 "]
	}
	subgraph "task-prepare-cluster" {
		role_4c71867e [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_4c71867e tooltip="task-prepare-cluster"]
		role_4c71867e -> role_32ff2c1c [label="1 [when: not services_prepared]" color="#587469" fontcolor="#587469" id=edge_d7cfce50 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_4c71867e -> role_07c64a2c [label="2 " color="#587469" fontcolor="#587469" id=edge_8748c5b1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_42a9aafc [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_42a9aafc tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0f965798 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#587469" id=role_0f965798 tooltip="Prepare environment if not prepared"]
		role_0f965798 -> role_42a9aafc [label="1 " color="#587469" fontcolor="#587469" id=edge_97a9fca0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_4f4fac10 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_4f4fac10 tooltip="task-download-images"]
		role_4f4fac10 -> role_0f965798 [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_b9835266 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_4c3ecbbe [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_4c3ecbbe tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_600a4507 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#587469" id=role_600a4507 tooltip="Prepare environment if needed"]
		role_600a4507 -> role_4c3ecbbe [label="1 " color="#587469" fontcolor="#587469" id=edge_a0efa635 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_383863e2 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#587469" id=role_383863e2 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_8818e9f7 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#587469" id=role_8818e9f7 tooltip="Prepare services if needed"]
		role_8818e9f7 -> role_600a4507 [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_e7fc96c2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8818e9f7 -> role_383863e2 [label="2 " color="#587469" fontcolor="#587469" id=edge_d65afb44 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_98a895c3 [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#587469" id=role_98a895c3 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_59e22b68 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#587469" id=role_59e22b68 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_e8a406a6 [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#587469" id=role_e8a406a6 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_a218cdfc [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#587469" id=role_a218cdfc tooltip="Delegate to the distro role to deploy the cluster"]
		role_a218cdfc -> role_98a895c3 [label="1 " color="#587469" fontcolor="#587469" id=edge_52659776 labeltooltip="1 " tooltip="1 "]
		role_a218cdfc -> role_59e22b68 [label="2 " color="#587469" fontcolor="#587469" id=edge_82c84350 labeltooltip="2 " tooltip="2 "]
		role_a218cdfc -> role_e8a406a6 [label="3 " color="#587469" fontcolor="#587469" id=edge_02ea8c36 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_992247e4 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_992247e4 tooltip="task-deploy-cluster"]
		role_992247e4 -> role_8818e9f7 [label="1 [when: not services_prepared]" color="#587469" fontcolor="#587469" id=edge_ef72136c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_992247e4 -> role_a218cdfc [label="2 " color="#587469" fontcolor="#587469" id=edge_f6b647d5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_c614c9ca [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#587469" id=role_c614c9ca tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_e71c9a31 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#587469" id=role_e71c9a31 tooltip="Prepare environment if needed"]
		role_e71c9a31 -> role_c614c9ca [label="1 " color="#587469" fontcolor="#587469" id=edge_9f203449 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_df1c7e1b [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#587469" id=role_df1c7e1b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_c9fcdb03 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#587469" id=role_c9fcdb03 tooltip="Prepare services if needed"]
		role_c9fcdb03 -> role_e71c9a31 [label="1 [when: not environment_prepared]" color="#587469" fontcolor="#587469" id=edge_660e0510 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c9fcdb03 -> role_df1c7e1b [label="2 " color="#587469" fontcolor="#587469" id=edge_b5ccc50b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_2dc15abc [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#587469" id=role_2dc15abc tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_ac397b0a [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#587469" id=role_ac397b0a tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_06f94349 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#587469" id=role_06f94349 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_013ef61a [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#587469" id=role_013ef61a tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_b2743f91 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#587469" id=role_b2743f91 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_b2743f91 -> role_2dc15abc [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#587469" fontcolor="#587469" id=edge_dafa1adc labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_b2743f91 -> role_ac397b0a [label="2 " color="#587469" fontcolor="#587469" id=edge_2f545367 labeltooltip="2 " tooltip="2 "]
		role_b2743f91 -> role_06f94349 [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#587469" fontcolor="#587469" id=edge_41169e34 labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
		role_b2743f91 -> role_013ef61a [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#587469" fontcolor="#587469" id=edge_0e65079e labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_de696a9f [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=role_de696a9f tooltip="task-post-deployment"]
		role_de696a9f -> role_c9fcdb03 [label="1 [when: not services_prepared]" color="#587469" fontcolor="#587469" id=edge_1e1bc411 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_de696a9f -> role_b2743f91 [label="2 " color="#587469" fontcolor="#587469" id=edge_d8f176ce labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_0292c54a -> block_a862976d [label=1 color="#587469" fontcolor="#587469" id=edge_5efca1f5 labeltooltip=1 tooltip=1]
		subgraph cluster_block_a862976d {
			block_a862976d [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_a862976d labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_a862976d -> role_79d90f9b [label="1 " color="#587469" fontcolor="#587469" id=edge_fa91dfff labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_605890df [label=2 color="#587469" fontcolor="#587469" id=edge_e6e3f17d labeltooltip=2 tooltip=2]
		subgraph cluster_block_605890df {
			block_605890df [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_605890df labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_605890df -> role_e7407052 [label="1 " color="#587469" fontcolor="#587469" id=edge_5a0e2c33 labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_b3b5825f [label=3 color="#587469" fontcolor="#587469" id=edge_5f37dd2c labeltooltip=3 tooltip=3]
		subgraph cluster_block_b3b5825f {
			block_b3b5825f [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_b3b5825f labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_b3b5825f -> role_f75acb58 [label="1 " color="#587469" fontcolor="#587469" id=edge_5d64b1c1 labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_58fcc3d2 [label=4 color="#587469" fontcolor="#587469" id=edge_5aaff464 labeltooltip=4 tooltip=4]
		subgraph cluster_block_58fcc3d2 {
			block_58fcc3d2 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_58fcc3d2 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_58fcc3d2 -> role_fb997650 [label="1 " color="#587469" fontcolor="#587469" id=edge_c6e9f467 labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_b7bb7d49 [label=5 color="#587469" fontcolor="#587469" id=edge_5256f4aa labeltooltip=5 tooltip=5]
		subgraph cluster_block_b7bb7d49 {
			block_b7bb7d49 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_b7bb7d49 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_b7bb7d49 -> role_3ba3e551 [label="1 " color="#587469" fontcolor="#587469" id=edge_3166c8ad labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_4aaa74e2 [label=6 color="#587469" fontcolor="#587469" id=edge_1b179ba4 labeltooltip=6 tooltip=6]
		subgraph cluster_block_4aaa74e2 {
			block_4aaa74e2 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_4aaa74e2 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_4aaa74e2 -> role_4c71867e [label="1 " color="#587469" fontcolor="#587469" id=edge_ff167064 labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_3514cd99 [label=7 color="#587469" fontcolor="#587469" id=edge_5f4ccb2a labeltooltip=7 tooltip=7]
		subgraph cluster_block_3514cd99 {
			block_3514cd99 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_3514cd99 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_3514cd99 -> role_4f4fac10 [label="1 " color="#587469" fontcolor="#587469" id=edge_bfb73e84 labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_6e64e2ed [label=8 color="#587469" fontcolor="#587469" id=edge_b7b741cf labeltooltip=8 tooltip=8]
		subgraph cluster_block_6e64e2ed {
			block_6e64e2ed [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_6e64e2ed labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_6e64e2ed -> role_992247e4 [label="1 " color="#587469" fontcolor="#587469" id=edge_18566574 labeltooltip="1 " tooltip="1 "]
		}
		play_0292c54a -> block_64af8f37 [label=9 color="#587469" fontcolor="#587469" id=edge_08c525f6 labeltooltip=9 tooltip=9]
		subgraph cluster_block_64af8f37 {
			block_64af8f37 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#587469" id=block_64af8f37 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_64af8f37 -> role_de696a9f [label="1 " color="#587469" fontcolor="#587469" id=edge_6d7ccf69 labeltooltip="1 " tooltip="1 "]
		}
	}
}
