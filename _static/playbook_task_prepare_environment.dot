digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_555be4e4 style=dotted]
	"kubeinit/playbook.yml" -> play_eb3d7757 [label="1 " color="#653f8d" fontcolor="#653f8d" id=edge_25dfdb17 labeltooltip="1 " tooltip="1 "]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_eb3d7757 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#653f8d" fontcolor="#ffffff" id=play_eb3d7757 shape=box style=filled tooltip=localhost]
		play_eb3d7757 -> block_e48f6ea4 [label=1 color="#653f8d" fontcolor="#653f8d" id=edge_db8f3be6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e48f6ea4 {
			block_e48f6ea4 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#653f8d" id=block_e48f6ea4 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_e48f6ea4 -> role_bedd4c49 [label="1 " color="#653f8d" fontcolor="#653f8d" id=edge_bf213ae6 labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_bedd4c49 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#653f8d" id=role_bedd4c49 tooltip="task-gather-facts"]
				role_bedd4c49 -> role_d17da364 [label="1 " color="#653f8d" fontcolor="#653f8d" id=edge_0b173e14 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_d17da364 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#653f8d" id=role_d17da364 tooltip="Gather kubeinit secrets"]
				}
				role_bedd4c49 -> role_c639ea18 [label="2 " color="#653f8d" fontcolor="#653f8d" id=edge_e104afe2 labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_c639ea18 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#653f8d" id=role_c639ea18 tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_bedd4c49 -> role_bc44043e [label="3 " color="#653f8d" fontcolor="#653f8d" id=edge_596ff0de labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_bc44043e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#653f8d" id=role_bc44043e tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_5d81eb98 [label="2 " color="#6b25a7" fontcolor="#6b25a7" id=edge_8329b672 labeltooltip="2 " tooltip="2 "]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_5d81eb98 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6b25a7" fontcolor="#ffffff" id=play_5d81eb98 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_5d81eb98 -> block_166a675d [label=1 color="#6b25a7" fontcolor="#6b25a7" id=edge_01ad77c7 labeltooltip=1 tooltip=1]
		subgraph cluster_block_166a675d {
			block_166a675d [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6b25a7" id=block_166a675d labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_166a675d -> role_ad3c7378 [label="1 " color="#6b25a7" fontcolor="#6b25a7" id=edge_f5502cfb labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_ad3c7378 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6b25a7" id=role_ad3c7378 tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_8fefb9e5 [label="3 " color="#24a857" fontcolor="#24a857" id=edge_e0dc73b4 labeltooltip="3 " tooltip="3 "]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_8fefb9e5 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#24a857" fontcolor="#ffffff" id=play_8fefb9e5 shape=box style=filled tooltip=localhost]
		play_8fefb9e5 -> block_cbddfe37 [label=1 color="#24a857" fontcolor="#24a857" id=edge_fef2cbc2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_cbddfe37 {
			block_cbddfe37 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#24a857" id=block_cbddfe37 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_cbddfe37 -> role_a8ea8b28 [label="1 " color="#24a857" fontcolor="#24a857" id=edge_4e759201 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_a8ea8b28 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#24a857" id=role_a8ea8b28 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_a8ea8b28 -> role_9d0ddc3e [label="1 " color="#24a857" fontcolor="#24a857" id=edge_fb74ca30 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_9d0ddc3e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#24a857" id=role_9d0ddc3e tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_8fefb9e5 -> block_f20701cb [label=2 color="#24a857" fontcolor="#24a857" id=edge_22c9d210 labeltooltip=2 tooltip=2]
		subgraph cluster_block_f20701cb {
			block_f20701cb [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#24a857" id=block_f20701cb labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_f20701cb -> role_b4a9083a [label="1 " color="#24a857" fontcolor="#24a857" id=edge_5feb4714 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_b4a9083a [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#24a857" id=role_b4a9083a tooltip="task-prepare-hypervisors"]
				role_b4a9083a -> role_8b24d8ef [label="1 " color="#24a857" fontcolor="#24a857" id=edge_06016d83 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_8b24d8ef [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#24a857" id=role_8b24d8ef tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_4cb32e4a [label="4 " color="#698448" fontcolor="#698448" id=edge_5cf10ce0 labeltooltip="4 " tooltip="4 "]
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_4cb32e4a [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#698448" fontcolor="#ffffff" id=play_4cb32e4a shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
		play_4cb32e4a -> block_037ec7ad [label=1 color="#698448" fontcolor="#698448" id=edge_52651498 labeltooltip=1 tooltip=1]
		subgraph cluster_block_037ec7ad {
			block_037ec7ad [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#698448" id=block_037ec7ad labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_037ec7ad -> role_34e81b5d [label="1 " color="#698448" fontcolor="#698448" id=edge_472f203d labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_34e81b5d [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#698448" id=role_34e81b5d tooltip="Prepare each hypervisor in the deployment"]
				role_34e81b5d -> role_f4d6d0a8 [label="1 " color="#698448" fontcolor="#698448" id=edge_92423ff9 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_f4d6d0a8 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#698448" id=role_f4d6d0a8 tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_37c8be5b [label="5 " color="#c80431" fontcolor="#c80431" id=edge_7d8b800c labeltooltip="5 " tooltip="5 "]
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_37c8be5b [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" fontcolor="#ffffff" id=play_37c8be5b shape=box style=filled tooltip=localhost]
		play_37c8be5b -> block_1467f299 [label=1 color="#c80431" fontcolor="#c80431" id=edge_efdb198a labeltooltip=1 tooltip=1]
		subgraph cluster_block_1467f299 {
			block_1467f299 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_1467f299 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_1467f299 -> role_83061949 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_78e19710 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_83061949 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_83061949 tooltip="task-prepare-environment"]
				role_83061949 -> role_e51a6573 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_41151823 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_e51a6573 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_e51a6573 tooltip="Gather kubeinit secrets"]
				}
				task_5c124549 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_5c124549 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
				role_83061949 -> task_5c124549 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_2e2ee799 labeltooltip="2 " tooltip="2 "]
				task_a4a17a53 [label="kubeinit.kubeinit.kubeinit_prepare : Parse bastion_host_spec into a dictionary if defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_a4a17a53 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Parse bastion_host_spec into a dictionary if defined"]
				role_83061949 -> task_a4a17a53 [label="3 [when: bastion_host_spec is defined]" color="#c80431" fontcolor="#c80431" id=edge_5146c462 labeltooltip="3 [when: bastion_host_spec is defined]" tooltip="3 [when: bastion_host_spec is defined]"]
				task_4246d81c [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group and bastion_host_spec have same name when both defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_4246d81c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group and bastion_host_spec have same name when both defined"]
				role_83061949 -> task_4246d81c [label="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_ffb77011 labeltooltip="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]" tooltip="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]"]
				task_5f160b27 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_bastion_host_name" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_5f160b27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_bastion_host_name"]
				role_83061949 -> task_5f160b27 [label="5 " color="#c80431" fontcolor="#c80431" id=edge_71a4067f labeltooltip="5 " tooltip="5 "]
				task_5e088eb5 [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group does not have both target and ansible_host keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_5e088eb5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group does not have both target and ansible_host keys"]
				role_83061949 -> task_5e088eb5 [label="6 [when: hostvars[kubeinit_bastion_host_name] is defined]" color="#c80431" fontcolor="#c80431" id=edge_e4e53be8 labeltooltip="6 [when: hostvars[kubeinit_bastion_host_name] is defined]" tooltip="6 [when: hostvars[kubeinit_bastion_host_name] is defined]"]
				task_cc3fcfcc [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_cc3fcfcc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group target"]
				role_83061949 -> task_cc3fcfcc [label="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_10b09a46 labeltooltip="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]" tooltip="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]"]
				task_176d1709 [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_176d1709 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group ansible_host"]
				role_83061949 -> task_176d1709 [label="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_10015a67 labeltooltip="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]" tooltip="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]"]
				task_690306ed [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host_spec does not have both target and ansible_host keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_690306ed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host_spec does not have both target and ansible_host keys"]
				role_83061949 -> task_690306ed [label="9 [when: bastion_host_map is defined]" color="#c80431" fontcolor="#c80431" id=edge_47fc8d0f labeltooltip="9 [when: bastion_host_map is defined]" tooltip="9 [when: bastion_host_map is defined]"]
				task_88bb1aa7 [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_88bb1aa7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec target"]
				role_83061949 -> task_88bb1aa7 [label="10 [when: bastion_host_map['target'] | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_68b3a5de labeltooltip="10 [when: bastion_host_map['target'] | default('') | length > 0]" tooltip="10 [when: bastion_host_map['target'] | default('') | length > 0]"]
				task_c5e32ee3 [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_c5e32ee3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec ansible_host"]
				role_83061949 -> task_c5e32ee3 [label="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_2e1b1126 labeltooltip="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]" tooltip="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]"]
				task_24c4f2b0 [label="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither bastion host spec or group defines a target or ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_24c4f2b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither bastion host spec or group defines a target or ansible_host"]
				role_83061949 -> task_24c4f2b0 [label="12 " color="#c80431" fontcolor="#c80431" id=edge_e2fde8d5 labeltooltip="12 " tooltip="12 "]
				task_a8c09be9 [label="kubeinit.kubeinit.kubeinit_prepare : Parse ovn_central_host_spec into a dictionary if defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_a8c09be9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Parse ovn_central_host_spec into a dictionary if defined"]
				role_83061949 -> task_a8c09be9 [label="13 [when: ovn_central_host_spec is defined]" color="#c80431" fontcolor="#c80431" id=edge_111f641c labeltooltip="13 [when: ovn_central_host_spec is defined]" tooltip="13 [when: ovn_central_host_spec is defined]"]
				task_551de2e0 [label="kubeinit.kubeinit.kubeinit_prepare : Assert ovn_central_host group and ovn_central_host_spec have same name when both defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_551de2e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert ovn_central_host group and ovn_central_host_spec have same name when both defined"]
				role_83061949 -> task_551de2e0 [label="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_c1c519c7 labeltooltip="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]" tooltip="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]"]
				task_9f1fd516 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_ovn_central_host_name" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_9f1fd516 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_ovn_central_host_name"]
				role_83061949 -> task_9f1fd516 [label="15 " color="#c80431" fontcolor="#c80431" id=edge_ad4ee997 labeltooltip="15 " tooltip="15 "]
				task_7964c99f [label="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from group target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_7964c99f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from group target"]
				role_83061949 -> task_7964c99f [label="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_c0524689 labeltooltip="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]" tooltip="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]"]
				task_3d1cca67 [label="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from spec target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_3d1cca67 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from spec target"]
				role_83061949 -> task_3d1cca67 [label="17 [when: ovn_central_host_map['target'] | default('') | length > 0]" color="#c80431" fontcolor="#c80431" id=edge_b28c29b8 labeltooltip="17 [when: ovn_central_host_map['target'] | default('') | length > 0]" tooltip="17 [when: ovn_central_host_map['target'] | default('') | length > 0]"]
				task_4d11eea4 [label="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither ovn-central host spec or group defines a target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_4d11eea4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither ovn-central host spec or group defines a target"]
				role_83061949 -> task_4d11eea4 [label="18 " color="#c80431" fontcolor="#c80431" id=edge_88785312 labeltooltip="18 " tooltip="18 "]
				task_1572dc31 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_1572dc31 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
				role_83061949 -> task_1572dc31 [label="19 " color="#c80431" fontcolor="#c80431" id=edge_cfcaf733 labeltooltip="19 " tooltip="19 "]
				task_102763b6 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_102763b6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
				role_83061949 -> task_102763b6 [label="20 " color="#c80431" fontcolor="#c80431" id=edge_bc0d979c labeltooltip="20 " tooltip="20 "]
				task_5aa263ed [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_5aa263ed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
				role_83061949 -> task_5aa263ed [label="21 " color="#c80431" fontcolor="#c80431" id=edge_18d54d89 labeltooltip="21 " tooltip="21 "]
				task_40d1d83f [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_40d1d83f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
				role_83061949 -> task_40d1d83f [label="22 " color="#c80431" fontcolor="#c80431" id=edge_9f718502 labeltooltip="22 " tooltip="22 "]
				task_94544214 [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_94544214 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
				role_83061949 -> task_94544214 [label="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" color="#c80431" fontcolor="#c80431" id=edge_acc131d6 labeltooltip="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" tooltip="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]"]
				task_aa41b4ed [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_aa41b4ed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
				role_83061949 -> task_aa41b4ed [label="24 " color="#c80431" fontcolor="#c80431" id=edge_92a456ae labeltooltip="24 " tooltip="24 "]
				task_21ac3e97 [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_21ac3e97 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
				role_83061949 -> task_21ac3e97 [label="25 " color="#c80431" fontcolor="#c80431" id=edge_2a124cf9 labeltooltip="25 " tooltip="25 "]
				task_8ca15a87 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_8ca15a87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
				role_83061949 -> task_8ca15a87 [label="26 " color="#c80431" fontcolor="#c80431" id=edge_a4ed5456 labeltooltip="26 " tooltip="26 "]
				task_151b404f [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_151b404f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
				role_83061949 -> task_151b404f [label="27 " color="#c80431" fontcolor="#c80431" id=edge_895bea38 labeltooltip="27 " tooltip="27 "]
				task_d3b73c65 [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_d3b73c65 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
				role_83061949 -> task_d3b73c65 [label="28 " color="#c80431" fontcolor="#c80431" id=edge_8a4f7dfe labeltooltip="28 " tooltip="28 "]
				task_2dcd061f [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_2dcd061f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
				role_83061949 -> task_2dcd061f [label="29 [when: item.value | length > 1]" color="#c80431" fontcolor="#c80431" id=edge_87f06b66 labeltooltip="29 [when: item.value | length > 1]" tooltip="29 [when: item.value | length > 1]"]
				task_f9380278 [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_f9380278 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
				role_83061949 -> task_f9380278 [label="30 [when: 'provision' not in cluster_services_dict]" color="#c80431" fontcolor="#c80431" id=edge_58ce50d4 labeltooltip="30 [when: 'provision' not in cluster_services_dict]" tooltip="30 [when: 'provision' not in cluster_services_dict]"]
				task_81c00948 [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_81c00948 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
				role_83061949 -> task_81c00948 [label="31 " color="#c80431" fontcolor="#c80431" id=edge_897a2d8c labeltooltip="31 " tooltip="31 "]
				task_7af53de0 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_7af53de0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
				role_83061949 -> task_7af53de0 [label="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#c80431" fontcolor="#c80431" id=edge_760fd57e labeltooltip="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
				task_25ee650c [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_25ee650c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
				role_83061949 -> task_25ee650c [label="33 " color="#c80431" fontcolor="#c80431" id=edge_3fd6fad6 labeltooltip="33 " tooltip="33 "]
				task_03b10363 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_03b10363 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
				role_83061949 -> task_03b10363 [label="34 " color="#c80431" fontcolor="#c80431" id=edge_5144d32f labeltooltip="34 " tooltip="34 "]
				task_64eaaf04 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_64eaaf04 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
				role_83061949 -> task_64eaaf04 [label="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]" color="#c80431" fontcolor="#c80431" id=edge_8fdaf240 labeltooltip="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]" tooltip="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]"]
				task_275de9d5 [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_275de9d5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
				role_83061949 -> task_275de9d5 [label="36 " color="#c80431" fontcolor="#c80431" id=edge_4720f52d labeltooltip="36 " tooltip="36 "]
				task_e85dba32 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_e85dba32 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
				role_83061949 -> task_e85dba32 [label="37 " color="#c80431" fontcolor="#c80431" id=edge_43cff54a labeltooltip="37 " tooltip="37 "]
				task_e39191c6 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_e39191c6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
				role_83061949 -> task_e39191c6 [label="38 " color="#c80431" fontcolor="#c80431" id=edge_3fcc46c3 labeltooltip="38 " tooltip="38 "]
				task_904f0fd7 [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_904f0fd7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
				role_83061949 -> task_904f0fd7 [label="39 [when: hostvars[item].type == 'virtual']" color="#c80431" fontcolor="#c80431" id=edge_384715e8 labeltooltip="39 [when: hostvars[item].type == 'virtual']" tooltip="39 [when: hostvars[item].type == 'virtual']"]
				task_29930062 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_29930062 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
				role_83061949 -> task_29930062 [label="40 " color="#c80431" fontcolor="#c80431" id=edge_07d7986f labeltooltip="40 " tooltip="40 "]
				task_65d5c389 [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c80431" id=task_65d5c389 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
				role_83061949 -> task_65d5c389 [label="41 " color="#c80431" fontcolor="#c80431" id=edge_2382b548 labeltooltip="41 " tooltip="41 "]
				task_5569adf2 [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_5569adf2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
				role_83061949 -> task_5569adf2 [label="42 " color="#c80431" fontcolor="#c80431" id=edge_8de553ab labeltooltip="42 " tooltip="42 "]
				task_578e40c7 [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_578e40c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
				role_83061949 -> task_578e40c7 [label="43 [when: not hostvars['localhost'].podman_is_installed]" color="#c80431" fontcolor="#c80431" id=edge_9d7c8d4b labeltooltip="43 [when: not hostvars['localhost'].podman_is_installed]" tooltip="43 [when: not hostvars['localhost'].podman_is_installed]"]
				task_2d2db179 [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_2d2db179 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
				role_83061949 -> task_2d2db179 [label="44 " color="#c80431" fontcolor="#c80431" id=edge_31ad7cdc labeltooltip="44 " tooltip="44 "]
				task_0dbfe375 [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_0dbfe375 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
				role_83061949 -> task_0dbfe375 [label="45 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c80431" fontcolor="#c80431" id=edge_43a2c394 labeltooltip="45 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="45 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_e826b42a [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_e826b42a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
				role_83061949 -> task_e826b42a [label="46 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c80431" fontcolor="#c80431" id=edge_fa4a048b labeltooltip="46 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="46 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_af32e843 [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_af32e843 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
				role_83061949 -> task_af32e843 [label="47 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c80431" fontcolor="#c80431" id=edge_e66903af labeltooltip="47 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="47 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_eba08a7a [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_eba08a7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
				role_83061949 -> task_eba08a7a [label="48 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c80431" fontcolor="#c80431" id=edge_743425c6 labeltooltip="48 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="48 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_1826bec6 [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_1826bec6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
				role_83061949 -> task_1826bec6 [label="49 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c80431" fontcolor="#c80431" id=edge_2cbab015 labeltooltip="49 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="49 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_0ad690dd [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_0ad690dd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
				role_83061949 -> task_0ad690dd [label="50 " color="#c80431" fontcolor="#c80431" id=edge_55dcfcab labeltooltip="50 " tooltip="50 "]
				task_b36a5c0c [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_b36a5c0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
				role_83061949 -> task_b36a5c0c [label="51 " color="#c80431" fontcolor="#c80431" id=edge_5aa84535 labeltooltip="51 " tooltip="51 "]
				task_7a75c675 [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c80431" id=task_7a75c675 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
				role_83061949 -> task_7a75c675 [label="52 " color="#c80431" fontcolor="#c80431" id=edge_1fcfd13d labeltooltip="52 " tooltip="52 "]
			}
		}
		play_37c8be5b -> block_9c080eaa [label=2 color="#c80431" fontcolor="#c80431" id=edge_76006b88 labeltooltip=2 tooltip=2]
		subgraph cluster_block_9c080eaa {
			block_9c080eaa [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_9c080eaa labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_9c080eaa -> role_2657844b [label="1 " color="#c80431" fontcolor="#c80431" id=edge_6b3d9b6a labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_2657844b [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_2657844b tooltip="task-cleanup-hypervisors"]
				role_2657844b -> role_8985f9c8 [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_f7682c5c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_8985f9c8 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c80431" id=role_8985f9c8 tooltip="Prepare environment if not prepared"]
					role_8985f9c8 -> role_e9df6898 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_e455145c labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_e9df6898 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_e9df6898 tooltip="Gather kubeinit secrets"]
					}
				}
				role_2657844b -> role_9fd7f22e [label="2 " color="#c80431" fontcolor="#c80431" id=edge_67c894c3 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_9fd7f22e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c80431" id=role_9fd7f22e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_37c8be5b -> block_4fc65937 [label=3 color="#c80431" fontcolor="#c80431" id=edge_6da5ed28 labeltooltip=3 tooltip=3]
		subgraph cluster_block_4fc65937 {
			block_4fc65937 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_4fc65937 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_4fc65937 -> role_377a06ba [label="1 " color="#c80431" fontcolor="#c80431" id=edge_e5e66d18 labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_377a06ba [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_377a06ba tooltip="task-run-validations"]
				role_377a06ba -> role_a38ff051 [label="1 [when: not hypervisors_cleaned]" color="#c80431" fontcolor="#c80431" id=edge_5ebd3dc3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_a38ff051 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#c80431" id=role_a38ff051 tooltip="Cleanup hypervisors if needed"]
					role_a38ff051 -> role_ee24c528 [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_cba8a734 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_ee24c528 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c80431" id=role_ee24c528 tooltip="Prepare environment if not prepared"]
						role_ee24c528 -> role_2cfc707e [label="1 " color="#c80431" fontcolor="#c80431" id=edge_1d2d7a89 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_2cfc707e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_2cfc707e tooltip="Gather kubeinit secrets"]
						}
					}
					role_a38ff051 -> role_ab2919c9 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_e27491f0 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_ab2919c9 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c80431" id=role_ab2919c9 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_37c8be5b -> block_5cd1a583 [label=4 color="#c80431" fontcolor="#c80431" id=edge_64340590 labeltooltip=4 tooltip=4]
		subgraph cluster_block_5cd1a583 {
			block_5cd1a583 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_5cd1a583 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_5cd1a583 -> role_f7e92e94 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_0b67234a labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_f7e92e94 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_f7e92e94 tooltip="task-create-network"]
				role_f7e92e94 -> role_79846fe0 [label="1 [when: not hypervisors_cleaned]" color="#c80431" fontcolor="#c80431" id=edge_d8c4f9f3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_79846fe0 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#c80431" id=role_79846fe0 tooltip="Cleanup hypervisors if needed"]
					role_79846fe0 -> role_3ad2d55b [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_dd911fee labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_3ad2d55b [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c80431" id=role_3ad2d55b tooltip="Prepare environment if not prepared"]
						role_3ad2d55b -> role_fad3d67b [label="1 " color="#c80431" fontcolor="#c80431" id=edge_91f8df1f labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_fad3d67b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_fad3d67b tooltip="Gather kubeinit secrets"]
						}
					}
					role_79846fe0 -> role_66c5a915 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_8c84ba30 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_66c5a915 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c80431" id=role_66c5a915 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_37c8be5b -> block_c3e9a572 [label=5 color="#c80431" fontcolor="#c80431" id=edge_9de46245 labeltooltip=5 tooltip=5]
		subgraph cluster_block_c3e9a572 {
			block_c3e9a572 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_c3e9a572 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_c3e9a572 -> role_4daa6aac [label="1 " color="#c80431" fontcolor="#c80431" id=edge_6701e76f labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_4daa6aac [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_4daa6aac tooltip="task-create-services"]
				role_4daa6aac -> role_8d58ee5d [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_17e84472 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_8d58ee5d [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#c80431" id=role_8d58ee5d tooltip="Prepare environment if not prepared"]
					role_8d58ee5d -> role_31603b01 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_738e7a05 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_31603b01 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_31603b01 tooltip="Gather kubeinit secrets"]
					}
				}
				role_4daa6aac -> role_bcd32e62 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_d833ba03 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_bcd32e62 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#c80431" id=role_bcd32e62 tooltip="Prepare podman"]
				}
				role_4daa6aac -> role_d2deacdf [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c80431" fontcolor="#c80431" id=edge_af17fc18 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_d2deacdf [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c80431" id=role_d2deacdf tooltip="Configure Bind"]
					role_d2deacdf -> role_4c127585 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_41ab82d6 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_4c127585 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#c80431" id=role_4c127585 tooltip="Create systemd service for podman container"]
					}
				}
				role_4daa6aac -> role_3d82c1cd [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c80431" fontcolor="#c80431" id=edge_0f692897 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_3d82c1cd [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c80431" id=role_3d82c1cd tooltip="Configure Dnsmasq"]
					role_3d82c1cd -> role_516f8ac8 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_57a05dbf labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_516f8ac8 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#c80431" id=role_516f8ac8 tooltip="Create systemd service for podman container"]
					}
				}
				role_4daa6aac -> role_4a4ba686 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c80431" fontcolor="#c80431" id=edge_4f4529dd labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_4a4ba686 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c80431" id=role_4a4ba686 tooltip="Configure HAProxy"]
					role_4a4ba686 -> role_b1abfd3c [label="1 " color="#c80431" fontcolor="#c80431" id=edge_6b943aed labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_b1abfd3c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#c80431" id=role_b1abfd3c tooltip="Create systemd service for podman container"]
					}
				}
				role_4daa6aac -> role_1fe5b125 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c80431" fontcolor="#c80431" id=edge_4dc7b22f labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_1fe5b125 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c80431" id=role_1fe5b125 tooltip="Configure Nexus"]
					role_1fe5b125 -> role_b855f55d [label="1 " color="#c80431" fontcolor="#c80431" id=edge_502fce3c labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_b855f55d [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#c80431" id=role_b855f55d tooltip="Create systemd service for podman container"]
					}
				}
				role_4daa6aac -> role_b5b35a85 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c80431" fontcolor="#c80431" id=edge_9668b47b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_b5b35a85 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c80431" id=role_b5b35a85 tooltip="Configure Apache"]
					role_b5b35a85 -> role_cecce0a2 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_2fd73a68 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_cecce0a2 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#c80431" id=role_cecce0a2 tooltip="Create systemd service for podman container"]
					}
				}
				role_4daa6aac -> role_0af0d2d1 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c80431" fontcolor="#c80431" id=edge_45715a3f labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_0af0d2d1 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c80431" id=role_0af0d2d1 tooltip="Configure a local container image registry"]
					role_0af0d2d1 -> role_ef3083d3 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_ef210019 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_ef3083d3 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#c80431" id=role_ef3083d3 tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_37c8be5b -> block_708742f4 [label=6 color="#c80431" fontcolor="#c80431" id=edge_3668b7a3 labeltooltip=6 tooltip=6]
		subgraph cluster_block_708742f4 {
			block_708742f4 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_708742f4 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_708742f4 -> role_8ac7caae [label="1 " color="#c80431" fontcolor="#c80431" id=edge_93972d54 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_8ac7caae [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_8ac7caae tooltip="task-prepare-cluster"]
				role_8ac7caae -> role_7bf85e86 [label="1 [when: not services_prepared]" color="#c80431" fontcolor="#c80431" id=edge_0d56f63e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_7bf85e86 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c80431" id=role_7bf85e86 tooltip="Prepare services if needed"]
					role_7bf85e86 -> role_3b445bca [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_518571fe labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_3b445bca [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c80431" id=role_3b445bca tooltip="Prepare environment if needed"]
						role_3b445bca -> role_291f7bba [label="1 " color="#c80431" fontcolor="#c80431" id=edge_5091e82a labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_291f7bba [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_291f7bba tooltip="Gather kubeinit secrets"]
						}
					}
					role_7bf85e86 -> role_16210dce [label="2 " color="#c80431" fontcolor="#c80431" id=edge_4bf0be33 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_16210dce [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c80431" id=role_16210dce tooltip="Gather network and host facts for guest"]
					}
				}
				role_8ac7caae -> role_dc32f810 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_f0aee553 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_dc32f810 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c80431" id=role_dc32f810 tooltip="Delegate to the distro role to prepare the cluster"]
					role_dc32f810 -> role_08c207c1 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_f826182c labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_08c207c1 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#c80431" id=role_08c207c1 tooltip="Setup the cluster provision container"]
						role_08c207c1 -> role_f722ebde [label="1 " color="#c80431" fontcolor="#c80431" id=edge_f3bbdad8 labeltooltip="1 " tooltip="1 "]
						subgraph "Create systemd service for podman container" {
							role_f722ebde [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c80431" id=role_f722ebde tooltip="Create systemd service for podman container"]
						}
						role_08c207c1 -> role_299fd8c8 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_0cab2729 labeltooltip="2 " tooltip="2 "]
						subgraph "Gather network and host facts for provision service" {
							role_299fd8c8 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c80431" id=role_299fd8c8 tooltip="Gather network and host facts for provision service"]
						}
					}
				}
			}
		}
		play_37c8be5b -> block_bd05aea0 [label=7 color="#c80431" fontcolor="#c80431" id=edge_63d9e92e labeltooltip=7 tooltip=7]
		subgraph cluster_block_bd05aea0 {
			block_bd05aea0 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_bd05aea0 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_bd05aea0 -> role_a789eee3 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_0ea02bce labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_a789eee3 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_a789eee3 tooltip="task-download-images"]
				role_a789eee3 -> role_c26c9ffd [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_5ae0d71f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c26c9ffd [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#c80431" id=role_c26c9ffd tooltip="Prepare environment if not prepared"]
					role_c26c9ffd -> role_f9dabf1a [label="1 " color="#c80431" fontcolor="#c80431" id=edge_f4b4ee2d labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_f9dabf1a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_f9dabf1a tooltip="Gather kubeinit secrets"]
					}
				}
			}
		}
		play_37c8be5b -> block_d1c9a7e1 [label=8 color="#c80431" fontcolor="#c80431" id=edge_b9a980be labeltooltip=8 tooltip=8]
		subgraph cluster_block_d1c9a7e1 {
			block_d1c9a7e1 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_d1c9a7e1 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_d1c9a7e1 -> role_103c4ecb [label="1 " color="#c80431" fontcolor="#c80431" id=edge_1b97d572 labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_103c4ecb [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_103c4ecb tooltip="task-deploy-cluster"]
				role_103c4ecb -> role_d018be30 [label="1 [when: not services_prepared]" color="#c80431" fontcolor="#c80431" id=edge_57e22d8f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_d018be30 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c80431" id=role_d018be30 tooltip="Prepare services if needed"]
					role_d018be30 -> role_451f9583 [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_fc35c910 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_451f9583 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c80431" id=role_451f9583 tooltip="Prepare environment if needed"]
						role_451f9583 -> role_c4c7743a [label="1 " color="#c80431" fontcolor="#c80431" id=edge_a3174f9d labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_c4c7743a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_c4c7743a tooltip="Gather kubeinit secrets"]
						}
					}
					role_d018be30 -> role_8d8b3f19 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_0e245d39 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_8d8b3f19 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c80431" id=role_8d8b3f19 tooltip="Gather network and host facts for guest"]
					}
				}
				role_103c4ecb -> role_993de343 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_d08c5335 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_993de343 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c80431" id=role_993de343 tooltip="Delegate to the distro role to deploy the cluster"]
					role_993de343 -> role_842cf71a [label="1 " color="#c80431" fontcolor="#c80431" id=edge_901fb63b labeltooltip="1 " tooltip="1 "]
					subgraph "Deploy the cluster bootstrap node" {
						role_842cf71a [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c80431" id=role_842cf71a tooltip="Deploy the cluster bootstrap node"]
					}
					role_993de343 -> role_394e43f8 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_43a47e83 labeltooltip="2 " tooltip="2 "]
					subgraph "Deploy the cluster controller nodes" {
						role_394e43f8 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c80431" id=role_394e43f8 tooltip="Deploy the cluster controller nodes"]
					}
					role_993de343 -> role_9b4b06cc [label="3 " color="#c80431" fontcolor="#c80431" id=edge_49f7c705 labeltooltip="3 " tooltip="3 "]
					subgraph "Deploy the cluster compute nodes" {
						role_9b4b06cc [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c80431" id=role_9b4b06cc tooltip="Deploy the cluster compute nodes"]
					}
				}
			}
		}
		play_37c8be5b -> block_0ac760c3 [label=9 color="#c80431" fontcolor="#c80431" id=edge_42ddfa54 labeltooltip=9 tooltip=9]
		subgraph cluster_block_0ac760c3 {
			block_0ac760c3 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=block_0ac760c3 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_0ac760c3 -> role_8e4e87a1 [label="1 " color="#c80431" fontcolor="#c80431" id=edge_ab24f993 labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_8e4e87a1 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80431" id=role_8e4e87a1 tooltip="task-post-deployment"]
				role_8e4e87a1 -> role_dcef4e18 [label="1 [when: not services_prepared]" color="#c80431" fontcolor="#c80431" id=edge_a65a3d57 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_dcef4e18 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c80431" id=role_dcef4e18 tooltip="Prepare services if needed"]
					role_dcef4e18 -> role_3ce59133 [label="1 [when: not environment_prepared]" color="#c80431" fontcolor="#c80431" id=edge_daebe60b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_3ce59133 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c80431" id=role_3ce59133 tooltip="Prepare environment if needed"]
						role_3ce59133 -> role_2ebca78e [label="1 " color="#c80431" fontcolor="#c80431" id=edge_95d43495 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_2ebca78e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80431" id=role_2ebca78e tooltip="Gather kubeinit secrets"]
						}
					}
					role_dcef4e18 -> role_f40a430b [label="2 " color="#c80431" fontcolor="#c80431" id=edge_c9697b5e labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_f40a430b [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c80431" id=role_f40a430b tooltip="Gather network and host facts for guest"]
					}
				}
				role_8e4e87a1 -> role_b8baca29 [label="2 " color="#c80431" fontcolor="#c80431" id=edge_9d1b9472 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_b8baca29 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c80431" id=role_b8baca29 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_b8baca29 -> role_25d2b0bd [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c80431" fontcolor="#c80431" id=edge_a8e52fb9 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_25d2b0bd [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c80431" id=role_25d2b0bd tooltip="Configure NFS"]
					}
					role_b8baca29 -> role_58bba118 [label="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#c80431" fontcolor="#c80431" id=edge_be848082 labeltooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_58bba118 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c80431" id=role_58bba118 tooltip="Deploy the apps"]
					}
					role_b8baca29 -> role_ead51a43 [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#c80431" fontcolor="#c80431" id=edge_85e1d657 labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy KubeVirt" {
						role_ead51a43 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c80431" id=role_ead51a43 tooltip="Deploy KubeVirt"]
					}
					role_b8baca29 -> role_ebc569b5 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#c80431" fontcolor="#c80431" id=edge_64479c74 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy Submariner" {
						role_ebc569b5 [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c80431" id=role_ebc569b5 tooltip="Deploy Submariner"]
					}
				}
			}
		}
	}
}
