digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_104de8f2 [label="Play: Initial setup (1)" color="#b31994" fontcolor="#ffffff" id=play_104de8f2 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_104de8f2 [label="1 " color="#b31994" fontcolor="#b31994" id=edge_deb4fd37 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_4f288526 [label="[role] Read podman secrets if running from the container" color="#b31994" id=role_4f288526 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_99c3e520 [label="[role] task-gather-facts" color="#b31994" id=role_99c3e520 tooltip="task-gather-facts"]
		role_99c3e520 -> role_4f288526 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#b31994" fontcolor="#b31994" id=edge_c8f82cf1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_35153c03 [label="[role] Read podman secrets if running from the container" color="#b31994" id=role_35153c03 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_33b0eb1d [label="[role] task-prepare-hypervisors" color="#b31994" id=role_33b0eb1d tooltip="task-prepare-hypervisors"]
		role_33b0eb1d -> role_35153c03 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#b31994" fontcolor="#b31994" id=edge_0dd44ddb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_104de8f2 -> block_77facb07 [label=1 color="#b31994" fontcolor="#b31994" id=edge_7caa59e2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_77facb07 {
			block_77facb07 [label="[block] Gather facts about the deployment environment" color="#b31994" id=block_77facb07 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_77facb07 -> role_99c3e520 [label="1 " color="#b31994" fontcolor="#b31994" id=edge_f35bbbc3 labeltooltip="1 " tooltip="1 "]
		}
		play_104de8f2 -> block_930c14db [label=2 color="#b31994" fontcolor="#b31994" id=edge_ec6824eb labeltooltip=2 tooltip=2]
		subgraph cluster_block_930c14db {
			block_930c14db [label="[block] Prepare the hypervisors" color="#b31994" id=block_930c14db labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_930c14db -> role_33b0eb1d [label="1 " color="#b31994" fontcolor="#b31994" id=edge_70e9e773 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_011f68af [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#376895" fontcolor="#ffffff" id=play_011f68af shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_011f68af [label="2 " color="#376895" fontcolor="#376895" id=edge_3bece4a1 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_cd967473 [label="[role] Provision the libvirt services on the hypervisor" color="#376895" id=role_cd967473 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_8b820e73 [label="[role] Prepare each hypervisor in the deployment" color="#376895" id=role_8b820e73 tooltip="Prepare each hypervisor in the deployment"]
		role_8b820e73 -> role_cd967473 [label="1 " color="#376895" fontcolor="#376895" id=edge_344b0859 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_011f68af -> block_e73297c0 [label=1 color="#376895" fontcolor="#376895" id=edge_d7b44cc5 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e73297c0 {
			block_e73297c0 [label="[block] Prepare individual hypervisors" color="#376895" id=block_e73297c0 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_e73297c0 -> role_8b820e73 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#376895" fontcolor="#376895" id=edge_b89f6dd1 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_55a3ea69 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#727755" fontcolor="#ffffff" id=play_55a3ea69 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_55a3ea69 [label="3 " color="#727755" fontcolor="#727755" id=edge_5bc185a7 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_4f1a018a [label="[role] Read podman secrets if running from the container" color="#727755" id=role_4f1a018a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_081d06a4 [label="[role] task-prepare-environment" color="#727755" id=role_081d06a4 tooltip="task-prepare-environment"]
		role_081d06a4 -> role_4f1a018a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_ba69834d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
		task_290cbb21 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" color="#727755" id=task_290cbb21 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
		role_081d06a4 -> task_290cbb21 [label="2 " color="#727755" fontcolor="#727755" id=edge_a42dea4b labeltooltip="2 " tooltip="2 "]
		task_46cf2df8 [label="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups" color="#727755" id=task_46cf2df8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups"]
		role_081d06a4 -> task_46cf2df8 [label="3 " color="#727755" fontcolor="#727755" id=edge_093a0eee labeltooltip="3 " tooltip="3 "]
		task_5d677431 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" color="#727755" id=task_5d677431 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
		role_081d06a4 -> task_5d677431 [label="4 " color="#727755" fontcolor="#727755" id=edge_7da9b48d labeltooltip="4 " tooltip="4 "]
		task_e7ef73ca [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" color="#727755" id=task_e7ef73ca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
		role_081d06a4 -> task_e7ef73ca [label="5 " color="#727755" fontcolor="#727755" id=edge_47ea72ac labeltooltip="5 " tooltip="5 "]
		task_fb51aaff [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" color="#727755" id=task_fb51aaff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
		role_081d06a4 -> task_fb51aaff [label="6 " color="#727755" fontcolor="#727755" id=edge_be233a78 labeltooltip="6 " tooltip="6 "]
		task_95877c19 [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" color="#727755" id=task_95877c19 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
		role_081d06a4 -> task_95877c19 [label="7 [when: kubeinit_cluster_distro in hostvars[item].distro]" color="#727755" fontcolor="#727755" id=edge_8ff0d2ff labeltooltip="7 [when: kubeinit_cluster_distro in hostvars[item].distro]" tooltip="7 [when: kubeinit_cluster_distro in hostvars[item].distro]"]
		task_3547644f [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" color="#727755" id=task_3547644f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
		role_081d06a4 -> task_3547644f [label="8 " color="#727755" fontcolor="#727755" id=edge_27eaccd4 labeltooltip="8 " tooltip="8 "]
		task_0f2c37ec [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" color="#727755" id=task_0f2c37ec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
		role_081d06a4 -> task_0f2c37ec [label="9 " color="#727755" fontcolor="#727755" id=edge_56ee3002 labeltooltip="9 " tooltip="9 "]
		task_d29a80a7 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" color="#727755" id=task_d29a80a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
		role_081d06a4 -> task_d29a80a7 [label="10 " color="#727755" fontcolor="#727755" id=edge_bc0f9e86 labeltooltip="10 " tooltip="10 "]
		task_3a28a729 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" color="#727755" id=task_3a28a729 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
		role_081d06a4 -> task_3a28a729 [label="11 " color="#727755" fontcolor="#727755" id=edge_b11a78ea labeltooltip="11 " tooltip="11 "]
		task_58bdd8ea [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" color="#727755" id=task_58bdd8ea shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
		role_081d06a4 -> task_58bdd8ea [label="12 " color="#727755" fontcolor="#727755" id=edge_62e01b57 labeltooltip="12 " tooltip="12 "]
		task_216d3e86 [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" color="#727755" id=task_216d3e86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
		role_081d06a4 -> task_216d3e86 [label="13 [when: item.value | length > 1]" color="#727755" fontcolor="#727755" id=edge_541cc445 labeltooltip="13 [when: item.value | length > 1]" tooltip="13 [when: item.value | length > 1]"]
		task_68dd09db [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" color="#727755" id=task_68dd09db shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
		role_081d06a4 -> task_68dd09db [label="14 [when: 'provision' not in cluster_services_dict]" color="#727755" fontcolor="#727755" id=edge_41ca70d1 labeltooltip="14 [when: 'provision' not in cluster_services_dict]" tooltip="14 [when: 'provision' not in cluster_services_dict]"]
		task_f6b322c1 [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" color="#727755" id=task_f6b322c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
		role_081d06a4 -> task_f6b322c1 [label="15 " color="#727755" fontcolor="#727755" id=edge_f2c5d2a8 labeltooltip="15 " tooltip="15 "]
		task_6d4b14eb [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" color="#727755" id=task_6d4b14eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
		role_081d06a4 -> task_6d4b14eb [label="16 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#727755" fontcolor="#727755" id=edge_eab4e13b labeltooltip="16 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="16 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
		task_1d55f58f [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" color="#727755" id=task_1d55f58f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
		role_081d06a4 -> task_1d55f58f [label="17 " color="#727755" fontcolor="#727755" id=edge_e2394746 labeltooltip="17 " tooltip="17 "]
		task_2e39cef7 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" color="#727755" id=task_2e39cef7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
		role_081d06a4 -> task_2e39cef7 [label="18 " color="#727755" fontcolor="#727755" id=edge_3397ffc6 labeltooltip="18 " tooltip="18 "]
		task_d8af7a65 [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members" color="#727755" id=task_d8af7a65 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members"]
		role_081d06a4 -> task_d8af7a65 [label="19 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" color="#727755" fontcolor="#727755" id=edge_fa492a5d labeltooltip="19 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" tooltip="19 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]"]
		task_84727f22 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined" color="#727755" id=task_84727f22 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined"]
		role_081d06a4 -> task_84727f22 [label="20 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" color="#727755" fontcolor="#727755" id=edge_9d32cc2c labeltooltip="20 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" tooltip="20 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]"]
		task_9fa27e80 [label="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined" color="#727755" id=task_9fa27e80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined"]
		role_081d06a4 -> task_9fa27e80 [label="21 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" color="#727755" fontcolor="#727755" id=edge_ff627649 labeltooltip="21 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" tooltip="21 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]"]
		task_15fd53c4 [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members" color="#727755" id=task_15fd53c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members"]
		role_081d06a4 -> task_15fd53c4 [label="22 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" color="#727755" fontcolor="#727755" id=edge_cbed86dd labeltooltip="22 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" tooltip="22 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]"]
		task_87a8fa3f [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" color="#727755" id=task_87a8fa3f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
		role_081d06a4 -> task_87a8fa3f [label="23 " color="#727755" fontcolor="#727755" id=edge_91f40754 labeltooltip="23 " tooltip="23 "]
		task_0460d720 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" color="#727755" id=task_0460d720 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
		role_081d06a4 -> task_0460d720 [label="24 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in hostvars[kubeinit_cluster_facts_name].hypervisors
]" color="#727755" fontcolor="#727755" id=edge_280d4828 labeltooltip="24 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in hostvars[kubeinit_cluster_facts_name].hypervisors
]" tooltip="24 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in hostvars[kubeinit_cluster_facts_name].hypervisors
]"]
		task_52bc6e3f [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" color="#727755" id=task_52bc6e3f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
		role_081d06a4 -> task_52bc6e3f [label="25 " color="#727755" fontcolor="#727755" id=edge_407e999d labeltooltip="25 " tooltip="25 "]
		task_4b034029 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the hypervisor running vms into hv/vm tuples" color="#727755" id=task_4b034029 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the hypervisor running vms into hv/vm tuples"]
		role_081d06a4 -> task_4b034029 [label="26 " color="#727755" fontcolor="#727755" id=edge_26f648e4 labeltooltip="26 " tooltip="26 "]
		task_e857b57c [label="kubeinit.kubeinit.kubeinit_prepare : Set all running vms cluster fact" color="#727755" id=task_e857b57c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all running vms cluster fact"]
		role_081d06a4 -> task_e857b57c [label="27 " color="#727755" fontcolor="#727755" id=edge_b956b95c labeltooltip="27 " tooltip="27 "]
		task_4214e5d6 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" color="#727755" id=task_4214e5d6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
		role_081d06a4 -> task_4214e5d6 [label="28 " color="#727755" fontcolor="#727755" id=edge_afb442c6 labeltooltip="28 " tooltip="28 "]
		task_c0f5f894 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" color="#727755" id=task_c0f5f894 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
		role_081d06a4 -> task_c0f5f894 [label="29 " color="#727755" fontcolor="#727755" id=edge_ce686439 labeltooltip="29 " tooltip="29 "]
		task_ea4b7fe6 [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" color="#727755" id=task_ea4b7fe6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
		role_081d06a4 -> task_ea4b7fe6 [label="30 [when: hostvars[item].type == 'virtual']" color="#727755" fontcolor="#727755" id=edge_dbd74e38 labeltooltip="30 [when: hostvars[item].type == 'virtual']" tooltip="30 [when: hostvars[item].type == 'virtual']"]
		task_b9258283 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" color="#727755" id=task_b9258283 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
		role_081d06a4 -> task_b9258283 [label="31 " color="#727755" fontcolor="#727755" id=edge_605058c4 labeltooltip="31 " tooltip="31 "]
		task_fac65f19 [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" color="#727755" id=task_fac65f19 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
		role_081d06a4 -> task_fac65f19 [label="32 " color="#727755" fontcolor="#727755" id=edge_6891574e labeltooltip="32 " tooltip="32 "]
		task_44fc588c [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" color="#727755" id=task_44fc588c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
		role_081d06a4 -> task_44fc588c [label="33 " color="#727755" fontcolor="#727755" id=edge_8a683eab labeltooltip="33 " tooltip="33 "]
		task_36f78c35 [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" color="#727755" id=task_36f78c35 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
		role_081d06a4 -> task_36f78c35 [label="34 [when: not hostvars['localhost'].podman_is_installed]" color="#727755" fontcolor="#727755" id=edge_2a74aaf0 labeltooltip="34 [when: not hostvars['localhost'].podman_is_installed]" tooltip="34 [when: not hostvars['localhost'].podman_is_installed]"]
		task_36224574 [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" color="#727755" id=task_36224574 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
		role_081d06a4 -> task_36224574 [label="35 " color="#727755" fontcolor="#727755" id=edge_40229829 labeltooltip="35 " tooltip="35 "]
		task_aec6b412 [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" color="#727755" id=task_aec6b412 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
		role_081d06a4 -> task_aec6b412 [label="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#727755" fontcolor="#727755" id=edge_31f47b03 labeltooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_6be55f91 [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" color="#727755" id=task_6be55f91 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
		role_081d06a4 -> task_6be55f91 [label="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#727755" fontcolor="#727755" id=edge_8c044058 labeltooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_adf848c4 [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" color="#727755" id=task_adf848c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
		role_081d06a4 -> task_adf848c4 [label="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#727755" fontcolor="#727755" id=edge_68dce526 labeltooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_987ee5cc [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" color="#727755" id=task_987ee5cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
		role_081d06a4 -> task_987ee5cc [label="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#727755" fontcolor="#727755" id=edge_15b912cb labeltooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_adfd5f0f [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" color="#727755" id=task_adfd5f0f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
		role_081d06a4 -> task_adfd5f0f [label="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#727755" fontcolor="#727755" id=edge_6f8440b2 labeltooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_22a51006 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" color="#727755" id=task_22a51006 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
		role_081d06a4 -> task_22a51006 [label="41 " color="#727755" fontcolor="#727755" id=edge_c5c77a30 labeltooltip="41 " tooltip="41 "]
		task_238e3d54 [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" color="#727755" id=task_238e3d54 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
		role_081d06a4 -> task_238e3d54 [label="42 " color="#727755" fontcolor="#727755" id=edge_6c8a4204 labeltooltip="42 " tooltip="42 "]
		task_8a0cbf04 [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" color="#727755" id=task_8a0cbf04 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
		role_081d06a4 -> task_8a0cbf04 [label="43 " color="#727755" fontcolor="#727755" id=edge_9ba8b6f0 labeltooltip="43 " tooltip="43 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_55f6ad52 [label="[role] Read podman secrets if running from the container" color="#727755" id=role_55f6ad52 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_02003a29 [label="[role] Prepare environment if not prepared" color="#727755" id=role_02003a29 tooltip="Prepare environment if not prepared"]
		role_02003a29 -> role_55f6ad52 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_5be7faed labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_643be9d6 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#727755" id=role_643be9d6 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_0bf9c51d [label="[role] task-cleanup-hypervisors" color="#727755" id=role_0bf9c51d tooltip="task-cleanup-hypervisors"]
		role_0bf9c51d -> role_02003a29 [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_18b519aa labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0bf9c51d -> role_643be9d6 [label="2 " color="#727755" fontcolor="#727755" id=edge_7ed373c7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2c78846b [label="[role] Read podman secrets if running from the container" color="#727755" id=role_2c78846b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e318f675 [label="[role] Prepare environment if not prepared" color="#727755" id=role_e318f675 tooltip="Prepare environment if not prepared"]
		role_e318f675 -> role_2c78846b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_1c74df63 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_8d14328a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#727755" id=role_8d14328a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_5f2af836 [label="[role] Cleanup hypervisors if needed" color="#727755" id=role_5f2af836 tooltip="Cleanup hypervisors if needed"]
		role_5f2af836 -> role_e318f675 [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_b9ab18a0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5f2af836 -> role_8d14328a [label="2 " color="#727755" fontcolor="#727755" id=edge_b274e009 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_c20b2100 [label="[role] task-run-validations" color="#727755" id=role_c20b2100 tooltip="task-run-validations"]
		role_c20b2100 -> role_5f2af836 [label="1 [when: not hypervisors_cleaned]" color="#727755" fontcolor="#727755" id=edge_61163c7d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a01bde6a [label="[role] Read podman secrets if running from the container" color="#727755" id=role_a01bde6a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ebd2759c [label="[role] Prepare environment if not prepared" color="#727755" id=role_ebd2759c tooltip="Prepare environment if not prepared"]
		role_ebd2759c -> role_a01bde6a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_d930c8f0 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_401c0fd6 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#727755" id=role_401c0fd6 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e3493b7e [label="[role] Cleanup hypervisors if needed" color="#727755" id=role_e3493b7e tooltip="Cleanup hypervisors if needed"]
		role_e3493b7e -> role_ebd2759c [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_26a81244 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e3493b7e -> role_401c0fd6 [label="2 " color="#727755" fontcolor="#727755" id=edge_fda05cbe labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_912912b5 [label="[role] task-create-network" color="#727755" id=role_912912b5 tooltip="task-create-network"]
		role_912912b5 -> role_e3493b7e [label="1 [when: not hypervisors_cleaned]" color="#727755" fontcolor="#727755" id=edge_170631cf labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_59aecbb5 [label="[role] Read podman secrets if running from the container" color="#727755" id=role_59aecbb5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_38c80b97 [label="[role] Prepare environment if not prepared" color="#727755" id=role_38c80b97 tooltip="Prepare environment if not prepared"]
		role_38c80b97 -> role_59aecbb5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_e6166d45 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_6712ab25 [label="[role] Prepare podman" color="#727755" id=role_6712ab25 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_c3692090 [label="[role] Create systemd service for podman container" color="#727755" id=role_c3692090 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_dfa227eb [label="[role] Configure Bind" color="#727755" id=role_dfa227eb tooltip="Configure Bind"]
		role_dfa227eb -> role_c3692090 [label="1 " color="#727755" fontcolor="#727755" id=edge_b2f18b75 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8bc1bb2d [label="[role] Create systemd service for podman container" color="#727755" id=role_8bc1bb2d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_d67ddbd5 [label="[role] Configure Dnsmasq" color="#727755" id=role_d67ddbd5 tooltip="Configure Dnsmasq"]
		role_d67ddbd5 -> role_8bc1bb2d [label="1 " color="#727755" fontcolor="#727755" id=edge_a723bf4a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_815f38f3 [label="[role] Create systemd service for podman container" color="#727755" id=role_815f38f3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_4d5b6f43 [label="[role] Configure HAProxy" color="#727755" id=role_4d5b6f43 tooltip="Configure HAProxy"]
		role_4d5b6f43 -> role_815f38f3 [label="1 " color="#727755" fontcolor="#727755" id=edge_a880568d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4f01a46d [label="[role] Create systemd service for podman container" color="#727755" id=role_4f01a46d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_11c34aea [label="[role] Configure Nexus" color="#727755" id=role_11c34aea tooltip="Configure Nexus"]
		role_11c34aea -> role_4f01a46d [label="1 " color="#727755" fontcolor="#727755" id=edge_c2d0d08b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1aac27ed [label="[role] Create systemd service for podman container" color="#727755" id=role_1aac27ed tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_ef2fc3f7 [label="[role] Configure Apache" color="#727755" id=role_ef2fc3f7 tooltip="Configure Apache"]
		role_ef2fc3f7 -> role_1aac27ed [label="1 " color="#727755" fontcolor="#727755" id=edge_5d97cf10 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ce189135 [label="[role] Create systemd service for podman container" color="#727755" id=role_ce189135 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_8da9c9ea [label="[role] Configure a local container image registry" color="#727755" id=role_8da9c9ea tooltip="Configure a local container image registry"]
		role_8da9c9ea -> role_ce189135 [label="1 " color="#727755" fontcolor="#727755" id=edge_2171dbd8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_a3d4137e [label="[role] task-create-services" color="#727755" id=role_a3d4137e tooltip="task-create-services"]
		role_a3d4137e -> role_38c80b97 [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_e15637e7 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a3d4137e -> role_6712ab25 [label="2 " color="#727755" fontcolor="#727755" id=edge_0fbffbfb labeltooltip="2 " tooltip="2 "]
		role_a3d4137e -> role_dfa227eb [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#727755" fontcolor="#727755" id=edge_4fba48c4 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a3d4137e -> role_d67ddbd5 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#727755" fontcolor="#727755" id=edge_a7058cf4 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a3d4137e -> role_4d5b6f43 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#727755" fontcolor="#727755" id=edge_ac0def64 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a3d4137e -> role_11c34aea [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#727755" fontcolor="#727755" id=edge_4692ec64 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a3d4137e -> role_ef2fc3f7 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#727755" fontcolor="#727755" id=edge_a3126492 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_a3d4137e -> role_8da9c9ea [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#727755" fontcolor="#727755" id=edge_b3f97854 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a9d4a407 [label="[role] Read podman secrets if running from the container" color="#727755" id=role_a9d4a407 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_9631f55f [label="[role] Prepare environment if needed" color="#727755" id=role_9631f55f tooltip="Prepare environment if needed"]
		role_9631f55f -> role_a9d4a407 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_c61ab323 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_9bf5552a [label="[role] Gather network and host facts for guest" color="#727755" id=role_9bf5552a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_05428d7d [label="[role] Prepare services if needed" color="#727755" id=role_05428d7d tooltip="Prepare services if needed"]
		role_05428d7d -> role_9631f55f [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_f00de3d3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_05428d7d -> role_9bf5552a [label="2 " color="#727755" fontcolor="#727755" id=edge_7d07dc3b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_247a8590 [label="[role] Create systemd service for podman container" color="#727755" id=role_247a8590 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_a7b440e9 [label="[role] Gather network and host facts for provision service" color="#727755" id=role_a7b440e9 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_db386b1f [label="[role] Setup the cluster provision container" color="#727755" id=role_db386b1f tooltip="Setup the cluster provision container"]
		role_db386b1f -> role_247a8590 [label="1 " color="#727755" fontcolor="#727755" id=edge_e6fbcdea labeltooltip="1 " tooltip="1 "]
		role_db386b1f -> role_a7b440e9 [label="2 " color="#727755" fontcolor="#727755" id=edge_ff4b547b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_2954b682 [label="[role] Delegate to the distro role to prepare the cluster" color="#727755" id=role_2954b682 tooltip="Delegate to the distro role to prepare the cluster"]
		role_2954b682 -> role_db386b1f [label="1 " color="#727755" fontcolor="#727755" id=edge_734356a5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_ed5ff632 [label="[role] task-prepare-cluster" color="#727755" id=role_ed5ff632 tooltip="task-prepare-cluster"]
		role_ed5ff632 -> role_05428d7d [label="1 [when: not services_prepared]" color="#727755" fontcolor="#727755" id=edge_5ca6d98c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_ed5ff632 -> role_2954b682 [label="2 " color="#727755" fontcolor="#727755" id=edge_f622c140 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_01d79ceb [label="[role] Read podman secrets if running from the container" color="#727755" id=role_01d79ceb tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_46a76545 [label="[role] Prepare environment if not prepared" color="#727755" id=role_46a76545 tooltip="Prepare environment if not prepared"]
		role_46a76545 -> role_01d79ceb [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_0a550426 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_4c71923e [label="[role] task-download-images" color="#727755" id=role_4c71923e tooltip="task-download-images"]
		role_4c71923e -> role_46a76545 [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_34e5b5eb labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e59870f2 [label="[role] Read podman secrets if running from the container" color="#727755" id=role_e59870f2 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_2ee15264 [label="[role] Prepare environment if needed" color="#727755" id=role_2ee15264 tooltip="Prepare environment if needed"]
		role_2ee15264 -> role_e59870f2 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_50ce9851 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_e0e9f205 [label="[role] Gather network and host facts for guest" color="#727755" id=role_e0e9f205 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_feb8d938 [label="[role] Prepare services if needed" color="#727755" id=role_feb8d938 tooltip="Prepare services if needed"]
		role_feb8d938 -> role_2ee15264 [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_f7fa959b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_feb8d938 -> role_e0e9f205 [label="2 " color="#727755" fontcolor="#727755" id=edge_81ffc1f1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_3e2439c3 [label="[role] Deploy the cluster bootstrap node" color="#727755" id=role_3e2439c3 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_a5af149b [label="[role] Deploy the cluster controller nodes" color="#727755" id=role_a5af149b tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_9339d49c [label="[role] Deploy the cluster compute nodes" color="#727755" id=role_9339d49c tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_68b1cd3a [label="[role] Delegate to the distro role to deploy the cluster" color="#727755" id=role_68b1cd3a tooltip="Delegate to the distro role to deploy the cluster"]
		role_68b1cd3a -> role_3e2439c3 [label="1 " color="#727755" fontcolor="#727755" id=edge_c0f1a3d4 labeltooltip="1 " tooltip="1 "]
		role_68b1cd3a -> role_a5af149b [label="2 " color="#727755" fontcolor="#727755" id=edge_aaf86c31 labeltooltip="2 " tooltip="2 "]
		role_68b1cd3a -> role_9339d49c [label="3 " color="#727755" fontcolor="#727755" id=edge_9e6aa0ef labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_0732c45f [label="[role] task-deploy-cluster" color="#727755" id=role_0732c45f tooltip="task-deploy-cluster"]
		role_0732c45f -> role_feb8d938 [label="1 [when: not services_prepared]" color="#727755" fontcolor="#727755" id=edge_dcd69084 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0732c45f -> role_68b1cd3a [label="2 " color="#727755" fontcolor="#727755" id=edge_00fa1293 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_763656bf [label="[role] Read podman secrets if running from the container" color="#727755" id=role_763656bf tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_3016ddc4 [label="[role] Prepare environment if needed" color="#727755" id=role_3016ddc4 tooltip="Prepare environment if needed"]
		role_3016ddc4 -> role_763656bf [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#727755" fontcolor="#727755" id=edge_f29cf5dd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_19f0db91 [label="[role] Gather network and host facts for guest" color="#727755" id=role_19f0db91 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_b39046ea [label="[role] Prepare services if needed" color="#727755" id=role_b39046ea tooltip="Prepare services if needed"]
		role_b39046ea -> role_3016ddc4 [label="1 [when: not environment_prepared]" color="#727755" fontcolor="#727755" id=edge_df43ddf2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b39046ea -> role_19f0db91 [label="2 " color="#727755" fontcolor="#727755" id=edge_16806762 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_6a9ce27d [label="[role] Configure NFS" color="#727755" id=role_6a9ce27d tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_0380749c [label="[role] Deploy the apps" color="#727755" id=role_0380749c tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_a0bc3b47 [label="[role] Deploy KubeVirt" color="#727755" id=role_a0bc3b47 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_0a5aad8d [label="[role] Deploy Submariner" color="#727755" id=role_0a5aad8d tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_8d1b6f99 [label="[role] Delegate to distro role to run post-deployment tasks" color="#727755" id=role_8d1b6f99 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_8d1b6f99 -> role_6a9ce27d [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#727755" fontcolor="#727755" id=edge_dba132bd labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_8d1b6f99 -> role_0380749c [label="2 " color="#727755" fontcolor="#727755" id=edge_75b15520 labeltooltip="2 " tooltip="2 "]
		role_8d1b6f99 -> role_a0bc3b47 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#727755" fontcolor="#727755" id=edge_a4d46748 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_8d1b6f99 -> role_0a5aad8d [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#727755" fontcolor="#727755" id=edge_bce94796 labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_7373c415 [label="[role] task-post-deployment" color="#727755" id=role_7373c415 tooltip="task-post-deployment"]
		role_7373c415 -> role_b39046ea [label="1 [when: not services_prepared]" color="#727755" fontcolor="#727755" id=edge_42c61bf8 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_7373c415 -> role_8d1b6f99 [label="2 " color="#727755" fontcolor="#727755" id=edge_06bcb343 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_55a3ea69 -> block_97ddacda [label=1 color="#727755" fontcolor="#727755" id=edge_b49902a1 labeltooltip=1 tooltip=1]
		subgraph cluster_block_97ddacda {
			block_97ddacda [label="[block] Prepare the environment" color="#727755" id=block_97ddacda labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_97ddacda -> role_081d06a4 [label="1 " color="#727755" fontcolor="#727755" id=edge_9efd7bdd labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_822952df [label=2 color="#727755" fontcolor="#727755" id=edge_b42063c8 labeltooltip=2 tooltip=2]
		subgraph cluster_block_822952df {
			block_822952df [label="[block] Cleanup hypervisors" color="#727755" id=block_822952df labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_822952df -> role_0bf9c51d [label="1 " color="#727755" fontcolor="#727755" id=edge_355d9004 labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_8c30d00a [label=3 color="#727755" fontcolor="#727755" id=edge_b46a19ae labeltooltip=3 tooltip=3]
		subgraph cluster_block_8c30d00a {
			block_8c30d00a [label="[block] Run validations on cluster resources" color="#727755" id=block_8c30d00a labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_8c30d00a -> role_c20b2100 [label="1 " color="#727755" fontcolor="#727755" id=edge_670c41ef labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_7fc10362 [label=4 color="#727755" fontcolor="#727755" id=edge_66cc8dfa labeltooltip=4 tooltip=4]
		subgraph cluster_block_7fc10362 {
			block_7fc10362 [label="[block] Create the cluster network resources" color="#727755" id=block_7fc10362 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_7fc10362 -> role_912912b5 [label="1 " color="#727755" fontcolor="#727755" id=edge_7c7fa7cd labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_20ce1cde [label=5 color="#727755" fontcolor="#727755" id=edge_73ab5939 labeltooltip=5 tooltip=5]
		subgraph cluster_block_20ce1cde {
			block_20ce1cde [label="[block] Create services the cluster will need" color="#727755" id=block_20ce1cde labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_20ce1cde -> role_a3d4137e [label="1 " color="#727755" fontcolor="#727755" id=edge_16ad46f0 labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_aef15f57 [label=6 color="#727755" fontcolor="#727755" id=edge_3c72f96d labeltooltip=6 tooltip=6]
		subgraph cluster_block_aef15f57 {
			block_aef15f57 [label="[block] Prepare to deploy the cluster" color="#727755" id=block_aef15f57 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_aef15f57 -> role_ed5ff632 [label="1 " color="#727755" fontcolor="#727755" id=edge_e3a5815e labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_d67d33e3 [label=7 color="#727755" fontcolor="#727755" id=edge_bae5c45e labeltooltip=7 tooltip=7]
		subgraph cluster_block_d67d33e3 {
			block_d67d33e3 [label="[block] Download cloud images" color="#727755" id=block_d67d33e3 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_d67d33e3 -> role_4c71923e [label="1 " color="#727755" fontcolor="#727755" id=edge_c5f38f3a labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_5afcba5b [label=8 color="#727755" fontcolor="#727755" id=edge_da078d43 labeltooltip=8 tooltip=8]
		subgraph cluster_block_5afcba5b {
			block_5afcba5b [label="[block] Deploy the cluster" color="#727755" id=block_5afcba5b labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_5afcba5b -> role_0732c45f [label="1 " color="#727755" fontcolor="#727755" id=edge_bcbcceb3 labeltooltip="1 " tooltip="1 "]
		}
		play_55a3ea69 -> block_b70b2f54 [label=9 color="#727755" fontcolor="#727755" id=edge_ff6cd980 labeltooltip=9 tooltip=9]
		subgraph cluster_block_b70b2f54 {
			block_b70b2f54 [label="[block] Run any post-deployment tasks" color="#727755" id=block_b70b2f54 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_b70b2f54 -> role_7373c415 [label="1 " color="#727755" fontcolor="#727755" id=edge_a3e775bb labeltooltip="1 " tooltip="1 "]
		}
	}
}
