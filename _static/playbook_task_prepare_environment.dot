digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_aa735b91 style=dotted]
	play_eddff425 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80422" fontcolor="#ffffff" id=play_eddff425 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_eddff425 [label="1 " color="#c80422" fontcolor="#c80422" id=edge_88d95aaf labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_55282a23 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80422" id=role_55282a23 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_c5cc2eec [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80422" id=role_c5cc2eec tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_961a726c [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80422" id=role_961a726c tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_383dd793 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80422" id=role_383dd793 tooltip="task-gather-facts"]
		role_383dd793 -> role_55282a23 [label="1 " color="#c80422" fontcolor="#c80422" id=edge_b1a2788d labeltooltip="1 " tooltip="1 "]
		role_383dd793 -> role_c5cc2eec [label="2 " color="#c80422" fontcolor="#c80422" id=edge_326f24dd labeltooltip="2 " tooltip="2 "]
		role_383dd793 -> role_961a726c [label="3 " color="#c80422" fontcolor="#c80422" id=edge_29f3be4b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a2986992 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80422" id=role_a2986992 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_bf0d159e [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80422" id=role_bf0d159e tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c405a78e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c80422" id=role_c405a78e tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_44bc3fc0 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80422" id=role_44bc3fc0 tooltip="task-prepare-hypervisors"]
		role_44bc3fc0 -> role_a2986992 [label="1 " color="#c80422" fontcolor="#c80422" id=edge_d816e32a labeltooltip="1 " tooltip="1 "]
		role_44bc3fc0 -> role_bf0d159e [label="2 " color="#c80422" fontcolor="#c80422" id=edge_2dd1f19b labeltooltip="2 " tooltip="2 "]
		role_44bc3fc0 -> role_c405a78e [label="3 " color="#c80422" fontcolor="#c80422" id=edge_bc1e259a labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_eddff425 -> block_c5bfe88b [label=1 color="#c80422" fontcolor="#c80422" id=edge_e22cf2f0 labeltooltip=1 tooltip=1]
		subgraph cluster_block_c5bfe88b {
			block_c5bfe88b [label="[block] Gather facts about the deployment environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80422" id=block_c5bfe88b labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_c5bfe88b -> role_383dd793 [label="1 " color="#c80422" fontcolor="#c80422" id=edge_3d0a4405 labeltooltip="1 " tooltip="1 "]
		}
		play_eddff425 -> block_a70f635b [label=2 color="#c80422" fontcolor="#c80422" id=edge_990f703e labeltooltip=2 tooltip=2]
		subgraph cluster_block_a70f635b {
			block_a70f635b [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c80422" id=block_a70f635b labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_a70f635b -> role_44bc3fc0 [label="1 " color="#c80422" fontcolor="#c80422" id=edge_412a5daf labeltooltip="1 " tooltip="1 "]
		}
	}
	play_968a92c2 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#785f54" fontcolor="#ffffff" id=play_968a92c2 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_968a92c2 [label="2 " color="#785f54" fontcolor="#785f54" id=edge_f2ba1abb labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_715799b1 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#785f54" id=role_715799b1 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_86d2f6f7 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#785f54" id=role_86d2f6f7 tooltip="Prepare each hypervisor in the deployment"]
		role_86d2f6f7 -> role_715799b1 [label="1 " color="#785f54" fontcolor="#785f54" id=edge_e7d11a65 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_968a92c2 -> block_cf412eaa [label=1 color="#785f54" fontcolor="#785f54" id=edge_523834df labeltooltip=1 tooltip=1]
		subgraph cluster_block_cf412eaa {
			block_cf412eaa [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#785f54" id=block_cf412eaa labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_cf412eaa -> role_86d2f6f7 [label="1 " color="#785f54" fontcolor="#785f54" id=edge_8dfbae90 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_05d4ee5e [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" fontcolor="#ffffff" id=play_05d4ee5e shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_05d4ee5e [label="3 " color="#c50797" fontcolor="#c50797" id=edge_9899d750 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_42adc525 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_42adc525 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_5478ccab [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_5478ccab tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_529905b0 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_529905b0 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_1415b146 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_1415b146 tooltip="task-prepare-environment"]
		role_1415b146 -> role_42adc525 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_01378f14 labeltooltip="1 " tooltip="1 "]
		role_1415b146 -> role_5478ccab [label="2 " color="#c50797" fontcolor="#c50797" id=edge_df1aaa31 labeltooltip="2 " tooltip="2 "]
		role_1415b146 -> role_529905b0 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_a6fe6a9f labeltooltip="3 " tooltip="3 "]
		task_ee330553 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_ee330553 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
		role_1415b146 -> task_ee330553 [label="4 " color="#c50797" fontcolor="#c50797" id=edge_a5016aba labeltooltip="4 " tooltip="4 "]
		task_ba48fd11 [label="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_ba48fd11 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups"]
		role_1415b146 -> task_ba48fd11 [label="5 " color="#c50797" fontcolor="#c50797" id=edge_deb3ea98 labeltooltip="5 " tooltip="5 "]
		task_1e1d4713 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_1e1d4713 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
		role_1415b146 -> task_1e1d4713 [label="6 " color="#c50797" fontcolor="#c50797" id=edge_5bd7c0d6 labeltooltip="6 " tooltip="6 "]
		task_01eb411f [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_01eb411f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
		role_1415b146 -> task_01eb411f [label="7 " color="#c50797" fontcolor="#c50797" id=edge_7ee17fc7 labeltooltip="7 " tooltip="7 "]
		task_993c193a [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_993c193a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
		role_1415b146 -> task_993c193a [label="8 " color="#c50797" fontcolor="#c50797" id=edge_5dfa2e62 labeltooltip="8 " tooltip="8 "]
		task_d94651f3 [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_d94651f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
		role_1415b146 -> task_d94651f3 [label="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" color="#c50797" fontcolor="#c50797" id=edge_84d006c0 labeltooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" tooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]"]
		task_fe71a15a [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_fe71a15a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
		role_1415b146 -> task_fe71a15a [label="10 " color="#c50797" fontcolor="#c50797" id=edge_2dbde66a labeltooltip="10 " tooltip="10 "]
		task_9551ce15 [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_9551ce15 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
		role_1415b146 -> task_9551ce15 [label="11 " color="#c50797" fontcolor="#c50797" id=edge_bb040f2d labeltooltip="11 " tooltip="11 "]
		task_947f542b [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_947f542b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
		role_1415b146 -> task_947f542b [label="12 " color="#c50797" fontcolor="#c50797" id=edge_36469eb4 labeltooltip="12 " tooltip="12 "]
		task_3fdaf396 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_3fdaf396 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
		role_1415b146 -> task_3fdaf396 [label="13 " color="#c50797" fontcolor="#c50797" id=edge_01973175 labeltooltip="13 " tooltip="13 "]
		task_240cccca [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_240cccca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
		role_1415b146 -> task_240cccca [label="14 " color="#c50797" fontcolor="#c50797" id=edge_28235c43 labeltooltip="14 " tooltip="14 "]
		task_e39b9c08 [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_e39b9c08 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
		role_1415b146 -> task_e39b9c08 [label="15 [when: item.value | length > 1]" color="#c50797" fontcolor="#c50797" id=edge_89bb2ec7 labeltooltip="15 [when: item.value | length > 1]" tooltip="15 [when: item.value | length > 1]"]
		task_795e9b93 [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_795e9b93 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
		role_1415b146 -> task_795e9b93 [label="16 [when: 'provision' not in cluster_services_dict]" color="#c50797" fontcolor="#c50797" id=edge_8f4aea15 labeltooltip="16 [when: 'provision' not in cluster_services_dict]" tooltip="16 [when: 'provision' not in cluster_services_dict]"]
		task_68acb88a [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_68acb88a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
		role_1415b146 -> task_68acb88a [label="17 " color="#c50797" fontcolor="#c50797" id=edge_59752ad2 labeltooltip="17 " tooltip="17 "]
		task_83789624 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_83789624 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
		role_1415b146 -> task_83789624 [label="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#c50797" fontcolor="#c50797" id=edge_176d65c0 labeltooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
		task_e0baeffc [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_e0baeffc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
		role_1415b146 -> task_e0baeffc [label="19 " color="#c50797" fontcolor="#c50797" id=edge_cde5e0ad labeltooltip="19 " tooltip="19 "]
		task_5cc6ebf3 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_5cc6ebf3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
		role_1415b146 -> task_5cc6ebf3 [label="20 " color="#c50797" fontcolor="#c50797" id=edge_57089acc labeltooltip="20 " tooltip="20 "]
		task_784b8175 [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_784b8175 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members"]
		role_1415b146 -> task_784b8175 [label="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" color="#c50797" fontcolor="#c50797" id=edge_6a255fd2 labeltooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" tooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]"]
		task_a5ede188 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_a5ede188 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined"]
		role_1415b146 -> task_a5ede188 [label="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" color="#c50797" fontcolor="#c50797" id=edge_dbbf6007 labeltooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" tooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]"]
		task_49746b16 [label="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_49746b16 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined"]
		role_1415b146 -> task_49746b16 [label="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" color="#c50797" fontcolor="#c50797" id=edge_139d7989 labeltooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" tooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]"]
		task_22864a90 [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_22864a90 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members"]
		role_1415b146 -> task_22864a90 [label="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" color="#c50797" fontcolor="#c50797" id=edge_defccbe7 labeltooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" tooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]"]
		task_9c1aab73 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_9c1aab73 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
		role_1415b146 -> task_9c1aab73 [label="25 " color="#c50797" fontcolor="#c50797" id=edge_ce5adcd4 labeltooltip="25 " tooltip="25 "]
		task_0160067b [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_0160067b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
		role_1415b146 -> task_0160067b [label="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" color="#c50797" fontcolor="#c50797" id=edge_54595a87 labeltooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" tooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]"]
		task_a92449cd [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_a92449cd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
		role_1415b146 -> task_a92449cd [label="27 " color="#c50797" fontcolor="#c50797" id=edge_ecdc5eaa labeltooltip="27 " tooltip="27 "]
		task_2fd47ce2 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_2fd47ce2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
		role_1415b146 -> task_2fd47ce2 [label="28 " color="#c50797" fontcolor="#c50797" id=edge_53e16439 labeltooltip="28 " tooltip="28 "]
		task_d6d04053 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_d6d04053 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
		role_1415b146 -> task_d6d04053 [label="29 " color="#c50797" fontcolor="#c50797" id=edge_62acfc56 labeltooltip="29 " tooltip="29 "]
		task_7547f6ab [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_7547f6ab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
		role_1415b146 -> task_7547f6ab [label="30 [when: hostvars[item].type == 'virtual']" color="#c50797" fontcolor="#c50797" id=edge_b5c021db labeltooltip="30 [when: hostvars[item].type == 'virtual']" tooltip="30 [when: hostvars[item].type == 'virtual']"]
		task_75c9f09d [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_75c9f09d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
		role_1415b146 -> task_75c9f09d [label="31 " color="#c50797" fontcolor="#c50797" id=edge_22d2b196 labeltooltip="31 " tooltip="31 "]
		task_4d6fcebe [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c50797" id=task_4d6fcebe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
		role_1415b146 -> task_4d6fcebe [label="32 " color="#c50797" fontcolor="#c50797" id=edge_2e1d0019 labeltooltip="32 " tooltip="32 "]
		task_60b33a30 [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_60b33a30 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
		role_1415b146 -> task_60b33a30 [label="33 " color="#c50797" fontcolor="#c50797" id=edge_6b14fb12 labeltooltip="33 " tooltip="33 "]
		task_5cb1320e [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_5cb1320e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
		role_1415b146 -> task_5cb1320e [label="34 [when: not hostvars['localhost'].podman_is_installed]" color="#c50797" fontcolor="#c50797" id=edge_f371acd6 labeltooltip="34 [when: not hostvars['localhost'].podman_is_installed]" tooltip="34 [when: not hostvars['localhost'].podman_is_installed]"]
		task_0efafb20 [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_0efafb20 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
		role_1415b146 -> task_0efafb20 [label="35 " color="#c50797" fontcolor="#c50797" id=edge_5e8a8f5f labeltooltip="35 " tooltip="35 "]
		task_9cf83159 [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_9cf83159 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
		role_1415b146 -> task_9cf83159 [label="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c50797" fontcolor="#c50797" id=edge_fb0275eb labeltooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_c84e5d8b [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_c84e5d8b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
		role_1415b146 -> task_c84e5d8b [label="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c50797" fontcolor="#c50797" id=edge_0bbf1bbf labeltooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_2610c8c8 [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_2610c8c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
		role_1415b146 -> task_2610c8c8 [label="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c50797" fontcolor="#c50797" id=edge_1db44785 labeltooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_6eef1518 [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_6eef1518 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
		role_1415b146 -> task_6eef1518 [label="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c50797" fontcolor="#c50797" id=edge_9bf21f83 labeltooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_c69efad2 [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_c69efad2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
		role_1415b146 -> task_c69efad2 [label="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c50797" fontcolor="#c50797" id=edge_7409d257 labeltooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_21932954 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_21932954 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
		role_1415b146 -> task_21932954 [label="41 " color="#c50797" fontcolor="#c50797" id=edge_ae33bd76 labeltooltip="41 " tooltip="41 "]
		task_7beb1161 [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_7beb1161 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
		role_1415b146 -> task_7beb1161 [label="42 " color="#c50797" fontcolor="#c50797" id=edge_252ed06b labeltooltip="42 " tooltip="42 "]
		task_5a37c9a0 [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c50797" id=task_5a37c9a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
		role_1415b146 -> task_5a37c9a0 [label="43 " color="#c50797" fontcolor="#c50797" id=edge_3a39ecdd labeltooltip="43 " tooltip="43 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_11b655cb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_11b655cb tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6a4a5a9b [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_6a4a5a9b tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_16016726 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_16016726 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_6137864b [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c50797" id=role_6137864b tooltip="Prepare environment if not prepared"]
		role_6137864b -> role_11b655cb [label="1 " color="#c50797" fontcolor="#c50797" id=edge_0788359b labeltooltip="1 " tooltip="1 "]
		role_6137864b -> role_6a4a5a9b [label="2 " color="#c50797" fontcolor="#c50797" id=edge_523d93cb labeltooltip="2 " tooltip="2 "]
		role_6137864b -> role_16016726 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_80c2f95d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_5fee9ccc [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c50797" id=role_5fee9ccc tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_41d75742 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_41d75742 tooltip="task-cleanup-hypervisors"]
		role_41d75742 -> role_6137864b [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_edac6c15 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_41d75742 -> role_5fee9ccc [label="2 " color="#c50797" fontcolor="#c50797" id=edge_579b9367 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_f811818a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_f811818a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7512082a [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_7512082a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_4f34a6bd [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_4f34a6bd tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_a5018ef9 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c50797" id=role_a5018ef9 tooltip="Prepare environment if not prepared"]
		role_a5018ef9 -> role_f811818a [label="1 " color="#c50797" fontcolor="#c50797" id=edge_5ad365ce labeltooltip="1 " tooltip="1 "]
		role_a5018ef9 -> role_7512082a [label="2 " color="#c50797" fontcolor="#c50797" id=edge_bfb3f768 labeltooltip="2 " tooltip="2 "]
		role_a5018ef9 -> role_4f34a6bd [label="3 " color="#c50797" fontcolor="#c50797" id=edge_d43af0b5 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b3f4063d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c50797" id=role_b3f4063d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_b24a2d88 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#c50797" id=role_b24a2d88 tooltip="Cleanup hypervisors if needed"]
		role_b24a2d88 -> role_a5018ef9 [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_8ba18a98 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b24a2d88 -> role_b3f4063d [label="2 " color="#c50797" fontcolor="#c50797" id=edge_210d3e71 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_74e845d8 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_74e845d8 tooltip="task-run-validations"]
		role_74e845d8 -> role_b24a2d88 [label="1 [when: not hypervisors_cleaned]" color="#c50797" fontcolor="#c50797" id=edge_cf02c0ae labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_8692fd11 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_8692fd11 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_4d1a1aa8 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_4d1a1aa8 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_4a9dda24 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_4a9dda24 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9400789e [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c50797" id=role_9400789e tooltip="Prepare environment if not prepared"]
		role_9400789e -> role_8692fd11 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_e9dee9bb labeltooltip="1 " tooltip="1 "]
		role_9400789e -> role_4d1a1aa8 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_496b3bdc labeltooltip="2 " tooltip="2 "]
		role_9400789e -> role_4a9dda24 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_151d593b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_076b41fa [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c50797" id=role_076b41fa tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_daf13660 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#c50797" id=role_daf13660 tooltip="Cleanup hypervisors if needed"]
		role_daf13660 -> role_9400789e [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_75dc33c0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_daf13660 -> role_076b41fa [label="2 " color="#c50797" fontcolor="#c50797" id=edge_0758911a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_cfc53c0e [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_cfc53c0e tooltip="task-create-network"]
		role_cfc53c0e -> role_daf13660 [label="1 [when: not hypervisors_cleaned]" color="#c50797" fontcolor="#c50797" id=edge_d05c7bca labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_c6fe01ee [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_c6fe01ee tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_3d7032a9 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_3d7032a9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7839eacd [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_7839eacd tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_3818f14e [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#c50797" id=role_3818f14e tooltip="Prepare environment if not prepared"]
		role_3818f14e -> role_c6fe01ee [label="1 " color="#c50797" fontcolor="#c50797" id=edge_35e46f6c labeltooltip="1 " tooltip="1 "]
		role_3818f14e -> role_3d7032a9 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_186e0678 labeltooltip="2 " tooltip="2 "]
		role_3818f14e -> role_7839eacd [label="3 " color="#c50797" fontcolor="#c50797" id=edge_9ad4ae37 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_eaba7537 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#c50797" id=role_eaba7537 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_8595d4f1 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#c50797" id=role_8595d4f1 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_63ae6721 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c50797" id=role_63ae6721 tooltip="Configure Bind"]
		role_63ae6721 -> role_8595d4f1 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_26a0cfdd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ab093b55 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#c50797" id=role_ab093b55 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_c577ba98 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c50797" id=role_c577ba98 tooltip="Configure Dnsmasq"]
		role_c577ba98 -> role_ab093b55 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_2078df12 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_eb94de11 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#c50797" id=role_eb94de11 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_927246d0 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c50797" id=role_927246d0 tooltip="Configure HAProxy"]
		role_927246d0 -> role_eb94de11 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_e852af57 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f364796a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#c50797" id=role_f364796a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_7d905723 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c50797" id=role_7d905723 tooltip="Configure Nexus"]
		role_7d905723 -> role_f364796a [label="1 " color="#c50797" fontcolor="#c50797" id=edge_0d7389e7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_18dc7f90 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#c50797" id=role_18dc7f90 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_f39db0cd [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c50797" id=role_f39db0cd tooltip="Configure Apache"]
		role_f39db0cd -> role_18dc7f90 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_775c45f5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_cc0f72d8 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#c50797" id=role_cc0f72d8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_a2a82f86 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c50797" id=role_a2a82f86 tooltip="Configure a local container image registry"]
		role_a2a82f86 -> role_cc0f72d8 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_5b086c46 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_6dab7045 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_6dab7045 tooltip="task-create-services"]
		role_6dab7045 -> role_3818f14e [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_2ff69ca0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6dab7045 -> role_eaba7537 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_f998d2a1 labeltooltip="2 " tooltip="2 "]
		role_6dab7045 -> role_63ae6721 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c50797" fontcolor="#c50797" id=edge_e251dcca labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6dab7045 -> role_c577ba98 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c50797" fontcolor="#c50797" id=edge_05768a84 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6dab7045 -> role_927246d0 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c50797" fontcolor="#c50797" id=edge_47f5012e labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6dab7045 -> role_7d905723 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c50797" fontcolor="#c50797" id=edge_40daa867 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6dab7045 -> role_f39db0cd [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c50797" fontcolor="#c50797" id=edge_476f13db labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_6dab7045 -> role_a2a82f86 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c50797" fontcolor="#c50797" id=edge_354b9a73 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_8c59077d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_8c59077d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a7027b70 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_a7027b70 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_135cfe79 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_135cfe79 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_6b126971 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c50797" id=role_6b126971 tooltip="Prepare environment if needed"]
		role_6b126971 -> role_8c59077d [label="1 " color="#c50797" fontcolor="#c50797" id=edge_e145ffd6 labeltooltip="1 " tooltip="1 "]
		role_6b126971 -> role_a7027b70 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_36c6f3e3 labeltooltip="2 " tooltip="2 "]
		role_6b126971 -> role_135cfe79 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_5d52c416 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_96073db8 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c50797" id=role_96073db8 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_6cd05231 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c50797" id=role_6cd05231 tooltip="Prepare services if needed"]
		role_6cd05231 -> role_6b126971 [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_e942fd26 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6cd05231 -> role_96073db8 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_65ff6c08 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7bfe8ac8 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c50797" id=role_7bfe8ac8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_bd116463 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c50797" id=role_bd116463 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_b4a1a7a0 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#c50797" id=role_b4a1a7a0 tooltip="Setup the cluster provision container"]
		role_b4a1a7a0 -> role_7bfe8ac8 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_fa164fb2 labeltooltip="1 " tooltip="1 "]
		role_b4a1a7a0 -> role_bd116463 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_872bb3c5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_5824adb9 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c50797" id=role_5824adb9 tooltip="Delegate to the distro role to prepare the cluster"]
		role_5824adb9 -> role_b4a1a7a0 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_a2e302c2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_e6dbb5bb [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_e6dbb5bb tooltip="task-prepare-cluster"]
		role_e6dbb5bb -> role_6cd05231 [label="1 [when: not services_prepared]" color="#c50797" fontcolor="#c50797" id=edge_54ec6110 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_e6dbb5bb -> role_5824adb9 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_0408639d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_862d0cc0 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_862d0cc0 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ce594460 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_ce594460 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_ed5452b2 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_ed5452b2 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_188f2044 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#c50797" id=role_188f2044 tooltip="Prepare environment if not prepared"]
		role_188f2044 -> role_862d0cc0 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_2ba5cf65 labeltooltip="1 " tooltip="1 "]
		role_188f2044 -> role_ce594460 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_8d0ecfe0 labeltooltip="2 " tooltip="2 "]
		role_188f2044 -> role_ed5452b2 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_3bf8b444 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_d331aa01 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_d331aa01 tooltip="task-download-images"]
		role_d331aa01 -> role_188f2044 [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_cc66f641 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_82915e0e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_82915e0e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_5ec84add [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_5ec84add tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_6a9dc166 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_6a9dc166 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_1d88d349 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c50797" id=role_1d88d349 tooltip="Prepare environment if needed"]
		role_1d88d349 -> role_82915e0e [label="1 " color="#c50797" fontcolor="#c50797" id=edge_7e4d5199 labeltooltip="1 " tooltip="1 "]
		role_1d88d349 -> role_5ec84add [label="2 " color="#c50797" fontcolor="#c50797" id=edge_61426817 labeltooltip="2 " tooltip="2 "]
		role_1d88d349 -> role_6a9dc166 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_45a98eeb labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_22404e4f [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c50797" id=role_22404e4f tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_92a520eb [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c50797" id=role_92a520eb tooltip="Prepare services if needed"]
		role_92a520eb -> role_1d88d349 [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_da54506f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_92a520eb -> role_22404e4f [label="2 " color="#c50797" fontcolor="#c50797" id=edge_9a9ef23c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_0b234750 [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c50797" id=role_0b234750 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_9ba26189 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c50797" id=role_9ba26189 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_77d4c607 [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c50797" id=role_77d4c607 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_464aee3b [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c50797" id=role_464aee3b tooltip="Delegate to the distro role to deploy the cluster"]
		role_464aee3b -> role_0b234750 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_f7400d86 labeltooltip="1 " tooltip="1 "]
		role_464aee3b -> role_9ba26189 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_28a19cbd labeltooltip="2 " tooltip="2 "]
		role_464aee3b -> role_77d4c607 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_8c0b8507 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_ca3b2281 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_ca3b2281 tooltip="task-deploy-cluster"]
		role_ca3b2281 -> role_92a520eb [label="1 [when: not services_prepared]" color="#c50797" fontcolor="#c50797" id=edge_f8c2360e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_ca3b2281 -> role_464aee3b [label="2 " color="#c50797" fontcolor="#c50797" id=edge_8bf9b3dd labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_48d9568f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_48d9568f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_39acdd37 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_39acdd37 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_adf361e8 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c50797" id=role_adf361e8 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_fff3a920 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c50797" id=role_fff3a920 tooltip="Prepare environment if needed"]
		role_fff3a920 -> role_48d9568f [label="1 " color="#c50797" fontcolor="#c50797" id=edge_d6ace4c2 labeltooltip="1 " tooltip="1 "]
		role_fff3a920 -> role_39acdd37 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_89778167 labeltooltip="2 " tooltip="2 "]
		role_fff3a920 -> role_adf361e8 [label="3 " color="#c50797" fontcolor="#c50797" id=edge_aca656c7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_406b685f [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c50797" id=role_406b685f tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_cce2c957 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c50797" id=role_cce2c957 tooltip="Prepare services if needed"]
		role_cce2c957 -> role_fff3a920 [label="1 [when: not environment_prepared]" color="#c50797" fontcolor="#c50797" id=edge_d5395506 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_cce2c957 -> role_406b685f [label="2 " color="#c50797" fontcolor="#c50797" id=edge_488fa5e1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_0c176362 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c50797" id=role_0c176362 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_353ca385 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c50797" id=role_353ca385 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_127f1a3f [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c50797" id=role_127f1a3f tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_66a41d64 [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c50797" id=role_66a41d64 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_c0bddc85 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c50797" id=role_c0bddc85 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_c0bddc85 -> role_0c176362 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c50797" fontcolor="#c50797" id=edge_f42c22dd labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_c0bddc85 -> role_353ca385 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_3027dc8f labeltooltip="2 " tooltip="2 "]
		role_c0bddc85 -> role_127f1a3f [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#c50797" fontcolor="#c50797" id=edge_e31c8b08 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_c0bddc85 -> role_66a41d64 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#c50797" fontcolor="#c50797" id=edge_cbc9de0e labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_0b420a9a [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=role_0b420a9a tooltip="task-post-deployment"]
		role_0b420a9a -> role_cce2c957 [label="1 [when: not services_prepared]" color="#c50797" fontcolor="#c50797" id=edge_06aaafe8 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0b420a9a -> role_c0bddc85 [label="2 " color="#c50797" fontcolor="#c50797" id=edge_515389c5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_05d4ee5e -> block_18a42452 [label=1 color="#c50797" fontcolor="#c50797" id=edge_a6e3b5c9 labeltooltip=1 tooltip=1]
		subgraph cluster_block_18a42452 {
			block_18a42452 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_18a42452 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_18a42452 -> role_1415b146 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_05821bee labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_876d718f [label=2 color="#c50797" fontcolor="#c50797" id=edge_1cf155f0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_876d718f {
			block_876d718f [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_876d718f labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_876d718f -> role_41d75742 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_335e2ed7 labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_7706c730 [label=3 color="#c50797" fontcolor="#c50797" id=edge_fd142598 labeltooltip=3 tooltip=3]
		subgraph cluster_block_7706c730 {
			block_7706c730 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_7706c730 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_7706c730 -> role_74e845d8 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_0d678558 labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_ecb185c2 [label=4 color="#c50797" fontcolor="#c50797" id=edge_530e8886 labeltooltip=4 tooltip=4]
		subgraph cluster_block_ecb185c2 {
			block_ecb185c2 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_ecb185c2 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_ecb185c2 -> role_cfc53c0e [label="1 " color="#c50797" fontcolor="#c50797" id=edge_9b6d0132 labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_4f26472f [label=5 color="#c50797" fontcolor="#c50797" id=edge_efbad669 labeltooltip=5 tooltip=5]
		subgraph cluster_block_4f26472f {
			block_4f26472f [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_4f26472f labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_4f26472f -> role_6dab7045 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_7f8f9eba labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_252160f2 [label=6 color="#c50797" fontcolor="#c50797" id=edge_fe8c1b79 labeltooltip=6 tooltip=6]
		subgraph cluster_block_252160f2 {
			block_252160f2 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_252160f2 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_252160f2 -> role_e6dbb5bb [label="1 " color="#c50797" fontcolor="#c50797" id=edge_e6c12181 labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_43c0bd18 [label=7 color="#c50797" fontcolor="#c50797" id=edge_65dd79d6 labeltooltip=7 tooltip=7]
		subgraph cluster_block_43c0bd18 {
			block_43c0bd18 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_43c0bd18 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_43c0bd18 -> role_d331aa01 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_1762549f labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_683fa5d7 [label=8 color="#c50797" fontcolor="#c50797" id=edge_83628636 labeltooltip=8 tooltip=8]
		subgraph cluster_block_683fa5d7 {
			block_683fa5d7 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_683fa5d7 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_683fa5d7 -> role_ca3b2281 [label="1 " color="#c50797" fontcolor="#c50797" id=edge_767c3bc3 labeltooltip="1 " tooltip="1 "]
		}
		play_05d4ee5e -> block_bec70d39 [label=9 color="#c50797" fontcolor="#c50797" id=edge_2fa05501 labeltooltip=9 tooltip=9]
		subgraph cluster_block_bec70d39 {
			block_bec70d39 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c50797" id=block_bec70d39 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_bec70d39 -> role_0b420a9a [label="1 " color="#c50797" fontcolor="#c50797" id=edge_68669c94 labeltooltip="1 " tooltip="1 "]
		}
	}
}
