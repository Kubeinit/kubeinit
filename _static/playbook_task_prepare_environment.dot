digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_b211a4d9 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#c9037d" fontcolor="#ffffff" id=play_b211a4d9 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_b211a4d9 [label="1 " color="#c9037d" fontcolor="#c9037d" id=edge_4b641540 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_098a4603 [label="[role] Gather kubeinit secrets" color="#c9037d" id=role_098a4603 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_577bb047 [label="[role] Gather additional facts from localhost for kubeinit" color="#c9037d" id=role_577bb047 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7a5774cf [label="[role] Create ssh config file from template" color="#c9037d" id=role_7a5774cf tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_7e567f85 [label="[role] task-gather-facts" color="#c9037d" id=role_7e567f85 tooltip="task-gather-facts"]
		role_7e567f85 -> role_098a4603 [label="1 " color="#c9037d" fontcolor="#c9037d" id=edge_4222bf5e labeltooltip="1 " tooltip="1 "]
		role_7e567f85 -> role_577bb047 [label="2 " color="#c9037d" fontcolor="#c9037d" id=edge_0a428665 labeltooltip="2 " tooltip="2 "]
		role_7e567f85 -> role_7a5774cf [label="3 " color="#c9037d" fontcolor="#c9037d" id=edge_4066d870 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_32b28bc8 [label="[role] Gather kubeinit secrets" color="#c9037d" id=role_32b28bc8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9ffb0098 [label="[role] Gather additional facts from localhost for kubeinit" color="#c9037d" id=role_9ffb0098 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_739f3b2e [label="[role] Create ssh config file from template" color="#c9037d" id=role_739f3b2e tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_bc1e7942 [label="[role] task-prepare-hypervisors" color="#c9037d" id=role_bc1e7942 tooltip="task-prepare-hypervisors"]
		role_bc1e7942 -> role_32b28bc8 [label="1 " color="#c9037d" fontcolor="#c9037d" id=edge_e3802672 labeltooltip="1 " tooltip="1 "]
		role_bc1e7942 -> role_9ffb0098 [label="2 " color="#c9037d" fontcolor="#c9037d" id=edge_ef4c848f labeltooltip="2 " tooltip="2 "]
		role_bc1e7942 -> role_739f3b2e [label="3 " color="#c9037d" fontcolor="#c9037d" id=edge_98edc1c1 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_b211a4d9 -> block_d984f779 [label=1 color="#c9037d" fontcolor="#c9037d" id=edge_ba2a0cbd labeltooltip=1 tooltip=1]
		subgraph cluster_block_d984f779 {
			block_d984f779 [label="[block] Gather facts about the deployment environment" color="#c9037d" id=block_d984f779 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_d984f779 -> role_7e567f85 [label="1 " color="#c9037d" fontcolor="#c9037d" id=edge_5514244d labeltooltip="1 " tooltip="1 "]
		}
		play_b211a4d9 -> block_18d1b4e6 [label=2 color="#c9037d" fontcolor="#c9037d" id=edge_261793ac labeltooltip=2 tooltip=2]
		subgraph cluster_block_18d1b4e6 {
			block_18d1b4e6 [label="[block] Prepare the hypervisors" color="#c9037d" id=block_18d1b4e6 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_18d1b4e6 -> role_bc1e7942 [label="1 " color="#c9037d" fontcolor="#c9037d" id=edge_0215553f labeltooltip="1 " tooltip="1 "]
		}
	}
	play_c829a651 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#be0e33" fontcolor="#ffffff" id=play_c829a651 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_c829a651 [label="2 " color="#be0e33" fontcolor="#be0e33" id=edge_6d649c52 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_298cd811 [label="[role] Provision the libvirt services on the hypervisor" color="#be0e33" id=role_298cd811 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_aa8ebb37 [label="[role] Prepare each hypervisor in the deployment" color="#be0e33" id=role_aa8ebb37 tooltip="Prepare each hypervisor in the deployment"]
		role_aa8ebb37 -> role_298cd811 [label="1 " color="#be0e33" fontcolor="#be0e33" id=edge_c520037c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_c829a651 -> block_8c172d50 [label=1 color="#be0e33" fontcolor="#be0e33" id=edge_bd8a4490 labeltooltip=1 tooltip=1]
		subgraph cluster_block_8c172d50 {
			block_8c172d50 [label="[block] Prepare individual hypervisors" color="#be0e33" id=block_8c172d50 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_8c172d50 -> role_aa8ebb37 [label="1 " color="#be0e33" fontcolor="#be0e33" id=edge_5bdfaae2 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_9cf4ff37 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#9203c9" fontcolor="#ffffff" id=play_9cf4ff37 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_9cf4ff37 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_3e0a74b3 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_91ae4e03 [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_91ae4e03 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ec1643d7 [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_ec1643d7 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_b5ec993d [label="[role] Create ssh config file from template" color="#9203c9" id=role_b5ec993d tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_5ed3e13b [label="[role] task-prepare-environment" color="#9203c9" id=role_5ed3e13b tooltip="task-prepare-environment"]
		role_5ed3e13b -> role_91ae4e03 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_4274a7c4 labeltooltip="1 " tooltip="1 "]
		role_5ed3e13b -> role_ec1643d7 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_2a205775 labeltooltip="2 " tooltip="2 "]
		role_5ed3e13b -> role_b5ec993d [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_3f0c98f9 labeltooltip="3 " tooltip="3 "]
		task_ea38ac68 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" color="#9203c9" id=task_ea38ac68 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
		role_5ed3e13b -> task_ea38ac68 [label="4 " color="#9203c9" fontcolor="#9203c9" id=edge_20d0f09e labeltooltip="4 " tooltip="4 "]
		task_15020dc0 [label="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups" color="#9203c9" id=task_15020dc0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups"]
		role_5ed3e13b -> task_15020dc0 [label="5 " color="#9203c9" fontcolor="#9203c9" id=edge_a067b8b4 labeltooltip="5 " tooltip="5 "]
		task_e82e601a [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" color="#9203c9" id=task_e82e601a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
		role_5ed3e13b -> task_e82e601a [label="6 " color="#9203c9" fontcolor="#9203c9" id=edge_cb2aa25e labeltooltip="6 " tooltip="6 "]
		task_04675835 [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" color="#9203c9" id=task_04675835 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
		role_5ed3e13b -> task_04675835 [label="7 " color="#9203c9" fontcolor="#9203c9" id=edge_aebfc995 labeltooltip="7 " tooltip="7 "]
		task_ed282c17 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" color="#9203c9" id=task_ed282c17 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
		role_5ed3e13b -> task_ed282c17 [label="8 " color="#9203c9" fontcolor="#9203c9" id=edge_2e3529a8 labeltooltip="8 " tooltip="8 "]
		task_0a92598f [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" color="#9203c9" id=task_0a92598f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
		role_5ed3e13b -> task_0a92598f [label="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" color="#9203c9" fontcolor="#9203c9" id=edge_e8d42894 labeltooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" tooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]"]
		task_6c58d69f [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" color="#9203c9" id=task_6c58d69f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
		role_5ed3e13b -> task_6c58d69f [label="10 " color="#9203c9" fontcolor="#9203c9" id=edge_7e55d782 labeltooltip="10 " tooltip="10 "]
		task_f6f701b3 [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" color="#9203c9" id=task_f6f701b3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
		role_5ed3e13b -> task_f6f701b3 [label="11 " color="#9203c9" fontcolor="#9203c9" id=edge_538ba922 labeltooltip="11 " tooltip="11 "]
		task_38b4af13 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" color="#9203c9" id=task_38b4af13 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
		role_5ed3e13b -> task_38b4af13 [label="12 " color="#9203c9" fontcolor="#9203c9" id=edge_f8ea0e1d labeltooltip="12 " tooltip="12 "]
		task_944e9ef9 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" color="#9203c9" id=task_944e9ef9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
		role_5ed3e13b -> task_944e9ef9 [label="13 " color="#9203c9" fontcolor="#9203c9" id=edge_ce2c3dc8 labeltooltip="13 " tooltip="13 "]
		task_d7a3678d [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" color="#9203c9" id=task_d7a3678d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
		role_5ed3e13b -> task_d7a3678d [label="14 " color="#9203c9" fontcolor="#9203c9" id=edge_9aaeba1c labeltooltip="14 " tooltip="14 "]
		task_70f24adb [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" color="#9203c9" id=task_70f24adb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
		role_5ed3e13b -> task_70f24adb [label="15 [when: item.value | length > 1]" color="#9203c9" fontcolor="#9203c9" id=edge_04f3594d labeltooltip="15 [when: item.value | length > 1]" tooltip="15 [when: item.value | length > 1]"]
		task_b7ae5445 [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" color="#9203c9" id=task_b7ae5445 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
		role_5ed3e13b -> task_b7ae5445 [label="16 [when: 'provision' not in cluster_services_dict]" color="#9203c9" fontcolor="#9203c9" id=edge_ec56e511 labeltooltip="16 [when: 'provision' not in cluster_services_dict]" tooltip="16 [when: 'provision' not in cluster_services_dict]"]
		task_99c5f725 [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" color="#9203c9" id=task_99c5f725 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
		role_5ed3e13b -> task_99c5f725 [label="17 " color="#9203c9" fontcolor="#9203c9" id=edge_287bbd70 labeltooltip="17 " tooltip="17 "]
		task_1a861d51 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" color="#9203c9" id=task_1a861d51 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
		role_5ed3e13b -> task_1a861d51 [label="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#9203c9" fontcolor="#9203c9" id=edge_81a7b01b labeltooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
		task_59e0dfd8 [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" color="#9203c9" id=task_59e0dfd8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
		role_5ed3e13b -> task_59e0dfd8 [label="19 " color="#9203c9" fontcolor="#9203c9" id=edge_85803bf3 labeltooltip="19 " tooltip="19 "]
		task_68fe1f34 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" color="#9203c9" id=task_68fe1f34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
		role_5ed3e13b -> task_68fe1f34 [label="20 " color="#9203c9" fontcolor="#9203c9" id=edge_4a8bc9e0 labeltooltip="20 " tooltip="20 "]
		task_a9df868a [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members" color="#9203c9" id=task_a9df868a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members"]
		role_5ed3e13b -> task_a9df868a [label="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" color="#9203c9" fontcolor="#9203c9" id=edge_a6571113 labeltooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" tooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]"]
		task_2374ee0c [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined" color="#9203c9" id=task_2374ee0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined"]
		role_5ed3e13b -> task_2374ee0c [label="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" color="#9203c9" fontcolor="#9203c9" id=edge_d9c04335 labeltooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" tooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]"]
		task_ab58840a [label="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined" color="#9203c9" id=task_ab58840a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined"]
		role_5ed3e13b -> task_ab58840a [label="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" color="#9203c9" fontcolor="#9203c9" id=edge_8656e091 labeltooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" tooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]"]
		task_32dfd16e [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members" color="#9203c9" id=task_32dfd16e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members"]
		role_5ed3e13b -> task_32dfd16e [label="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" color="#9203c9" fontcolor="#9203c9" id=edge_53f502d7 labeltooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" tooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]"]
		task_1c270604 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" color="#9203c9" id=task_1c270604 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
		role_5ed3e13b -> task_1c270604 [label="25 " color="#9203c9" fontcolor="#9203c9" id=edge_f2e8aef6 labeltooltip="25 " tooltip="25 "]
		task_e7fd0938 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" color="#9203c9" id=task_e7fd0938 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
		role_5ed3e13b -> task_e7fd0938 [label="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" color="#9203c9" fontcolor="#9203c9" id=edge_ae94acc6 labeltooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" tooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]"]
		task_3f1b5c6b [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" color="#9203c9" id=task_3f1b5c6b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
		role_5ed3e13b -> task_3f1b5c6b [label="27 " color="#9203c9" fontcolor="#9203c9" id=edge_bbbcb760 labeltooltip="27 " tooltip="27 "]
		task_36fb92e2 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" color="#9203c9" id=task_36fb92e2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
		role_5ed3e13b -> task_36fb92e2 [label="28 " color="#9203c9" fontcolor="#9203c9" id=edge_0a28415b labeltooltip="28 " tooltip="28 "]
		task_74b7c547 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" color="#9203c9" id=task_74b7c547 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
		role_5ed3e13b -> task_74b7c547 [label="29 " color="#9203c9" fontcolor="#9203c9" id=edge_ecea15ed labeltooltip="29 " tooltip="29 "]
		task_886f8e65 [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" color="#9203c9" id=task_886f8e65 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
		role_5ed3e13b -> task_886f8e65 [label="30 [when: hostvars[item].type == 'virtual']" color="#9203c9" fontcolor="#9203c9" id=edge_25aeae41 labeltooltip="30 [when: hostvars[item].type == 'virtual']" tooltip="30 [when: hostvars[item].type == 'virtual']"]
		task_ea986578 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" color="#9203c9" id=task_ea986578 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
		role_5ed3e13b -> task_ea986578 [label="31 " color="#9203c9" fontcolor="#9203c9" id=edge_8aee05df labeltooltip="31 " tooltip="31 "]
		task_305e3a7b [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" color="#9203c9" id=task_305e3a7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
		role_5ed3e13b -> task_305e3a7b [label="32 " color="#9203c9" fontcolor="#9203c9" id=edge_a30e7942 labeltooltip="32 " tooltip="32 "]
		task_da31e250 [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" color="#9203c9" id=task_da31e250 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
		role_5ed3e13b -> task_da31e250 [label="33 " color="#9203c9" fontcolor="#9203c9" id=edge_f26d0861 labeltooltip="33 " tooltip="33 "]
		task_0d1efdf2 [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" color="#9203c9" id=task_0d1efdf2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
		role_5ed3e13b -> task_0d1efdf2 [label="34 [when: not hostvars['localhost'].podman_is_installed]" color="#9203c9" fontcolor="#9203c9" id=edge_8874af92 labeltooltip="34 [when: not hostvars['localhost'].podman_is_installed]" tooltip="34 [when: not hostvars['localhost'].podman_is_installed]"]
		task_7d62a030 [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" color="#9203c9" id=task_7d62a030 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
		role_5ed3e13b -> task_7d62a030 [label="35 " color="#9203c9" fontcolor="#9203c9" id=edge_fda5d2c7 labeltooltip="35 " tooltip="35 "]
		task_1a788ae7 [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" color="#9203c9" id=task_1a788ae7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
		role_5ed3e13b -> task_1a788ae7 [label="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#9203c9" fontcolor="#9203c9" id=edge_e6f62c21 labeltooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_25661953 [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" color="#9203c9" id=task_25661953 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
		role_5ed3e13b -> task_25661953 [label="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#9203c9" fontcolor="#9203c9" id=edge_8ce03934 labeltooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_639ea8bc [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" color="#9203c9" id=task_639ea8bc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
		role_5ed3e13b -> task_639ea8bc [label="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#9203c9" fontcolor="#9203c9" id=edge_a9b62563 labeltooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_b7b6ecac [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" color="#9203c9" id=task_b7b6ecac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
		role_5ed3e13b -> task_b7b6ecac [label="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#9203c9" fontcolor="#9203c9" id=edge_d2a1368b labeltooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_d6bb8c47 [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" color="#9203c9" id=task_d6bb8c47 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
		role_5ed3e13b -> task_d6bb8c47 [label="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#9203c9" fontcolor="#9203c9" id=edge_338804ca labeltooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_ec0af44e [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" color="#9203c9" id=task_ec0af44e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
		role_5ed3e13b -> task_ec0af44e [label="41 " color="#9203c9" fontcolor="#9203c9" id=edge_c72f0ffc labeltooltip="41 " tooltip="41 "]
		task_0e368895 [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" color="#9203c9" id=task_0e368895 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
		role_5ed3e13b -> task_0e368895 [label="42 " color="#9203c9" fontcolor="#9203c9" id=edge_774225c8 labeltooltip="42 " tooltip="42 "]
		task_78f50ff4 [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" color="#9203c9" id=task_78f50ff4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
		role_5ed3e13b -> task_78f50ff4 [label="43 " color="#9203c9" fontcolor="#9203c9" id=edge_42683f67 labeltooltip="43 " tooltip="43 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e8069389 [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_e8069389 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6982cc4a [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_6982cc4a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_4177b588 [label="[role] Create ssh config file from template" color="#9203c9" id=role_4177b588 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f997a0cd [label="[role] Prepare environment if not prepared" color="#9203c9" id=role_f997a0cd tooltip="Prepare environment if not prepared"]
		role_f997a0cd -> role_e8069389 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_a75e3da9 labeltooltip="1 " tooltip="1 "]
		role_f997a0cd -> role_6982cc4a [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_ad3f5876 labeltooltip="2 " tooltip="2 "]
		role_f997a0cd -> role_4177b588 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_e556a5aa labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_e6e8c808 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#9203c9" id=role_e6e8c808 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_22caaa4d [label="[role] task-cleanup-hypervisors" color="#9203c9" id=role_22caaa4d tooltip="task-cleanup-hypervisors"]
		role_22caaa4d -> role_f997a0cd [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_b76349be labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_22caaa4d -> role_e6e8c808 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_01d466ef labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_10de0c17 [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_10de0c17 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a03fd809 [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_a03fd809 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_6ffad676 [label="[role] Create ssh config file from template" color="#9203c9" id=role_6ffad676 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_83bc3bb7 [label="[role] Prepare environment if not prepared" color="#9203c9" id=role_83bc3bb7 tooltip="Prepare environment if not prepared"]
		role_83bc3bb7 -> role_10de0c17 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_aa316400 labeltooltip="1 " tooltip="1 "]
		role_83bc3bb7 -> role_a03fd809 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_cd95cd51 labeltooltip="2 " tooltip="2 "]
		role_83bc3bb7 -> role_6ffad676 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_ee549d25 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_5c23f181 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#9203c9" id=role_5c23f181 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_06ef9954 [label="[role] Cleanup hypervisors if needed" color="#9203c9" id=role_06ef9954 tooltip="Cleanup hypervisors if needed"]
		role_06ef9954 -> role_83bc3bb7 [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_726bc8d1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_06ef9954 -> role_5c23f181 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_1f057717 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_e3bab253 [label="[role] task-run-validations" color="#9203c9" id=role_e3bab253 tooltip="task-run-validations"]
		role_e3bab253 -> role_06ef9954 [label="1 [when: not hypervisors_cleaned]" color="#9203c9" fontcolor="#9203c9" id=edge_b1055cf3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_8e695212 [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_8e695212 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_21c0e90b [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_21c0e90b tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_01980790 [label="[role] Create ssh config file from template" color="#9203c9" id=role_01980790 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f3c44076 [label="[role] Prepare environment if not prepared" color="#9203c9" id=role_f3c44076 tooltip="Prepare environment if not prepared"]
		role_f3c44076 -> role_8e695212 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_dbc902aa labeltooltip="1 " tooltip="1 "]
		role_f3c44076 -> role_21c0e90b [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_bacfaee5 labeltooltip="2 " tooltip="2 "]
		role_f3c44076 -> role_01980790 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_e6760512 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_489de452 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#9203c9" id=role_489de452 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_400b3b1f [label="[role] Cleanup hypervisors if needed" color="#9203c9" id=role_400b3b1f tooltip="Cleanup hypervisors if needed"]
		role_400b3b1f -> role_f3c44076 [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_9b31baf0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_400b3b1f -> role_489de452 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_4bd4370f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_87af1bbd [label="[role] task-create-network" color="#9203c9" id=role_87af1bbd tooltip="task-create-network"]
		role_87af1bbd -> role_400b3b1f [label="1 [when: not hypervisors_cleaned]" color="#9203c9" fontcolor="#9203c9" id=edge_140f38bb labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_f0434aff [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_f0434aff tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_808e6e27 [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_808e6e27 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_8dcca568 [label="[role] Create ssh config file from template" color="#9203c9" id=role_8dcca568 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_13a6f366 [label="[role] Prepare environment if not prepared" color="#9203c9" id=role_13a6f366 tooltip="Prepare environment if not prepared"]
		role_13a6f366 -> role_f0434aff [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_1b96052f labeltooltip="1 " tooltip="1 "]
		role_13a6f366 -> role_808e6e27 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_2cff8a49 labeltooltip="2 " tooltip="2 "]
		role_13a6f366 -> role_8dcca568 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_7edbe135 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_dbeb99e0 [label="[role] Prepare podman" color="#9203c9" id=role_dbeb99e0 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_415fe68d [label="[role] Create systemd service for podman container" color="#9203c9" id=role_415fe68d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_8f06daa7 [label="[role] Configure Bind" color="#9203c9" id=role_8f06daa7 tooltip="Configure Bind"]
		role_8f06daa7 -> role_415fe68d [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_8e30e4bb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_67a9d1a0 [label="[role] Create systemd service for podman container" color="#9203c9" id=role_67a9d1a0 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_1c71fa86 [label="[role] Configure Dnsmasq" color="#9203c9" id=role_1c71fa86 tooltip="Configure Dnsmasq"]
		role_1c71fa86 -> role_67a9d1a0 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_42530f0c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6c66cfca [label="[role] Create systemd service for podman container" color="#9203c9" id=role_6c66cfca tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_e9c94590 [label="[role] Configure HAProxy" color="#9203c9" id=role_e9c94590 tooltip="Configure HAProxy"]
		role_e9c94590 -> role_6c66cfca [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_347da3f7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7ecc0368 [label="[role] Create systemd service for podman container" color="#9203c9" id=role_7ecc0368 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_ceb6bc73 [label="[role] Configure Nexus" color="#9203c9" id=role_ceb6bc73 tooltip="Configure Nexus"]
		role_ceb6bc73 -> role_7ecc0368 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_94cb2b7c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_fef8b815 [label="[role] Create systemd service for podman container" color="#9203c9" id=role_fef8b815 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_512cb2a7 [label="[role] Configure Apache" color="#9203c9" id=role_512cb2a7 tooltip="Configure Apache"]
		role_512cb2a7 -> role_fef8b815 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_1c07d8f0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_dc84a720 [label="[role] Create systemd service for podman container" color="#9203c9" id=role_dc84a720 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_4fc34755 [label="[role] Configure a local container image registry" color="#9203c9" id=role_4fc34755 tooltip="Configure a local container image registry"]
		role_4fc34755 -> role_dc84a720 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_0d01d111 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_da861b76 [label="[role] task-create-services" color="#9203c9" id=role_da861b76 tooltip="task-create-services"]
		role_da861b76 -> role_13a6f366 [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_6b4a5ed1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_da861b76 -> role_dbeb99e0 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_e364880f labeltooltip="2 " tooltip="2 "]
		role_da861b76 -> role_8f06daa7 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#9203c9" fontcolor="#9203c9" id=edge_29447d8f labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_da861b76 -> role_1c71fa86 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#9203c9" fontcolor="#9203c9" id=edge_152153d8 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_da861b76 -> role_e9c94590 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#9203c9" fontcolor="#9203c9" id=edge_642f2d8b labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_da861b76 -> role_ceb6bc73 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#9203c9" fontcolor="#9203c9" id=edge_45b44bc7 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_da861b76 -> role_512cb2a7 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#9203c9" fontcolor="#9203c9" id=edge_57083906 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_da861b76 -> role_4fc34755 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#9203c9" fontcolor="#9203c9" id=edge_062001d5 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_b33819c7 [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_b33819c7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_5c15696f [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_5c15696f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_601f26b4 [label="[role] Create ssh config file from template" color="#9203c9" id=role_601f26b4 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_4e3c1ecd [label="[role] Prepare environment if needed" color="#9203c9" id=role_4e3c1ecd tooltip="Prepare environment if needed"]
		role_4e3c1ecd -> role_b33819c7 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_d9b4fba3 labeltooltip="1 " tooltip="1 "]
		role_4e3c1ecd -> role_5c15696f [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_8c1273c0 labeltooltip="2 " tooltip="2 "]
		role_4e3c1ecd -> role_601f26b4 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_6b5adf5b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_1abeab0d [label="[role] Gather network and host facts for guest" color="#9203c9" id=role_1abeab0d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f9dd615e [label="[role] Prepare services if needed" color="#9203c9" id=role_f9dd615e tooltip="Prepare services if needed"]
		role_f9dd615e -> role_4e3c1ecd [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_6d11cdcf labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f9dd615e -> role_1abeab0d [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_bc6a360f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f8e7ed25 [label="[role] Create systemd service for podman container" color="#9203c9" id=role_f8e7ed25 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_dd17f141 [label="[role] Gather network and host facts for provision service" color="#9203c9" id=role_dd17f141 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_5b35df4b [label="[role] Setup the cluster provision container" color="#9203c9" id=role_5b35df4b tooltip="Setup the cluster provision container"]
		role_5b35df4b -> role_f8e7ed25 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_621d3f2b labeltooltip="1 " tooltip="1 "]
		role_5b35df4b -> role_dd17f141 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_02a0c443 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_3a96b8cd [label="[role] Delegate to the distro role to prepare the cluster" color="#9203c9" id=role_3a96b8cd tooltip="Delegate to the distro role to prepare the cluster"]
		role_3a96b8cd -> role_5b35df4b [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_37cbc040 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_45910cc9 [label="[role] task-prepare-cluster" color="#9203c9" id=role_45910cc9 tooltip="task-prepare-cluster"]
		role_45910cc9 -> role_f9dd615e [label="1 [when: not services_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_eec27345 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_45910cc9 -> role_3a96b8cd [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_3f471df4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_8c9d04fe [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_8c9d04fe tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9de647ab [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_9de647ab tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_8905955b [label="[role] Create ssh config file from template" color="#9203c9" id=role_8905955b tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1e59042c [label="[role] Prepare environment if not prepared" color="#9203c9" id=role_1e59042c tooltip="Prepare environment if not prepared"]
		role_1e59042c -> role_8c9d04fe [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_83210056 labeltooltip="1 " tooltip="1 "]
		role_1e59042c -> role_9de647ab [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_91bea4c5 labeltooltip="2 " tooltip="2 "]
		role_1e59042c -> role_8905955b [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_ed8e006e labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_4b3081d6 [label="[role] task-download-images" color="#9203c9" id=role_4b3081d6 tooltip="task-download-images"]
		role_4b3081d6 -> role_1e59042c [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_72fcd085 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_439fbcdb [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_439fbcdb tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_2dd90624 [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_2dd90624 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_57bdf73d [label="[role] Create ssh config file from template" color="#9203c9" id=role_57bdf73d tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_fa9b0416 [label="[role] Prepare environment if needed" color="#9203c9" id=role_fa9b0416 tooltip="Prepare environment if needed"]
		role_fa9b0416 -> role_439fbcdb [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_a7e8e30d labeltooltip="1 " tooltip="1 "]
		role_fa9b0416 -> role_2dd90624 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_7b080688 labeltooltip="2 " tooltip="2 "]
		role_fa9b0416 -> role_57bdf73d [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_2f093b3f labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_7c47b6aa [label="[role] Gather network and host facts for guest" color="#9203c9" id=role_7c47b6aa tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d27eefc5 [label="[role] Prepare services if needed" color="#9203c9" id=role_d27eefc5 tooltip="Prepare services if needed"]
		role_d27eefc5 -> role_fa9b0416 [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_7fde9fff labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d27eefc5 -> role_7c47b6aa [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_d006973f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_c4b6a443 [label="[role] Deploy the cluster bootstrap node" color="#9203c9" id=role_c4b6a443 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_496fb576 [label="[role] Deploy the cluster controller nodes" color="#9203c9" id=role_496fb576 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_72169131 [label="[role] Deploy the cluster compute nodes" color="#9203c9" id=role_72169131 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_26c19bf2 [label="[role] Delegate to the distro role to deploy the cluster" color="#9203c9" id=role_26c19bf2 tooltip="Delegate to the distro role to deploy the cluster"]
		role_26c19bf2 -> role_c4b6a443 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_95d65fac labeltooltip="1 " tooltip="1 "]
		role_26c19bf2 -> role_496fb576 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_7ebca152 labeltooltip="2 " tooltip="2 "]
		role_26c19bf2 -> role_72169131 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_3696a7a2 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_b0106b5f [label="[role] task-deploy-cluster" color="#9203c9" id=role_b0106b5f tooltip="task-deploy-cluster"]
		role_b0106b5f -> role_d27eefc5 [label="1 [when: not services_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_7eac06c4 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b0106b5f -> role_26c19bf2 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_8f457970 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_87ad9616 [label="[role] Gather kubeinit secrets" color="#9203c9" id=role_87ad9616 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_3c305e2f [label="[role] Gather additional facts from localhost for kubeinit" color="#9203c9" id=role_3c305e2f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_392829e0 [label="[role] Create ssh config file from template" color="#9203c9" id=role_392829e0 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_c2deab91 [label="[role] Prepare environment if needed" color="#9203c9" id=role_c2deab91 tooltip="Prepare environment if needed"]
		role_c2deab91 -> role_87ad9616 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_c381ff12 labeltooltip="1 " tooltip="1 "]
		role_c2deab91 -> role_3c305e2f [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_5a1f516c labeltooltip="2 " tooltip="2 "]
		role_c2deab91 -> role_392829e0 [label="3 " color="#9203c9" fontcolor="#9203c9" id=edge_70d31cb6 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_30c751a2 [label="[role] Gather network and host facts for guest" color="#9203c9" id=role_30c751a2 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_c88456da [label="[role] Prepare services if needed" color="#9203c9" id=role_c88456da tooltip="Prepare services if needed"]
		role_c88456da -> role_c2deab91 [label="1 [when: not environment_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_afe591b8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c88456da -> role_30c751a2 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_4e93ff7d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_381e6b69 [label="[role] Configure NFS" color="#9203c9" id=role_381e6b69 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_8ea133e5 [label="[role] Deploy the apps" color="#9203c9" id=role_8ea133e5 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_ec119f46 [label="[role] Deploy KubeVirt" color="#9203c9" id=role_ec119f46 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_5376642a [label="[role] Deploy Submariner" color="#9203c9" id=role_5376642a tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_7c5939d6 [label="[role] Delegate to distro role to run post-deployment tasks" color="#9203c9" id=role_7c5939d6 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_7c5939d6 -> role_381e6b69 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#9203c9" fontcolor="#9203c9" id=edge_7acc2707 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_7c5939d6 -> role_8ea133e5 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_46e5929c labeltooltip="2 " tooltip="2 "]
		role_7c5939d6 -> role_ec119f46 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#9203c9" fontcolor="#9203c9" id=edge_4103307f labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_7c5939d6 -> role_5376642a [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#9203c9" fontcolor="#9203c9" id=edge_92a06bd8 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_48b8e5ce [label="[role] task-post-deployment" color="#9203c9" id=role_48b8e5ce tooltip="task-post-deployment"]
		role_48b8e5ce -> role_c88456da [label="1 [when: not services_prepared]" color="#9203c9" fontcolor="#9203c9" id=edge_fb450af3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_48b8e5ce -> role_7c5939d6 [label="2 " color="#9203c9" fontcolor="#9203c9" id=edge_0d2fa40b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_9cf4ff37 -> block_fa47eb77 [label=1 color="#9203c9" fontcolor="#9203c9" id=edge_380f0026 labeltooltip=1 tooltip=1]
		subgraph cluster_block_fa47eb77 {
			block_fa47eb77 [label="[block] Prepare the environment" color="#9203c9" id=block_fa47eb77 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_fa47eb77 -> role_5ed3e13b [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_bd002f84 labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_0c5db786 [label=2 color="#9203c9" fontcolor="#9203c9" id=edge_76f20c76 labeltooltip=2 tooltip=2]
		subgraph cluster_block_0c5db786 {
			block_0c5db786 [label="[block] Cleanup hypervisors" color="#9203c9" id=block_0c5db786 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_0c5db786 -> role_22caaa4d [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_5c83c088 labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_81f7a3fb [label=3 color="#9203c9" fontcolor="#9203c9" id=edge_7ebc730f labeltooltip=3 tooltip=3]
		subgraph cluster_block_81f7a3fb {
			block_81f7a3fb [label="[block] Run validations on cluster resources" color="#9203c9" id=block_81f7a3fb labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_81f7a3fb -> role_e3bab253 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_e262af28 labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_8eeaf4d0 [label=4 color="#9203c9" fontcolor="#9203c9" id=edge_70b2341d labeltooltip=4 tooltip=4]
		subgraph cluster_block_8eeaf4d0 {
			block_8eeaf4d0 [label="[block] Create the cluster network resources" color="#9203c9" id=block_8eeaf4d0 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_8eeaf4d0 -> role_87af1bbd [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_9ecd4d8d labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_41a26824 [label=5 color="#9203c9" fontcolor="#9203c9" id=edge_d1290630 labeltooltip=5 tooltip=5]
		subgraph cluster_block_41a26824 {
			block_41a26824 [label="[block] Create services the cluster will need" color="#9203c9" id=block_41a26824 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_41a26824 -> role_da861b76 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_038530a9 labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_f3111951 [label=6 color="#9203c9" fontcolor="#9203c9" id=edge_0829f01c labeltooltip=6 tooltip=6]
		subgraph cluster_block_f3111951 {
			block_f3111951 [label="[block] Prepare to deploy the cluster" color="#9203c9" id=block_f3111951 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_f3111951 -> role_45910cc9 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_60223b5e labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_39bebafa [label=7 color="#9203c9" fontcolor="#9203c9" id=edge_08fadff3 labeltooltip=7 tooltip=7]
		subgraph cluster_block_39bebafa {
			block_39bebafa [label="[block] Download cloud images" color="#9203c9" id=block_39bebafa labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_39bebafa -> role_4b3081d6 [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_3d5a72d8 labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_e707507e [label=8 color="#9203c9" fontcolor="#9203c9" id=edge_ccbe943f labeltooltip=8 tooltip=8]
		subgraph cluster_block_e707507e {
			block_e707507e [label="[block] Deploy the cluster" color="#9203c9" id=block_e707507e labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_e707507e -> role_b0106b5f [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_dff9ec74 labeltooltip="1 " tooltip="1 "]
		}
		play_9cf4ff37 -> block_0814e3cb [label=9 color="#9203c9" fontcolor="#9203c9" id=edge_b3ad8666 labeltooltip=9 tooltip=9]
		subgraph cluster_block_0814e3cb {
			block_0814e3cb [label="[block] Run any post-deployment tasks" color="#9203c9" id=block_0814e3cb labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_0814e3cb -> role_48b8e5ce [label="1 " color="#9203c9" fontcolor="#9203c9" id=edge_4979e3ed labeltooltip="1 " tooltip="1 "]
		}
	}
}
