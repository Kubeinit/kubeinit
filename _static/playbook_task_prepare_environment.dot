digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_7e581071 style=dotted]
	play_e945e432 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a73725" fontcolor="#ffffff" id=play_e945e432 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e945e432 [label="1 " color="#a73725" fontcolor="#a73725" id=edge_24b239af labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_9eedd970 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#a73725" id=role_9eedd970 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9894d60d [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#a73725" id=role_9894d60d tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_43b48bc6 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#a73725" id=role_43b48bc6 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_acf2f5a7 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a73725" id=role_acf2f5a7 tooltip="task-gather-facts"]
		role_acf2f5a7 -> role_9eedd970 [label="1 " color="#a73725" fontcolor="#a73725" id=edge_de54f117 labeltooltip="1 " tooltip="1 "]
		role_acf2f5a7 -> role_9894d60d [label="2 " color="#a73725" fontcolor="#a73725" id=edge_167af2a9 labeltooltip="2 " tooltip="2 "]
		role_acf2f5a7 -> role_43b48bc6 [label="3 " color="#a73725" fontcolor="#a73725" id=edge_25efa286 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_e945e432 -> block_d24a18ca [label=1 color="#a73725" fontcolor="#a73725" id=edge_4c8501ca labeltooltip=1 tooltip=1]
		subgraph cluster_block_d24a18ca {
			block_d24a18ca [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a73725" id=block_d24a18ca labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_d24a18ca -> role_acf2f5a7 [label="1 " color="#a73725" fontcolor="#a73725" id=edge_1602f39c labeltooltip="1 " tooltip="1 "]
		}
	}
	play_f5224d25 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a54527" fontcolor="#ffffff" id=play_f5224d25 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_f5224d25 [label="2 " color="#a54527" fontcolor="#a54527" id=edge_d5dfa4b5 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_375d5e79 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a54527" id=role_375d5e79 tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_f5224d25 -> block_e7168113 [label=1 color="#a54527" fontcolor="#a54527" id=edge_7895b6e9 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e7168113 {
			block_e7168113 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#a54527" id=block_e7168113 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_e7168113 -> role_375d5e79 [label="1 " color="#a54527" fontcolor="#a54527" id=edge_ed9e27cf labeltooltip="1 " tooltip="1 "]
		}
	}
	play_6bef2af1 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b9a013" fontcolor="#ffffff" id=play_6bef2af1 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_6bef2af1 [label="3 " color="#b9a013" fontcolor="#b9a013" id=edge_fbd6d79a labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_c9d52880 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b9a013" id=role_c9d52880 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_64a80a93 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b9a013" id=role_64a80a93 tooltip="Gather facts to prepare the cluster hypervisors"]
		role_64a80a93 -> role_c9d52880 [label="1 " color="#b9a013" fontcolor="#b9a013" id=edge_a0d23345 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e4091eb2 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b9a013" id=role_e4091eb2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_cce3452c [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b9a013" id=role_cce3452c tooltip="task-prepare-hypervisors"]
		role_cce3452c -> role_e4091eb2 [label="1 " color="#b9a013" fontcolor="#b9a013" id=edge_e053fc57 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_6bef2af1 -> block_33085d42 [label=1 color="#b9a013" fontcolor="#b9a013" id=edge_287a65d5 labeltooltip=1 tooltip=1]
		subgraph cluster_block_33085d42 {
			block_33085d42 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b9a013" id=block_33085d42 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_33085d42 -> role_64a80a93 [label="1 " color="#b9a013" fontcolor="#b9a013" id=edge_92bbfdec labeltooltip="1 " tooltip="1 "]
		}
		play_6bef2af1 -> block_03c50f8a [label=2 color="#b9a013" fontcolor="#b9a013" id=edge_cd28a5e0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_03c50f8a {
			block_03c50f8a [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b9a013" id=block_03c50f8a labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_03c50f8a -> role_cce3452c [label="1 " color="#b9a013" fontcolor="#b9a013" id=edge_df4fbc74 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_25fc4f60 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#608943" fontcolor="#ffffff" id=play_25fc4f60 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_25fc4f60 [label="4 " color="#608943" fontcolor="#608943" id=edge_cefd5408 labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_9f990d1e [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#608943" id=role_9f990d1e tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_11af15f3 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#608943" id=role_11af15f3 tooltip="Prepare each hypervisor in the deployment"]
		role_11af15f3 -> role_9f990d1e [label="1 " color="#608943" fontcolor="#608943" id=edge_34f0d266 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_25fc4f60 -> block_b9a897b4 [label=1 color="#608943" fontcolor="#608943" id=edge_e380d9bb labeltooltip=1 tooltip=1]
		subgraph cluster_block_b9a897b4 {
			block_b9a897b4 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#608943" id=block_b9a897b4 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_b9a897b4 -> role_11af15f3 [label="1 " color="#608943" fontcolor="#608943" id=edge_6b34535e labeltooltip="1 " tooltip="1 "]
		}
	}
	play_e3cadc54 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" fontcolor="#ffffff" id=play_e3cadc54 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e3cadc54 [label="5 " color="#87c309" fontcolor="#87c309" id=edge_36d4f124 labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_e4bac8f3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_e4bac8f3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_347cdebc [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_347cdebc tooltip="task-prepare-environment"]
		role_347cdebc -> role_e4bac8f3 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_94c9c106 labeltooltip="1 " tooltip="1 "]
		task_2601a0a4 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_2601a0a4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
		role_347cdebc -> task_2601a0a4 [label="2 " color="#87c309" fontcolor="#87c309" id=edge_a6718d24 labeltooltip="2 " tooltip="2 "]
		task_f2cbe17a [label="kubeinit.kubeinit.kubeinit_prepare : Parse bastion_host_spec into a dictionary if defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_f2cbe17a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Parse bastion_host_spec into a dictionary if defined"]
		role_347cdebc -> task_f2cbe17a [label="3 [when: bastion_host_spec is defined]" color="#87c309" fontcolor="#87c309" id=edge_33c29df2 labeltooltip="3 [when: bastion_host_spec is defined]" tooltip="3 [when: bastion_host_spec is defined]"]
		task_30274c0c [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group and bastion_host_spec have same name when both defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_30274c0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group and bastion_host_spec have same name when both defined"]
		role_347cdebc -> task_30274c0c [label="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_fa74ffbb labeltooltip="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]" tooltip="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]"]
		task_c5a43752 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_bastion_host_name" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_c5a43752 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_bastion_host_name"]
		role_347cdebc -> task_c5a43752 [label="5 " color="#87c309" fontcolor="#87c309" id=edge_cda611f2 labeltooltip="5 " tooltip="5 "]
		task_228766a9 [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group does not have both target and ansible_host keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_228766a9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group does not have both target and ansible_host keys"]
		role_347cdebc -> task_228766a9 [label="6 [when: hostvars[kubeinit_bastion_host_name] is defined]" color="#87c309" fontcolor="#87c309" id=edge_be203ea7 labeltooltip="6 [when: hostvars[kubeinit_bastion_host_name] is defined]" tooltip="6 [when: hostvars[kubeinit_bastion_host_name] is defined]"]
		task_0a2dcdc3 [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_0a2dcdc3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group target"]
		role_347cdebc -> task_0a2dcdc3 [label="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_6cfc5fab labeltooltip="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]" tooltip="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]"]
		task_d30b10b1 [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_d30b10b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group ansible_host"]
		role_347cdebc -> task_d30b10b1 [label="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_abcb29fb labeltooltip="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]" tooltip="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]"]
		task_1a48a33b [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host_spec does not have both target and ansible_host keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_1a48a33b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host_spec does not have both target and ansible_host keys"]
		role_347cdebc -> task_1a48a33b [label="9 [when: bastion_host_map is defined]" color="#87c309" fontcolor="#87c309" id=edge_35f398c5 labeltooltip="9 [when: bastion_host_map is defined]" tooltip="9 [when: bastion_host_map is defined]"]
		task_b898690a [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_b898690a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec target"]
		role_347cdebc -> task_b898690a [label="10 [when: bastion_host_map['target'] | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_26321a69 labeltooltip="10 [when: bastion_host_map['target'] | default('') | length > 0]" tooltip="10 [when: bastion_host_map['target'] | default('') | length > 0]"]
		task_c753fe3c [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_c753fe3c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec ansible_host"]
		role_347cdebc -> task_c753fe3c [label="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_681ef7d6 labeltooltip="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]" tooltip="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]"]
		task_0ef89fbe [label="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither bastion host spec or group defines a target or ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_0ef89fbe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither bastion host spec or group defines a target or ansible_host"]
		role_347cdebc -> task_0ef89fbe [label="12 " color="#87c309" fontcolor="#87c309" id=edge_9bd29ccb labeltooltip="12 " tooltip="12 "]
		task_2a7e97da [label="kubeinit.kubeinit.kubeinit_prepare : Parse ovn_central_host_spec into a dictionary if defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_2a7e97da shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Parse ovn_central_host_spec into a dictionary if defined"]
		role_347cdebc -> task_2a7e97da [label="13 [when: ovn_central_host_spec is defined]" color="#87c309" fontcolor="#87c309" id=edge_c3530ae8 labeltooltip="13 [when: ovn_central_host_spec is defined]" tooltip="13 [when: ovn_central_host_spec is defined]"]
		task_d059e528 [label="kubeinit.kubeinit.kubeinit_prepare : Assert ovn_central_host group and ovn_central_host_spec have same name when both defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_d059e528 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert ovn_central_host group and ovn_central_host_spec have same name when both defined"]
		role_347cdebc -> task_d059e528 [label="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_daa554c1 labeltooltip="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]" tooltip="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]"]
		task_1dc20a06 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_ovn_central_host_name" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_1dc20a06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_ovn_central_host_name"]
		role_347cdebc -> task_1dc20a06 [label="15 " color="#87c309" fontcolor="#87c309" id=edge_f1a8dee7 labeltooltip="15 " tooltip="15 "]
		task_8ea2f48f [label="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from group target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_8ea2f48f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from group target"]
		role_347cdebc -> task_8ea2f48f [label="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_8dd97318 labeltooltip="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]" tooltip="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]"]
		task_c8787c92 [label="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from spec target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_c8787c92 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from spec target"]
		role_347cdebc -> task_c8787c92 [label="17 [when: ovn_central_host_map['target'] | default('') | length > 0]" color="#87c309" fontcolor="#87c309" id=edge_1c368120 labeltooltip="17 [when: ovn_central_host_map['target'] | default('') | length > 0]" tooltip="17 [when: ovn_central_host_map['target'] | default('') | length > 0]"]
		task_50453ba5 [label="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither ovn-central host spec or group defines a target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_50453ba5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither ovn-central host spec or group defines a target"]
		role_347cdebc -> task_50453ba5 [label="18 " color="#87c309" fontcolor="#87c309" id=edge_84cd5802 labeltooltip="18 " tooltip="18 "]
		task_746bcc87 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_746bcc87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
		role_347cdebc -> task_746bcc87 [label="19 " color="#87c309" fontcolor="#87c309" id=edge_7ee74daf labeltooltip="19 " tooltip="19 "]
		task_02d44f04 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_02d44f04 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
		role_347cdebc -> task_02d44f04 [label="20 " color="#87c309" fontcolor="#87c309" id=edge_c0547eff labeltooltip="20 " tooltip="20 "]
		task_6d8461b2 [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_6d8461b2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
		role_347cdebc -> task_6d8461b2 [label="21 " color="#87c309" fontcolor="#87c309" id=edge_1025af6f labeltooltip="21 " tooltip="21 "]
		task_a82fbdb0 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_a82fbdb0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
		role_347cdebc -> task_a82fbdb0 [label="22 " color="#87c309" fontcolor="#87c309" id=edge_947ee5ab labeltooltip="22 " tooltip="22 "]
		task_3da10569 [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_3da10569 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
		role_347cdebc -> task_3da10569 [label="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" color="#87c309" fontcolor="#87c309" id=edge_2bafaeb1 labeltooltip="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" tooltip="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]"]
		task_c012934a [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_c012934a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
		role_347cdebc -> task_c012934a [label="24 " color="#87c309" fontcolor="#87c309" id=edge_83473dee labeltooltip="24 " tooltip="24 "]
		task_a9e5e905 [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_a9e5e905 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
		role_347cdebc -> task_a9e5e905 [label="25 " color="#87c309" fontcolor="#87c309" id=edge_c6de4439 labeltooltip="25 " tooltip="25 "]
		task_84b360fc [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_84b360fc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
		role_347cdebc -> task_84b360fc [label="26 " color="#87c309" fontcolor="#87c309" id=edge_047e1b44 labeltooltip="26 " tooltip="26 "]
		task_383dc9e4 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_383dc9e4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
		role_347cdebc -> task_383dc9e4 [label="27 " color="#87c309" fontcolor="#87c309" id=edge_b3f0d181 labeltooltip="27 " tooltip="27 "]
		task_ec092289 [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_ec092289 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
		role_347cdebc -> task_ec092289 [label="28 " color="#87c309" fontcolor="#87c309" id=edge_d5dc2e60 labeltooltip="28 " tooltip="28 "]
		task_90b3ee3d [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_90b3ee3d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
		role_347cdebc -> task_90b3ee3d [label="29 [when: item.value | length > 1]" color="#87c309" fontcolor="#87c309" id=edge_3f02f622 labeltooltip="29 [when: item.value | length > 1]" tooltip="29 [when: item.value | length > 1]"]
		task_9f419440 [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_9f419440 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
		role_347cdebc -> task_9f419440 [label="30 [when: 'provision' not in cluster_services_dict]" color="#87c309" fontcolor="#87c309" id=edge_ea1cb8a2 labeltooltip="30 [when: 'provision' not in cluster_services_dict]" tooltip="30 [when: 'provision' not in cluster_services_dict]"]
		task_c682a4d8 [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_c682a4d8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
		role_347cdebc -> task_c682a4d8 [label="31 " color="#87c309" fontcolor="#87c309" id=edge_532650d0 labeltooltip="31 " tooltip="31 "]
		task_1b52c9d1 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_1b52c9d1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
		role_347cdebc -> task_1b52c9d1 [label="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#87c309" fontcolor="#87c309" id=edge_b41d5cf7 labeltooltip="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
		task_c97d9809 [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_c97d9809 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
		role_347cdebc -> task_c97d9809 [label="33 " color="#87c309" fontcolor="#87c309" id=edge_a1532efd labeltooltip="33 " tooltip="33 "]
		task_6ddf1ada [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_6ddf1ada shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
		role_347cdebc -> task_6ddf1ada [label="34 " color="#87c309" fontcolor="#87c309" id=edge_37070648 labeltooltip="34 " tooltip="34 "]
		task_b1b35ef6 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_b1b35ef6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
		role_347cdebc -> task_b1b35ef6 [label="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]" color="#87c309" fontcolor="#87c309" id=edge_f47b861a labeltooltip="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]" tooltip="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]"]
		task_28b0a887 [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_28b0a887 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
		role_347cdebc -> task_28b0a887 [label="36 " color="#87c309" fontcolor="#87c309" id=edge_738024d4 labeltooltip="36 " tooltip="36 "]
		task_04c3d5a3 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_04c3d5a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
		role_347cdebc -> task_04c3d5a3 [label="37 " color="#87c309" fontcolor="#87c309" id=edge_0d1d2f6c labeltooltip="37 " tooltip="37 "]
		task_36b00ea0 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_36b00ea0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
		role_347cdebc -> task_36b00ea0 [label="38 " color="#87c309" fontcolor="#87c309" id=edge_44b75048 labeltooltip="38 " tooltip="38 "]
		task_966aff1e [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_966aff1e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
		role_347cdebc -> task_966aff1e [label="39 [when: hostvars[item].type == 'virtual']" color="#87c309" fontcolor="#87c309" id=edge_ee56bc85 labeltooltip="39 [when: hostvars[item].type == 'virtual']" tooltip="39 [when: hostvars[item].type == 'virtual']"]
		task_dd45749c [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_dd45749c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
		role_347cdebc -> task_dd45749c [label="40 " color="#87c309" fontcolor="#87c309" id=edge_89bc7b10 labeltooltip="40 " tooltip="40 "]
		task_17cec72c [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#87c309" id=task_17cec72c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
		role_347cdebc -> task_17cec72c [label="41 " color="#87c309" fontcolor="#87c309" id=edge_362a1895 labeltooltip="41 " tooltip="41 "]
		task_8738ca6e [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_8738ca6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
		role_347cdebc -> task_8738ca6e [label="42 " color="#87c309" fontcolor="#87c309" id=edge_10e76fdb labeltooltip="42 " tooltip="42 "]
		task_ff2193b1 [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_ff2193b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
		role_347cdebc -> task_ff2193b1 [label="43 [when: not hostvars['localhost'].podman_is_installed]" color="#87c309" fontcolor="#87c309" id=edge_09e78e78 labeltooltip="43 [when: not hostvars['localhost'].podman_is_installed]" tooltip="43 [when: not hostvars['localhost'].podman_is_installed]"]
		task_d6a5337f [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_d6a5337f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
		role_347cdebc -> task_d6a5337f [label="44 " color="#87c309" fontcolor="#87c309" id=edge_7612b179 labeltooltip="44 " tooltip="44 "]
		task_3d3986fc [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_3d3986fc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
		role_347cdebc -> task_3d3986fc [label="45 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#87c309" fontcolor="#87c309" id=edge_db01f82a labeltooltip="45 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="45 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_93edcd77 [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_93edcd77 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
		role_347cdebc -> task_93edcd77 [label="46 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#87c309" fontcolor="#87c309" id=edge_a4b43cc8 labeltooltip="46 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="46 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_e4468a3d [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_e4468a3d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
		role_347cdebc -> task_e4468a3d [label="47 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#87c309" fontcolor="#87c309" id=edge_f7901a1f labeltooltip="47 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="47 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_4c2148f5 [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_4c2148f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
		role_347cdebc -> task_4c2148f5 [label="48 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#87c309" fontcolor="#87c309" id=edge_a05981c6 labeltooltip="48 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="48 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_abb3b802 [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_abb3b802 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
		role_347cdebc -> task_abb3b802 [label="49 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#87c309" fontcolor="#87c309" id=edge_95a9db6a labeltooltip="49 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="49 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_657a4e0a [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_657a4e0a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
		role_347cdebc -> task_657a4e0a [label="50 " color="#87c309" fontcolor="#87c309" id=edge_4b2cf7a3 labeltooltip="50 " tooltip="50 "]
		task_755861e6 [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_755861e6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
		role_347cdebc -> task_755861e6 [label="51 " color="#87c309" fontcolor="#87c309" id=edge_87dc9772 labeltooltip="51 " tooltip="51 "]
		task_33f550db [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#87c309" id=task_33f550db shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
		role_347cdebc -> task_33f550db [label="52 " color="#87c309" fontcolor="#87c309" id=edge_83c09823 labeltooltip="52 " tooltip="52 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_c8c6d570 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_c8c6d570 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_654d9449 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87c309" id=role_654d9449 tooltip="Prepare environment if not prepared"]
		role_654d9449 -> role_c8c6d570 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_78c476d5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_345d93e7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87c309" id=role_345d93e7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_33e6a6c7 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_33e6a6c7 tooltip="task-cleanup-hypervisors"]
		role_33e6a6c7 -> role_654d9449 [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_23a6a873 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_33e6a6c7 -> role_345d93e7 [label="2 " color="#87c309" fontcolor="#87c309" id=edge_083e7ffa labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_d9b997c8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_d9b997c8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f1618b6e [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87c309" id=role_f1618b6e tooltip="Prepare environment if not prepared"]
		role_f1618b6e -> role_d9b997c8 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_63ac46d8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7692315a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87c309" id=role_7692315a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_857d6851 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#87c309" id=role_857d6851 tooltip="Cleanup hypervisors if needed"]
		role_857d6851 -> role_f1618b6e [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_1b03f380 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_857d6851 -> role_7692315a [label="2 " color="#87c309" fontcolor="#87c309" id=edge_45fe20f2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_760159ae [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_760159ae tooltip="task-run-validations"]
		role_760159ae -> role_857d6851 [label="1 [when: not hypervisors_cleaned]" color="#87c309" fontcolor="#87c309" id=edge_5bed800a labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_2f797321 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_2f797321 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_83dfb20d [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87c309" id=role_83dfb20d tooltip="Prepare environment if not prepared"]
		role_83dfb20d -> role_2f797321 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_d8af54e4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b789f782 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#87c309" id=role_b789f782 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3e7b671f [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#87c309" id=role_3e7b671f tooltip="Cleanup hypervisors if needed"]
		role_3e7b671f -> role_83dfb20d [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_104d41cd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3e7b671f -> role_b789f782 [label="2 " color="#87c309" fontcolor="#87c309" id=edge_d525c306 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_7326e8de [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_7326e8de tooltip="task-create-network"]
		role_7326e8de -> role_3e7b671f [label="1 [when: not hypervisors_cleaned]" color="#87c309" fontcolor="#87c309" id=edge_4e9b384d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_845e1d1c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_845e1d1c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_92850db8 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#87c309" id=role_92850db8 tooltip="Prepare environment if not prepared"]
		role_92850db8 -> role_845e1d1c [label="1 " color="#87c309" fontcolor="#87c309" id=edge_21091724 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_0ce7cee3 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#87c309" id=role_0ce7cee3 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_c9e43897 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#87c309" id=role_c9e43897 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_972a95a5 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87c309" id=role_972a95a5 tooltip="Configure Bind"]
		role_972a95a5 -> role_c9e43897 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_83e6a279 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_24da89a2 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#87c309" id=role_24da89a2 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_b0e0acff [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87c309" id=role_b0e0acff tooltip="Configure Dnsmasq"]
		role_b0e0acff -> role_24da89a2 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_9deea352 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1ff8bfdc [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#87c309" id=role_1ff8bfdc tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_8be153a6 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87c309" id=role_8be153a6 tooltip="Configure HAProxy"]
		role_8be153a6 -> role_1ff8bfdc [label="1 " color="#87c309" fontcolor="#87c309" id=edge_43ce8d5e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8c65c668 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#87c309" id=role_8c65c668 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_5e0662ac [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87c309" id=role_5e0662ac tooltip="Configure Nexus"]
		role_5e0662ac -> role_8c65c668 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_a39df981 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5975a002 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#87c309" id=role_5975a002 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_51112a68 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87c309" id=role_51112a68 tooltip="Configure Apache"]
		role_51112a68 -> role_5975a002 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_4b38c81a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_af2040d4 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#87c309" id=role_af2040d4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_5e2e03dc [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#87c309" id=role_5e2e03dc tooltip="Configure a local container image registry"]
		role_5e2e03dc -> role_af2040d4 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_684e6a12 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_5ca3e5f4 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_5ca3e5f4 tooltip="task-create-services"]
		role_5ca3e5f4 -> role_92850db8 [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_0afd570b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5ca3e5f4 -> role_0ce7cee3 [label="2 " color="#87c309" fontcolor="#87c309" id=edge_0a45260f labeltooltip="2 " tooltip="2 "]
		role_5ca3e5f4 -> role_972a95a5 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#87c309" fontcolor="#87c309" id=edge_95c7266f labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5ca3e5f4 -> role_b0e0acff [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#87c309" fontcolor="#87c309" id=edge_4ac159ee labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5ca3e5f4 -> role_8be153a6 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#87c309" fontcolor="#87c309" id=edge_1aa38f64 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5ca3e5f4 -> role_5e0662ac [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#87c309" fontcolor="#87c309" id=edge_8d77a13d labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5ca3e5f4 -> role_51112a68 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#87c309" fontcolor="#87c309" id=edge_4485ede5 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_5ca3e5f4 -> role_5e2e03dc [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#87c309" fontcolor="#87c309" id=edge_b30f7321 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_7a18f0cf [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_7a18f0cf tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_4dc21664 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87c309" id=role_4dc21664 tooltip="Prepare environment if needed"]
		role_4dc21664 -> role_7a18f0cf [label="1 " color="#87c309" fontcolor="#87c309" id=edge_ad656931 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_5e7a715a [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87c309" id=role_5e7a715a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_89668c25 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#87c309" id=role_89668c25 tooltip="Prepare services if needed"]
		role_89668c25 -> role_4dc21664 [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_facec021 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_89668c25 -> role_5e7a715a [label="2 " color="#87c309" fontcolor="#87c309" id=edge_0e4afa94 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_450e4ab1 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#87c309" id=role_450e4ab1 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_90e0abde [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#87c309" id=role_90e0abde tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_b4c80946 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#87c309" id=role_b4c80946 tooltip="Setup the cluster provision container"]
		role_b4c80946 -> role_450e4ab1 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_f24d87cb labeltooltip="1 " tooltip="1 "]
		role_b4c80946 -> role_90e0abde [label="2 " color="#87c309" fontcolor="#87c309" id=edge_77cb4aae labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_fccb9d80 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#87c309" id=role_fccb9d80 tooltip="Delegate to the distro role to prepare the cluster"]
		role_fccb9d80 -> role_b4c80946 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_21e47732 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_35e08b25 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_35e08b25 tooltip="task-prepare-cluster"]
		role_35e08b25 -> role_89668c25 [label="1 [when: not services_prepared]" color="#87c309" fontcolor="#87c309" id=edge_68c2accf labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_35e08b25 -> role_fccb9d80 [label="2 " color="#87c309" fontcolor="#87c309" id=edge_ce189da7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_5f813f4d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_5f813f4d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e12596f9 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#87c309" id=role_e12596f9 tooltip="Prepare environment if not prepared"]
		role_e12596f9 -> role_5f813f4d [label="1 " color="#87c309" fontcolor="#87c309" id=edge_90d0b898 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_2ce15d43 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_2ce15d43 tooltip="task-download-images"]
		role_2ce15d43 -> role_e12596f9 [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_b0b6dc1a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_9ecb2b67 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_9ecb2b67 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_7786c543 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87c309" id=role_7786c543 tooltip="Prepare environment if needed"]
		role_7786c543 -> role_9ecb2b67 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_87a0ed82 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_a63f984e [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87c309" id=role_a63f984e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_419a4f2f [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#87c309" id=role_419a4f2f tooltip="Prepare services if needed"]
		role_419a4f2f -> role_7786c543 [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_45857986 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_419a4f2f -> role_a63f984e [label="2 " color="#87c309" fontcolor="#87c309" id=edge_f9bb1e1c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_be155c07 [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#87c309" id=role_be155c07 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_a9b1ff1e [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#87c309" id=role_a9b1ff1e tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_08aa67a2 [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#87c309" id=role_08aa67a2 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_d88697ea [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#87c309" id=role_d88697ea tooltip="Delegate to the distro role to deploy the cluster"]
		role_d88697ea -> role_be155c07 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_41da80aa labeltooltip="1 " tooltip="1 "]
		role_d88697ea -> role_a9b1ff1e [label="2 " color="#87c309" fontcolor="#87c309" id=edge_ce87731f labeltooltip="2 " tooltip="2 "]
		role_d88697ea -> role_08aa67a2 [label="3 " color="#87c309" fontcolor="#87c309" id=edge_3f70fbb6 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_75a8a166 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_75a8a166 tooltip="task-deploy-cluster"]
		role_75a8a166 -> role_419a4f2f [label="1 [when: not services_prepared]" color="#87c309" fontcolor="#87c309" id=edge_0aa1afe3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_75a8a166 -> role_d88697ea [label="2 " color="#87c309" fontcolor="#87c309" id=edge_9f99fb8d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e3ec9017 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#87c309" id=role_e3ec9017 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_5689e251 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87c309" id=role_5689e251 tooltip="Prepare environment if needed"]
		role_5689e251 -> role_e3ec9017 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_727901f8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_b9908431 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#87c309" id=role_b9908431 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7e57ed63 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#87c309" id=role_7e57ed63 tooltip="Prepare services if needed"]
		role_7e57ed63 -> role_5689e251 [label="1 [when: not environment_prepared]" color="#87c309" fontcolor="#87c309" id=edge_0ced8eb1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7e57ed63 -> role_b9908431 [label="2 " color="#87c309" fontcolor="#87c309" id=edge_007900a7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_aab6c672 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#87c309" id=role_aab6c672 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_3f487c01 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#87c309" id=role_3f487c01 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_444395a4 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#87c309" id=role_444395a4 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_02a9c55a [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#87c309" id=role_02a9c55a tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_593237ae [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#87c309" id=role_593237ae tooltip="Delegate to distro role to run post-deployment tasks"]
		role_593237ae -> role_aab6c672 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#87c309" fontcolor="#87c309" id=edge_37abdf39 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_593237ae -> role_3f487c01 [label="2 " color="#87c309" fontcolor="#87c309" id=edge_240e3fbc labeltooltip="2 " tooltip="2 "]
		role_593237ae -> role_444395a4 [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#87c309" fontcolor="#87c309" id=edge_26f914b1 labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
		role_593237ae -> role_02a9c55a [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#87c309" fontcolor="#87c309" id=edge_9c0c6c75 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_34c5f8ee [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=role_34c5f8ee tooltip="task-post-deployment"]
		role_34c5f8ee -> role_7e57ed63 [label="1 [when: not services_prepared]" color="#87c309" fontcolor="#87c309" id=edge_e850ebed labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_34c5f8ee -> role_593237ae [label="2 " color="#87c309" fontcolor="#87c309" id=edge_c8b25743 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_e3cadc54 -> block_af5eeba3 [label=1 color="#87c309" fontcolor="#87c309" id=edge_949c200f labeltooltip=1 tooltip=1]
		subgraph cluster_block_af5eeba3 {
			block_af5eeba3 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_af5eeba3 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_af5eeba3 -> role_347cdebc [label="1 " color="#87c309" fontcolor="#87c309" id=edge_f8ae0a89 labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_9d2f72f5 [label=2 color="#87c309" fontcolor="#87c309" id=edge_802e6a7f labeltooltip=2 tooltip=2]
		subgraph cluster_block_9d2f72f5 {
			block_9d2f72f5 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_9d2f72f5 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_9d2f72f5 -> role_33e6a6c7 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_110f2ac4 labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_9da348b7 [label=3 color="#87c309" fontcolor="#87c309" id=edge_0784f910 labeltooltip=3 tooltip=3]
		subgraph cluster_block_9da348b7 {
			block_9da348b7 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_9da348b7 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_9da348b7 -> role_760159ae [label="1 " color="#87c309" fontcolor="#87c309" id=edge_0913e134 labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_94a3923d [label=4 color="#87c309" fontcolor="#87c309" id=edge_7463bd4a labeltooltip=4 tooltip=4]
		subgraph cluster_block_94a3923d {
			block_94a3923d [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_94a3923d labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_94a3923d -> role_7326e8de [label="1 " color="#87c309" fontcolor="#87c309" id=edge_b3f2c7e9 labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_66906964 [label=5 color="#87c309" fontcolor="#87c309" id=edge_4a7e10ee labeltooltip=5 tooltip=5]
		subgraph cluster_block_66906964 {
			block_66906964 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_66906964 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_66906964 -> role_5ca3e5f4 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_b57d6c1e labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_67e8fe21 [label=6 color="#87c309" fontcolor="#87c309" id=edge_6586897e labeltooltip=6 tooltip=6]
		subgraph cluster_block_67e8fe21 {
			block_67e8fe21 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_67e8fe21 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_67e8fe21 -> role_35e08b25 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_a1ea0725 labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_0f871724 [label=7 color="#87c309" fontcolor="#87c309" id=edge_d4bb7e90 labeltooltip=7 tooltip=7]
		subgraph cluster_block_0f871724 {
			block_0f871724 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_0f871724 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_0f871724 -> role_2ce15d43 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_d85a0672 labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_a4a2d967 [label=8 color="#87c309" fontcolor="#87c309" id=edge_8c9b8ebf labeltooltip=8 tooltip=8]
		subgraph cluster_block_a4a2d967 {
			block_a4a2d967 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_a4a2d967 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_a4a2d967 -> role_75a8a166 [label="1 " color="#87c309" fontcolor="#87c309" id=edge_6b0cfe92 labeltooltip="1 " tooltip="1 "]
		}
		play_e3cadc54 -> block_1bab8b34 [label=9 color="#87c309" fontcolor="#87c309" id=edge_c9e9e1ef labeltooltip=9 tooltip=9]
		subgraph cluster_block_1bab8b34 {
			block_1bab8b34 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#87c309" id=block_1bab8b34 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_1bab8b34 -> role_34c5f8ee [label="1 " color="#87c309" fontcolor="#87c309" id=edge_1352d967 labeltooltip="1 " tooltip="1 "]
		}
	}
}
