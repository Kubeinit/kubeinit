digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_1444630d style=dotted]
	"kubeinit/playbook.yml" -> play_1073b455 [label="1 " color="#8b4241" fontcolor="#8b4241" id=edge_0c85db9e labeltooltip="1 " tooltip="1 "]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_1073b455 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4241" fontcolor="#ffffff" id=play_1073b455 shape=box style=filled tooltip=localhost]
		play_1073b455 -> block_946881d2 [label=1 color="#8b4241" fontcolor="#8b4241" id=edge_73a1ddb3 labeltooltip=1 tooltip=1]
		subgraph cluster_block_946881d2 {
			block_946881d2 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4241" id=block_946881d2 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_946881d2 -> role_add54385 [label="1 " color="#8b4241" fontcolor="#8b4241" id=edge_0cfd76b2 labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_add54385 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8b4241" id=role_add54385 tooltip="task-gather-facts"]
				role_add54385 -> role_1a040534 [label="1 " color="#8b4241" fontcolor="#8b4241" id=edge_caec62be labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_1a040534 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8b4241" id=role_1a040534 tooltip="Gather kubeinit secrets"]
				}
				role_add54385 -> role_0bdc1756 [label="2 " color="#8b4241" fontcolor="#8b4241" id=edge_86304668 labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_0bdc1756 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8b4241" id=role_0bdc1756 tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_add54385 -> role_7c668420 [label="3 " color="#8b4241" fontcolor="#8b4241" id=edge_5d2b8ef3 labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_7c668420 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8b4241" id=role_7c668420 tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_78ef1688 [label="2 " color="#9b317d" fontcolor="#9b317d" id=edge_0044e540 labeltooltip="2 " tooltip="2 "]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_78ef1688 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9b317d" fontcolor="#ffffff" id=play_78ef1688 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_78ef1688 -> block_829b8c00 [label=1 color="#9b317d" fontcolor="#9b317d" id=edge_c3f6d614 labeltooltip=1 tooltip=1]
		subgraph cluster_block_829b8c00 {
			block_829b8c00 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9b317d" id=block_829b8c00 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_829b8c00 -> role_87ae3ba0 [label="1 " color="#9b317d" fontcolor="#9b317d" id=edge_d1b2c838 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_87ae3ba0 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9b317d" id=role_87ae3ba0 tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_0bc3e6d8 [label="3 " color="#28a4a1" fontcolor="#28a4a1" id=edge_3110eae7 labeltooltip="3 " tooltip="3 "]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_0bc3e6d8 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28a4a1" fontcolor="#ffffff" id=play_0bc3e6d8 shape=box style=filled tooltip=localhost]
		play_0bc3e6d8 -> block_d40104a6 [label=1 color="#28a4a1" fontcolor="#28a4a1" id=edge_79403a06 labeltooltip=1 tooltip=1]
		subgraph cluster_block_d40104a6 {
			block_d40104a6 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28a4a1" id=block_d40104a6 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_d40104a6 -> role_3b716186 [label="1 " color="#28a4a1" fontcolor="#28a4a1" id=edge_dc60ff01 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_3b716186 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28a4a1" id=role_3b716186 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_3b716186 -> role_fba71f89 [label="1 " color="#28a4a1" fontcolor="#28a4a1" id=edge_497b2195 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_fba71f89 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#28a4a1" id=role_fba71f89 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_0bc3e6d8 -> block_56816d2e [label=2 color="#28a4a1" fontcolor="#28a4a1" id=edge_8d1b89f9 labeltooltip=2 tooltip=2]
		subgraph cluster_block_56816d2e {
			block_56816d2e [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28a4a1" id=block_56816d2e labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_56816d2e -> role_d37315b7 [label="1 " color="#28a4a1" fontcolor="#28a4a1" id=edge_609497b4 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_d37315b7 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28a4a1" id=role_d37315b7 tooltip="task-prepare-hypervisors"]
				role_d37315b7 -> role_0242ee0b [label="1 " color="#28a4a1" fontcolor="#28a4a1" id=edge_762423fd labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_0242ee0b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#28a4a1" id=role_0242ee0b tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_23aee91c [label="4 " color="#995733" fontcolor="#995733" id=edge_86f461c8 labeltooltip="4 " tooltip="4 "]
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_23aee91c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#995733" fontcolor="#ffffff" id=play_23aee91c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
		play_23aee91c -> block_f6f0f472 [label=1 color="#995733" fontcolor="#995733" id=edge_a04d602a labeltooltip=1 tooltip=1]
		subgraph cluster_block_f6f0f472 {
			block_f6f0f472 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#995733" id=block_f6f0f472 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_f6f0f472 -> role_e2254d93 [label="1 " color="#995733" fontcolor="#995733" id=edge_63cb797f labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_e2254d93 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#995733" id=role_e2254d93 tooltip="Prepare each hypervisor in the deployment"]
				role_e2254d93 -> role_04773830 [label="1 " color="#995733" fontcolor="#995733" id=edge_45ecb0b7 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_04773830 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#995733" id=role_04773830 tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_779cb88a [label="5 " color="#c81304" fontcolor="#c81304" id=edge_5a33814d labeltooltip="5 " tooltip="5 "]
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_779cb88a [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" fontcolor="#ffffff" id=play_779cb88a shape=box style=filled tooltip=localhost]
		play_779cb88a -> block_87338375 [label=1 color="#c81304" fontcolor="#c81304" id=edge_95792783 labeltooltip=1 tooltip=1]
		subgraph cluster_block_87338375 {
			block_87338375 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_87338375 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_87338375 -> role_4984e158 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_2753e655 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_4984e158 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_4984e158 tooltip="task-prepare-environment"]
				role_4984e158 -> role_afab0d7d [label="1 " color="#c81304" fontcolor="#c81304" id=edge_01ed7ba6 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_afab0d7d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_afab0d7d tooltip="Gather kubeinit secrets"]
				}
				task_c4361b53 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_c4361b53 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
				role_4984e158 -> task_c4361b53 [label="2 " color="#c81304" fontcolor="#c81304" id=edge_e5e9740f labeltooltip="2 " tooltip="2 "]
				task_a15a012d [label="kubeinit.kubeinit.kubeinit_prepare : Parse bastion_host_spec into a dictionary if defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_a15a012d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Parse bastion_host_spec into a dictionary if defined"]
				role_4984e158 -> task_a15a012d [label="3 [when: bastion_host_spec is defined]" color="#c81304" fontcolor="#c81304" id=edge_7d1447f1 labeltooltip="3 [when: bastion_host_spec is defined]" tooltip="3 [when: bastion_host_spec is defined]"]
				task_f9487f0b [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group and bastion_host_spec have same name when both defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_f9487f0b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group and bastion_host_spec have same name when both defined"]
				role_4984e158 -> task_f9487f0b [label="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_98395c45 labeltooltip="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]" tooltip="4 [when: bastion_host_map['host'] | default('') | length > 0 and groups['bastion_host'][0] | default('') | length > 0]"]
				task_eae2c98f [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_bastion_host_name" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_eae2c98f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_bastion_host_name"]
				role_4984e158 -> task_eae2c98f [label="5 " color="#c81304" fontcolor="#c81304" id=edge_14995673 labeltooltip="5 " tooltip="5 "]
				task_c2f02f58 [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group does not have both target and ansible_host keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_c2f02f58 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host group does not have both target and ansible_host keys"]
				role_4984e158 -> task_c2f02f58 [label="6 [when: hostvars[kubeinit_bastion_host_name] is defined]" color="#c81304" fontcolor="#c81304" id=edge_9ee9e92b labeltooltip="6 [when: hostvars[kubeinit_bastion_host_name] is defined]" tooltip="6 [when: hostvars[kubeinit_bastion_host_name] is defined]"]
				task_10ff5415 [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_10ff5415 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group target"]
				role_4984e158 -> task_10ff5415 [label="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_8fb4954e labeltooltip="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]" tooltip="7 [when: hostvars[kubeinit_bastion_host_name].target | default('') | length > 0]"]
				task_b105f9dd [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_b105f9dd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from group ansible_host"]
				role_4984e158 -> task_b105f9dd [label="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_e5fafbb9 labeltooltip="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]" tooltip="8 [when: hostvars[kubeinit_bastion_host_name].ansible_host | default('') | length > 0]"]
				task_9a67e37a [label="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host_spec does not have both target and ansible_host keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_9a67e37a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert bastion_host_spec does not have both target and ansible_host keys"]
				role_4984e158 -> task_9a67e37a [label="9 [when: bastion_host_map is defined]" color="#c81304" fontcolor="#c81304" id=edge_b58b31a7 labeltooltip="9 [when: bastion_host_map is defined]" tooltip="9 [when: bastion_host_map is defined]"]
				task_08a307ff [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_08a307ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec target"]
				role_4984e158 -> task_08a307ff [label="10 [when: bastion_host_map['target'] | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_09207929 labeltooltip="10 [when: bastion_host_map['target'] | default('') | length > 0]" tooltip="10 [when: bastion_host_map['target'] | default('') | length > 0]"]
				task_1174ff66 [label="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_1174ff66 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default bastion target and ansible_host from spec ansible_host"]
				role_4984e158 -> task_1174ff66 [label="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_3c903b44 labeltooltip="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]" tooltip="11 [when: bastion_host_map['ansible_host'] | default('') | length > 0]"]
				task_fb457c24 [label="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither bastion host spec or group defines a target or ansible_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_fb457c24 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither bastion host spec or group defines a target or ansible_host"]
				role_4984e158 -> task_fb457c24 [label="12 " color="#c81304" fontcolor="#c81304" id=edge_2c4cf7d7 labeltooltip="12 " tooltip="12 "]
				task_da819c3a [label="kubeinit.kubeinit.kubeinit_prepare : Parse ovn_central_host_spec into a dictionary if defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_da819c3a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Parse ovn_central_host_spec into a dictionary if defined"]
				role_4984e158 -> task_da819c3a [label="13 [when: ovn_central_host_spec is defined]" color="#c81304" fontcolor="#c81304" id=edge_db048454 labeltooltip="13 [when: ovn_central_host_spec is defined]" tooltip="13 [when: ovn_central_host_spec is defined]"]
				task_ce8ad563 [label="kubeinit.kubeinit.kubeinit_prepare : Assert ovn_central_host group and ovn_central_host_spec have same name when both defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_ce8ad563 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Assert ovn_central_host group and ovn_central_host_spec have same name when both defined"]
				role_4984e158 -> task_ce8ad563 [label="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_2f1eeabd labeltooltip="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]" tooltip="14 [when: ovn_central_host_map['host'] | default('') | length > 0 and groups['ovn_central_host'][0] | default('') | length > 0]"]
				task_898f27aa [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_ovn_central_host_name" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_898f27aa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_ovn_central_host_name"]
				role_4984e158 -> task_898f27aa [label="15 " color="#c81304" fontcolor="#c81304" id=edge_77911485 labeltooltip="15 " tooltip="15 "]
				task_99643654 [label="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from group target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_99643654 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from group target"]
				role_4984e158 -> task_99643654 [label="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_70f037be labeltooltip="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]" tooltip="16 [when: hostvars[kubeinit_ovn_central_host_name].target | default('') | length > 0]"]
				task_cea48bac [label="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from spec target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_cea48bac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define default ovn-central target and ansible_host from spec target"]
				role_4984e158 -> task_cea48bac [label="17 [when: ovn_central_host_map['target'] | default('') | length > 0]" color="#c81304" fontcolor="#c81304" id=edge_085f512b labeltooltip="17 [when: ovn_central_host_map['target'] | default('') | length > 0]" tooltip="17 [when: ovn_central_host_map['target'] | default('') | length > 0]"]
				task_af8507dc [label="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither ovn-central host spec or group defines a target" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_af8507dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use the first hypervisor if neither ovn-central host spec or group defines a target"]
				role_4984e158 -> task_af8507dc [label="18 " color="#c81304" fontcolor="#c81304" id=edge_21866648 labeltooltip="18 " tooltip="18 "]
				task_bfc94020 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_bfc94020 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
				role_4984e158 -> task_bfc94020 [label="19 " color="#c81304" fontcolor="#c81304" id=edge_85271923 labeltooltip="19 " tooltip="19 "]
				task_35268af8 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_35268af8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
				role_4984e158 -> task_35268af8 [label="20 " color="#c81304" fontcolor="#c81304" id=edge_f21c7684 labeltooltip="20 " tooltip="20 "]
				task_150f02c8 [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_150f02c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
				role_4984e158 -> task_150f02c8 [label="21 " color="#c81304" fontcolor="#c81304" id=edge_ef1f9f59 labeltooltip="21 " tooltip="21 "]
				task_21a4ce98 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_21a4ce98 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
				role_4984e158 -> task_21a4ce98 [label="22 " color="#c81304" fontcolor="#c81304" id=edge_daafe046 labeltooltip="22 " tooltip="22 "]
				task_1e7032ac [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_1e7032ac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
				role_4984e158 -> task_1e7032ac [label="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" color="#c81304" fontcolor="#c81304" id=edge_cd515794 labeltooltip="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" tooltip="23 [when: kubeinit_cluster_distro in hostvars[item].when_distro]"]
				task_50e0a1a5 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_50e0a1a5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
				role_4984e158 -> task_50e0a1a5 [label="24 " color="#c81304" fontcolor="#c81304" id=edge_21e50ffc labeltooltip="24 " tooltip="24 "]
				task_4bb489a1 [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_4bb489a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
				role_4984e158 -> task_4bb489a1 [label="25 " color="#c81304" fontcolor="#c81304" id=edge_c3c0f982 labeltooltip="25 " tooltip="25 "]
				task_7049e04b [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_7049e04b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
				role_4984e158 -> task_7049e04b [label="26 " color="#c81304" fontcolor="#c81304" id=edge_b5e54441 labeltooltip="26 " tooltip="26 "]
				task_d79d2e60 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_d79d2e60 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
				role_4984e158 -> task_d79d2e60 [label="27 " color="#c81304" fontcolor="#c81304" id=edge_32848bf4 labeltooltip="27 " tooltip="27 "]
				task_c31ee0b3 [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_c31ee0b3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
				role_4984e158 -> task_c31ee0b3 [label="28 " color="#c81304" fontcolor="#c81304" id=edge_45412d48 labeltooltip="28 " tooltip="28 "]
				task_fef7c3f8 [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_fef7c3f8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
				role_4984e158 -> task_fef7c3f8 [label="29 [when: item.value | length > 1]" color="#c81304" fontcolor="#c81304" id=edge_866e909f labeltooltip="29 [when: item.value | length > 1]" tooltip="29 [when: item.value | length > 1]"]
				task_dd6c444d [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_dd6c444d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
				role_4984e158 -> task_dd6c444d [label="30 [when: 'provision' not in cluster_services_dict]" color="#c81304" fontcolor="#c81304" id=edge_71cd25c3 labeltooltip="30 [when: 'provision' not in cluster_services_dict]" tooltip="30 [when: 'provision' not in cluster_services_dict]"]
				task_687ecc84 [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_687ecc84 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
				role_4984e158 -> task_687ecc84 [label="31 " color="#c81304" fontcolor="#c81304" id=edge_dea6a405 labeltooltip="31 " tooltip="31 "]
				task_eefe80d0 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_eefe80d0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
				role_4984e158 -> task_eefe80d0 [label="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#c81304" fontcolor="#c81304" id=edge_69400c80 labeltooltip="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="32 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
				task_f0ca91ca [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_f0ca91ca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
				role_4984e158 -> task_f0ca91ca [label="33 " color="#c81304" fontcolor="#c81304" id=edge_ff560565 labeltooltip="33 " tooltip="33 "]
				task_083c1782 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_083c1782 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
				role_4984e158 -> task_083c1782 [label="34 " color="#c81304" fontcolor="#c81304" id=edge_7b76d3a5 labeltooltip="34 " tooltip="34 "]
				task_ff94961b [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_ff94961b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
				role_4984e158 -> task_ff94961b [label="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]" color="#c81304" fontcolor="#c81304" id=edge_5c3dedcb labeltooltip="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]" tooltip="35 [when: item in hostvars[kubeinit_ovn_central_host_name].target or item in groups['kubeinit_hypervisors']
]"]
				task_4b17c040 [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_4b17c040 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
				role_4984e158 -> task_4b17c040 [label="36 " color="#c81304" fontcolor="#c81304" id=edge_e1a319d0 labeltooltip="36 " tooltip="36 "]
				task_2f9658aa [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_2f9658aa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
				role_4984e158 -> task_2f9658aa [label="37 " color="#c81304" fontcolor="#c81304" id=edge_ad64f3fb labeltooltip="37 " tooltip="37 "]
				task_2e188671 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_2e188671 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
				role_4984e158 -> task_2e188671 [label="38 " color="#c81304" fontcolor="#c81304" id=edge_3c256441 labeltooltip="38 " tooltip="38 "]
				task_f339aec4 [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_f339aec4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
				role_4984e158 -> task_f339aec4 [label="39 [when: hostvars[item].type == 'virtual']" color="#c81304" fontcolor="#c81304" id=edge_04fd8307 labeltooltip="39 [when: hostvars[item].type == 'virtual']" tooltip="39 [when: hostvars[item].type == 'virtual']"]
				task_a0aac261 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_a0aac261 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
				role_4984e158 -> task_a0aac261 [label="40 " color="#c81304" fontcolor="#c81304" id=edge_4ebcbb4e labeltooltip="40 " tooltip="40 "]
				task_a9454c50 [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c81304" id=task_a9454c50 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
				role_4984e158 -> task_a9454c50 [label="41 " color="#c81304" fontcolor="#c81304" id=edge_04384545 labeltooltip="41 " tooltip="41 "]
				task_f93a6170 [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_f93a6170 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
				role_4984e158 -> task_f93a6170 [label="42 " color="#c81304" fontcolor="#c81304" id=edge_4a1fcb1a labeltooltip="42 " tooltip="42 "]
				task_28dad2b1 [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_28dad2b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
				role_4984e158 -> task_28dad2b1 [label="43 [when: not hostvars['localhost'].podman_is_installed]" color="#c81304" fontcolor="#c81304" id=edge_15103153 labeltooltip="43 [when: not hostvars['localhost'].podman_is_installed]" tooltip="43 [when: not hostvars['localhost'].podman_is_installed]"]
				task_001bedcb [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_001bedcb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
				role_4984e158 -> task_001bedcb [label="44 " color="#c81304" fontcolor="#c81304" id=edge_c3118f4e labeltooltip="44 " tooltip="44 "]
				task_44663c38 [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_44663c38 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
				role_4984e158 -> task_44663c38 [label="45 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c81304" fontcolor="#c81304" id=edge_76939a44 labeltooltip="45 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="45 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_61c3b2c6 [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_61c3b2c6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
				role_4984e158 -> task_61c3b2c6 [label="46 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c81304" fontcolor="#c81304" id=edge_499b51a9 labeltooltip="46 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="46 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_8ec82779 [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_8ec82779 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
				role_4984e158 -> task_8ec82779 [label="47 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c81304" fontcolor="#c81304" id=edge_e359796a labeltooltip="47 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="47 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_e730aa41 [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_e730aa41 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
				role_4984e158 -> task_e730aa41 [label="48 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c81304" fontcolor="#c81304" id=edge_193308db labeltooltip="48 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="48 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_c838ed63 [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_c838ed63 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
				role_4984e158 -> task_c838ed63 [label="49 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c81304" fontcolor="#c81304" id=edge_9a71e7ed labeltooltip="49 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="49 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				task_993ad472 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_993ad472 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
				role_4984e158 -> task_993ad472 [label="50 " color="#c81304" fontcolor="#c81304" id=edge_64437831 labeltooltip="50 " tooltip="50 "]
				task_23784944 [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_23784944 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
				role_4984e158 -> task_23784944 [label="51 " color="#c81304" fontcolor="#c81304" id=edge_db01f0cb labeltooltip="51 " tooltip="51 "]
				task_4ee66201 [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c81304" id=task_4ee66201 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
				role_4984e158 -> task_4ee66201 [label="52 " color="#c81304" fontcolor="#c81304" id=edge_9e320a11 labeltooltip="52 " tooltip="52 "]
			}
		}
		play_779cb88a -> block_731caf7a [label=2 color="#c81304" fontcolor="#c81304" id=edge_1e758284 labeltooltip=2 tooltip=2]
		subgraph cluster_block_731caf7a {
			block_731caf7a [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_731caf7a labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_731caf7a -> role_ad7d1649 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_78b07f31 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_ad7d1649 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_ad7d1649 tooltip="task-cleanup-hypervisors"]
				role_ad7d1649 -> role_95734987 [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_41ecc22b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_95734987 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c81304" id=role_95734987 tooltip="Prepare environment if not prepared"]
					role_95734987 -> role_86b52680 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_73bba1a2 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_86b52680 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_86b52680 tooltip="Gather kubeinit secrets"]
					}
				}
				role_ad7d1649 -> role_f860c010 [label="2 " color="#c81304" fontcolor="#c81304" id=edge_1dc96bb6 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_f860c010 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c81304" id=role_f860c010 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_779cb88a -> block_5a1ff926 [label=3 color="#c81304" fontcolor="#c81304" id=edge_ce5d7c92 labeltooltip=3 tooltip=3]
		subgraph cluster_block_5a1ff926 {
			block_5a1ff926 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_5a1ff926 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_5a1ff926 -> role_5c468632 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_a929e522 labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_5c468632 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_5c468632 tooltip="task-run-validations"]
				role_5c468632 -> role_bb8534a8 [label="1 [when: not hypervisors_cleaned]" color="#c81304" fontcolor="#c81304" id=edge_fe19f64a labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_bb8534a8 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#c81304" id=role_bb8534a8 tooltip="Cleanup hypervisors if needed"]
					role_bb8534a8 -> role_16c0e0d9 [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_113fa246 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_16c0e0d9 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c81304" id=role_16c0e0d9 tooltip="Prepare environment if not prepared"]
						role_16c0e0d9 -> role_17c5a2bb [label="1 " color="#c81304" fontcolor="#c81304" id=edge_28abdd7f labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_17c5a2bb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_17c5a2bb tooltip="Gather kubeinit secrets"]
						}
					}
					role_bb8534a8 -> role_ebac5199 [label="2 " color="#c81304" fontcolor="#c81304" id=edge_7983f43f labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_ebac5199 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c81304" id=role_ebac5199 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_779cb88a -> block_5b3052c6 [label=4 color="#c81304" fontcolor="#c81304" id=edge_33bb3c7f labeltooltip=4 tooltip=4]
		subgraph cluster_block_5b3052c6 {
			block_5b3052c6 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_5b3052c6 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_5b3052c6 -> role_a1c215f9 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_bc352d6d labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_a1c215f9 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_a1c215f9 tooltip="task-create-network"]
				role_a1c215f9 -> role_42668b7a [label="1 [when: not hypervisors_cleaned]" color="#c81304" fontcolor="#c81304" id=edge_e05cb462 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_42668b7a [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#c81304" id=role_42668b7a tooltip="Cleanup hypervisors if needed"]
					role_42668b7a -> role_980ccdd0 [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_974db3ca labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_980ccdd0 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c81304" id=role_980ccdd0 tooltip="Prepare environment if not prepared"]
						role_980ccdd0 -> role_df40e54a [label="1 " color="#c81304" fontcolor="#c81304" id=edge_f5fd7988 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_df40e54a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_df40e54a tooltip="Gather kubeinit secrets"]
						}
					}
					role_42668b7a -> role_30a3e79f [label="2 " color="#c81304" fontcolor="#c81304" id=edge_b425472d labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_30a3e79f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c81304" id=role_30a3e79f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_779cb88a -> block_f396de6d [label=5 color="#c81304" fontcolor="#c81304" id=edge_0a8b4c5f labeltooltip=5 tooltip=5]
		subgraph cluster_block_f396de6d {
			block_f396de6d [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_f396de6d labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_f396de6d -> role_957425bd [label="1 " color="#c81304" fontcolor="#c81304" id=edge_df0fb461 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_957425bd [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_957425bd tooltip="task-create-services"]
				role_957425bd -> role_a5845a9a [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_e91bdd8e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_a5845a9a [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#c81304" id=role_a5845a9a tooltip="Prepare environment if not prepared"]
					role_a5845a9a -> role_c2db5786 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_db087bf0 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_c2db5786 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_c2db5786 tooltip="Gather kubeinit secrets"]
					}
				}
				role_957425bd -> role_e36e4f1e [label="2 " color="#c81304" fontcolor="#c81304" id=edge_4a261ddb labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_e36e4f1e [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#c81304" id=role_e36e4f1e tooltip="Prepare podman"]
				}
				role_957425bd -> role_134ba238 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c81304" fontcolor="#c81304" id=edge_0ec0a4c3 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_134ba238 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c81304" id=role_134ba238 tooltip="Configure Bind"]
					role_134ba238 -> role_0fcef22b [label="1 " color="#c81304" fontcolor="#c81304" id=edge_6703eb37 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_0fcef22b [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#c81304" id=role_0fcef22b tooltip="Create systemd service for podman container"]
					}
				}
				role_957425bd -> role_a3f7c5dc [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c81304" fontcolor="#c81304" id=edge_bdf129d2 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_a3f7c5dc [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c81304" id=role_a3f7c5dc tooltip="Configure Dnsmasq"]
					role_a3f7c5dc -> role_1d4d8620 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_218323a6 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_1d4d8620 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#c81304" id=role_1d4d8620 tooltip="Create systemd service for podman container"]
					}
				}
				role_957425bd -> role_d253753f [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c81304" fontcolor="#c81304" id=edge_36df75e0 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_d253753f [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c81304" id=role_d253753f tooltip="Configure HAProxy"]
					role_d253753f -> role_4a47f81f [label="1 " color="#c81304" fontcolor="#c81304" id=edge_86be991d labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_4a47f81f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#c81304" id=role_4a47f81f tooltip="Create systemd service for podman container"]
					}
				}
				role_957425bd -> role_203aebd2 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c81304" fontcolor="#c81304" id=edge_a69680bc labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_203aebd2 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c81304" id=role_203aebd2 tooltip="Configure Nexus"]
					role_203aebd2 -> role_f3efdc00 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_eb81edf6 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_f3efdc00 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#c81304" id=role_f3efdc00 tooltip="Create systemd service for podman container"]
					}
				}
				role_957425bd -> role_63678193 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c81304" fontcolor="#c81304" id=edge_e8a9d8a3 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_63678193 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c81304" id=role_63678193 tooltip="Configure Apache"]
					role_63678193 -> role_9ce5a9a1 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_d66dce0e labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_9ce5a9a1 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#c81304" id=role_9ce5a9a1 tooltip="Create systemd service for podman container"]
					}
				}
				role_957425bd -> role_a7fbe31f [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c81304" fontcolor="#c81304" id=edge_5d91360a labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_a7fbe31f [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c81304" id=role_a7fbe31f tooltip="Configure a local container image registry"]
					role_a7fbe31f -> role_7d938a30 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_155e85db labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_7d938a30 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#c81304" id=role_7d938a30 tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_779cb88a -> block_4ad1c6a1 [label=6 color="#c81304" fontcolor="#c81304" id=edge_70f80cae labeltooltip=6 tooltip=6]
		subgraph cluster_block_4ad1c6a1 {
			block_4ad1c6a1 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_4ad1c6a1 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_4ad1c6a1 -> role_e99ef9d6 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_beaa94e4 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_e99ef9d6 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_e99ef9d6 tooltip="task-prepare-cluster"]
				role_e99ef9d6 -> role_db981805 [label="1 [when: not services_prepared]" color="#c81304" fontcolor="#c81304" id=edge_33d64b7f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_db981805 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c81304" id=role_db981805 tooltip="Prepare services if needed"]
					role_db981805 -> role_fa4988a3 [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_aaec598e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_fa4988a3 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c81304" id=role_fa4988a3 tooltip="Prepare environment if needed"]
						role_fa4988a3 -> role_cae53ec9 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_be740fbe labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_cae53ec9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_cae53ec9 tooltip="Gather kubeinit secrets"]
						}
					}
					role_db981805 -> role_b1e71aef [label="2 " color="#c81304" fontcolor="#c81304" id=edge_6b124dcf labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_b1e71aef [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c81304" id=role_b1e71aef tooltip="Gather network and host facts for guest"]
					}
				}
				role_e99ef9d6 -> role_9177e7f8 [label="2 " color="#c81304" fontcolor="#c81304" id=edge_8ea4afbf labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_9177e7f8 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c81304" id=role_9177e7f8 tooltip="Delegate to the distro role to prepare the cluster"]
					role_9177e7f8 -> role_fbc62900 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_61288325 labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_fbc62900 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#c81304" id=role_fbc62900 tooltip="Setup the cluster provision container"]
						role_fbc62900 -> role_0ec3df9c [label="1 " color="#c81304" fontcolor="#c81304" id=edge_1fa30d37 labeltooltip="1 " tooltip="1 "]
						subgraph "Create systemd service for podman container" {
							role_0ec3df9c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c81304" id=role_0ec3df9c tooltip="Create systemd service for podman container"]
						}
						role_fbc62900 -> role_a8c41b1a [label="2 " color="#c81304" fontcolor="#c81304" id=edge_2eb8857e labeltooltip="2 " tooltip="2 "]
						subgraph "Gather network and host facts for provision service" {
							role_a8c41b1a [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c81304" id=role_a8c41b1a tooltip="Gather network and host facts for provision service"]
						}
					}
				}
			}
		}
		play_779cb88a -> block_19276e3c [label=7 color="#c81304" fontcolor="#c81304" id=edge_c3dddaeb labeltooltip=7 tooltip=7]
		subgraph cluster_block_19276e3c {
			block_19276e3c [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_19276e3c labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_19276e3c -> role_a8a62bac [label="1 " color="#c81304" fontcolor="#c81304" id=edge_681c2667 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_a8a62bac [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_a8a62bac tooltip="task-download-images"]
				role_a8a62bac -> role_dee1e4c3 [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_bc66e767 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_dee1e4c3 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#c81304" id=role_dee1e4c3 tooltip="Prepare environment if not prepared"]
					role_dee1e4c3 -> role_f698aca5 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_9f328e6f labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_f698aca5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_f698aca5 tooltip="Gather kubeinit secrets"]
					}
				}
			}
		}
		play_779cb88a -> block_bfcf873f [label=8 color="#c81304" fontcolor="#c81304" id=edge_224e9b15 labeltooltip=8 tooltip=8]
		subgraph cluster_block_bfcf873f {
			block_bfcf873f [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_bfcf873f labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_bfcf873f -> role_3f98738e [label="1 " color="#c81304" fontcolor="#c81304" id=edge_60c3eeea labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_3f98738e [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_3f98738e tooltip="task-deploy-cluster"]
				role_3f98738e -> role_100fde68 [label="1 [when: not services_prepared]" color="#c81304" fontcolor="#c81304" id=edge_e416bce4 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_100fde68 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c81304" id=role_100fde68 tooltip="Prepare services if needed"]
					role_100fde68 -> role_0966b0bb [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_afa41288 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_0966b0bb [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c81304" id=role_0966b0bb tooltip="Prepare environment if needed"]
						role_0966b0bb -> role_71e1305a [label="1 " color="#c81304" fontcolor="#c81304" id=edge_b8ae33b1 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_71e1305a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_71e1305a tooltip="Gather kubeinit secrets"]
						}
					}
					role_100fde68 -> role_6c279ccf [label="2 " color="#c81304" fontcolor="#c81304" id=edge_47d1bff5 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_6c279ccf [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c81304" id=role_6c279ccf tooltip="Gather network and host facts for guest"]
					}
				}
				role_3f98738e -> role_27b44d71 [label="2 " color="#c81304" fontcolor="#c81304" id=edge_216be9ff labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_27b44d71 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c81304" id=role_27b44d71 tooltip="Delegate to the distro role to deploy the cluster"]
					role_27b44d71 -> role_53eee41b [label="1 " color="#c81304" fontcolor="#c81304" id=edge_90403d78 labeltooltip="1 " tooltip="1 "]
					subgraph "Deploy the cluster bootstrap node" {
						role_53eee41b [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c81304" id=role_53eee41b tooltip="Deploy the cluster bootstrap node"]
					}
					role_27b44d71 -> role_acc13bfb [label="2 " color="#c81304" fontcolor="#c81304" id=edge_78ed0eab labeltooltip="2 " tooltip="2 "]
					subgraph "Deploy the cluster controller nodes" {
						role_acc13bfb [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c81304" id=role_acc13bfb tooltip="Deploy the cluster controller nodes"]
					}
					role_27b44d71 -> role_03f45df8 [label="3 " color="#c81304" fontcolor="#c81304" id=edge_9352ceee labeltooltip="3 " tooltip="3 "]
					subgraph "Deploy the cluster compute nodes" {
						role_03f45df8 [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c81304" id=role_03f45df8 tooltip="Deploy the cluster compute nodes"]
					}
				}
			}
		}
		play_779cb88a -> block_055facad [label=9 color="#c81304" fontcolor="#c81304" id=edge_7fc09eb9 labeltooltip=9 tooltip=9]
		subgraph cluster_block_055facad {
			block_055facad [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=block_055facad labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_055facad -> role_ff6c7899 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_e801e199 labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_ff6c7899 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c81304" id=role_ff6c7899 tooltip="task-post-deployment"]
				role_ff6c7899 -> role_a36b036c [label="1 [when: not services_prepared]" color="#c81304" fontcolor="#c81304" id=edge_fddbee35 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_a36b036c [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c81304" id=role_a36b036c tooltip="Prepare services if needed"]
					role_a36b036c -> role_169d90fe [label="1 [when: not environment_prepared]" color="#c81304" fontcolor="#c81304" id=edge_2be33d11 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_169d90fe [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c81304" id=role_169d90fe tooltip="Prepare environment if needed"]
						role_169d90fe -> role_3ebc4054 [label="1 " color="#c81304" fontcolor="#c81304" id=edge_2d1e8e0a labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_3ebc4054 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c81304" id=role_3ebc4054 tooltip="Gather kubeinit secrets"]
						}
					}
					role_a36b036c -> role_832edd77 [label="2 " color="#c81304" fontcolor="#c81304" id=edge_18276a0e labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_832edd77 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c81304" id=role_832edd77 tooltip="Gather network and host facts for guest"]
					}
				}
				role_ff6c7899 -> role_b3bd25e6 [label="2 " color="#c81304" fontcolor="#c81304" id=edge_524b04d1 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_b3bd25e6 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c81304" id=role_b3bd25e6 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_b3bd25e6 -> role_c31a2b1a [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c81304" fontcolor="#c81304" id=edge_532a34d8 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_c31a2b1a [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c81304" id=role_c31a2b1a tooltip="Configure NFS"]
					}
					role_b3bd25e6 -> role_be69c50c [label="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#c81304" fontcolor="#c81304" id=edge_43f4a52b labeltooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_be69c50c [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c81304" id=role_be69c50c tooltip="Deploy the apps"]
					}
					role_b3bd25e6 -> role_917b38ba [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#c81304" fontcolor="#c81304" id=edge_3d4d897d labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy KubeVirt" {
						role_917b38ba [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c81304" id=role_917b38ba tooltip="Deploy KubeVirt"]
					}
					role_b3bd25e6 -> role_03feca21 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#c81304" fontcolor="#c81304" id=edge_8b3dcb46 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy Submariner" {
						role_03feca21 [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c81304" id=role_03feca21 tooltip="Deploy Submariner"]
					}
				}
			}
		}
	}
}
