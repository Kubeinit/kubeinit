digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_eea79d3f style=dotted]
	play_3ccafed9 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#361cb0" fontcolor="#ffffff" id=play_3ccafed9 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_3ccafed9 [label="1 " color="#361cb0" fontcolor="#361cb0" id=edge_a2b86c3b labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_9bd454aa [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#361cb0" id=role_9bd454aa tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_723b84c3 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#361cb0" id=role_723b84c3 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_84c88e17 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#361cb0" id=role_84c88e17 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_aafa631b [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#361cb0" id=role_aafa631b tooltip="task-gather-facts"]
		role_aafa631b -> role_9bd454aa [label="1 " color="#361cb0" fontcolor="#361cb0" id=edge_9adccc3c labeltooltip="1 " tooltip="1 "]
		role_aafa631b -> role_723b84c3 [label="2 " color="#361cb0" fontcolor="#361cb0" id=edge_a73fa6a1 labeltooltip="2 " tooltip="2 "]
		role_aafa631b -> role_84c88e17 [label="3 " color="#361cb0" fontcolor="#361cb0" id=edge_424feed5 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_d54a0c15 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#361cb0" id=role_d54a0c15 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_c7854660 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#361cb0" id=role_c7854660 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_43650f70 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#361cb0" id=role_43650f70 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_88186672 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#361cb0" id=role_88186672 tooltip="task-prepare-hypervisors"]
		role_88186672 -> role_d54a0c15 [label="1 " color="#361cb0" fontcolor="#361cb0" id=edge_2719a051 labeltooltip="1 " tooltip="1 "]
		role_88186672 -> role_c7854660 [label="2 " color="#361cb0" fontcolor="#361cb0" id=edge_3ce441f7 labeltooltip="2 " tooltip="2 "]
		role_88186672 -> role_43650f70 [label="3 " color="#361cb0" fontcolor="#361cb0" id=edge_abf0038f labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_3ccafed9 -> block_797ccebf [label=1 color="#361cb0" fontcolor="#361cb0" id=edge_919d9ba8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_797ccebf {
			block_797ccebf [label="[block] Gather facts about the deployment environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#361cb0" id=block_797ccebf labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_797ccebf -> role_aafa631b [label="1 " color="#361cb0" fontcolor="#361cb0" id=edge_7c9e5df2 labeltooltip="1 " tooltip="1 "]
		}
		play_3ccafed9 -> block_be3063b6 [label=2 color="#361cb0" fontcolor="#361cb0" id=edge_3463fc84 labeltooltip=2 tooltip=2]
		subgraph cluster_block_be3063b6 {
			block_be3063b6 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#361cb0" id=block_be3063b6 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_be3063b6 -> role_88186672 [label="1 " color="#361cb0" fontcolor="#361cb0" id=edge_401cac2c labeltooltip="1 " tooltip="1 "]
		}
	}
	play_30c664fb [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0651c6" fontcolor="#ffffff" id=play_30c664fb shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_30c664fb [label="2 " color="#0651c6" fontcolor="#0651c6" id=edge_03757398 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_cf3220ba [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#0651c6" id=role_cf3220ba tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_c9c33ebb [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0651c6" id=role_c9c33ebb tooltip="Prepare each hypervisor in the deployment"]
		role_c9c33ebb -> role_cf3220ba [label="1 " color="#0651c6" fontcolor="#0651c6" id=edge_e49aff44 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_30c664fb -> block_5665b98c [label=1 color="#0651c6" fontcolor="#0651c6" id=edge_81a78a09 labeltooltip=1 tooltip=1]
		subgraph cluster_block_5665b98c {
			block_5665b98c [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0651c6" id=block_5665b98c labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_5665b98c -> role_c9c33ebb [label="1 " color="#0651c6" fontcolor="#0651c6" id=edge_31613cc8 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ce50e749 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" fontcolor="#ffffff" id=play_ce50e749 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_ce50e749 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_e9831218 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_3eaca3ce [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_3eaca3ce tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_507ef0ee [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_507ef0ee tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_11e716b5 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_11e716b5 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_f5ef92c1 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_f5ef92c1 tooltip="task-prepare-environment"]
		role_f5ef92c1 -> role_3eaca3ce [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_5a3a82aa labeltooltip="1 " tooltip="1 "]
		role_f5ef92c1 -> role_507ef0ee [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_cdeef64e labeltooltip="2 " tooltip="2 "]
		role_f5ef92c1 -> role_11e716b5 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_4b6eb72d labeltooltip="3 " tooltip="3 "]
		task_7ca575eb [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_7ca575eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
		role_f5ef92c1 -> task_7ca575eb [label="4 " color="#5f4884" fontcolor="#5f4884" id=edge_6e9e3c2c labeltooltip="4 " tooltip="4 "]
		task_e8152014 [label="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_e8152014 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups"]
		role_f5ef92c1 -> task_e8152014 [label="5 " color="#5f4884" fontcolor="#5f4884" id=edge_0131435e labeltooltip="5 " tooltip="5 "]
		task_028f0104 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_028f0104 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
		role_f5ef92c1 -> task_028f0104 [label="6 " color="#5f4884" fontcolor="#5f4884" id=edge_30b68f8a labeltooltip="6 " tooltip="6 "]
		task_fd3b0000 [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_fd3b0000 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
		role_f5ef92c1 -> task_fd3b0000 [label="7 " color="#5f4884" fontcolor="#5f4884" id=edge_d4a98c7e labeltooltip="7 " tooltip="7 "]
		task_68d7d4d7 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_68d7d4d7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
		role_f5ef92c1 -> task_68d7d4d7 [label="8 " color="#5f4884" fontcolor="#5f4884" id=edge_5ab04845 labeltooltip="8 " tooltip="8 "]
		task_e3904bd7 [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_e3904bd7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
		role_f5ef92c1 -> task_e3904bd7 [label="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" color="#5f4884" fontcolor="#5f4884" id=edge_b406a584 labeltooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" tooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]"]
		task_efc096a3 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_efc096a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
		role_f5ef92c1 -> task_efc096a3 [label="10 " color="#5f4884" fontcolor="#5f4884" id=edge_ef407f5a labeltooltip="10 " tooltip="10 "]
		task_45b43842 [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_45b43842 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
		role_f5ef92c1 -> task_45b43842 [label="11 " color="#5f4884" fontcolor="#5f4884" id=edge_20a0b2e4 labeltooltip="11 " tooltip="11 "]
		task_c59ad9f8 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_c59ad9f8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
		role_f5ef92c1 -> task_c59ad9f8 [label="12 " color="#5f4884" fontcolor="#5f4884" id=edge_3b19bb42 labeltooltip="12 " tooltip="12 "]
		task_c37c7074 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_c37c7074 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
		role_f5ef92c1 -> task_c37c7074 [label="13 " color="#5f4884" fontcolor="#5f4884" id=edge_abd9e34b labeltooltip="13 " tooltip="13 "]
		task_e190f6be [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_e190f6be shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
		role_f5ef92c1 -> task_e190f6be [label="14 " color="#5f4884" fontcolor="#5f4884" id=edge_ddf2306a labeltooltip="14 " tooltip="14 "]
		task_e9160a7b [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_e9160a7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
		role_f5ef92c1 -> task_e9160a7b [label="15 [when: item.value | length > 1]" color="#5f4884" fontcolor="#5f4884" id=edge_7888d98c labeltooltip="15 [when: item.value | length > 1]" tooltip="15 [when: item.value | length > 1]"]
		task_2571f74f [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_2571f74f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
		role_f5ef92c1 -> task_2571f74f [label="16 [when: 'provision' not in cluster_services_dict]" color="#5f4884" fontcolor="#5f4884" id=edge_ab5a161c labeltooltip="16 [when: 'provision' not in cluster_services_dict]" tooltip="16 [when: 'provision' not in cluster_services_dict]"]
		task_347583d2 [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_347583d2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
		role_f5ef92c1 -> task_347583d2 [label="17 " color="#5f4884" fontcolor="#5f4884" id=edge_d2ba476c labeltooltip="17 " tooltip="17 "]
		task_fcafadb4 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_fcafadb4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
		role_f5ef92c1 -> task_fcafadb4 [label="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#5f4884" fontcolor="#5f4884" id=edge_40881e89 labeltooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
		task_d09bf960 [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_d09bf960 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
		role_f5ef92c1 -> task_d09bf960 [label="19 " color="#5f4884" fontcolor="#5f4884" id=edge_918988f7 labeltooltip="19 " tooltip="19 "]
		task_a6ee2fc1 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_a6ee2fc1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
		role_f5ef92c1 -> task_a6ee2fc1 [label="20 " color="#5f4884" fontcolor="#5f4884" id=edge_77edb3de labeltooltip="20 " tooltip="20 "]
		task_9178b6ec [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_9178b6ec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members"]
		role_f5ef92c1 -> task_9178b6ec [label="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" color="#5f4884" fontcolor="#5f4884" id=edge_b61ebea8 labeltooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" tooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]"]
		task_f71b3c5e [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_f71b3c5e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined"]
		role_f5ef92c1 -> task_f71b3c5e [label="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" color="#5f4884" fontcolor="#5f4884" id=edge_5b7c61e0 labeltooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" tooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]"]
		task_6bd14a31 [label="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_6bd14a31 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined"]
		role_f5ef92c1 -> task_6bd14a31 [label="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" color="#5f4884" fontcolor="#5f4884" id=edge_28860cdd labeltooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" tooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]"]
		task_dbdde866 [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_dbdde866 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members"]
		role_f5ef92c1 -> task_dbdde866 [label="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" color="#5f4884" fontcolor="#5f4884" id=edge_6b4e6ba6 labeltooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" tooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]"]
		task_a02f8223 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_a02f8223 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
		role_f5ef92c1 -> task_a02f8223 [label="25 " color="#5f4884" fontcolor="#5f4884" id=edge_ef801ff9 labeltooltip="25 " tooltip="25 "]
		task_b9dc6977 [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_b9dc6977 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
		role_f5ef92c1 -> task_b9dc6977 [label="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" color="#5f4884" fontcolor="#5f4884" id=edge_1a411dbc labeltooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" tooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]"]
		task_bba2b14f [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_bba2b14f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
		role_f5ef92c1 -> task_bba2b14f [label="27 " color="#5f4884" fontcolor="#5f4884" id=edge_f9add6f8 labeltooltip="27 " tooltip="27 "]
		task_d66e15e7 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_d66e15e7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
		role_f5ef92c1 -> task_d66e15e7 [label="28 " color="#5f4884" fontcolor="#5f4884" id=edge_ddac7a93 labeltooltip="28 " tooltip="28 "]
		task_9012b1e0 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_9012b1e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
		role_f5ef92c1 -> task_9012b1e0 [label="29 " color="#5f4884" fontcolor="#5f4884" id=edge_a2564d56 labeltooltip="29 " tooltip="29 "]
		task_a06c20f7 [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_a06c20f7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
		role_f5ef92c1 -> task_a06c20f7 [label="30 [when: hostvars[item].type == 'virtual']" color="#5f4884" fontcolor="#5f4884" id=edge_7fa34850 labeltooltip="30 [when: hostvars[item].type == 'virtual']" tooltip="30 [when: hostvars[item].type == 'virtual']"]
		task_5a4b7e80 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_5a4b7e80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
		role_f5ef92c1 -> task_5a4b7e80 [label="31 " color="#5f4884" fontcolor="#5f4884" id=edge_7502edaa labeltooltip="31 " tooltip="31 "]
		task_efcc375f [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#5f4884" id=task_efcc375f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
		role_f5ef92c1 -> task_efcc375f [label="32 " color="#5f4884" fontcolor="#5f4884" id=edge_d1903bc4 labeltooltip="32 " tooltip="32 "]
		task_dc8a8f73 [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_dc8a8f73 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
		role_f5ef92c1 -> task_dc8a8f73 [label="33 " color="#5f4884" fontcolor="#5f4884" id=edge_de86f40f labeltooltip="33 " tooltip="33 "]
		task_7bf3600d [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_7bf3600d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
		role_f5ef92c1 -> task_7bf3600d [label="34 [when: not hostvars['localhost'].podman_is_installed]" color="#5f4884" fontcolor="#5f4884" id=edge_f1346d67 labeltooltip="34 [when: not hostvars['localhost'].podman_is_installed]" tooltip="34 [when: not hostvars['localhost'].podman_is_installed]"]
		task_6b305c16 [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_6b305c16 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
		role_f5ef92c1 -> task_6b305c16 [label="35 " color="#5f4884" fontcolor="#5f4884" id=edge_4825eb24 labeltooltip="35 " tooltip="35 "]
		task_c808cc5b [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_c808cc5b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
		role_f5ef92c1 -> task_c808cc5b [label="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#5f4884" fontcolor="#5f4884" id=edge_335892df labeltooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_6e043374 [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_6e043374 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
		role_f5ef92c1 -> task_6e043374 [label="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#5f4884" fontcolor="#5f4884" id=edge_f7175f27 labeltooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_f6697cf4 [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_f6697cf4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
		role_f5ef92c1 -> task_f6697cf4 [label="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#5f4884" fontcolor="#5f4884" id=edge_814fa48a labeltooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_8c0b0ac8 [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_8c0b0ac8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
		role_f5ef92c1 -> task_8c0b0ac8 [label="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#5f4884" fontcolor="#5f4884" id=edge_4fc57a2e labeltooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_c814aa58 [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_c814aa58 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
		role_f5ef92c1 -> task_c814aa58 [label="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#5f4884" fontcolor="#5f4884" id=edge_f033e47d labeltooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_a5e6290d [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_a5e6290d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
		role_f5ef92c1 -> task_a5e6290d [label="41 " color="#5f4884" fontcolor="#5f4884" id=edge_885b9b42 labeltooltip="41 " tooltip="41 "]
		task_9d482f72 [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_9d482f72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
		role_f5ef92c1 -> task_9d482f72 [label="42 " color="#5f4884" fontcolor="#5f4884" id=edge_5d119fa1 labeltooltip="42 " tooltip="42 "]
		task_01386c82 [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#5f4884" id=task_01386c82 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
		role_f5ef92c1 -> task_01386c82 [label="43 " color="#5f4884" fontcolor="#5f4884" id=edge_8d6900a0 labeltooltip="43 " tooltip="43 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_b7963556 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_b7963556 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_70eaeaf1 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_70eaeaf1 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_caa92246 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_caa92246 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_5c4697ec [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#5f4884" id=role_5c4697ec tooltip="Prepare environment if not prepared"]
		role_5c4697ec -> role_b7963556 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_08082cf0 labeltooltip="1 " tooltip="1 "]
		role_5c4697ec -> role_70eaeaf1 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_272ce329 labeltooltip="2 " tooltip="2 "]
		role_5c4697ec -> role_caa92246 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_308bb761 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b4ccabba [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#5f4884" id=role_b4ccabba tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_fd5a3b07 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_fd5a3b07 tooltip="task-cleanup-hypervisors"]
		role_fd5a3b07 -> role_5c4697ec [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_91408e2b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_fd5a3b07 -> role_b4ccabba [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_6e29951d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_30b6ad8c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_30b6ad8c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_4b9673f4 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_4b9673f4 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_59829940 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_59829940 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1102a992 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#5f4884" id=role_1102a992 tooltip="Prepare environment if not prepared"]
		role_1102a992 -> role_30b6ad8c [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_7441f5b2 labeltooltip="1 " tooltip="1 "]
		role_1102a992 -> role_4b9673f4 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_959209b3 labeltooltip="2 " tooltip="2 "]
		role_1102a992 -> role_59829940 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_603ad28a labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_31c69770 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#5f4884" id=role_31c69770 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_f6019bc8 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#5f4884" id=role_f6019bc8 tooltip="Cleanup hypervisors if needed"]
		role_f6019bc8 -> role_1102a992 [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_e6b74028 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f6019bc8 -> role_31c69770 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_ff1f23bf labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_002cc9d0 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_002cc9d0 tooltip="task-run-validations"]
		role_002cc9d0 -> role_f6019bc8 [label="1 [when: not hypervisors_cleaned]" color="#5f4884" fontcolor="#5f4884" id=edge_23c22878 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_fd5c39bd [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_fd5c39bd tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_03212cd8 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_03212cd8 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_3de2c63c [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_3de2c63c tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_fad8d42d [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#5f4884" id=role_fad8d42d tooltip="Prepare environment if not prepared"]
		role_fad8d42d -> role_fd5c39bd [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_414f5dc5 labeltooltip="1 " tooltip="1 "]
		role_fad8d42d -> role_03212cd8 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_af566fb4 labeltooltip="2 " tooltip="2 "]
		role_fad8d42d -> role_3de2c63c [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_76569960 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_80d88004 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#5f4884" id=role_80d88004 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3f3e0213 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#5f4884" id=role_3f3e0213 tooltip="Cleanup hypervisors if needed"]
		role_3f3e0213 -> role_fad8d42d [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_07989436 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3f3e0213 -> role_80d88004 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_ff804ead labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_0d023d46 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_0d023d46 tooltip="task-create-network"]
		role_0d023d46 -> role_3f3e0213 [label="1 [when: not hypervisors_cleaned]" color="#5f4884" fontcolor="#5f4884" id=edge_8e4e5a36 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_1f513c31 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_1f513c31 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_af99ce4e [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_af99ce4e tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_e8131c80 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_e8131c80 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_19c743ce [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#5f4884" id=role_19c743ce tooltip="Prepare environment if not prepared"]
		role_19c743ce -> role_1f513c31 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_519752b8 labeltooltip="1 " tooltip="1 "]
		role_19c743ce -> role_af99ce4e [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_4061ba83 labeltooltip="2 " tooltip="2 "]
		role_19c743ce -> role_e8131c80 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_61c8cf5e labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_5eb70c8e [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#5f4884" id=role_5eb70c8e tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_24f2dc42 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#5f4884" id=role_24f2dc42 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_860545de [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#5f4884" id=role_860545de tooltip="Configure Bind"]
		role_860545de -> role_24f2dc42 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_307004f7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c48a49ad [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#5f4884" id=role_c48a49ad tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_0269bb34 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#5f4884" id=role_0269bb34 tooltip="Configure Dnsmasq"]
		role_0269bb34 -> role_c48a49ad [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_b9ac2354 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3fe1f74a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#5f4884" id=role_3fe1f74a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_fd42a7a3 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#5f4884" id=role_fd42a7a3 tooltip="Configure HAProxy"]
		role_fd42a7a3 -> role_3fe1f74a [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_7b0bef80 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d795900c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#5f4884" id=role_d795900c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_3f8c6405 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#5f4884" id=role_3f8c6405 tooltip="Configure Nexus"]
		role_3f8c6405 -> role_d795900c [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_7f921c0a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8e5d67d7 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#5f4884" id=role_8e5d67d7 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_2649dbf9 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#5f4884" id=role_2649dbf9 tooltip="Configure Apache"]
		role_2649dbf9 -> role_8e5d67d7 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_2d0263d9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_868f953a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#5f4884" id=role_868f953a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_d3681607 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#5f4884" id=role_d3681607 tooltip="Configure a local container image registry"]
		role_d3681607 -> role_868f953a [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_c4c16920 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_f44f43ec [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_f44f43ec tooltip="task-create-services"]
		role_f44f43ec -> role_19c743ce [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_ad470d07 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f44f43ec -> role_5eb70c8e [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_995f78d8 labeltooltip="2 " tooltip="2 "]
		role_f44f43ec -> role_860545de [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#5f4884" fontcolor="#5f4884" id=edge_cc149817 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f44f43ec -> role_0269bb34 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#5f4884" fontcolor="#5f4884" id=edge_485b0342 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f44f43ec -> role_fd42a7a3 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#5f4884" fontcolor="#5f4884" id=edge_a721492d labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f44f43ec -> role_3f8c6405 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#5f4884" fontcolor="#5f4884" id=edge_57baf048 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f44f43ec -> role_2649dbf9 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#5f4884" fontcolor="#5f4884" id=edge_3e97d35c labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f44f43ec -> role_d3681607 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#5f4884" fontcolor="#5f4884" id=edge_ecc4b3db labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_bf38a93d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_bf38a93d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6d8753f8 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_6d8753f8 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_53ff7c43 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_53ff7c43 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_b9c22f59 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#5f4884" id=role_b9c22f59 tooltip="Prepare environment if needed"]
		role_b9c22f59 -> role_bf38a93d [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_d82b4633 labeltooltip="1 " tooltip="1 "]
		role_b9c22f59 -> role_6d8753f8 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_53c75b99 labeltooltip="2 " tooltip="2 "]
		role_b9c22f59 -> role_53ff7c43 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_9c9862ab labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_095be08a [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#5f4884" id=role_095be08a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_98220b2e [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#5f4884" id=role_98220b2e tooltip="Prepare services if needed"]
		role_98220b2e -> role_b9c22f59 [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_b137e816 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_98220b2e -> role_095be08a [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_f5827320 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ce61bb1e [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#5f4884" id=role_ce61bb1e tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_85737f00 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#5f4884" id=role_85737f00 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_eec95c28 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#5f4884" id=role_eec95c28 tooltip="Setup the cluster provision container"]
		role_eec95c28 -> role_ce61bb1e [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_ff37e013 labeltooltip="1 " tooltip="1 "]
		role_eec95c28 -> role_85737f00 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_40158197 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_3971acdb [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#5f4884" id=role_3971acdb tooltip="Delegate to the distro role to prepare the cluster"]
		role_3971acdb -> role_eec95c28 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_c515d6e4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_26dfa84d [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_26dfa84d tooltip="task-prepare-cluster"]
		role_26dfa84d -> role_98220b2e [label="1 [when: not services_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_00268419 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_26dfa84d -> role_3971acdb [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_69f46bfb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6adda74f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_6adda74f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a0f57c2f [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_a0f57c2f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_97bc2c1e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_97bc2c1e tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_36f6d1a9 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#5f4884" id=role_36f6d1a9 tooltip="Prepare environment if not prepared"]
		role_36f6d1a9 -> role_6adda74f [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_d90a6f84 labeltooltip="1 " tooltip="1 "]
		role_36f6d1a9 -> role_a0f57c2f [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_b9d80f99 labeltooltip="2 " tooltip="2 "]
		role_36f6d1a9 -> role_97bc2c1e [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_07c5141f labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_195e466d [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_195e466d tooltip="task-download-images"]
		role_195e466d -> role_36f6d1a9 [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_64ffad00 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_ecaa913d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_ecaa913d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_b8e5205c [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_b8e5205c tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_01afc32f [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_01afc32f tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_1eb8bdea [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#5f4884" id=role_1eb8bdea tooltip="Prepare environment if needed"]
		role_1eb8bdea -> role_ecaa913d [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_20c64608 labeltooltip="1 " tooltip="1 "]
		role_1eb8bdea -> role_b8e5205c [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_eeb87442 labeltooltip="2 " tooltip="2 "]
		role_1eb8bdea -> role_01afc32f [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_dad60964 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_d3c52496 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#5f4884" id=role_d3c52496 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_ae065709 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#5f4884" id=role_ae065709 tooltip="Prepare services if needed"]
		role_ae065709 -> role_1eb8bdea [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_66fdb3a9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ae065709 -> role_d3c52496 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_06cf3232 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_e5ed1f23 [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#5f4884" id=role_e5ed1f23 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_894590d5 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#5f4884" id=role_894590d5 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_7d041ed1 [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#5f4884" id=role_7d041ed1 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_28bfb59c [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#5f4884" id=role_28bfb59c tooltip="Delegate to the distro role to deploy the cluster"]
		role_28bfb59c -> role_e5ed1f23 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_c52f4a4a labeltooltip="1 " tooltip="1 "]
		role_28bfb59c -> role_894590d5 [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_d451ab3d labeltooltip="2 " tooltip="2 "]
		role_28bfb59c -> role_7d041ed1 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_99de7416 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_99381adc [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_99381adc tooltip="task-deploy-cluster"]
		role_99381adc -> role_ae065709 [label="1 [when: not services_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_d200eb28 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_99381adc -> role_28bfb59c [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_3c50cc7d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_77272ca0 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_77272ca0 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_54398d1e [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_54398d1e tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_944047d7 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5f4884" id=role_944047d7 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_aa27f7fd [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#5f4884" id=role_aa27f7fd tooltip="Prepare environment if needed"]
		role_aa27f7fd -> role_77272ca0 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_2d777a9d labeltooltip="1 " tooltip="1 "]
		role_aa27f7fd -> role_54398d1e [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_5ec60613 labeltooltip="2 " tooltip="2 "]
		role_aa27f7fd -> role_944047d7 [label="3 " color="#5f4884" fontcolor="#5f4884" id=edge_2e2495b7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_05911b2a [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#5f4884" id=role_05911b2a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_be87fc49 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#5f4884" id=role_be87fc49 tooltip="Prepare services if needed"]
		role_be87fc49 -> role_aa27f7fd [label="1 [when: not environment_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_9e454066 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_be87fc49 -> role_05911b2a [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_d5cce8da labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_4ce11e2f [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#5f4884" id=role_4ce11e2f tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_06a3e43e [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#5f4884" id=role_06a3e43e tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_654039aa [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#5f4884" id=role_654039aa tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_4dabb04c [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#5f4884" id=role_4dabb04c tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_6d7e04bd [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#5f4884" id=role_6d7e04bd tooltip="Delegate to distro role to run post-deployment tasks"]
		role_6d7e04bd -> role_4ce11e2f [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#5f4884" fontcolor="#5f4884" id=edge_aa73bb12 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_6d7e04bd -> role_06a3e43e [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_fed7ee26 labeltooltip="2 " tooltip="2 "]
		role_6d7e04bd -> role_654039aa [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#5f4884" fontcolor="#5f4884" id=edge_bc7017f4 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_6d7e04bd -> role_4dabb04c [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#5f4884" fontcolor="#5f4884" id=edge_848994d3 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_dea27fa4 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=role_dea27fa4 tooltip="task-post-deployment"]
		role_dea27fa4 -> role_be87fc49 [label="1 [when: not services_prepared]" color="#5f4884" fontcolor="#5f4884" id=edge_699f70e3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_dea27fa4 -> role_6d7e04bd [label="2 " color="#5f4884" fontcolor="#5f4884" id=edge_7b764911 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_ce50e749 -> block_5810a51b [label=1 color="#5f4884" fontcolor="#5f4884" id=edge_a51e1cf6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_5810a51b {
			block_5810a51b [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_5810a51b labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_5810a51b -> role_f5ef92c1 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_a2acc081 labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_e980c2c5 [label=2 color="#5f4884" fontcolor="#5f4884" id=edge_72fcda2b labeltooltip=2 tooltip=2]
		subgraph cluster_block_e980c2c5 {
			block_e980c2c5 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_e980c2c5 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_e980c2c5 -> role_fd5a3b07 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_4732cf22 labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_42b80b42 [label=3 color="#5f4884" fontcolor="#5f4884" id=edge_5263a018 labeltooltip=3 tooltip=3]
		subgraph cluster_block_42b80b42 {
			block_42b80b42 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_42b80b42 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_42b80b42 -> role_002cc9d0 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_b2edd751 labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_b59e8e79 [label=4 color="#5f4884" fontcolor="#5f4884" id=edge_731d418c labeltooltip=4 tooltip=4]
		subgraph cluster_block_b59e8e79 {
			block_b59e8e79 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_b59e8e79 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_b59e8e79 -> role_0d023d46 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_396ef1b6 labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_9820996f [label=5 color="#5f4884" fontcolor="#5f4884" id=edge_ec163ee9 labeltooltip=5 tooltip=5]
		subgraph cluster_block_9820996f {
			block_9820996f [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_9820996f labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_9820996f -> role_f44f43ec [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_acf6281f labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_ba3246ef [label=6 color="#5f4884" fontcolor="#5f4884" id=edge_a15854b8 labeltooltip=6 tooltip=6]
		subgraph cluster_block_ba3246ef {
			block_ba3246ef [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_ba3246ef labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_ba3246ef -> role_26dfa84d [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_9c70de8b labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_45b15a8d [label=7 color="#5f4884" fontcolor="#5f4884" id=edge_aaf30863 labeltooltip=7 tooltip=7]
		subgraph cluster_block_45b15a8d {
			block_45b15a8d [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_45b15a8d labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_45b15a8d -> role_195e466d [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_bcc928b3 labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_88fa157b [label=8 color="#5f4884" fontcolor="#5f4884" id=edge_08af4443 labeltooltip=8 tooltip=8]
		subgraph cluster_block_88fa157b {
			block_88fa157b [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_88fa157b labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_88fa157b -> role_99381adc [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_e6cf1c57 labeltooltip="1 " tooltip="1 "]
		}
		play_ce50e749 -> block_cbb7d1a9 [label=9 color="#5f4884" fontcolor="#5f4884" id=edge_a9cdb1ca labeltooltip=9 tooltip=9]
		subgraph cluster_block_cbb7d1a9 {
			block_cbb7d1a9 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5f4884" id=block_cbb7d1a9 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_cbb7d1a9 -> role_dea27fa4 [label="1 " color="#5f4884" fontcolor="#5f4884" id=edge_e367c58e labeltooltip="1 " tooltip="1 "]
		}
	}
}
