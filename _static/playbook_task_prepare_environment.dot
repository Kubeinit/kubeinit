digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_cc8abe30 style=dotted]
	play_8dde211c [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#662ca0" fontcolor="#ffffff" id=play_8dde211c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_8dde211c [label="1 " color="#662ca0" fontcolor="#662ca0" id=edge_e86c9cde labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_59d0c130 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#662ca0" id=role_59d0c130 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_62ed3d91 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#662ca0" id=role_62ed3d91 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_85f20d18 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#662ca0" id=role_85f20d18 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_4c22f605 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#662ca0" id=role_4c22f605 tooltip="task-gather-facts"]
		role_4c22f605 -> role_59d0c130 [label="1 " color="#662ca0" fontcolor="#662ca0" id=edge_6ebf95a0 labeltooltip="1 " tooltip="1 "]
		role_4c22f605 -> role_62ed3d91 [label="2 " color="#662ca0" fontcolor="#662ca0" id=edge_7dfd493d labeltooltip="2 " tooltip="2 "]
		role_4c22f605 -> role_85f20d18 [label="3 " color="#662ca0" fontcolor="#662ca0" id=edge_7f3b8c21 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_1112e94e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#662ca0" id=role_1112e94e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_fc37f3f0 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#662ca0" id=role_fc37f3f0 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_5a01bb2c [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#662ca0" id=role_5a01bb2c tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_7b251bc3 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#662ca0" id=role_7b251bc3 tooltip="task-prepare-hypervisors"]
		role_7b251bc3 -> role_1112e94e [label="1 " color="#662ca0" fontcolor="#662ca0" id=edge_553dc844 labeltooltip="1 " tooltip="1 "]
		role_7b251bc3 -> role_fc37f3f0 [label="2 " color="#662ca0" fontcolor="#662ca0" id=edge_439892b8 labeltooltip="2 " tooltip="2 "]
		role_7b251bc3 -> role_5a01bb2c [label="3 " color="#662ca0" fontcolor="#662ca0" id=edge_f052d690 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_8dde211c -> block_8a9f647e [label=1 color="#662ca0" fontcolor="#662ca0" id=edge_a4070921 labeltooltip=1 tooltip=1]
		subgraph cluster_block_8a9f647e {
			block_8a9f647e [label="[block] Gather facts about the deployment environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#662ca0" id=block_8a9f647e labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_8a9f647e -> role_4c22f605 [label="1 " color="#662ca0" fontcolor="#662ca0" id=edge_7e1ce4fc labeltooltip="1 " tooltip="1 "]
		}
		play_8dde211c -> block_47249d95 [label=2 color="#662ca0" fontcolor="#662ca0" id=edge_cfca6563 labeltooltip=2 tooltip=2]
		subgraph cluster_block_47249d95 {
			block_47249d95 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#662ca0" id=block_47249d95 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_47249d95 -> role_7b251bc3 [label="1 " color="#662ca0" fontcolor="#662ca0" id=edge_88739891 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_4d330897 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ad1f3b" fontcolor="#ffffff" id=play_4d330897 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_4d330897 [label="2 " color="#ad1f3b" fontcolor="#ad1f3b" id=edge_17fe6a79 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_ad981b4d [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#ad1f3b" id=role_ad981b4d tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_c04cac80 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ad1f3b" id=role_c04cac80 tooltip="Prepare each hypervisor in the deployment"]
		role_c04cac80 -> role_ad981b4d [label="1 " color="#ad1f3b" fontcolor="#ad1f3b" id=edge_48141bca labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_4d330897 -> block_cae9d9aa [label=1 color="#ad1f3b" fontcolor="#ad1f3b" id=edge_6de665e2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_cae9d9aa {
			block_cae9d9aa [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#ad1f3b" id=block_cae9d9aa labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_cae9d9aa -> role_c04cac80 [label="1 " color="#ad1f3b" fontcolor="#ad1f3b" id=edge_e32cbb34 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_137bf245 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" fontcolor="#ffffff" id=play_137bf245 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_137bf245 [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_35a907b0 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_1df6608e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_1df6608e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_85a300bc [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_85a300bc tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d23d143e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_d23d143e tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_93f22563 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_93f22563 tooltip="task-prepare-environment"]
		role_93f22563 -> role_1df6608e [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_7b681071 labeltooltip="1 " tooltip="1 "]
		role_93f22563 -> role_85a300bc [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_9e48f1a5 labeltooltip="2 " tooltip="2 "]
		role_93f22563 -> role_d23d143e [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_e744463d labeltooltip="3 " tooltip="3 "]
		task_69beb06c [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_69beb06c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
		role_93f22563 -> task_69beb06c [label="4 " color="#c10bb4" fontcolor="#c10bb4" id=edge_6d58ba8d labeltooltip="4 " tooltip="4 "]
		task_e51df387 [label="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_e51df387 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups"]
		role_93f22563 -> task_e51df387 [label="5 " color="#c10bb4" fontcolor="#c10bb4" id=edge_88163a3d labeltooltip="5 " tooltip="5 "]
		task_27dbc184 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_27dbc184 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
		role_93f22563 -> task_27dbc184 [label="6 " color="#c10bb4" fontcolor="#c10bb4" id=edge_4c324674 labeltooltip="6 " tooltip="6 "]
		task_7d2e5358 [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_7d2e5358 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
		role_93f22563 -> task_7d2e5358 [label="7 " color="#c10bb4" fontcolor="#c10bb4" id=edge_482d15ce labeltooltip="7 " tooltip="7 "]
		task_dc668716 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_dc668716 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
		role_93f22563 -> task_dc668716 [label="8 " color="#c10bb4" fontcolor="#c10bb4" id=edge_9cc4b6e3 labeltooltip="8 " tooltip="8 "]
		task_2017bf22 [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_2017bf22 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
		role_93f22563 -> task_2017bf22 [label="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" color="#c10bb4" fontcolor="#c10bb4" id=edge_398f06b6 labeltooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]" tooltip="9 [when: kubeinit_cluster_distro in hostvars[item].when_distro]"]
		task_bfc61dab [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_bfc61dab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
		role_93f22563 -> task_bfc61dab [label="10 " color="#c10bb4" fontcolor="#c10bb4" id=edge_b0d7bc18 labeltooltip="10 " tooltip="10 "]
		task_a555a99c [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_a555a99c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
		role_93f22563 -> task_a555a99c [label="11 " color="#c10bb4" fontcolor="#c10bb4" id=edge_4e08f7ff labeltooltip="11 " tooltip="11 "]
		task_8529e25c [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_8529e25c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
		role_93f22563 -> task_8529e25c [label="12 " color="#c10bb4" fontcolor="#c10bb4" id=edge_d6f272f1 labeltooltip="12 " tooltip="12 "]
		task_3d181831 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_3d181831 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
		role_93f22563 -> task_3d181831 [label="13 " color="#c10bb4" fontcolor="#c10bb4" id=edge_6a1614f4 labeltooltip="13 " tooltip="13 "]
		task_0808ed67 [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_0808ed67 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
		role_93f22563 -> task_0808ed67 [label="14 " color="#c10bb4" fontcolor="#c10bb4" id=edge_d48511d2 labeltooltip="14 " tooltip="14 "]
		task_07d12680 [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_07d12680 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
		role_93f22563 -> task_07d12680 [label="15 [when: item.value | length > 1]" color="#c10bb4" fontcolor="#c10bb4" id=edge_6b740bb6 labeltooltip="15 [when: item.value | length > 1]" tooltip="15 [when: item.value | length > 1]"]
		task_10907c89 [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_10907c89 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
		role_93f22563 -> task_10907c89 [label="16 [when: 'provision' not in cluster_services_dict]" color="#c10bb4" fontcolor="#c10bb4" id=edge_fbb8b7db labeltooltip="16 [when: 'provision' not in cluster_services_dict]" tooltip="16 [when: 'provision' not in cluster_services_dict]"]
		task_aa3c1f26 [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_aa3c1f26 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
		role_93f22563 -> task_aa3c1f26 [label="17 " color="#c10bb4" fontcolor="#c10bb4" id=edge_3ae9568b labeltooltip="17 " tooltip="17 "]
		task_c7af0191 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_c7af0191 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
		role_93f22563 -> task_c7af0191 [label="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#c10bb4" fontcolor="#c10bb4" id=edge_df9209d5 labeltooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="18 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
		task_eb1aa9f5 [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_eb1aa9f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
		role_93f22563 -> task_eb1aa9f5 [label="19 " color="#c10bb4" fontcolor="#c10bb4" id=edge_9c1f6277 labeltooltip="19 " tooltip="19 "]
		task_a58656a0 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_a58656a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
		role_93f22563 -> task_a58656a0 [label="20 " color="#c10bb4" fontcolor="#c10bb4" id=edge_3519a0ac labeltooltip="20 " tooltip="20 "]
		task_3373068a [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_3373068a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members"]
		role_93f22563 -> task_3373068a [label="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" color="#c10bb4" fontcolor="#c10bb4" id=edge_0f517fec labeltooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" tooltip="21 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]"]
		task_e67c1e51 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_e67c1e51 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined"]
		role_93f22563 -> task_e67c1e51 [label="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" color="#c10bb4" fontcolor="#c10bb4" id=edge_c7ddc831 labeltooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" tooltip="22 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]"]
		task_cec7ee63 [label="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_cec7ee63 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined"]
		role_93f22563 -> task_cec7ee63 [label="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" color="#c10bb4" fontcolor="#c10bb4" id=edge_044a5f14 labeltooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" tooltip="23 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]"]
		task_ebc21ade [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_ebc21ade shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members"]
		role_93f22563 -> task_ebc21ade [label="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" color="#c10bb4" fontcolor="#c10bb4" id=edge_a521d568 labeltooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" tooltip="24 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]"]
		task_86028290 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_86028290 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
		role_93f22563 -> task_86028290 [label="25 " color="#c10bb4" fontcolor="#c10bb4" id=edge_9be795bd labeltooltip="25 " tooltip="25 "]
		task_89d8dcec [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_89d8dcec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
		role_93f22563 -> task_89d8dcec [label="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" color="#c10bb4" fontcolor="#c10bb4" id=edge_10df8d16 labeltooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]" tooltip="26 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in groups['kubeinit_hypervisors']
]"]
		task_8bb25c52 [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_8bb25c52 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
		role_93f22563 -> task_8bb25c52 [label="27 " color="#c10bb4" fontcolor="#c10bb4" id=edge_14838d90 labeltooltip="27 " tooltip="27 "]
		task_b232ff70 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_b232ff70 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
		role_93f22563 -> task_b232ff70 [label="28 " color="#c10bb4" fontcolor="#c10bb4" id=edge_bda93266 labeltooltip="28 " tooltip="28 "]
		task_cff651a2 [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_cff651a2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
		role_93f22563 -> task_cff651a2 [label="29 " color="#c10bb4" fontcolor="#c10bb4" id=edge_2bddbaaa labeltooltip="29 " tooltip="29 "]
		task_2a3ac792 [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_2a3ac792 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
		role_93f22563 -> task_2a3ac792 [label="30 [when: hostvars[item].type == 'virtual']" color="#c10bb4" fontcolor="#c10bb4" id=edge_5f31136d labeltooltip="30 [when: hostvars[item].type == 'virtual']" tooltip="30 [when: hostvars[item].type == 'virtual']"]
		task_642c2f03 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_642c2f03 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
		role_93f22563 -> task_642c2f03 [label="31 " color="#c10bb4" fontcolor="#c10bb4" id=edge_2965c1ea labeltooltip="31 " tooltip="31 "]
		task_4eb427cc [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_groups.yml" color="#c10bb4" id=task_4eb427cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
		role_93f22563 -> task_4eb427cc [label="32 " color="#c10bb4" fontcolor="#c10bb4" id=edge_1ae2376c labeltooltip="32 " tooltip="32 "]
		task_de8e61d2 [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_de8e61d2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
		role_93f22563 -> task_de8e61d2 [label="33 " color="#c10bb4" fontcolor="#c10bb4" id=edge_b2958695 labeltooltip="33 " tooltip="33 "]
		task_8ce3128e [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_8ce3128e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
		role_93f22563 -> task_8ce3128e [label="34 [when: not hostvars['localhost'].podman_is_installed]" color="#c10bb4" fontcolor="#c10bb4" id=edge_f4a42e6a labeltooltip="34 [when: not hostvars['localhost'].podman_is_installed]" tooltip="34 [when: not hostvars['localhost'].podman_is_installed]"]
		task_58358c60 [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_58358c60 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
		role_93f22563 -> task_58358c60 [label="35 " color="#c10bb4" fontcolor="#c10bb4" id=edge_e32048f1 labeltooltip="35 " tooltip="35 "]
		task_47971bbc [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_47971bbc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
		role_93f22563 -> task_47971bbc [label="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c10bb4" fontcolor="#c10bb4" id=edge_15703cc2 labeltooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_95e2c81f [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_95e2c81f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
		role_93f22563 -> task_95e2c81f [label="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c10bb4" fontcolor="#c10bb4" id=edge_726d4bd4 labeltooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_a8844a59 [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_a8844a59 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
		role_93f22563 -> task_a8844a59 [label="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c10bb4" fontcolor="#c10bb4" id=edge_6ed2146c labeltooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_815a8e66 [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_815a8e66 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
		role_93f22563 -> task_815a8e66 [label="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c10bb4" fontcolor="#c10bb4" id=edge_92264eb7 labeltooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_4076c015 [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_4076c015 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
		role_93f22563 -> task_4076c015 [label="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#c10bb4" fontcolor="#c10bb4" id=edge_94f332b1 labeltooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_adfe75ea [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_adfe75ea shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
		role_93f22563 -> task_adfe75ea [label="41 " color="#c10bb4" fontcolor="#c10bb4" id=edge_a617b63f labeltooltip="41 " tooltip="41 "]
		task_945f445b [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_945f445b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
		role_93f22563 -> task_945f445b [label="42 " color="#c10bb4" fontcolor="#c10bb4" id=edge_991f2685 labeltooltip="42 " tooltip="42 "]
		task_6476ca03 [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#c10bb4" id=task_6476ca03 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
		role_93f22563 -> task_6476ca03 [label="43 " color="#c10bb4" fontcolor="#c10bb4" id=edge_65f89378 labeltooltip="43 " tooltip="43 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_9f15f92d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_9f15f92d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7cb2f2db [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_7cb2f2db tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_6df87f8a [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_6df87f8a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_4affea61 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c10bb4" id=role_4affea61 tooltip="Prepare environment if not prepared"]
		role_4affea61 -> role_9f15f92d [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_bc8e8640 labeltooltip="1 " tooltip="1 "]
		role_4affea61 -> role_7cb2f2db [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_02f4119c labeltooltip="2 " tooltip="2 "]
		role_4affea61 -> role_6df87f8a [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_b61c3a6c labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_50ac7062 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c10bb4" id=role_50ac7062 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_ec91ed34 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_ec91ed34 tooltip="task-cleanup-hypervisors"]
		role_ec91ed34 -> role_4affea61 [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_d5eb41ec labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ec91ed34 -> role_50ac7062 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_269bbd70 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_db16dd49 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_db16dd49 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_8887cf71 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_8887cf71 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2cc8f292 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_2cc8f292 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_bfe34a05 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c10bb4" id=role_bfe34a05 tooltip="Prepare environment if not prepared"]
		role_bfe34a05 -> role_db16dd49 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_d404a3a5 labeltooltip="1 " tooltip="1 "]
		role_bfe34a05 -> role_8887cf71 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_7e97c6c6 labeltooltip="2 " tooltip="2 "]
		role_bfe34a05 -> role_2cc8f292 [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_4f20e06d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_5b9de5b5 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c10bb4" id=role_5b9de5b5 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_a459a7d0 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#c10bb4" id=role_a459a7d0 tooltip="Cleanup hypervisors if needed"]
		role_a459a7d0 -> role_bfe34a05 [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_b704161d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a459a7d0 -> role_5b9de5b5 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_dc775cc9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_179e6183 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_179e6183 tooltip="task-run-validations"]
		role_179e6183 -> role_a459a7d0 [label="1 [when: not hypervisors_cleaned]" color="#c10bb4" fontcolor="#c10bb4" id=edge_ddf24307 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_c4ad6d2a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_c4ad6d2a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6ed4ca8f [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_6ed4ca8f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7e23955e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_7e23955e tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_39fd8988 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c10bb4" id=role_39fd8988 tooltip="Prepare environment if not prepared"]
		role_39fd8988 -> role_c4ad6d2a [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_79db2ab3 labeltooltip="1 " tooltip="1 "]
		role_39fd8988 -> role_6ed4ca8f [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_5f26c05d labeltooltip="2 " tooltip="2 "]
		role_39fd8988 -> role_7e23955e [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_a9c1dc2c labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_114e1ad5 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c10bb4" id=role_114e1ad5 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_aceb7e03 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#c10bb4" id=role_aceb7e03 tooltip="Cleanup hypervisors if needed"]
		role_aceb7e03 -> role_39fd8988 [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_7ac2c27c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_aceb7e03 -> role_114e1ad5 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_76076e89 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_2c88956d [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_2c88956d tooltip="task-create-network"]
		role_2c88956d -> role_aceb7e03 [label="1 [when: not hypervisors_cleaned]" color="#c10bb4" fontcolor="#c10bb4" id=edge_7910c7e5 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_d9dc0601 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_d9dc0601 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9f24117a [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_9f24117a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_f62981f2 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_f62981f2 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c31abbd6 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#c10bb4" id=role_c31abbd6 tooltip="Prepare environment if not prepared"]
		role_c31abbd6 -> role_d9dc0601 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_e733cab2 labeltooltip="1 " tooltip="1 "]
		role_c31abbd6 -> role_9f24117a [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_5df4f384 labeltooltip="2 " tooltip="2 "]
		role_c31abbd6 -> role_f62981f2 [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_cfd981c3 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_fb342e70 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#c10bb4" id=role_fb342e70 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_3eef84c5 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#c10bb4" id=role_3eef84c5 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_e5adb493 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c10bb4" id=role_e5adb493 tooltip="Configure Bind"]
		role_e5adb493 -> role_3eef84c5 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_75bead8e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_92a990be [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#c10bb4" id=role_92a990be tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_5ffaebe6 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c10bb4" id=role_5ffaebe6 tooltip="Configure Dnsmasq"]
		role_5ffaebe6 -> role_92a990be [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_52a6ecb8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1599e051 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#c10bb4" id=role_1599e051 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_941bb872 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c10bb4" id=role_941bb872 tooltip="Configure HAProxy"]
		role_941bb872 -> role_1599e051 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_7b81d0a5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6db53d88 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#c10bb4" id=role_6db53d88 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_c1c7fb45 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c10bb4" id=role_c1c7fb45 tooltip="Configure Nexus"]
		role_c1c7fb45 -> role_6db53d88 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_c7be2a26 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_18adb93e [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#c10bb4" id=role_18adb93e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_a1b758b3 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c10bb4" id=role_a1b758b3 tooltip="Configure Apache"]
		role_a1b758b3 -> role_18adb93e [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_5c7efe77 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_186f6e5a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#c10bb4" id=role_186f6e5a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_63011547 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c10bb4" id=role_63011547 tooltip="Configure a local container image registry"]
		role_63011547 -> role_186f6e5a [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_983edc52 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_c9785502 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_c9785502 tooltip="task-create-services"]
		role_c9785502 -> role_c31abbd6 [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_93c84bc8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c9785502 -> role_fb342e70 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_7ee773f1 labeltooltip="2 " tooltip="2 "]
		role_c9785502 -> role_e5adb493 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c10bb4" fontcolor="#c10bb4" id=edge_9e437ca3 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c9785502 -> role_5ffaebe6 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c10bb4" fontcolor="#c10bb4" id=edge_0d2fd6ff labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c9785502 -> role_941bb872 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c10bb4" fontcolor="#c10bb4" id=edge_15f87da4 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c9785502 -> role_c1c7fb45 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c10bb4" fontcolor="#c10bb4" id=edge_1d99fab4 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c9785502 -> role_a1b758b3 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c10bb4" fontcolor="#c10bb4" id=edge_f9171af8 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c9785502 -> role_63011547 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c10bb4" fontcolor="#c10bb4" id=edge_23bde95a labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_7f2d88ef [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_7f2d88ef tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_5b1c1698 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_5b1c1698 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_6ad94e0a [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_6ad94e0a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_a814a7d9 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c10bb4" id=role_a814a7d9 tooltip="Prepare environment if needed"]
		role_a814a7d9 -> role_7f2d88ef [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_6ecbe3df labeltooltip="1 " tooltip="1 "]
		role_a814a7d9 -> role_5b1c1698 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_d50f6879 labeltooltip="2 " tooltip="2 "]
		role_a814a7d9 -> role_6ad94e0a [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_dedfbff1 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_14a4713f [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c10bb4" id=role_14a4713f tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d5ef2135 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c10bb4" id=role_d5ef2135 tooltip="Prepare services if needed"]
		role_d5ef2135 -> role_a814a7d9 [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_92fb9941 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d5ef2135 -> role_14a4713f [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_52ba9e09 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_993e277d [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c10bb4" id=role_993e277d tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_7607c8cd [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c10bb4" id=role_7607c8cd tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_0c864305 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/prepare_cluster.yml" color="#c10bb4" id=role_0c864305 tooltip="Setup the cluster provision container"]
		role_0c864305 -> role_993e277d [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_4f8aaa95 labeltooltip="1 " tooltip="1 "]
		role_0c864305 -> role_7607c8cd [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_493d20bf labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_19d0c828 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c10bb4" id=role_19d0c828 tooltip="Delegate to the distro role to prepare the cluster"]
		role_19d0c828 -> role_0c864305 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_71ac36e4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_68f9194c [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_68f9194c tooltip="task-prepare-cluster"]
		role_68f9194c -> role_d5ef2135 [label="1 [when: not services_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_98985754 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_68f9194c -> role_19d0c828 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_1dd33a3f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_cb0b5831 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_cb0b5831 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7f509420 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_7f509420 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c933d131 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_c933d131 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ffcd1793 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#c10bb4" id=role_ffcd1793 tooltip="Prepare environment if not prepared"]
		role_ffcd1793 -> role_cb0b5831 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_701dd2b0 labeltooltip="1 " tooltip="1 "]
		role_ffcd1793 -> role_7f509420 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_b3fb6074 labeltooltip="2 " tooltip="2 "]
		role_ffcd1793 -> role_c933d131 [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_7e341811 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_3d9f09db [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_3d9f09db tooltip="task-download-images"]
		role_3d9f09db -> role_ffcd1793 [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_4a0c328e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_aba57be3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_aba57be3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_b5745bbe [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_b5745bbe tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_04b9ed6d [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_04b9ed6d tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_f528eafb [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c10bb4" id=role_f528eafb tooltip="Prepare environment if needed"]
		role_f528eafb -> role_aba57be3 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_2e5a1dc6 labeltooltip="1 " tooltip="1 "]
		role_f528eafb -> role_b5745bbe [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_dca5e68f labeltooltip="2 " tooltip="2 "]
		role_f528eafb -> role_04b9ed6d [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_a8adaa04 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_7abb0f4e [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c10bb4" id=role_7abb0f4e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_63e614cd [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c10bb4" id=role_63e614cd tooltip="Prepare services if needed"]
		role_63e614cd -> role_f528eafb [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_f1a24fef labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_63e614cd -> role_7abb0f4e [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_369744e1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_abedb8d4 [label="[role] Deploy the cluster bootstrap node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c10bb4" id=role_abedb8d4 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_c1b5483a [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c10bb4" id=role_c1b5483a tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_c06363b8 [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/main.yml" color="#c10bb4" id=role_c06363b8 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_6c2824f5 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c10bb4" id=role_6c2824f5 tooltip="Delegate to the distro role to deploy the cluster"]
		role_6c2824f5 -> role_abedb8d4 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_70f70978 labeltooltip="1 " tooltip="1 "]
		role_6c2824f5 -> role_c1b5483a [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_5d6a5e4c labeltooltip="2 " tooltip="2 "]
		role_6c2824f5 -> role_c06363b8 [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_13b95942 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_f089ae89 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_f089ae89 tooltip="task-deploy-cluster"]
		role_f089ae89 -> role_63e614cd [label="1 [when: not services_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_658f973d labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f089ae89 -> role_6c2824f5 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_eff795b1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_b0ac6bb7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_b0ac6bb7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ba6d8d29 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_ba6d8d29 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_859530f7 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c10bb4" id=role_859530f7 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_63fd079b [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c10bb4" id=role_63fd079b tooltip="Prepare environment if needed"]
		role_63fd079b -> role_b0ac6bb7 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_cd59a545 labeltooltip="1 " tooltip="1 "]
		role_63fd079b -> role_ba6d8d29 [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_5b15a75d labeltooltip="2 " tooltip="2 "]
		role_63fd079b -> role_859530f7 [label="3 " color="#c10bb4" fontcolor="#c10bb4" id=edge_d0a86b94 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_154727cf [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c10bb4" id=role_154727cf tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_56ec782c [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c10bb4" id=role_56ec782c tooltip="Prepare services if needed"]
		role_56ec782c -> role_63fd079b [label="1 [when: not environment_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_ffa044e2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_56ec782c -> role_154727cf [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_9ce0652f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_32c4734a [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c10bb4" id=role_32c4734a tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_44f747dc [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c10bb4" id=role_44f747dc tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_9ce1d729 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c10bb4" id=role_9ce1d729 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_e831581b [label="[role] Deploy Submariner" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_okd/tasks/post_deployment_tasks.yml" color="#c10bb4" id=role_e831581b tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_6e4b910b [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c10bb4" id=role_6e4b910b tooltip="Delegate to distro role to run post-deployment tasks"]
		role_6e4b910b -> role_32c4734a [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c10bb4" fontcolor="#c10bb4" id=edge_44a8c9f9 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_6e4b910b -> role_44f747dc [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_ae2c9e34 labeltooltip="2 " tooltip="2 "]
		role_6e4b910b -> role_9ce1d729 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#c10bb4" fontcolor="#c10bb4" id=edge_4c4d6d00 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_6e4b910b -> role_e831581b [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#c10bb4" fontcolor="#c10bb4" id=edge_b9c92bab labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_9f1323ea [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=role_9f1323ea tooltip="task-post-deployment"]
		role_9f1323ea -> role_56ec782c [label="1 [when: not services_prepared]" color="#c10bb4" fontcolor="#c10bb4" id=edge_7cdb9338 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_9f1323ea -> role_6e4b910b [label="2 " color="#c10bb4" fontcolor="#c10bb4" id=edge_c933710b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_137bf245 -> block_75a14064 [label=1 color="#c10bb4" fontcolor="#c10bb4" id=edge_74c51774 labeltooltip=1 tooltip=1]
		subgraph cluster_block_75a14064 {
			block_75a14064 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_75a14064 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_75a14064 -> role_93f22563 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_580de927 labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_7566ea6c [label=2 color="#c10bb4" fontcolor="#c10bb4" id=edge_a18e514c labeltooltip=2 tooltip=2]
		subgraph cluster_block_7566ea6c {
			block_7566ea6c [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_7566ea6c labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_7566ea6c -> role_ec91ed34 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_bae342ec labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_83ea25fe [label=3 color="#c10bb4" fontcolor="#c10bb4" id=edge_29f9ad44 labeltooltip=3 tooltip=3]
		subgraph cluster_block_83ea25fe {
			block_83ea25fe [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_83ea25fe labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_83ea25fe -> role_179e6183 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_605e8809 labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_57f69152 [label=4 color="#c10bb4" fontcolor="#c10bb4" id=edge_f2fcf395 labeltooltip=4 tooltip=4]
		subgraph cluster_block_57f69152 {
			block_57f69152 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_57f69152 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_57f69152 -> role_2c88956d [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_5b6a6417 labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_49d036c0 [label=5 color="#c10bb4" fontcolor="#c10bb4" id=edge_44296b86 labeltooltip=5 tooltip=5]
		subgraph cluster_block_49d036c0 {
			block_49d036c0 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_49d036c0 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_49d036c0 -> role_c9785502 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_9b8bd0eb labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_7d639f3e [label=6 color="#c10bb4" fontcolor="#c10bb4" id=edge_1e8ba66e labeltooltip=6 tooltip=6]
		subgraph cluster_block_7d639f3e {
			block_7d639f3e [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_7d639f3e labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_7d639f3e -> role_68f9194c [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_6cd31b00 labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_e20d3db4 [label=7 color="#c10bb4" fontcolor="#c10bb4" id=edge_dcec0162 labeltooltip=7 tooltip=7]
		subgraph cluster_block_e20d3db4 {
			block_e20d3db4 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_e20d3db4 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_e20d3db4 -> role_3d9f09db [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_d647eca2 labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_580d2381 [label=8 color="#c10bb4" fontcolor="#c10bb4" id=edge_30f113ef labeltooltip=8 tooltip=8]
		subgraph cluster_block_580d2381 {
			block_580d2381 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_580d2381 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_580d2381 -> role_f089ae89 [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_a92dce08 labeltooltip="1 " tooltip="1 "]
		}
		play_137bf245 -> block_df137c39 [label=9 color="#c10bb4" fontcolor="#c10bb4" id=edge_1b5e4ef1 labeltooltip=9 tooltip=9]
		subgraph cluster_block_df137c39 {
			block_df137c39 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c10bb4" id=block_df137c39 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_df137c39 -> role_9f1323ea [label="1 " color="#c10bb4" fontcolor="#c10bb4" id=edge_7c9e2356 labeltooltip="1 " tooltip="1 "]
		}
	}
}
