digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_0b604673 [label="Play: Initial setup (1)" color="#1bb122" fontcolor="#ffffff" id=play_0b604673 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_0b604673 [label="1 " color="#1bb122" fontcolor="#1bb122" id=edge_6fc9e31b labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_071096eb [label="[role] Read podman secrets if running from the container" color="#1bb122" id=role_071096eb tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_c2f2df8a [label="[role] task-gather-facts" color="#1bb122" id=role_c2f2df8a tooltip="task-gather-facts"]
		role_c2f2df8a -> role_071096eb [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1bb122" fontcolor="#1bb122" id=edge_57ed6446 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_38f9a36a [label="[role] Read podman secrets if running from the container" color="#1bb122" id=role_38f9a36a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_b405c240 [label="[role] task-prepare-hypervisors" color="#1bb122" id=role_b405c240 tooltip="task-prepare-hypervisors"]
		role_b405c240 -> role_38f9a36a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1bb122" fontcolor="#1bb122" id=edge_d3e00be1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_0b604673 -> block_4a93ee76 [label=1 color="#1bb122" fontcolor="#1bb122" id=edge_3da9994f labeltooltip=1 tooltip=1]
		subgraph cluster_block_4a93ee76 {
			block_4a93ee76 [label="[block] Gather facts about the deployment environment" color="#1bb122" id=block_4a93ee76 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_4a93ee76 -> role_c2f2df8a [label="1 " color="#1bb122" fontcolor="#1bb122" id=edge_fd9e7fda labeltooltip="1 " tooltip="1 "]
		}
		play_0b604673 -> block_36c95f2f [label=2 color="#1bb122" fontcolor="#1bb122" id=edge_93e45501 labeltooltip=2 tooltip=2]
		subgraph cluster_block_36c95f2f {
			block_36c95f2f [label="[block] Prepare the hypervisors" color="#1bb122" id=block_36c95f2f labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_36c95f2f -> role_b405c240 [label="1 " color="#1bb122" fontcolor="#1bb122" id=edge_4ecf1ecb labeltooltip="1 " tooltip="1 "]
		}
	}
	play_d2e999b8 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#c03f0c" fontcolor="#ffffff" id=play_d2e999b8 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_d2e999b8 [label="2 " color="#c03f0c" fontcolor="#c03f0c" id=edge_86c3b48e labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_5745f9b3 [label="[role] Provision the libvirt services on the hypervisor" color="#c03f0c" id=role_5745f9b3 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_28396c73 [label="[role] Prepare each hypervisor in the deployment" color="#c03f0c" id=role_28396c73 tooltip="Prepare each hypervisor in the deployment"]
		role_28396c73 -> role_5745f9b3 [label="1 " color="#c03f0c" fontcolor="#c03f0c" id=edge_ae3bfe26 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_d2e999b8 -> block_d18fe141 [label=1 color="#c03f0c" fontcolor="#c03f0c" id=edge_cc3aabc2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_d18fe141 {
			block_d18fe141 [label="[block] Prepare individual hypervisors" color="#c03f0c" id=block_d18fe141 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_d18fe141 -> role_28396c73 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#c03f0c" fontcolor="#c03f0c" id=edge_dc934dcf labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_7853c354 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#735959" fontcolor="#ffffff" id=play_7853c354 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_7853c354 [label="3 " color="#735959" fontcolor="#735959" id=edge_5b728e2a labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_346d6a9c [label="[role] Read podman secrets if running from the container" color="#735959" id=role_346d6a9c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_4cdd810d [label="[role] task-prepare-environment" color="#735959" id=role_4cdd810d tooltip="task-prepare-environment"]
		role_4cdd810d -> role_346d6a9c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_8210e7eb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
		task_5ebe31a1 [label="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars" color="#735959" id=task_5ebe31a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define kubeinit_facts_hostvars"]
		role_4cdd810d -> task_5ebe31a1 [label="2 " color="#735959" fontcolor="#735959" id=edge_05c3b8dc labeltooltip="2 " tooltip="2 "]
		task_e822b29d [label="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups" color="#735959" id=task_e822b29d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define cluster fact names needed to prepare groups"]
		role_4cdd810d -> task_e822b29d [label="3 " color="#735959" fontcolor="#735959" id=edge_4796a054 labeltooltip="3 " tooltip="3 "]
		task_d7df9d55 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group" color="#735959" id=task_d7df9d55 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller nodes to the all_controller_nodes group"]
		role_4cdd810d -> task_d7df9d55 [label="4 " color="#735959" fontcolor="#735959" id=edge_8d4c960b labeltooltip="4 " tooltip="4 "]
		task_0f27e9c3 [label="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group" color="#735959" id=task_0f27e9c3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all compute nodes to the all_compute_nodes group"]
		role_4cdd810d -> task_0f27e9c3 [label="5 " color="#735959" fontcolor="#735959" id=edge_5e927fb1 labeltooltip="5 " tooltip="5 "]
		task_297e2032 [label="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group" color="#735959" id=task_297e2032 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all controller and compute nodes to the all_cluster_nodes group"]
		role_4cdd810d -> task_297e2032 [label="6 " color="#735959" fontcolor="#735959" id=edge_5557f332 labeltooltip="6 " tooltip="6 "]
		task_c8d8c554 [label="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group" color="#735959" id=task_c8d8c554 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add any extra cluster vm guest nodes to the all_extra_nodes group"]
		role_4cdd810d -> task_c8d8c554 [label="7 [when: kubeinit_cluster_distro in hostvars[item].distro]" color="#735959" fontcolor="#735959" id=edge_0720735c labeltooltip="7 [when: kubeinit_cluster_distro in hostvars[item].distro]" tooltip="7 [when: kubeinit_cluster_distro in hostvars[item].distro]"]
		task_eff032a1 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors" color="#735959" id=task_eff032a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all cluster node hypervisors"]
		role_4cdd810d -> task_eff032a1 [label="8 " color="#735959" fontcolor="#735959" id=edge_371bef1b labeltooltip="8 " tooltip="8 "]
		task_c2dc8c51 [label="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact" color="#735959" id=task_c2dc8c51 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Show the before and after values of the hypervisors fact"]
		role_4cdd810d -> task_c2dc8c51 [label="9 " color="#735959" fontcolor="#735959" id=edge_bf4c07bd labeltooltip="9 " tooltip="9 "]
		task_d6c1d150 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group" color="#735959" id=task_d6c1d150 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service nodes to the all_service_nodes group"]
		role_4cdd810d -> task_d6c1d150 [label="10 " color="#735959" fontcolor="#735959" id=edge_a05be52d labeltooltip="10 " tooltip="10 "]
		task_e0d1e132 [label="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service" color="#735959" id=task_e0d1e132 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create tuples for each service and each service node providing that service"]
		role_4cdd810d -> task_e0d1e132 [label="11 " color="#735959" fontcolor="#735959" id=edge_6a0a0f33 labeltooltip="11 " tooltip="11 "]
		task_df3c051e [label="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service" color="#735959" id=task_df3c051e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Combine those tuples into dict of services and nodes providing that service"]
		role_4cdd810d -> task_df3c051e [label="12 " color="#735959" fontcolor="#735959" id=edge_ddbcea80 labeltooltip="12 " tooltip="12 "]
		task_bdcde549 [label="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node" color="#735959" id=task_bdcde549 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check for any services being provided on more than one service node"]
		role_4cdd810d -> task_bdcde549 [label="13 [when: item.value | length > 1]" color="#735959" fontcolor="#735959" id=edge_a064f05b labeltooltip="13 [when: item.value | length > 1]" tooltip="13 [when: item.value | length > 1]"]
		task_8c13baa5 [label="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node" color="#735959" id=task_8c13baa5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Use first service node if there is no assigned provision service node"]
		role_4cdd810d -> task_8c13baa5 [label="14 [when: 'provision' not in cluster_services_dict]" color="#735959" fontcolor="#735959" id=edge_7d8c12a4 labeltooltip="14 [when: 'provision' not in cluster_services_dict]" tooltip="14 [when: 'provision' not in cluster_services_dict]"]
		task_615d08bc [label="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form" color="#735959" id=task_615d08bc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Flatten dictionary values into final form"]
		role_4cdd810d -> task_615d08bc [label="15 " color="#735959" fontcolor="#735959" id=edge_6911496a labeltooltip="15 " tooltip="15 "]
		task_e37f6dc3 [label="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node" color="#735959" id=task_e37f6dc3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Check that the dns server address in the inventory matches the bind service node"]
		role_4cdd810d -> task_e37f6dc3 [label="16 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" color="#735959" fontcolor="#735959" id=edge_5a720386 labeltooltip="16 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]" tooltip="16 [when: 'bind' in all_cluster_services and kubeinit_cluster_nameserver != hostvars[all_cluster_services['bind']].ansible_host]"]
		task_927e2040 [label="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact" color="#735959" id=task_927e2040 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all services cluster fact"]
		role_4cdd810d -> task_927e2040 [label="17 " color="#735959" fontcolor="#735959" id=edge_1aaa6c3b labeltooltip="17 " tooltip="17 "]
		task_e1cd76f1 [label="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group" color="#735959" id=task_e1cd76f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all service and cluster nodes to the all_nodes group"]
		role_4cdd810d -> task_e1cd76f1 [label="18 " color="#735959" fontcolor="#735959" id=edge_e5a9df1f labeltooltip="18 " tooltip="18 "]
		task_25ee8da7 [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members" color="#735959" id=task_25ee8da7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no bastion_host members"]
		role_4cdd810d -> task_25ee8da7 [label="19 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" color="#735959" fontcolor="#735959" id=edge_ca55831f labeltooltip="19 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]" tooltip="19 [when: ('bastion_host' not in groups) or ((groups['bastion_host'] | list | length) == 0)]"]
		task_cac60c25 [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined" color="#735959" id=task_cac60c25 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for bastion_host if not defined"]
		role_4cdd810d -> task_cac60c25 [label="20 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" color="#735959" fontcolor="#735959" id=edge_ae914f7a labeltooltip="20 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]" tooltip="20 [when: hostvars[kubeinit_cluster_bastion_name].ansible_host is not defined]"]
		task_775a1bec [label="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined" color="#735959" id=task_775a1bec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add target for bastion_host if not defined"]
		role_4cdd810d -> task_775a1bec [label="21 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" color="#735959" fontcolor="#735959" id=edge_4b243d5f labeltooltip="21 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]" tooltip="21 [when: hostvars[kubeinit_cluster_bastion_name].target is not defined]"]
		task_08d8ca10 [label="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members" color="#735959" id=task_08d8ca10 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add a default entry for the first hypervisor if there are no ovn_central_host members"]
		role_4cdd810d -> task_08d8ca10 [label="22 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" color="#735959" fontcolor="#735959" id=edge_671dd562 labeltooltip="22 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]" tooltip="22 [when: ('ovn_central_host' not in groups) or ((groups['ovn_central_host'] | list | length) == 0)]"]
		task_d0945b0a [label="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host" color="#735959" id=task_d0945b0a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ansible_host for ovn_central_host"]
		role_4cdd810d -> task_d0945b0a [label="23 " color="#735959" fontcolor="#735959" id=edge_9784f53c labeltooltip="23 " tooltip="23 "]
		task_a1dbe14c [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group" color="#735959" id=task_a1dbe14c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster hypervisors to the all_hosts group"]
		role_4cdd810d -> task_a1dbe14c [label="24 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in hostvars[kubeinit_cluster_facts_name].hypervisors
]" color="#735959" fontcolor="#735959" id=edge_110ff3a8 labeltooltip="24 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in hostvars[kubeinit_cluster_facts_name].hypervisors
]" tooltip="24 [when: item in hostvars[kubeinit_cluster_ovn_central_name].target or item in hostvars[kubeinit_cluster_facts_name].hypervisors
]"]
		task_2d7e0704 [label="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group" color="#735959" id=task_2d7e0704 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all hosts to the all_ovn_hosts group"]
		role_4cdd810d -> task_2d7e0704 [label="25 " color="#735959" fontcolor="#735959" id=edge_1ecf9fa5 labeltooltip="25 " tooltip="25 "]
		task_ece7da7d [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the hypervisor running vms into hv/vm tuples" color="#735959" id=task_ece7da7d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the hypervisor running vms into hv/vm tuples"]
		role_4cdd810d -> task_ece7da7d [label="26 " color="#735959" fontcolor="#735959" id=edge_17918cf3 labeltooltip="26 " tooltip="26 "]
		task_fa5a8075 [label="kubeinit.kubeinit.kubeinit_prepare : Set all running vms cluster fact" color="#735959" id=task_fa5a8075 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all running vms cluster fact"]
		role_4cdd810d -> task_fa5a8075 [label="27 " color="#735959" fontcolor="#735959" id=edge_235bb44b labeltooltip="27 " tooltip="27 "]
		task_a196ea78 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list" color="#735959" id=task_a196ea78 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the localhost and hypervisor authorized keys into authorized_keys list"]
		role_4cdd810d -> task_a196ea78 [label="28 " color="#735959" fontcolor="#735959" id=edge_3cf45b0a labeltooltip="28 " tooltip="28 "]
		task_ff2f99eb [label="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact" color="#735959" id=task_ff2f99eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all hypervisor authorized keys cluster fact"]
		role_4cdd810d -> task_ff2f99eb [label="29 " color="#735959" fontcolor="#735959" id=edge_c030cb1f labeltooltip="29 " tooltip="29 "]
		task_f0d97d83 [label="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group" color="#735959" id=task_f0d97d83 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add services guest and cluster nodes to the all_guest_vms group"]
		role_4cdd810d -> task_f0d97d83 [label="30 [when: hostvars[item].type == 'virtual']" color="#735959" fontcolor="#735959" id=edge_7e536965 labeltooltip="30 [when: hostvars[item].type == 'virtual']" tooltip="30 [when: hostvars[item].type == 'virtual']"]
		task_8d2ea3e6 [label="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases" color="#735959" id=task_8d2ea3e6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Collect all of the node aliases"]
		role_4cdd810d -> task_8d2ea3e6 [label="31 " color="#735959" fontcolor="#735959" id=edge_9c41b24f labeltooltip="31 " tooltip="31 "]
		task_41cbaa6e [label="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact" color="#735959" id=task_41cbaa6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all node aliases cluster fact"]
		role_4cdd810d -> task_41cbaa6e [label="32 " color="#735959" fontcolor="#735959" id=edge_8a51d4a0 labeltooltip="32 " tooltip="32 "]
		task_58ff5467 [label="kubeinit.kubeinit.kubeinit_prepare : Define group facts" color="#735959" id=task_58ff5467 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define group facts"]
		role_4cdd810d -> task_58ff5467 [label="33 " color="#735959" fontcolor="#735959" id=edge_520b2924 labeltooltip="33 " tooltip="33 "]
		task_6f6a8bd0 [label="kubeinit.kubeinit.kubeinit_prepare : Install podman if required" color="#735959" id=task_6f6a8bd0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman if required"]
		role_4cdd810d -> task_6f6a8bd0 [label="34 [when: not hostvars['localhost'].podman_is_installed]" color="#735959" fontcolor="#735959" id=edge_380c52dd labeltooltip="34 [when: not hostvars['localhost'].podman_is_installed]" tooltip="34 [when: not hostvars['localhost'].podman_is_installed]"]
		task_2b76e781 [label="kubeinit.kubeinit.kubeinit_prepare : Define service node facts" color="#735959" id=task_2b76e781 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define service node facts"]
		role_4cdd810d -> task_2b76e781 [label="35 " color="#735959" fontcolor="#735959" id=edge_bb054ce7 labeltooltip="35 " tooltip="35 "]
		task_5092fc9a [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host" color="#735959" id=task_5092fc9a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair bastion host"]
		role_4cdd810d -> task_5092fc9a [label="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#735959" fontcolor="#735959" id=edge_240e9bb1 labeltooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="36 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_94d8cf6a [label="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host" color="#735959" id=task_94d8cf6a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set authorized_key hostvar for bastion host"]
		role_4cdd810d -> task_94d8cf6a [label="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#735959" fontcolor="#735959" id=edge_0bd7aa03 labeltooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="37 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_050c9ed0 [label="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys" color="#735959" id=task_050c9ed0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add bastion host authorized key to cluster authorized_keys"]
		role_4cdd810d -> task_050c9ed0 [label="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#735959" fontcolor="#735959" id=edge_ef444ffe labeltooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="38 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_e8dc35d6 [label="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact" color="#735959" id=task_e8dc35d6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set all cluster hypervisors fact"]
		role_4cdd810d -> task_e8dc35d6 [label="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#735959" fontcolor="#735959" id=edge_620a6725 labeltooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="39 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_590fdaac [label="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars" color="#735959" id=task_590fdaac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Update kubeinit_cluster_hostvars"]
		role_4cdd810d -> task_590fdaac [label="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#735959" fontcolor="#735959" id=edge_285d5b00 labeltooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="40 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
		task_1eda47ca [label="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors" color="#735959" id=task_1eda47ca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add all cluster authorized keys to all hypervisors"]
		role_4cdd810d -> task_1eda47ca [label="41 " color="#735959" fontcolor="#735959" id=edge_f49694b1 labeltooltip="41 " tooltip="41 "]
		task_5cd0d17d [label="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts" color="#735959" id=task_5cd0d17d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Define additional host, node and services facts"]
		role_4cdd810d -> task_5cd0d17d [label="42 " color="#735959" fontcolor="#735959" id=edge_ef0da029 labeltooltip="42 " tooltip="42 "]
		task_136187fb [label="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes" color="#735959" id=task_136187fb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add ssh ProxyCommand option for all nodes"]
		role_4cdd810d -> task_136187fb [label="43 " color="#735959" fontcolor="#735959" id=edge_6aceeecd labeltooltip="43 " tooltip="43 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1c38e2b9 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_1c38e2b9 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e371d904 [label="[role] Prepare environment if not prepared" color="#735959" id=role_e371d904 tooltip="Prepare environment if not prepared"]
		role_e371d904 -> role_1c38e2b9 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_8345aaf6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_0c34d7f1 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#735959" id=role_0c34d7f1 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_062857de [label="[role] task-cleanup-hypervisors" color="#735959" id=role_062857de tooltip="task-cleanup-hypervisors"]
		role_062857de -> role_e371d904 [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_cc44ac34 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_062857de -> role_0c34d7f1 [label="2 " color="#735959" fontcolor="#735959" id=edge_2cad8264 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_272c7995 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_272c7995 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2d081fd0 [label="[role] Prepare environment if not prepared" color="#735959" id=role_2d081fd0 tooltip="Prepare environment if not prepared"]
		role_2d081fd0 -> role_272c7995 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_acadd8dc labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_55965f7b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#735959" id=role_55965f7b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_7e088716 [label="[role] Cleanup hypervisors if needed" color="#735959" id=role_7e088716 tooltip="Cleanup hypervisors if needed"]
		role_7e088716 -> role_2d081fd0 [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_115a5318 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7e088716 -> role_55965f7b [label="2 " color="#735959" fontcolor="#735959" id=edge_6fd35939 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_c21163a3 [label="[role] task-run-validations" color="#735959" id=role_c21163a3 tooltip="task-run-validations"]
		role_c21163a3 -> role_7e088716 [label="1 [when: not hypervisors_cleaned]" color="#735959" fontcolor="#735959" id=edge_882e077a labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0f3a05f4 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_0f3a05f4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2cbc596e [label="[role] Prepare environment if not prepared" color="#735959" id=role_2cbc596e tooltip="Prepare environment if not prepared"]
		role_2cbc596e -> role_0f3a05f4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_8237976a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_1b6a2350 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#735959" id=role_1b6a2350 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_c20642ca [label="[role] Cleanup hypervisors if needed" color="#735959" id=role_c20642ca tooltip="Cleanup hypervisors if needed"]
		role_c20642ca -> role_2cbc596e [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_f02232a6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c20642ca -> role_1b6a2350 [label="2 " color="#735959" fontcolor="#735959" id=edge_78edf0e3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_643c8e18 [label="[role] task-create-network" color="#735959" id=role_643c8e18 tooltip="task-create-network"]
		role_643c8e18 -> role_c20642ca [label="1 [when: not hypervisors_cleaned]" color="#735959" fontcolor="#735959" id=edge_db14b9b7 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3613cdd4 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_3613cdd4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b26812f7 [label="[role] Prepare environment if not prepared" color="#735959" id=role_b26812f7 tooltip="Prepare environment if not prepared"]
		role_b26812f7 -> role_3613cdd4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_d66ffa3a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_447b09b1 [label="[role] Prepare podman" color="#735959" id=role_447b09b1 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_4086a439 [label="[role] Create systemd service for podman container" color="#735959" id=role_4086a439 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_c69c54dd [label="[role] Configure Bind" color="#735959" id=role_c69c54dd tooltip="Configure Bind"]
		role_c69c54dd -> role_4086a439 [label="1 " color="#735959" fontcolor="#735959" id=edge_bf426b8f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_bd46b300 [label="[role] Create systemd service for podman container" color="#735959" id=role_bd46b300 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_b2294d41 [label="[role] Configure Dnsmasq" color="#735959" id=role_b2294d41 tooltip="Configure Dnsmasq"]
		role_b2294d41 -> role_bd46b300 [label="1 " color="#735959" fontcolor="#735959" id=edge_a9fb114c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_dbffb1fe [label="[role] Create systemd service for podman container" color="#735959" id=role_dbffb1fe tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_02f6f303 [label="[role] Configure HAProxy" color="#735959" id=role_02f6f303 tooltip="Configure HAProxy"]
		role_02f6f303 -> role_dbffb1fe [label="1 " color="#735959" fontcolor="#735959" id=edge_af2626db labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d4007c28 [label="[role] Create systemd service for podman container" color="#735959" id=role_d4007c28 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_cf9e062e [label="[role] Configure Nexus" color="#735959" id=role_cf9e062e tooltip="Configure Nexus"]
		role_cf9e062e -> role_d4007c28 [label="1 " color="#735959" fontcolor="#735959" id=edge_46b011fb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_fffd5429 [label="[role] Create systemd service for podman container" color="#735959" id=role_fffd5429 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_3976744a [label="[role] Configure Apache" color="#735959" id=role_3976744a tooltip="Configure Apache"]
		role_3976744a -> role_fffd5429 [label="1 " color="#735959" fontcolor="#735959" id=edge_fc246e06 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4874d1c0 [label="[role] Create systemd service for podman container" color="#735959" id=role_4874d1c0 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_cb00faa6 [label="[role] Configure a local container image registry" color="#735959" id=role_cb00faa6 tooltip="Configure a local container image registry"]
		role_cb00faa6 -> role_4874d1c0 [label="1 " color="#735959" fontcolor="#735959" id=edge_a77ba42b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_4ce93a4d [label="[role] task-create-services" color="#735959" id=role_4ce93a4d tooltip="task-create-services"]
		role_4ce93a4d -> role_b26812f7 [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_20390380 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4ce93a4d -> role_447b09b1 [label="2 " color="#735959" fontcolor="#735959" id=edge_2d7ed0d2 labeltooltip="2 " tooltip="2 "]
		role_4ce93a4d -> role_c69c54dd [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#735959" fontcolor="#735959" id=edge_57da7ba6 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4ce93a4d -> role_b2294d41 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#735959" fontcolor="#735959" id=edge_4549896c labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4ce93a4d -> role_02f6f303 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#735959" fontcolor="#735959" id=edge_0ba55a90 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4ce93a4d -> role_cf9e062e [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#735959" fontcolor="#735959" id=edge_9c55b2f1 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4ce93a4d -> role_3976744a [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#735959" fontcolor="#735959" id=edge_b21f4fd6 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4ce93a4d -> role_cb00faa6 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#735959" fontcolor="#735959" id=edge_76db5ab0 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_78d3a6c4 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_78d3a6c4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_8077e89a [label="[role] Prepare environment if needed" color="#735959" id=role_8077e89a tooltip="Prepare environment if needed"]
		role_8077e89a -> role_78d3a6c4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_e78221c6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_ed24b141 [label="[role] Gather network and host facts for guest" color="#735959" id=role_ed24b141 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_171f3d64 [label="[role] Prepare services if needed" color="#735959" id=role_171f3d64 tooltip="Prepare services if needed"]
		role_171f3d64 -> role_8077e89a [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_91f56943 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_171f3d64 -> role_ed24b141 [label="2 " color="#735959" fontcolor="#735959" id=edge_75ecfe08 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_05285cf1 [label="[role] Create systemd service for podman container" color="#735959" id=role_05285cf1 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_617397b6 [label="[role] Gather network and host facts for provision service" color="#735959" id=role_617397b6 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_d5bdd93d [label="[role] Setup the cluster provision container" color="#735959" id=role_d5bdd93d tooltip="Setup the cluster provision container"]
		role_d5bdd93d -> role_05285cf1 [label="1 " color="#735959" fontcolor="#735959" id=edge_3888b11a labeltooltip="1 " tooltip="1 "]
		role_d5bdd93d -> role_617397b6 [label="2 " color="#735959" fontcolor="#735959" id=edge_1ffac1ec labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_60d00143 [label="[role] Delegate to the distro role to prepare the cluster" color="#735959" id=role_60d00143 tooltip="Delegate to the distro role to prepare the cluster"]
		role_60d00143 -> role_d5bdd93d [label="1 " color="#735959" fontcolor="#735959" id=edge_e47cb5a4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_3fdb14b9 [label="[role] task-prepare-cluster" color="#735959" id=role_3fdb14b9 tooltip="task-prepare-cluster"]
		role_3fdb14b9 -> role_171f3d64 [label="1 [when: not services_prepared]" color="#735959" fontcolor="#735959" id=edge_74d41b65 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_3fdb14b9 -> role_60d00143 [label="2 " color="#735959" fontcolor="#735959" id=edge_a5bafc72 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_44c17811 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_44c17811 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_4c20874b [label="[role] Prepare environment if not prepared" color="#735959" id=role_4c20874b tooltip="Prepare environment if not prepared"]
		role_4c20874b -> role_44c17811 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_6b29e465 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_1393f62b [label="[role] task-download-images" color="#735959" id=role_1393f62b tooltip="task-download-images"]
		role_1393f62b -> role_4c20874b [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_1f685293 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_59b0c792 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_59b0c792 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_75b48072 [label="[role] Prepare environment if needed" color="#735959" id=role_75b48072 tooltip="Prepare environment if needed"]
		role_75b48072 -> role_59b0c792 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_9b1e3aad labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_dbb9b8c8 [label="[role] Gather network and host facts for guest" color="#735959" id=role_dbb9b8c8 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_6f763298 [label="[role] Prepare services if needed" color="#735959" id=role_6f763298 tooltip="Prepare services if needed"]
		role_6f763298 -> role_75b48072 [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_62f1ca68 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6f763298 -> role_dbb9b8c8 [label="2 " color="#735959" fontcolor="#735959" id=edge_451ab34d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_fd49a448 [label="[role] Deploy the cluster bootstrap node" color="#735959" id=role_fd49a448 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_d53a69c8 [label="[role] Deploy the cluster controller nodes" color="#735959" id=role_d53a69c8 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_8c696039 [label="[role] Deploy the cluster compute nodes" color="#735959" id=role_8c696039 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_157d8bfb [label="[role] Delegate to the distro role to deploy the cluster" color="#735959" id=role_157d8bfb tooltip="Delegate to the distro role to deploy the cluster"]
		role_157d8bfb -> role_fd49a448 [label="1 " color="#735959" fontcolor="#735959" id=edge_de712f21 labeltooltip="1 " tooltip="1 "]
		role_157d8bfb -> role_d53a69c8 [label="2 " color="#735959" fontcolor="#735959" id=edge_62007a1c labeltooltip="2 " tooltip="2 "]
		role_157d8bfb -> role_8c696039 [label="3 " color="#735959" fontcolor="#735959" id=edge_8578e887 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_aa732a3b [label="[role] task-deploy-cluster" color="#735959" id=role_aa732a3b tooltip="task-deploy-cluster"]
		role_aa732a3b -> role_6f763298 [label="1 [when: not services_prepared]" color="#735959" fontcolor="#735959" id=edge_328db821 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_aa732a3b -> role_157d8bfb [label="2 " color="#735959" fontcolor="#735959" id=edge_23ab48e5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b2db82b6 [label="[role] Read podman secrets if running from the container" color="#735959" id=role_b2db82b6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_37c6ae37 [label="[role] Prepare environment if needed" color="#735959" id=role_37c6ae37 tooltip="Prepare environment if needed"]
		role_37c6ae37 -> role_b2db82b6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#735959" fontcolor="#735959" id=edge_b597aa7d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_f8b756fe [label="[role] Gather network and host facts for guest" color="#735959" id=role_f8b756fe tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d39e7969 [label="[role] Prepare services if needed" color="#735959" id=role_d39e7969 tooltip="Prepare services if needed"]
		role_d39e7969 -> role_37c6ae37 [label="1 [when: not environment_prepared]" color="#735959" fontcolor="#735959" id=edge_5b957bca labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d39e7969 -> role_f8b756fe [label="2 " color="#735959" fontcolor="#735959" id=edge_a0cc133c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_360682e8 [label="[role] Configure NFS" color="#735959" id=role_360682e8 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_18998054 [label="[role] Deploy the apps" color="#735959" id=role_18998054 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_27d113f3 [label="[role] Deploy KubeVirt" color="#735959" id=role_27d113f3 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_449fa4d0 [label="[role] Deploy Submariner" color="#735959" id=role_449fa4d0 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_ded020d7 [label="[role] Delegate to distro role to run post-deployment tasks" color="#735959" id=role_ded020d7 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_ded020d7 -> role_360682e8 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#735959" fontcolor="#735959" id=edge_ea3a7d5b labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_ded020d7 -> role_18998054 [label="2 " color="#735959" fontcolor="#735959" id=edge_93f69d29 labeltooltip="2 " tooltip="2 "]
		role_ded020d7 -> role_27d113f3 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#735959" fontcolor="#735959" id=edge_8833e218 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_ded020d7 -> role_449fa4d0 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#735959" fontcolor="#735959" id=edge_8d170919 labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_bd9bb067 [label="[role] task-post-deployment" color="#735959" id=role_bd9bb067 tooltip="task-post-deployment"]
		role_bd9bb067 -> role_d39e7969 [label="1 [when: not services_prepared]" color="#735959" fontcolor="#735959" id=edge_c1d341cc labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_bd9bb067 -> role_ded020d7 [label="2 " color="#735959" fontcolor="#735959" id=edge_7f122ce5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_7853c354 -> block_aebea1e8 [label=1 color="#735959" fontcolor="#735959" id=edge_d938313d labeltooltip=1 tooltip=1]
		subgraph cluster_block_aebea1e8 {
			block_aebea1e8 [label="[block] Prepare the environment" color="#735959" id=block_aebea1e8 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_aebea1e8 -> role_4cdd810d [label="1 " color="#735959" fontcolor="#735959" id=edge_fe9c4cda labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_fa3015af [label=2 color="#735959" fontcolor="#735959" id=edge_7d5040a2 labeltooltip=2 tooltip=2]
		subgraph cluster_block_fa3015af {
			block_fa3015af [label="[block] Cleanup hypervisors" color="#735959" id=block_fa3015af labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_fa3015af -> role_062857de [label="1 " color="#735959" fontcolor="#735959" id=edge_e6512040 labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_5ddfd732 [label=3 color="#735959" fontcolor="#735959" id=edge_e64c60b3 labeltooltip=3 tooltip=3]
		subgraph cluster_block_5ddfd732 {
			block_5ddfd732 [label="[block] Run validations on cluster resources" color="#735959" id=block_5ddfd732 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_5ddfd732 -> role_c21163a3 [label="1 " color="#735959" fontcolor="#735959" id=edge_d9b0914b labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_850f4e65 [label=4 color="#735959" fontcolor="#735959" id=edge_fc1f842a labeltooltip=4 tooltip=4]
		subgraph cluster_block_850f4e65 {
			block_850f4e65 [label="[block] Create the cluster network resources" color="#735959" id=block_850f4e65 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_850f4e65 -> role_643c8e18 [label="1 " color="#735959" fontcolor="#735959" id=edge_6657ad50 labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_c12afde9 [label=5 color="#735959" fontcolor="#735959" id=edge_d80ab70a labeltooltip=5 tooltip=5]
		subgraph cluster_block_c12afde9 {
			block_c12afde9 [label="[block] Create services the cluster will need" color="#735959" id=block_c12afde9 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_c12afde9 -> role_4ce93a4d [label="1 " color="#735959" fontcolor="#735959" id=edge_06bc3a96 labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_f2fb38dc [label=6 color="#735959" fontcolor="#735959" id=edge_a4de8f97 labeltooltip=6 tooltip=6]
		subgraph cluster_block_f2fb38dc {
			block_f2fb38dc [label="[block] Prepare to deploy the cluster" color="#735959" id=block_f2fb38dc labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_f2fb38dc -> role_3fdb14b9 [label="1 " color="#735959" fontcolor="#735959" id=edge_d934cc84 labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_a82f2e9b [label=7 color="#735959" fontcolor="#735959" id=edge_eecb221b labeltooltip=7 tooltip=7]
		subgraph cluster_block_a82f2e9b {
			block_a82f2e9b [label="[block] Download cloud images" color="#735959" id=block_a82f2e9b labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_a82f2e9b -> role_1393f62b [label="1 " color="#735959" fontcolor="#735959" id=edge_d0d6f016 labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_18ba77d7 [label=8 color="#735959" fontcolor="#735959" id=edge_5b1befd4 labeltooltip=8 tooltip=8]
		subgraph cluster_block_18ba77d7 {
			block_18ba77d7 [label="[block] Deploy the cluster" color="#735959" id=block_18ba77d7 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_18ba77d7 -> role_aa732a3b [label="1 " color="#735959" fontcolor="#735959" id=edge_0381177d labeltooltip="1 " tooltip="1 "]
		}
		play_7853c354 -> block_1cedb0e2 [label=9 color="#735959" fontcolor="#735959" id=edge_c7436764 labeltooltip=9 tooltip=9]
		subgraph cluster_block_1cedb0e2 {
			block_1cedb0e2 [label="[block] Run any post-deployment tasks" color="#735959" id=block_1cedb0e2 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_1cedb0e2 -> role_bd9bb067 [label="1 " color="#735959" fontcolor="#735959" id=edge_d84ba5f8 labeltooltip="1 " tooltip="1 "]
		}
	}
}
