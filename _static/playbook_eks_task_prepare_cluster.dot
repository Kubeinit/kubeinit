digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_ba3d8ee4 style=dotted]
	"kubeinit/playbook.yml" -> play_1124ba84 [label="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#0ebe1a" fontcolor="#0ebe1a" id=edge_play_1124ba84 labeltooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" tooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)"]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_1124ba84 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0ebe1a" fontcolor="#ffffff" id=play_1124ba84 shape=box style=filled tooltip=localhost]
		play_1124ba84 -> block_e7f1dc37 [label=1 color="#0ebe1a" fontcolor="#0ebe1a" id=edge_block_e7f1dc37 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e7f1dc37 {
			block_e7f1dc37 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0ebe1a" id=block_e7f1dc37 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_e7f1dc37 -> role_90379735 [label="1 " color="#0ebe1a" fontcolor="#0ebe1a" id=edge_role_90379735 labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_90379735 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#0ebe1a" id=role_90379735 tooltip="task-gather-facts"]
				role_90379735 -> role_008b0d7d [label="1 " color="#0ebe1a" fontcolor="#0ebe1a" id=edge_role_008b0d7d labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_008b0d7d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#0ebe1a" id=role_008b0d7d tooltip="Gather kubeinit secrets"]
				}
				role_90379735 -> role_d47b768d [label="2 " color="#0ebe1a" fontcolor="#0ebe1a" id=edge_role_d47b768d labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_d47b768d [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#0ebe1a" id=role_d47b768d tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_90379735 -> role_77e8fd32 [label="3 " color="#0ebe1a" fontcolor="#0ebe1a" id=edge_role_77e8fd32 labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_77e8fd32 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#0ebe1a" id=role_77e8fd32 tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_650570f5 [label="2 Play: Gather facts from the cluster hypervisor hosts (0)" color="#57c00c" fontcolor="#57c00c" id=edge_play_650570f5 labeltooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)" tooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)"]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_650570f5 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#57c00c" fontcolor="#ffffff" id=play_650570f5 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_650570f5 -> block_fda9289a [label=1 color="#57c00c" fontcolor="#57c00c" id=edge_block_fda9289a labeltooltip=1 tooltip=1]
		subgraph cluster_block_fda9289a {
			block_fda9289a [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#57c00c" id=block_fda9289a labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_fda9289a -> role_f0448848 [label="1 " color="#57c00c" fontcolor="#57c00c" id=edge_role_f0448848 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_f0448848 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#57c00c" id=role_f0448848 tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_eb180f19 [label="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" color="#aa2224" fontcolor="#aa2224" id=edge_play_eb180f19 labeltooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" tooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)"]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_eb180f19 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2224" fontcolor="#ffffff" id=play_eb180f19 shape=box style=filled tooltip=localhost]
		play_eb180f19 -> block_7d171770 [label=1 color="#aa2224" fontcolor="#aa2224" id=edge_block_7d171770 labeltooltip=1 tooltip=1]
		subgraph cluster_block_7d171770 {
			block_7d171770 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2224" id=block_7d171770 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_7d171770 -> role_b324c8f3 [label="1 " color="#aa2224" fontcolor="#aa2224" id=edge_role_b324c8f3 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_b324c8f3 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2224" id=role_b324c8f3 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_b324c8f3 -> role_951ccf55 [label="1 " color="#aa2224" fontcolor="#aa2224" id=edge_role_951ccf55 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_951ccf55 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#aa2224" id=role_951ccf55 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_eb180f19 -> block_3b2f6976 [label=2 color="#aa2224" fontcolor="#aa2224" id=edge_block_3b2f6976 labeltooltip=2 tooltip=2]
		subgraph cluster_block_3b2f6976 {
			block_3b2f6976 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2224" id=block_3b2f6976 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_3b2f6976 -> role_7fad5644 [label="1 " color="#aa2224" fontcolor="#aa2224" id=edge_role_7fad5644 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_7fad5644 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#aa2224" id=role_7fad5644 tooltip="task-prepare-hypervisors"]
				role_7fad5644 -> role_d453e0b1 [label="1 " color="#aa2224" fontcolor="#aa2224" id=edge_role_d453e0b1 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_d453e0b1 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#aa2224" id=role_d453e0b1 tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_9dd9e024 [label="4 Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#319b97" fontcolor="#319b97" id=edge_play_9dd9e024 labeltooltip="4 Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" tooltip="4 Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_9dd9e024 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#319b97" fontcolor="#ffffff" id=play_9dd9e024 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
		play_9dd9e024 -> block_fcec22b3 [label=1 color="#319b97" fontcolor="#319b97" id=edge_block_fcec22b3 labeltooltip=1 tooltip=1]
		subgraph cluster_block_fcec22b3 {
			block_fcec22b3 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#319b97" id=block_fcec22b3 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_fcec22b3 -> role_35a20cf0 [label="1 " color="#319b97" fontcolor="#319b97" id=edge_role_35a20cf0 labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_35a20cf0 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#319b97" id=role_35a20cf0 tooltip="Prepare each hypervisor in the deployment"]
				role_35a20cf0 -> role_099360fd [label="1 " color="#319b97" fontcolor="#319b97" id=edge_role_099360fd labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_099360fd [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#319b97" id=role_099360fd tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_6d85d511 [label="5 Play: Run cluster deployment on prepared hypervisors (1)" color="#593696" fontcolor="#593696" id=edge_play_6d85d511 labeltooltip="5 Play: Run cluster deployment on prepared hypervisors (1)" tooltip="5 Play: Run cluster deployment on prepared hypervisors (1)"]
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_6d85d511 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" fontcolor="#ffffff" id=play_6d85d511 shape=box style=filled tooltip=localhost]
		play_6d85d511 -> block_07c4e058 [label=1 color="#593696" fontcolor="#593696" id=edge_block_07c4e058 labeltooltip=1 tooltip=1]
		subgraph cluster_block_07c4e058 {
			block_07c4e058 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_07c4e058 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_07c4e058 -> role_cd0b7e71 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_cd0b7e71 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_cd0b7e71 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_cd0b7e71 tooltip="task-prepare-environment"]
				role_cd0b7e71 -> role_089a1c48 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_089a1c48 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_089a1c48 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_089a1c48 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_6d85d511 -> block_c17432e2 [label=2 color="#593696" fontcolor="#593696" id=edge_block_c17432e2 labeltooltip=2 tooltip=2]
		subgraph cluster_block_c17432e2 {
			block_c17432e2 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_c17432e2 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_c17432e2 -> role_fc589b16 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_fc589b16 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_fc589b16 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_fc589b16 tooltip="task-cleanup-hypervisors"]
				role_fc589b16 -> role_fd96c2f6 [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_fd96c2f6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_fd96c2f6 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#593696" id=role_fd96c2f6 tooltip="Prepare environment if not prepared"]
					role_fd96c2f6 -> role_986adcc6 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_986adcc6 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_986adcc6 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_986adcc6 tooltip="Gather kubeinit secrets"]
					}
				}
				role_fc589b16 -> role_c21bf996 [label="2 " color="#593696" fontcolor="#593696" id=edge_role_c21bf996 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_c21bf996 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#593696" id=role_c21bf996 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_6d85d511 -> block_27bf571d [label=3 color="#593696" fontcolor="#593696" id=edge_block_27bf571d labeltooltip=3 tooltip=3]
		subgraph cluster_block_27bf571d {
			block_27bf571d [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_27bf571d labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_27bf571d -> role_6753d39e [label="1 " color="#593696" fontcolor="#593696" id=edge_role_6753d39e labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_6753d39e [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_6753d39e tooltip="task-run-validations"]
				role_6753d39e -> role_6e481650 [label="1 [when: not hypervisors_cleaned]" color="#593696" fontcolor="#593696" id=edge_role_6e481650 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_6e481650 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#593696" id=role_6e481650 tooltip="Cleanup hypervisors if needed"]
					role_6e481650 -> role_b8bf8758 [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_b8bf8758 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_b8bf8758 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#593696" id=role_b8bf8758 tooltip="Prepare environment if not prepared"]
						role_b8bf8758 -> role_9fe69dfa [label="1 " color="#593696" fontcolor="#593696" id=edge_role_9fe69dfa labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_9fe69dfa [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_9fe69dfa tooltip="Gather kubeinit secrets"]
						}
					}
					role_6e481650 -> role_166d5e55 [label="2 " color="#593696" fontcolor="#593696" id=edge_role_166d5e55 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_166d5e55 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#593696" id=role_166d5e55 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_6d85d511 -> block_160bfc24 [label=4 color="#593696" fontcolor="#593696" id=edge_block_160bfc24 labeltooltip=4 tooltip=4]
		subgraph cluster_block_160bfc24 {
			block_160bfc24 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_160bfc24 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_160bfc24 -> role_bfed64bc [label="1 " color="#593696" fontcolor="#593696" id=edge_role_bfed64bc labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_bfed64bc [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_bfed64bc tooltip="task-create-network"]
				role_bfed64bc -> role_e264b40a [label="1 [when: not hypervisors_cleaned]" color="#593696" fontcolor="#593696" id=edge_role_e264b40a labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_e264b40a [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#593696" id=role_e264b40a tooltip="Cleanup hypervisors if needed"]
					role_e264b40a -> role_58ace7ab [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_58ace7ab labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_58ace7ab [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#593696" id=role_58ace7ab tooltip="Prepare environment if not prepared"]
						role_58ace7ab -> role_63b83f37 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_63b83f37 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_63b83f37 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_63b83f37 tooltip="Gather kubeinit secrets"]
						}
					}
					role_e264b40a -> role_03aae04b [label="2 " color="#593696" fontcolor="#593696" id=edge_role_03aae04b labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_03aae04b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#593696" id=role_03aae04b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_6d85d511 -> block_9cb27dc1 [label=5 color="#593696" fontcolor="#593696" id=edge_block_9cb27dc1 labeltooltip=5 tooltip=5]
		subgraph cluster_block_9cb27dc1 {
			block_9cb27dc1 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_9cb27dc1 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_9cb27dc1 -> role_08d6de1d [label="1 " color="#593696" fontcolor="#593696" id=edge_role_08d6de1d labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_08d6de1d [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_08d6de1d tooltip="task-create-services"]
				role_08d6de1d -> role_943fb7f0 [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_943fb7f0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_943fb7f0 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#593696" id=role_943fb7f0 tooltip="Prepare environment if not prepared"]
					role_943fb7f0 -> role_a5a94fde [label="1 " color="#593696" fontcolor="#593696" id=edge_role_a5a94fde labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_a5a94fde [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_a5a94fde tooltip="Gather kubeinit secrets"]
					}
				}
				role_08d6de1d -> role_e4ec4e37 [label="2 " color="#593696" fontcolor="#593696" id=edge_role_e4ec4e37 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_e4ec4e37 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#593696" id=role_e4ec4e37 tooltip="Prepare podman"]
				}
				role_08d6de1d -> role_33fd8208 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#593696" fontcolor="#593696" id=edge_role_33fd8208 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_33fd8208 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#593696" id=role_33fd8208 tooltip="Configure Bind"]
					role_33fd8208 -> role_8840d5e7 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_8840d5e7 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_8840d5e7 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#593696" id=role_8840d5e7 tooltip="Create systemd service for podman container"]
					}
				}
				role_08d6de1d -> role_900b1c68 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#593696" fontcolor="#593696" id=edge_role_900b1c68 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_900b1c68 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#593696" id=role_900b1c68 tooltip="Configure Dnsmasq"]
					role_900b1c68 -> role_3591d508 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_3591d508 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_3591d508 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#593696" id=role_3591d508 tooltip="Create systemd service for podman container"]
					}
				}
				role_08d6de1d -> role_cb8f296e [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#593696" fontcolor="#593696" id=edge_role_cb8f296e labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_cb8f296e [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#593696" id=role_cb8f296e tooltip="Configure HAProxy"]
					role_cb8f296e -> role_af8f5151 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_af8f5151 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_af8f5151 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#593696" id=role_af8f5151 tooltip="Create systemd service for podman container"]
					}
				}
				role_08d6de1d -> role_3a536578 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#593696" fontcolor="#593696" id=edge_role_3a536578 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_3a536578 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#593696" id=role_3a536578 tooltip="Configure Nexus"]
					role_3a536578 -> role_99dce8f5 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_99dce8f5 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_99dce8f5 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#593696" id=role_99dce8f5 tooltip="Create systemd service for podman container"]
					}
				}
				role_08d6de1d -> role_8ae77455 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#593696" fontcolor="#593696" id=edge_role_8ae77455 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_8ae77455 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#593696" id=role_8ae77455 tooltip="Configure Apache"]
					role_8ae77455 -> role_988106bd [label="1 " color="#593696" fontcolor="#593696" id=edge_role_988106bd labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_988106bd [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#593696" id=role_988106bd tooltip="Create systemd service for podman container"]
					}
				}
				role_08d6de1d -> role_d566de12 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#593696" fontcolor="#593696" id=edge_role_d566de12 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_d566de12 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#593696" id=role_d566de12 tooltip="Configure a local container image registry"]
					role_d566de12 -> role_26adc97e [label="1 " color="#593696" fontcolor="#593696" id=edge_role_26adc97e labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_26adc97e [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#593696" id=role_26adc97e tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_6d85d511 -> block_abcd7cff [label=6 color="#593696" fontcolor="#593696" id=edge_block_abcd7cff labeltooltip=6 tooltip=6]
		subgraph cluster_block_abcd7cff {
			block_abcd7cff [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_abcd7cff labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_abcd7cff -> role_8cd78ab8 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_8cd78ab8 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_8cd78ab8 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_8cd78ab8 tooltip="task-prepare-cluster"]
				role_8cd78ab8 -> role_164ccaef [label="1 [when: not services_prepared]" color="#593696" fontcolor="#593696" id=edge_role_164ccaef labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_164ccaef [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#593696" id=role_164ccaef tooltip="Prepare services if needed"]
					role_164ccaef -> role_7db676cd [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_7db676cd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_7db676cd [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#593696" id=role_7db676cd tooltip="Prepare environment if needed"]
						role_7db676cd -> role_013cc53d [label="1 " color="#593696" fontcolor="#593696" id=edge_role_013cc53d labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_013cc53d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_013cc53d tooltip="Gather kubeinit secrets"]
						}
					}
					role_164ccaef -> role_1ce66b55 [label="2 " color="#593696" fontcolor="#593696" id=edge_role_1ce66b55 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_1ce66b55 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#593696" id=role_1ce66b55 tooltip="Gather network and host facts for guest"]
					}
				}
				role_8cd78ab8 -> role_486ebe2d [label="2 " color="#593696" fontcolor="#593696" id=edge_role_486ebe2d labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_486ebe2d [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#593696" id=role_486ebe2d tooltip="Delegate to the distro role to prepare the cluster"]
					role_486ebe2d -> role_70bfa963 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_70bfa963 labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_70bfa963 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=role_70bfa963 tooltip="Setup the cluster provision container"]
						task_2a4a8fb3 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_2a4a8fb3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
						role_70bfa963 -> task_2a4a8fb3 [label="1 " color="#593696" fontcolor="#593696" id=edge_task_2a4a8fb3 labeltooltip="1 " tooltip="1 "]
						task_9dd85265 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_9dd85265 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
						role_70bfa963 -> task_9dd85265 [label="2 " color="#593696" fontcolor="#593696" id=edge_task_9dd85265 labeltooltip="2 " tooltip="2 "]
						task_213afb9d [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_213afb9d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
						role_70bfa963 -> task_213afb9d [label="3 [when: kubeinit_deployment_os == 'centos']" color="#593696" fontcolor="#593696" id=edge_task_213afb9d labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
						task_6b4156a7 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_6b4156a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_70bfa963 -> task_6b4156a7 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#593696" fontcolor="#593696" id=edge_task_6b4156a7 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
						task_c5017862 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_c5017862 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_70bfa963 -> task_c5017862 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#593696" fontcolor="#593696" id=edge_task_c5017862 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
						task_3d53a9b0 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_3d53a9b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_70bfa963 -> task_3d53a9b0 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#593696" fontcolor="#593696" id=edge_task_3d53a9b0 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
						task_81af3695 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_81af3695 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_70bfa963 -> task_81af3695 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#593696" fontcolor="#593696" id=edge_task_81af3695 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
						task_66266409 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_66266409 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_70bfa963 -> task_66266409 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#593696" fontcolor="#593696" id=edge_task_66266409 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
						task_d9884b55 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_d9884b55 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
						role_70bfa963 -> task_d9884b55 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#593696" fontcolor="#593696" id=edge_task_d9884b55 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
						task_6db4b045 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_6db4b045 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_70bfa963 -> task_6db4b045 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#593696" fontcolor="#593696" id=edge_task_6db4b045 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_cf5d9aaa [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_cf5d9aaa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_70bfa963 -> task_cf5d9aaa [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#593696" fontcolor="#593696" id=edge_task_cf5d9aaa labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_c5a966d4 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_c5a966d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_70bfa963 -> task_c5a966d4 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#593696" fontcolor="#593696" id=edge_task_c5a966d4 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_ab8a6185 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_ab8a6185 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
						role_70bfa963 -> task_ab8a6185 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#593696" fontcolor="#593696" id=edge_task_ab8a6185 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_3c3093a7 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_3c3093a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
						role_70bfa963 -> task_3c3093a7 [label="14 " color="#593696" fontcolor="#593696" id=edge_task_3c3093a7 labeltooltip="14 " tooltip="14 "]
						task_5de3b2fe [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_5de3b2fe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
						role_70bfa963 -> task_5de3b2fe [label="15 " color="#593696" fontcolor="#593696" id=edge_task_5de3b2fe labeltooltip="15 " tooltip="15 "]
						task_835b4e12 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_835b4e12 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
						role_70bfa963 -> task_835b4e12 [label="16 " color="#593696" fontcolor="#593696" id=edge_task_835b4e12 labeltooltip="16 " tooltip="16 "]
						task_e487b756 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_e487b756 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
						role_70bfa963 -> task_e487b756 [label="17 " color="#593696" fontcolor="#593696" id=edge_task_e487b756 labeltooltip="17 " tooltip="17 "]
						task_3707add1 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_3707add1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
						role_70bfa963 -> task_3707add1 [label="18 " color="#593696" fontcolor="#593696" id=edge_task_3707add1 labeltooltip="18 " tooltip="18 "]
						task_677f208f [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_677f208f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
						role_70bfa963 -> task_677f208f [label="19 " color="#593696" fontcolor="#593696" id=edge_task_677f208f labeltooltip="19 " tooltip="19 "]
						task_2738bce1 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_2738bce1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
						role_70bfa963 -> task_2738bce1 [label="20 " color="#593696" fontcolor="#593696" id=edge_task_2738bce1 labeltooltip="20 " tooltip="20 "]
						task_924c70bf [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_924c70bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
						role_70bfa963 -> task_924c70bf [label="21 " color="#593696" fontcolor="#593696" id=edge_task_924c70bf labeltooltip="21 " tooltip="21 "]
						task_795502f7 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_795502f7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
						role_70bfa963 -> task_795502f7 [label="22 " color="#593696" fontcolor="#593696" id=edge_task_795502f7 labeltooltip="22 " tooltip="22 "]
						role_70bfa963 -> role_1e0e7059 [label="23 " color="#593696" fontcolor="#593696" id=edge_role_1e0e7059 labeltooltip="23 " tooltip="23 "]
						subgraph "Create systemd service for podman container" {
							role_1e0e7059 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=role_1e0e7059 tooltip="Create systemd service for podman container"]
							task_a41121c9 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#593696" id=task_a41121c9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
							role_1e0e7059 -> task_a41121c9 [label="1 " color="#593696" fontcolor="#593696" id=edge_task_a41121c9 labeltooltip="1 " tooltip="1 "]
							task_54124740 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#593696" id=task_54124740 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
							role_1e0e7059 -> task_54124740 [label="2 " color="#593696" fontcolor="#593696" id=edge_task_54124740 labeltooltip="2 " tooltip="2 "]
							task_5cc68246 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#593696" id=task_5cc68246 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
							role_1e0e7059 -> task_5cc68246 [label="3 " color="#593696" fontcolor="#593696" id=edge_task_5cc68246 labeltooltip="3 " tooltip="3 "]
							task_21813def [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#593696" id=task_21813def shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
							role_1e0e7059 -> task_21813def [label="4 " color="#593696" fontcolor="#593696" id=edge_task_21813def labeltooltip="4 " tooltip="4 "]
							task_3289e0bf [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#593696" id=task_3289e0bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
							role_1e0e7059 -> task_3289e0bf [label="5 " color="#593696" fontcolor="#593696" id=edge_task_3289e0bf labeltooltip="5 " tooltip="5 "]
							task_deb12f4e [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#593696" id=task_deb12f4e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
							role_1e0e7059 -> task_deb12f4e [label="6 " color="#593696" fontcolor="#593696" id=edge_task_deb12f4e labeltooltip="6 " tooltip="6 "]
						}
						task_06f21f3c [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_06f21f3c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
						role_70bfa963 -> task_06f21f3c [label="24 " color="#593696" fontcolor="#593696" id=edge_task_06f21f3c labeltooltip="24 " tooltip="24 "]
						task_030fb14f [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_030fb14f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
						role_70bfa963 -> task_030fb14f [label="25 " color="#593696" fontcolor="#593696" id=edge_task_030fb14f labeltooltip="25 " tooltip="25 "]
						task_a7186e99 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_a7186e99 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
						role_70bfa963 -> task_a7186e99 [label="26 " color="#593696" fontcolor="#593696" id=edge_task_a7186e99 labeltooltip="26 " tooltip="26 "]
						task_ae34f5a4 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_ae34f5a4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
						role_70bfa963 -> task_ae34f5a4 [label="27 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#593696" fontcolor="#593696" id=edge_task_ae34f5a4 labeltooltip="27 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="27 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
						task_06020f7e [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_06020f7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
						role_70bfa963 -> task_06020f7e [label="28 " color="#593696" fontcolor="#593696" id=edge_task_06020f7e labeltooltip="28 " tooltip="28 "]
						task_ab51a25d [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_ab51a25d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
						role_70bfa963 -> task_ab51a25d [label="29 " color="#593696" fontcolor="#593696" id=edge_task_ab51a25d labeltooltip="29 " tooltip="29 "]
						task_c60d5538 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_c60d5538 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
						role_70bfa963 -> task_c60d5538 [label="30 " color="#593696" fontcolor="#593696" id=edge_task_c60d5538 labeltooltip="30 " tooltip="30 "]
						task_87ce4f36 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_87ce4f36 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
						role_70bfa963 -> task_87ce4f36 [label="31 " color="#593696" fontcolor="#593696" id=edge_task_87ce4f36 labeltooltip="31 " tooltip="31 "]
						task_a35c333b [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_a35c333b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
						role_70bfa963 -> task_a35c333b [label="32 " color="#593696" fontcolor="#593696" id=edge_task_a35c333b labeltooltip="32 " tooltip="32 "]
						task_5704ebfd [label="kubeinit.kubeinit.kubeinit_services : Add disconnected auth to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_5704ebfd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add disconnected auth to pullsecret"]
						role_70bfa963 -> task_5704ebfd [label="33 " color="#593696" fontcolor="#593696" id=edge_task_5704ebfd labeltooltip="33 " tooltip="33 "]
						task_b91e07ea [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_b91e07ea shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
						role_70bfa963 -> task_b91e07ea [label="34 " color="#593696" fontcolor="#593696" id=edge_task_b91e07ea labeltooltip="34 " tooltip="34 "]
						task_cd03af00 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_cd03af00 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
						role_70bfa963 -> task_cd03af00 [label="35 " color="#593696" fontcolor="#593696" id=edge_task_cd03af00 labeltooltip="35 " tooltip="35 "]
						task_1675babd [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_1675babd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
						role_70bfa963 -> task_1675babd [label="36 " color="#593696" fontcolor="#593696" id=edge_task_1675babd labeltooltip="36 " tooltip="36 "]
						task_b76bde5a [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_b76bde5a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
						role_70bfa963 -> task_b76bde5a [label="37 " color="#593696" fontcolor="#593696" id=edge_task_b76bde5a labeltooltip="37 " tooltip="37 "]
						task_eba77f56 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_eba77f56 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_70bfa963 -> task_eba77f56 [label="38 [when: kubeinit_deployment_os == 'centos']" color="#593696" fontcolor="#593696" id=edge_task_eba77f56 labeltooltip="38 [when: kubeinit_deployment_os == 'centos']" tooltip="38 [when: kubeinit_deployment_os == 'centos']"]
						task_c59e0662 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_c59e0662 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_70bfa963 -> task_c59e0662 [label="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#593696" fontcolor="#593696" id=edge_task_c59e0662 labeltooltip="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_238eeed5 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_238eeed5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
						role_70bfa963 -> task_238eeed5 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#593696" fontcolor="#593696" id=edge_task_238eeed5 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_c8096fe5 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_c8096fe5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_70bfa963 -> task_c8096fe5 [label="41 [when: kubeinit_deployment_os == 'centos']" color="#593696" fontcolor="#593696" id=edge_task_c8096fe5 labeltooltip="41 [when: kubeinit_deployment_os == 'centos']" tooltip="41 [when: kubeinit_deployment_os == 'centos']"]
						task_3d9e875d [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_3d9e875d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_70bfa963 -> task_3d9e875d [label="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#593696" fontcolor="#593696" id=edge_task_3d9e875d labeltooltip="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_fe4379cb [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_fe4379cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
						role_70bfa963 -> task_fe4379cb [label="43 " color="#593696" fontcolor="#593696" id=edge_task_fe4379cb labeltooltip="43 " tooltip="43 "]
						task_aab06fb2 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_aab06fb2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
						role_70bfa963 -> task_aab06fb2 [label="44 " color="#593696" fontcolor="#593696" id=edge_task_aab06fb2 labeltooltip="44 " tooltip="44 "]
						task_d176212b [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_d176212b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
						role_70bfa963 -> task_d176212b [label="45 " color="#593696" fontcolor="#593696" id=edge_task_d176212b labeltooltip="45 " tooltip="45 "]
						task_cd7e3a25 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_cd7e3a25 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
						role_70bfa963 -> task_cd7e3a25 [label="46 " color="#593696" fontcolor="#593696" id=edge_task_cd7e3a25 labeltooltip="46 " tooltip="46 "]
						task_c594d149 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_c594d149 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
						role_70bfa963 -> task_c594d149 [label="47 " color="#593696" fontcolor="#593696" id=edge_task_c594d149 labeltooltip="47 " tooltip="47 "]
						task_80fdbb74 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_80fdbb74 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
						role_70bfa963 -> task_80fdbb74 [label="48 " color="#593696" fontcolor="#593696" id=edge_task_80fdbb74 labeltooltip="48 " tooltip="48 "]
						task_7f8a69fe [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_7f8a69fe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
						role_70bfa963 -> task_7f8a69fe [label="49 " color="#593696" fontcolor="#593696" id=edge_task_7f8a69fe labeltooltip="49 " tooltip="49 "]
						task_17e3d23d [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_17e3d23d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
						role_70bfa963 -> task_17e3d23d [label="50 " color="#593696" fontcolor="#593696" id=edge_task_17e3d23d labeltooltip="50 " tooltip="50 "]
						task_cb1b1994 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_cb1b1994 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
						role_70bfa963 -> task_cb1b1994 [label="51 " color="#593696" fontcolor="#593696" id=edge_task_cb1b1994 labeltooltip="51 " tooltip="51 "]
						task_0cecfd89 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=task_0cecfd89 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
						role_70bfa963 -> task_0cecfd89 [label="52 " color="#593696" fontcolor="#593696" id=edge_task_0cecfd89 labeltooltip="52 " tooltip="52 "]
						role_70bfa963 -> role_dd28cc7a [label="53 " color="#593696" fontcolor="#593696" id=edge_role_dd28cc7a labeltooltip="53 " tooltip="53 "]
						subgraph "Gather network and host facts for provision service" {
							role_dd28cc7a [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#593696" id=role_dd28cc7a tooltip="Gather network and host facts for provision service"]
						}
					}
					task_698d7470 [label="kubeinit.kubeinit.kubeinit_eks : Remove repo before adding it" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_698d7470 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Remove repo before adding it"]
					role_486ebe2d -> task_698d7470 [label="2 " color="#593696" fontcolor="#593696" id=edge_task_698d7470 labeltooltip="2 " tooltip="2 "]
					task_29be47e9 [label="kubeinit.kubeinit.kubeinit_eks : Creating a repository file for Kubernetes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_29be47e9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Creating a repository file for Kubernetes"]
					role_486ebe2d -> task_29be47e9 [label="3 " color="#593696" fontcolor="#593696" id=edge_task_29be47e9 labeltooltip="3 " tooltip="3 "]
					task_f3614ff3 [label="kubeinit.kubeinit.kubeinit_eks : Adding repository details in Kubernetes repo file." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_f3614ff3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Adding repository details in Kubernetes repo file."]
					role_486ebe2d -> task_f3614ff3 [label="4 " color="#593696" fontcolor="#593696" id=edge_task_f3614ff3 labeltooltip="4 " tooltip="4 "]
					task_1184bc90 [label="kubeinit.kubeinit.kubeinit_eks : Fetch EKS kubernetes release" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_1184bc90 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Fetch EKS kubernetes release"]
					role_486ebe2d -> task_1184bc90 [label="5 " color="#593696" fontcolor="#593696" id=edge_task_1184bc90 labeltooltip="5 " tooltip="5 "]
					task_f2772eb0 [label="kubeinit.kubeinit.kubeinit_eks : Set EKS kubernetes major-minor fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_f2772eb0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS kubernetes major-minor fact"]
					role_486ebe2d -> task_f2772eb0 [label="6 " color="#593696" fontcolor="#593696" id=edge_task_f2772eb0 labeltooltip="6 " tooltip="6 "]
					task_9989ed5f [label="kubeinit.kubeinit.kubeinit_eks : Discover the revision number for eks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_9989ed5f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Discover the revision number for eks"]
					role_486ebe2d -> task_9989ed5f [label="7 " color="#593696" fontcolor="#593696" id=edge_task_9989ed5f labeltooltip="7 " tooltip="7 "]
					task_d03dfa9a [label="kubeinit.kubeinit.kubeinit_eks : Set EKS release number fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_d03dfa9a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS release number fact"]
					role_486ebe2d -> task_d03dfa9a [label="8 " color="#593696" fontcolor="#593696" id=edge_task_d03dfa9a labeltooltip="8 " tooltip="8 "]
					task_cd28c0e9 [label="kubeinit.kubeinit.kubeinit_eks : Discover the git tag for eks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_cd28c0e9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Discover the git tag for eks"]
					role_486ebe2d -> task_cd28c0e9 [label="9 " color="#593696" fontcolor="#593696" id=edge_task_cd28c0e9 labeltooltip="9 " tooltip="9 "]
					task_39bb0c5a [label="kubeinit.kubeinit.kubeinit_eks : Set EKS string facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_39bb0c5a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS string facts"]
					role_486ebe2d -> task_39bb0c5a [label="10 " color="#593696" fontcolor="#593696" id=edge_task_39bb0c5a labeltooltip="10 " tooltip="10 "]
					task_cf188dda [label="kubeinit.kubeinit.kubeinit_eks : Set complete EKS kubernetes version" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_cf188dda shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set complete EKS kubernetes version"]
					role_486ebe2d -> task_cf188dda [label="11 " color="#593696" fontcolor="#593696" id=edge_task_cf188dda labeltooltip="11 " tooltip="11 "]
					task_9028f086 [label="kubeinit.kubeinit.kubeinit_eks : Install requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_9028f086 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install requirements"]
					role_486ebe2d -> task_9028f086 [label="12 " color="#593696" fontcolor="#593696" id=edge_task_9028f086 labeltooltip="12 " tooltip="12 "]
					task_ef7c30eb [label="kubeinit.kubeinit.kubeinit_eks : Install services requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_ef7c30eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install services requirements"]
					role_486ebe2d -> task_ef7c30eb [label="13 " color="#593696" fontcolor="#593696" id=edge_task_ef7c30eb labeltooltip="13 " tooltip="13 "]
					task_ba1eb067 [label="kubeinit.kubeinit.kubeinit_eks : Install common requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_ba1eb067 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install common requirements"]
					role_486ebe2d -> task_ba1eb067 [label="14 [when: kubeinit_eks_common_dependencies is defined]" color="#593696" fontcolor="#593696" id=edge_task_ba1eb067 labeltooltip="14 [when: kubeinit_eks_common_dependencies is defined]" tooltip="14 [when: kubeinit_eks_common_dependencies is defined]"]
					task_5e63e33f [label="kubeinit.kubeinit.kubeinit_eks : Get the required container images" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_5e63e33f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Get the required container images"]
					role_486ebe2d -> task_5e63e33f [label="15 " color="#593696" fontcolor="#593696" id=edge_task_5e63e33f labeltooltip="15 " tooltip="15 "]
					task_00c3ff6f [label="kubeinit.kubeinit.kubeinit_eks : Mirror EKS remote registry to local" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/prepare_cluster.yml" color="#593696" id=task_00c3ff6f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Mirror EKS remote registry to local"]
					role_486ebe2d -> task_00c3ff6f [label="16 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#593696" fontcolor="#593696" id=edge_task_00c3ff6f labeltooltip="16 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="16 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
				}
			}
		}
		play_6d85d511 -> block_54185094 [label=7 color="#593696" fontcolor="#593696" id=edge_block_54185094 labeltooltip=7 tooltip=7]
		subgraph cluster_block_54185094 {
			block_54185094 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_54185094 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_54185094 -> role_724d2f37 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_724d2f37 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_724d2f37 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_724d2f37 tooltip="task-download-images"]
				role_724d2f37 -> role_6f512f1c [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_6f512f1c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_6f512f1c [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#593696" id=role_6f512f1c tooltip="Prepare environment if not prepared"]
					role_6f512f1c -> role_213420ea [label="1 " color="#593696" fontcolor="#593696" id=edge_role_213420ea labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_213420ea [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_213420ea tooltip="Gather kubeinit secrets"]
					}
				}
			}
		}
		play_6d85d511 -> block_63d4e4fe [label=8 color="#593696" fontcolor="#593696" id=edge_block_63d4e4fe labeltooltip=8 tooltip=8]
		subgraph cluster_block_63d4e4fe {
			block_63d4e4fe [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_63d4e4fe labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_63d4e4fe -> role_2a5013ae [label="1 " color="#593696" fontcolor="#593696" id=edge_role_2a5013ae labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_2a5013ae [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_2a5013ae tooltip="task-deploy-cluster"]
				role_2a5013ae -> role_80e1f26d [label="1 [when: not services_prepared]" color="#593696" fontcolor="#593696" id=edge_role_80e1f26d labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_80e1f26d [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#593696" id=role_80e1f26d tooltip="Prepare services if needed"]
					role_80e1f26d -> role_9ea47f62 [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_9ea47f62 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_9ea47f62 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#593696" id=role_9ea47f62 tooltip="Prepare environment if needed"]
						role_9ea47f62 -> role_1f250dfd [label="1 " color="#593696" fontcolor="#593696" id=edge_role_1f250dfd labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_1f250dfd [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_1f250dfd tooltip="Gather kubeinit secrets"]
						}
					}
					role_80e1f26d -> role_ba364eb5 [label="2 " color="#593696" fontcolor="#593696" id=edge_role_ba364eb5 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_ba364eb5 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#593696" id=role_ba364eb5 tooltip="Gather network and host facts for guest"]
					}
				}
				role_2a5013ae -> role_018d4d87 [label="2 " color="#593696" fontcolor="#593696" id=edge_role_018d4d87 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_018d4d87 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#593696" id=role_018d4d87 tooltip="Delegate to the distro role to deploy the cluster"]
					role_018d4d87 -> role_7bd18040 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#593696" fontcolor="#593696" id=edge_role_7bd18040 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
					subgraph "Deploy the cluster nodes" {
						role_7bd18040 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/main.yml" color="#593696" id=role_7bd18040 tooltip="Deploy the cluster nodes"]
					}
				}
			}
		}
		play_6d85d511 -> block_00ddadc8 [label=9 color="#593696" fontcolor="#593696" id=edge_block_00ddadc8 labeltooltip=9 tooltip=9]
		subgraph cluster_block_00ddadc8 {
			block_00ddadc8 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=block_00ddadc8 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_00ddadc8 -> role_9dc7c183 [label="1 " color="#593696" fontcolor="#593696" id=edge_role_9dc7c183 labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_9dc7c183 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#593696" id=role_9dc7c183 tooltip="task-post-deployment"]
				role_9dc7c183 -> role_9fb0e669 [label="1 [when: not services_prepared]" color="#593696" fontcolor="#593696" id=edge_role_9fb0e669 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_9fb0e669 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#593696" id=role_9fb0e669 tooltip="Prepare services if needed"]
					role_9fb0e669 -> role_980aa4bf [label="1 [when: not environment_prepared]" color="#593696" fontcolor="#593696" id=edge_role_980aa4bf labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_980aa4bf [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#593696" id=role_980aa4bf tooltip="Prepare environment if needed"]
						role_980aa4bf -> role_6b5600fb [label="1 " color="#593696" fontcolor="#593696" id=edge_role_6b5600fb labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_6b5600fb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#593696" id=role_6b5600fb tooltip="Gather kubeinit secrets"]
						}
					}
					role_9fb0e669 -> role_b784d67d [label="2 " color="#593696" fontcolor="#593696" id=edge_role_b784d67d labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_b784d67d [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#593696" id=role_b784d67d tooltip="Gather network and host facts for guest"]
					}
				}
				role_9dc7c183 -> role_f76d7d31 [label="2 " color="#593696" fontcolor="#593696" id=edge_role_f76d7d31 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_f76d7d31 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#593696" id=role_f76d7d31 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_f76d7d31 -> role_5880bdb3 [label="1 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#593696" fontcolor="#593696" id=edge_role_5880bdb3 labeltooltip="1 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_5880bdb3 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/post_deployment_tasks.yml" color="#593696" id=role_5880bdb3 tooltip="Deploy the apps"]
					}
					role_f76d7d31 -> role_eb051c29 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#593696" fontcolor="#593696" id=edge_role_eb051c29 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_eb051c29 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_eks/tasks/post_deployment_tasks.yml" color="#593696" id=role_eb051c29 tooltip="Configure NFS"]
					}
				}
			}
		}
	}
}
