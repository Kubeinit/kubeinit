digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_86ad0300 [label="Play: Initial setup (1)" color="#31809b" fontcolor="#ffffff" id=play_86ad0300 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_86ad0300 [label="1 " color="#31809b" fontcolor="#31809b" id=edge_26b76a53 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_09c38d53 [label="[role] Read podman secrets if running from the container" color="#31809b" id=role_09c38d53 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_a594e8c3 [label="[role] task-gather-facts" color="#31809b" id=role_a594e8c3 tooltip="task-gather-facts"]
		role_a594e8c3 -> role_09c38d53 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#31809b" fontcolor="#31809b" id=edge_f9803bd6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_fe776fa8 [label="[role] Read podman secrets if running from the container" color="#31809b" id=role_fe776fa8 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_f7e821b9 [label="[role] task-prepare-hypervisors" color="#31809b" id=role_f7e821b9 tooltip="task-prepare-hypervisors"]
		role_f7e821b9 -> role_fe776fa8 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#31809b" fontcolor="#31809b" id=edge_e55a8e94 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_86ad0300 -> block_1fb961e1 [label=1 color="#31809b" fontcolor="#31809b" id=edge_708f701c labeltooltip=1 tooltip=1]
		subgraph cluster_block_1fb961e1 {
			block_1fb961e1 [label="[block] Gather facts about the deployment environment" color="#31809b" id=block_1fb961e1 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_1fb961e1 -> role_a594e8c3 [label="1 " color="#31809b" fontcolor="#31809b" id=edge_abab1952 labeltooltip="1 " tooltip="1 "]
		}
		play_86ad0300 -> block_c3fff0bb [label=2 color="#31809b" fontcolor="#31809b" id=edge_71eac582 labeltooltip=2 tooltip=2]
		subgraph cluster_block_c3fff0bb {
			block_c3fff0bb [label="[block] Prepare the hypervisors" color="#31809b" id=block_c3fff0bb labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_c3fff0bb -> role_f7e821b9 [label="1 " color="#31809b" fontcolor="#31809b" id=edge_4df62629 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_bf3b5677 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#748349" fontcolor="#ffffff" id=play_bf3b5677 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_bf3b5677 [label="2 " color="#748349" fontcolor="#748349" id=edge_72deef38 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_625a6b43 [label="[role] Provision the libvirt services on the hypervisor" color="#748349" id=role_625a6b43 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_15956fdd [label="[role] Prepare each hypervisor in the deployment" color="#748349" id=role_15956fdd tooltip="Prepare each hypervisor in the deployment"]
		role_15956fdd -> role_625a6b43 [label="1 " color="#748349" fontcolor="#748349" id=edge_09d3baf0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_bf3b5677 -> block_5e10f892 [label=1 color="#748349" fontcolor="#748349" id=edge_89a147b6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_5e10f892 {
			block_5e10f892 [label="[block] Prepare individual hypervisors" color="#748349" id=block_5e10f892 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_5e10f892 -> role_15956fdd [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#748349" fontcolor="#748349" id=edge_9361ae53 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_054b4a5c [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#895143" fontcolor="#ffffff" id=play_054b4a5c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_054b4a5c [label="3 " color="#895143" fontcolor="#895143" id=edge_feb6127e labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_f5a65f8f [label="[role] Read podman secrets if running from the container" color="#895143" id=role_f5a65f8f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_f65eb7b4 [label="[role] task-prepare-environment" color="#895143" id=role_f65eb7b4 tooltip="task-prepare-environment"]
		role_f65eb7b4 -> role_f5a65f8f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_727628a8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d1f2b8ea [label="[role] Read podman secrets if running from the container" color="#895143" id=role_d1f2b8ea tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_226e3e60 [label="[role] Prepare environment if not prepared" color="#895143" id=role_226e3e60 tooltip="Prepare environment if not prepared"]
		role_226e3e60 -> role_d1f2b8ea [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_3a5e0771 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7065ab18 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#895143" id=role_7065ab18 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_296124bf [label="[role] task-cleanup-hypervisors" color="#895143" id=role_296124bf tooltip="task-cleanup-hypervisors"]
		role_296124bf -> role_226e3e60 [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_07458722 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_296124bf -> role_7065ab18 [label="2 " color="#895143" fontcolor="#895143" id=edge_00ecf14c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b213ea17 [label="[role] Read podman secrets if running from the container" color="#895143" id=role_b213ea17 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1bf2fbe5 [label="[role] Prepare environment if not prepared" color="#895143" id=role_1bf2fbe5 tooltip="Prepare environment if not prepared"]
		role_1bf2fbe5 -> role_b213ea17 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_d13f044f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_f5628f5e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#895143" id=role_f5628f5e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3cc34223 [label="[role] Cleanup hypervisors if needed" color="#895143" id=role_3cc34223 tooltip="Cleanup hypervisors if needed"]
		role_3cc34223 -> role_1bf2fbe5 [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_594194c1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3cc34223 -> role_f5628f5e [label="2 " color="#895143" fontcolor="#895143" id=edge_8287ba82 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_e843c665 [label="[role] task-run-validations" color="#895143" id=role_e843c665 tooltip="task-run-validations"]
		role_e843c665 -> role_3cc34223 [label="1 [when: not hypervisors_cleaned]" color="#895143" fontcolor="#895143" id=edge_cb3476e3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6eba44e1 [label="[role] Read podman secrets if running from the container" color="#895143" id=role_6eba44e1 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_df71e322 [label="[role] Prepare environment if not prepared" color="#895143" id=role_df71e322 tooltip="Prepare environment if not prepared"]
		role_df71e322 -> role_6eba44e1 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_fccb9a29 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_37b403e9 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#895143" id=role_37b403e9 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_57f01359 [label="[role] Cleanup hypervisors if needed" color="#895143" id=role_57f01359 tooltip="Cleanup hypervisors if needed"]
		role_57f01359 -> role_df71e322 [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_799765ce labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_57f01359 -> role_37b403e9 [label="2 " color="#895143" fontcolor="#895143" id=edge_618fd1e8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_a2b00b06 [label="[role] task-create-network" color="#895143" id=role_a2b00b06 tooltip="task-create-network"]
		role_a2b00b06 -> role_57f01359 [label="1 [when: not hypervisors_cleaned]" color="#895143" fontcolor="#895143" id=edge_b4fa7b10 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_af2cc89d [label="[role] Read podman secrets if running from the container" color="#895143" id=role_af2cc89d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_da2e33ac [label="[role] Prepare environment if not prepared" color="#895143" id=role_da2e33ac tooltip="Prepare environment if not prepared"]
		role_da2e33ac -> role_af2cc89d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_6f68a59f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_f404ab2d [label="[role] Prepare podman" color="#895143" id=role_f404ab2d tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_4c869186 [label="[role] Create systemd service for podman container" color="#895143" id=role_4c869186 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_d84cf202 [label="[role] Configure Bind" color="#895143" id=role_d84cf202 tooltip="Configure Bind"]
		role_d84cf202 -> role_4c869186 [label="1 " color="#895143" fontcolor="#895143" id=edge_f9bf09cd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d2eb9793 [label="[role] Create systemd service for podman container" color="#895143" id=role_d2eb9793 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_83a57244 [label="[role] Configure Dnsmasq" color="#895143" id=role_83a57244 tooltip="Configure Dnsmasq"]
		role_83a57244 -> role_d2eb9793 [label="1 " color="#895143" fontcolor="#895143" id=edge_dbf1eb13 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e64c0790 [label="[role] Create systemd service for podman container" color="#895143" id=role_e64c0790 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_0857736a [label="[role] Configure HAProxy" color="#895143" id=role_0857736a tooltip="Configure HAProxy"]
		role_0857736a -> role_e64c0790 [label="1 " color="#895143" fontcolor="#895143" id=edge_e773ce5c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a462c784 [label="[role] Create systemd service for podman container" color="#895143" id=role_a462c784 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_94131628 [label="[role] Configure Nexus" color="#895143" id=role_94131628 tooltip="Configure Nexus"]
		role_94131628 -> role_a462c784 [label="1 " color="#895143" fontcolor="#895143" id=edge_86a91b3f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7301280e [label="[role] Create systemd service for podman container" color="#895143" id=role_7301280e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_d590201f [label="[role] Configure Apache" color="#895143" id=role_d590201f tooltip="Configure Apache"]
		role_d590201f -> role_7301280e [label="1 " color="#895143" fontcolor="#895143" id=edge_ee10c52e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f4e38352 [label="[role] Create systemd service for podman container" color="#895143" id=role_f4e38352 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_38607034 [label="[role] Configure a local container image registry" color="#895143" id=role_38607034 tooltip="Configure a local container image registry"]
		role_38607034 -> role_f4e38352 [label="1 " color="#895143" fontcolor="#895143" id=edge_f0103910 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_508943e2 [label="[role] task-create-services" color="#895143" id=role_508943e2 tooltip="task-create-services"]
		role_508943e2 -> role_da2e33ac [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_64409410 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_508943e2 -> role_f404ab2d [label="2 " color="#895143" fontcolor="#895143" id=edge_9729e8f7 labeltooltip="2 " tooltip="2 "]
		role_508943e2 -> role_d84cf202 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#895143" fontcolor="#895143" id=edge_a7c9cce9 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_508943e2 -> role_83a57244 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#895143" fontcolor="#895143" id=edge_377da7fa labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_508943e2 -> role_0857736a [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#895143" fontcolor="#895143" id=edge_2d95249a labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_508943e2 -> role_94131628 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#895143" fontcolor="#895143" id=edge_5c4dcb49 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_508943e2 -> role_d590201f [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#895143" fontcolor="#895143" id=edge_8b5f1964 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_508943e2 -> role_38607034 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#895143" fontcolor="#895143" id=edge_82ec822e labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ca218d2b [label="[role] Read podman secrets if running from the container" color="#895143" id=role_ca218d2b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_5757e40a [label="[role] Prepare environment if needed" color="#895143" id=role_5757e40a tooltip="Prepare environment if needed"]
		role_5757e40a -> role_ca218d2b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_b27e9fdd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_502ce821 [label="[role] Gather network and host facts for guest" color="#895143" id=role_502ce821 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_29fe592a [label="[role] Prepare services if needed" color="#895143" id=role_29fe592a tooltip="Prepare services if needed"]
		role_29fe592a -> role_5757e40a [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_8d6ead8d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_29fe592a -> role_502ce821 [label="2 " color="#895143" fontcolor="#895143" id=edge_18862649 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d86ec238 [label="[role] Create systemd service for podman container" color="#895143" id=role_d86ec238 tooltip="Create systemd service for podman container"]
		task_af2c1bf4 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#895143" id=task_af2c1bf4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_d86ec238 -> task_af2c1bf4 [label="1 " color="#895143" fontcolor="#895143" id=edge_c6e5e9b1 labeltooltip="1 " tooltip="1 "]
		task_357bb3a9 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#895143" id=task_357bb3a9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_d86ec238 -> task_357bb3a9 [label="2 " color="#895143" fontcolor="#895143" id=edge_a47feeba labeltooltip="2 " tooltip="2 "]
		task_a13cb880 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#895143" id=task_a13cb880 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_d86ec238 -> task_a13cb880 [label="3 " color="#895143" fontcolor="#895143" id=edge_cefb70de labeltooltip="3 " tooltip="3 "]
		task_4bac001d [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#895143" id=task_4bac001d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_d86ec238 -> task_4bac001d [label="4 " color="#895143" fontcolor="#895143" id=edge_4e0a254d labeltooltip="4 " tooltip="4 "]
		task_a319935c [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#895143" id=task_a319935c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_d86ec238 -> task_a319935c [label="5 " color="#895143" fontcolor="#895143" id=edge_f0f48355 labeltooltip="5 " tooltip="5 "]
		task_ef5941a0 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#895143" id=task_ef5941a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_d86ec238 -> task_ef5941a0 [label="6 " color="#895143" fontcolor="#895143" id=edge_5e73697d labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_66948043 [label="[role] Gather network and host facts for provision service" color="#895143" id=role_66948043 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_ede0d04b [label="[role] Setup the cluster provision container" color="#895143" id=role_ede0d04b tooltip="Setup the cluster provision container"]
		task_700aab47 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#895143" id=task_700aab47 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_ede0d04b -> task_700aab47 [label="1 " color="#895143" fontcolor="#895143" id=edge_7202206d labeltooltip="1 " tooltip="1 "]
		task_bec165a4 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#895143" id=task_bec165a4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_ede0d04b -> task_bec165a4 [label="2 " color="#895143" fontcolor="#895143" id=edge_c718b4ea labeltooltip="2 " tooltip="2 "]
		task_3bd0007f [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#895143" id=task_3bd0007f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_ede0d04b -> task_3bd0007f [label="3 [when: kubeinit_deployment_os == 'centos']" color="#895143" fontcolor="#895143" id=edge_0ffc6b10 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_73e5c16c [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#895143" id=task_73e5c16c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_ede0d04b -> task_73e5c16c [label="4 [when: kubeinit_deployment_os == 'centos']" color="#895143" fontcolor="#895143" id=edge_34680994 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_8e139600 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#895143" id=task_8e139600 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_ede0d04b -> task_8e139600 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#895143" fontcolor="#895143" id=edge_fb9f6ede labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_a371df97 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#895143" id=task_a371df97 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_ede0d04b -> task_a371df97 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#895143" fontcolor="#895143" id=edge_92ec336f labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_03153d9a [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#895143" id=task_03153d9a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_ede0d04b -> task_03153d9a [label="7 [when: kubeinit_deployment_os == 'debian']" color="#895143" fontcolor="#895143" id=edge_f5025232 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_77fd71c3 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#895143" id=task_77fd71c3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_ede0d04b -> task_77fd71c3 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#895143" fontcolor="#895143" id=edge_6d612376 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_f8c8f368 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#895143" id=task_f8c8f368 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_ede0d04b -> task_f8c8f368 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#895143" fontcolor="#895143" id=edge_dc3b0313 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_02959da0 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#895143" id=task_02959da0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_ede0d04b -> task_02959da0 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#895143" fontcolor="#895143" id=edge_3df023ea labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_44f46ee2 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#895143" id=task_44f46ee2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_ede0d04b -> task_44f46ee2 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#895143" fontcolor="#895143" id=edge_26dbf41a labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_7108ecc9 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#895143" id=task_7108ecc9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_ede0d04b -> task_7108ecc9 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#895143" fontcolor="#895143" id=edge_4b9ac5e2 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_6bf94915 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#895143" id=task_6bf94915 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_ede0d04b -> task_6bf94915 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#895143" fontcolor="#895143" id=edge_0e40f68c labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_9c17e62d [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#895143" id=task_9c17e62d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_ede0d04b -> task_9c17e62d [label="14 " color="#895143" fontcolor="#895143" id=edge_3adea769 labeltooltip="14 " tooltip="14 "]
		task_611a2cb2 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#895143" id=task_611a2cb2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_ede0d04b -> task_611a2cb2 [label="15 " color="#895143" fontcolor="#895143" id=edge_9e9fdc2f labeltooltip="15 " tooltip="15 "]
		task_e25ea53d [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#895143" id=task_e25ea53d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_ede0d04b -> task_e25ea53d [label="16 " color="#895143" fontcolor="#895143" id=edge_65ab62ca labeltooltip="16 " tooltip="16 "]
		task_275ba084 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#895143" id=task_275ba084 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_ede0d04b -> task_275ba084 [label="17 " color="#895143" fontcolor="#895143" id=edge_1bab4cd7 labeltooltip="17 " tooltip="17 "]
		task_c0a022b7 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#895143" id=task_c0a022b7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_ede0d04b -> task_c0a022b7 [label="18 " color="#895143" fontcolor="#895143" id=edge_5f635f27 labeltooltip="18 " tooltip="18 "]
		task_a275aa9e [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#895143" id=task_a275aa9e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_ede0d04b -> task_a275aa9e [label="19 " color="#895143" fontcolor="#895143" id=edge_0d846578 labeltooltip="19 " tooltip="19 "]
		task_6252f061 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#895143" id=task_6252f061 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_ede0d04b -> task_6252f061 [label="20 " color="#895143" fontcolor="#895143" id=edge_5f05c08b labeltooltip="20 " tooltip="20 "]
		task_d039391a [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#895143" id=task_d039391a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_ede0d04b -> task_d039391a [label="21 " color="#895143" fontcolor="#895143" id=edge_d021949e labeltooltip="21 " tooltip="21 "]
		task_0b70c3f1 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#895143" id=task_0b70c3f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_ede0d04b -> task_0b70c3f1 [label="22 " color="#895143" fontcolor="#895143" id=edge_757fb47e labeltooltip="22 " tooltip="22 "]
		role_ede0d04b -> role_d86ec238 [label="23 " color="#895143" fontcolor="#895143" id=edge_6b3d95d3 labeltooltip="23 " tooltip="23 "]
		task_8f8dc91a [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#895143" id=task_8f8dc91a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_ede0d04b -> task_8f8dc91a [label="24 " color="#895143" fontcolor="#895143" id=edge_1e8fd789 labeltooltip="24 " tooltip="24 "]
		task_223e1f1f [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#895143" id=task_223e1f1f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_ede0d04b -> task_223e1f1f [label="25 " color="#895143" fontcolor="#895143" id=edge_dbe92be3 labeltooltip="25 " tooltip="25 "]
		task_a0a231a8 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#895143" id=task_a0a231a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_ede0d04b -> task_a0a231a8 [label="26 " color="#895143" fontcolor="#895143" id=edge_6c3ebe33 labeltooltip="26 " tooltip="26 "]
		task_26dd0236 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#895143" id=task_26dd0236 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_ede0d04b -> task_26dd0236 [label="27 " color="#895143" fontcolor="#895143" id=edge_540c1829 labeltooltip="27 " tooltip="27 "]
		task_6869c254 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#895143" id=task_6869c254 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_ede0d04b -> task_6869c254 [label="28 " color="#895143" fontcolor="#895143" id=edge_71bfba1d labeltooltip="28 " tooltip="28 "]
		task_db208e80 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#895143" id=task_db208e80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_ede0d04b -> task_db208e80 [label="29 " color="#895143" fontcolor="#895143" id=edge_b0f3088e labeltooltip="29 " tooltip="29 "]
		task_644acb50 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#895143" id=task_644acb50 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_ede0d04b -> task_644acb50 [label="30 " color="#895143" fontcolor="#895143" id=edge_52c2cf86 labeltooltip="30 " tooltip="30 "]
		task_6fc11c0d [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#895143" id=task_6fc11c0d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_ede0d04b -> task_6fc11c0d [label="31 " color="#895143" fontcolor="#895143" id=edge_089c2fa4 labeltooltip="31 " tooltip="31 "]
		task_77d7e96f [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#895143" id=task_77d7e96f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_ede0d04b -> task_77d7e96f [label="32 " color="#895143" fontcolor="#895143" id=edge_c415e380 labeltooltip="32 " tooltip="32 "]
		task_9e5ed349 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#895143" id=task_9e5ed349 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_ede0d04b -> task_9e5ed349 [label="33 " color="#895143" fontcolor="#895143" id=edge_aa1e7cc0 labeltooltip="33 " tooltip="33 "]
		task_11985ad8 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#895143" id=task_11985ad8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_ede0d04b -> task_11985ad8 [label="34 " color="#895143" fontcolor="#895143" id=edge_cc1b8577 labeltooltip="34 " tooltip="34 "]
		task_e40b16d2 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#895143" id=task_e40b16d2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_ede0d04b -> task_e40b16d2 [label="35 " color="#895143" fontcolor="#895143" id=edge_1071905a labeltooltip="35 " tooltip="35 "]
		task_0c29bed7 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#895143" id=task_0c29bed7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_ede0d04b -> task_0c29bed7 [label="36 " color="#895143" fontcolor="#895143" id=edge_56fcc57c labeltooltip="36 " tooltip="36 "]
		task_bf9c5de1 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#895143" id=task_bf9c5de1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_ede0d04b -> task_bf9c5de1 [label="37 " color="#895143" fontcolor="#895143" id=edge_d1ecda05 labeltooltip="37 " tooltip="37 "]
		task_269305bd [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#895143" id=task_269305bd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_ede0d04b -> task_269305bd [label="38 " color="#895143" fontcolor="#895143" id=edge_0df28ead labeltooltip="38 " tooltip="38 "]
		task_7ac96b2a [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#895143" id=task_7ac96b2a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_ede0d04b -> task_7ac96b2a [label="39 [when: kubeinit_deployment_os == 'centos']" color="#895143" fontcolor="#895143" id=edge_e74bdbee labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_96b2703c [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#895143" id=task_96b2703c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_ede0d04b -> task_96b2703c [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#895143" fontcolor="#895143" id=edge_99ecad92 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_8af6cd26 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#895143" id=task_8af6cd26 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_ede0d04b -> task_8af6cd26 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#895143" fontcolor="#895143" id=edge_281c0d67 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_785705b4 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#895143" id=task_785705b4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_ede0d04b -> task_785705b4 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#895143" fontcolor="#895143" id=edge_3a6c6e96 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_22b99fbd [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#895143" id=task_22b99fbd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_ede0d04b -> task_22b99fbd [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#895143" fontcolor="#895143" id=edge_10ba0f85 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_cb470bd1 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#895143" id=task_cb470bd1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_ede0d04b -> task_cb470bd1 [label="44 " color="#895143" fontcolor="#895143" id=edge_41c01605 labeltooltip="44 " tooltip="44 "]
		task_d4fe4e4d [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#895143" id=task_d4fe4e4d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_ede0d04b -> task_d4fe4e4d [label="45 " color="#895143" fontcolor="#895143" id=edge_43068c43 labeltooltip="45 " tooltip="45 "]
		task_68ae3adb [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#895143" id=task_68ae3adb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_ede0d04b -> task_68ae3adb [label="46 " color="#895143" fontcolor="#895143" id=edge_ac67e70c labeltooltip="46 " tooltip="46 "]
		task_87dbb997 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#895143" id=task_87dbb997 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_ede0d04b -> task_87dbb997 [label="47 " color="#895143" fontcolor="#895143" id=edge_382c789a labeltooltip="47 " tooltip="47 "]
		task_0fa86097 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#895143" id=task_0fa86097 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_ede0d04b -> task_0fa86097 [label="48 " color="#895143" fontcolor="#895143" id=edge_fe58e93f labeltooltip="48 " tooltip="48 "]
		task_7bdb68da [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#895143" id=task_7bdb68da shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_ede0d04b -> task_7bdb68da [label="49 " color="#895143" fontcolor="#895143" id=edge_3c36063a labeltooltip="49 " tooltip="49 "]
		task_c01f2b26 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#895143" id=task_c01f2b26 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_ede0d04b -> task_c01f2b26 [label="50 " color="#895143" fontcolor="#895143" id=edge_56e782e7 labeltooltip="50 " tooltip="50 "]
		task_d5d97faf [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#895143" id=task_d5d97faf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_ede0d04b -> task_d5d97faf [label="51 " color="#895143" fontcolor="#895143" id=edge_3f2e8941 labeltooltip="51 " tooltip="51 "]
		task_f524a946 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#895143" id=task_f524a946 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_ede0d04b -> task_f524a946 [label="52 " color="#895143" fontcolor="#895143" id=edge_ca8c0426 labeltooltip="52 " tooltip="52 "]
		role_ede0d04b -> role_66948043 [label="53 " color="#895143" fontcolor="#895143" id=edge_116548a7 labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_235e9754 [label="[role] Delegate to the distro role to prepare the cluster" color="#895143" id=role_235e9754 tooltip="Delegate to the distro role to prepare the cluster"]
		role_235e9754 -> role_ede0d04b [label="1 " color="#895143" fontcolor="#895143" id=edge_effe2f5c labeltooltip="1 " tooltip="1 "]
		task_00c7bc2c [label="kubeinit.kubeinit.kubeinit_eks : Remove repo before adding it" color="#895143" id=task_00c7bc2c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Remove repo before adding it"]
		role_235e9754 -> task_00c7bc2c [label="2 " color="#895143" fontcolor="#895143" id=edge_1f98dc5f labeltooltip="2 " tooltip="2 "]
		task_d3b4f050 [label="kubeinit.kubeinit.kubeinit_eks : Creating a repository file for Kubernetes" color="#895143" id=task_d3b4f050 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Creating a repository file for Kubernetes"]
		role_235e9754 -> task_d3b4f050 [label="3 " color="#895143" fontcolor="#895143" id=edge_cc5ca329 labeltooltip="3 " tooltip="3 "]
		task_35aa5a10 [label="kubeinit.kubeinit.kubeinit_eks : Adding repository details in Kubernetes repo file." color="#895143" id=task_35aa5a10 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Adding repository details in Kubernetes repo file."]
		role_235e9754 -> task_35aa5a10 [label="4 " color="#895143" fontcolor="#895143" id=edge_4f005052 labeltooltip="4 " tooltip="4 "]
		task_48056247 [label="kubeinit.kubeinit.kubeinit_eks : Fetch EKS kubernetes release" color="#895143" id=task_48056247 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Fetch EKS kubernetes release"]
		role_235e9754 -> task_48056247 [label="5 " color="#895143" fontcolor="#895143" id=edge_a6828aa2 labeltooltip="5 " tooltip="5 "]
		task_c7fc97d9 [label="kubeinit.kubeinit.kubeinit_eks : Set EKS kubernetes major-minor fact" color="#895143" id=task_c7fc97d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS kubernetes major-minor fact"]
		role_235e9754 -> task_c7fc97d9 [label="6 " color="#895143" fontcolor="#895143" id=edge_873dac9d labeltooltip="6 " tooltip="6 "]
		task_f0bd8d76 [label="kubeinit.kubeinit.kubeinit_eks : Discover the revision number for eks" color="#895143" id=task_f0bd8d76 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Discover the revision number for eks"]
		role_235e9754 -> task_f0bd8d76 [label="7 " color="#895143" fontcolor="#895143" id=edge_42c07f88 labeltooltip="7 " tooltip="7 "]
		task_0fcf0bf2 [label="kubeinit.kubeinit.kubeinit_eks : Set EKS release number fact" color="#895143" id=task_0fcf0bf2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS release number fact"]
		role_235e9754 -> task_0fcf0bf2 [label="8 " color="#895143" fontcolor="#895143" id=edge_b9c40ab0 labeltooltip="8 " tooltip="8 "]
		task_4affee1d [label="kubeinit.kubeinit.kubeinit_eks : Discover the git tag for eks" color="#895143" id=task_4affee1d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Discover the git tag for eks"]
		role_235e9754 -> task_4affee1d [label="9 " color="#895143" fontcolor="#895143" id=edge_135baafb labeltooltip="9 " tooltip="9 "]
		task_5a4ea6d4 [label="kubeinit.kubeinit.kubeinit_eks : Set EKS string facts" color="#895143" id=task_5a4ea6d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS string facts"]
		role_235e9754 -> task_5a4ea6d4 [label="10 " color="#895143" fontcolor="#895143" id=edge_e2f8a443 labeltooltip="10 " tooltip="10 "]
		task_6cde6fcb [label="kubeinit.kubeinit.kubeinit_eks : Set complete EKS kubernetes version" color="#895143" id=task_6cde6fcb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set complete EKS kubernetes version"]
		role_235e9754 -> task_6cde6fcb [label="11 " color="#895143" fontcolor="#895143" id=edge_f7f9246e labeltooltip="11 " tooltip="11 "]
		task_71d0da01 [label="kubeinit.kubeinit.kubeinit_eks : Install requirements" color="#895143" id=task_71d0da01 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install requirements"]
		role_235e9754 -> task_71d0da01 [label="12 " color="#895143" fontcolor="#895143" id=edge_455dbdea labeltooltip="12 " tooltip="12 "]
		task_c82afbd6 [label="kubeinit.kubeinit.kubeinit_eks : Install services requirements" color="#895143" id=task_c82afbd6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install services requirements"]
		role_235e9754 -> task_c82afbd6 [label="13 " color="#895143" fontcolor="#895143" id=edge_d2b2e6f2 labeltooltip="13 " tooltip="13 "]
		task_765d7f32 [label="kubeinit.kubeinit.kubeinit_eks : Install common requirements" color="#895143" id=task_765d7f32 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install common requirements"]
		role_235e9754 -> task_765d7f32 [label="14 [when: kubeinit_eks_common_dependencies is defined]" color="#895143" fontcolor="#895143" id=edge_17846c7a labeltooltip="14 [when: kubeinit_eks_common_dependencies is defined]" tooltip="14 [when: kubeinit_eks_common_dependencies is defined]"]
		task_31c86a27 [label="kubeinit.kubeinit.kubeinit_eks : Get the required container images" color="#895143" id=task_31c86a27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Get the required container images"]
		role_235e9754 -> task_31c86a27 [label="15 " color="#895143" fontcolor="#895143" id=edge_9954ba12 labeltooltip="15 " tooltip="15 "]
		task_75b7215c [label="kubeinit.kubeinit.kubeinit_eks : Mirror EKS remote registry to local" color="#895143" id=task_75b7215c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Mirror EKS remote registry to local"]
		role_235e9754 -> task_75b7215c [label="16 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#895143" fontcolor="#895143" id=edge_7fde6334 labeltooltip="16 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="16 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-prepare-cluster" {
		role_3c97ab84 [label="[role] task-prepare-cluster" color="#895143" id=role_3c97ab84 tooltip="task-prepare-cluster"]
		role_3c97ab84 -> role_29fe592a [label="1 [when: not services_prepared]" color="#895143" fontcolor="#895143" id=edge_292edd00 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_3c97ab84 -> role_235e9754 [label="2 " color="#895143" fontcolor="#895143" id=edge_0cee1e19 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_ac803e10 [label="[role] Read podman secrets if running from the container" color="#895143" id=role_ac803e10 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_8e9fc3b5 [label="[role] Prepare environment if not prepared" color="#895143" id=role_8e9fc3b5 tooltip="Prepare environment if not prepared"]
		role_8e9fc3b5 -> role_ac803e10 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_195774b2 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_0ebe6000 [label="[role] task-download-images" color="#895143" id=role_0ebe6000 tooltip="task-download-images"]
		role_0ebe6000 -> role_8e9fc3b5 [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_2ac3320e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c9b353c7 [label="[role] Read podman secrets if running from the container" color="#895143" id=role_c9b353c7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_913b0b74 [label="[role] Prepare environment if needed" color="#895143" id=role_913b0b74 tooltip="Prepare environment if needed"]
		role_913b0b74 -> role_c9b353c7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_36b7db57 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_573681f2 [label="[role] Gather network and host facts for guest" color="#895143" id=role_573681f2 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f89ac38e [label="[role] Prepare services if needed" color="#895143" id=role_f89ac38e tooltip="Prepare services if needed"]
		role_f89ac38e -> role_913b0b74 [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_d38d24d1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f89ac38e -> role_573681f2 [label="2 " color="#895143" fontcolor="#895143" id=edge_cbfcf635 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_adb444ce [label="[role] Deploy the cluster nodes" color="#895143" id=role_adb444ce tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_144e561b [label="[role] Delegate to the distro role to deploy the cluster" color="#895143" id=role_144e561b tooltip="Delegate to the distro role to deploy the cluster"]
		role_144e561b -> role_adb444ce [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#895143" fontcolor="#895143" id=edge_b3e4426e labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_dcd5a192 [label="[role] task-deploy-cluster" color="#895143" id=role_dcd5a192 tooltip="task-deploy-cluster"]
		role_dcd5a192 -> role_f89ac38e [label="1 [when: not services_prepared]" color="#895143" fontcolor="#895143" id=edge_4ee0cddb labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_dcd5a192 -> role_144e561b [label="2 " color="#895143" fontcolor="#895143" id=edge_50ce1468 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c83790e6 [label="[role] Read podman secrets if running from the container" color="#895143" id=role_c83790e6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_b6d5ac09 [label="[role] Prepare environment if needed" color="#895143" id=role_b6d5ac09 tooltip="Prepare environment if needed"]
		role_b6d5ac09 -> role_c83790e6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#895143" fontcolor="#895143" id=edge_9f462660 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_c4effd98 [label="[role] Gather network and host facts for guest" color="#895143" id=role_c4effd98 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_8bded1ed [label="[role] Prepare services if needed" color="#895143" id=role_8bded1ed tooltip="Prepare services if needed"]
		role_8bded1ed -> role_b6d5ac09 [label="1 [when: not environment_prepared]" color="#895143" fontcolor="#895143" id=edge_57dd9f84 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8bded1ed -> role_c4effd98 [label="2 " color="#895143" fontcolor="#895143" id=edge_7e4bf768 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_3776d885 [label="[role] Deploy the apps" color="#895143" id=role_3776d885 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_e8660cc8 [label="[role] Configure NFS" color="#895143" id=role_e8660cc8 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_e3c07932 [label="[role] Delegate to distro role to run post-deployment tasks" color="#895143" id=role_e3c07932 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_e3c07932 -> role_3776d885 [label="1 " color="#895143" fontcolor="#895143" id=edge_411db03b labeltooltip="1 " tooltip="1 "]
		role_e3c07932 -> role_e8660cc8 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#895143" fontcolor="#895143" id=edge_fc6bd764 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_1d427e8b [label="[role] task-post-deployment" color="#895143" id=role_1d427e8b tooltip="task-post-deployment"]
		role_1d427e8b -> role_8bded1ed [label="1 [when: not services_prepared]" color="#895143" fontcolor="#895143" id=edge_8a03867c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_1d427e8b -> role_e3c07932 [label="2 " color="#895143" fontcolor="#895143" id=edge_85a3c92d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_054b4a5c -> block_9137da6f [label=1 color="#895143" fontcolor="#895143" id=edge_d4be0fd6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_9137da6f {
			block_9137da6f [label="[block] Prepare the environment" color="#895143" id=block_9137da6f labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_9137da6f -> role_f65eb7b4 [label="1 " color="#895143" fontcolor="#895143" id=edge_142b5bac labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_d1738860 [label=2 color="#895143" fontcolor="#895143" id=edge_ebfcc80e labeltooltip=2 tooltip=2]
		subgraph cluster_block_d1738860 {
			block_d1738860 [label="[block] Cleanup hypervisors" color="#895143" id=block_d1738860 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_d1738860 -> role_296124bf [label="1 " color="#895143" fontcolor="#895143" id=edge_9d1e4054 labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_ca7c5b63 [label=3 color="#895143" fontcolor="#895143" id=edge_c88f0dc9 labeltooltip=3 tooltip=3]
		subgraph cluster_block_ca7c5b63 {
			block_ca7c5b63 [label="[block] Run validations on cluster resources" color="#895143" id=block_ca7c5b63 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_ca7c5b63 -> role_e843c665 [label="1 " color="#895143" fontcolor="#895143" id=edge_2f761b12 labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_b69e7590 [label=4 color="#895143" fontcolor="#895143" id=edge_edb95943 labeltooltip=4 tooltip=4]
		subgraph cluster_block_b69e7590 {
			block_b69e7590 [label="[block] Create the cluster network resources" color="#895143" id=block_b69e7590 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_b69e7590 -> role_a2b00b06 [label="1 " color="#895143" fontcolor="#895143" id=edge_f7f91752 labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_66e45494 [label=5 color="#895143" fontcolor="#895143" id=edge_ab05b88e labeltooltip=5 tooltip=5]
		subgraph cluster_block_66e45494 {
			block_66e45494 [label="[block] Create services the cluster will need" color="#895143" id=block_66e45494 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_66e45494 -> role_508943e2 [label="1 " color="#895143" fontcolor="#895143" id=edge_9aac641d labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_9f8a3151 [label=6 color="#895143" fontcolor="#895143" id=edge_1313444d labeltooltip=6 tooltip=6]
		subgraph cluster_block_9f8a3151 {
			block_9f8a3151 [label="[block] Prepare to deploy the cluster" color="#895143" id=block_9f8a3151 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_9f8a3151 -> role_3c97ab84 [label="1 " color="#895143" fontcolor="#895143" id=edge_f3e3fae0 labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_5c764541 [label=7 color="#895143" fontcolor="#895143" id=edge_cb70714c labeltooltip=7 tooltip=7]
		subgraph cluster_block_5c764541 {
			block_5c764541 [label="[block] Download cloud images" color="#895143" id=block_5c764541 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_5c764541 -> role_0ebe6000 [label="1 " color="#895143" fontcolor="#895143" id=edge_8f9d1c2c labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_d1f317d1 [label=8 color="#895143" fontcolor="#895143" id=edge_82a8daf5 labeltooltip=8 tooltip=8]
		subgraph cluster_block_d1f317d1 {
			block_d1f317d1 [label="[block] Deploy the cluster" color="#895143" id=block_d1f317d1 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_d1f317d1 -> role_dcd5a192 [label="1 " color="#895143" fontcolor="#895143" id=edge_8175220a labeltooltip="1 " tooltip="1 "]
		}
		play_054b4a5c -> block_f37d5de4 [label=9 color="#895143" fontcolor="#895143" id=edge_49d4612e labeltooltip=9 tooltip=9]
		subgraph cluster_block_f37d5de4 {
			block_f37d5de4 [label="[block] Run any post-deployment tasks" color="#895143" id=block_f37d5de4 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_f37d5de4 -> role_1d427e8b [label="1 " color="#895143" fontcolor="#895143" id=edge_fe21e3ba labeltooltip="1 " tooltip="1 "]
		}
	}
}
