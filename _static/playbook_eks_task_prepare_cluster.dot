digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_8dd2d3d4 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#b61665" fontcolor="#ffffff" id=play_8dd2d3d4 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_8dd2d3d4 [label="1 " color="#b61665" fontcolor="#b61665" id=edge_396039b3 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_c77f1e6f [label="[role] Gather kubeinit secrets" color="#b61665" id=role_c77f1e6f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_13e6f795 [label="[role] Gather additional facts from localhost for kubeinit" color="#b61665" id=role_13e6f795 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_3023dc41 [label="[role] Create ssh config file from template" color="#b61665" id=role_3023dc41 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_4a55805a [label="[role] task-gather-facts" color="#b61665" id=role_4a55805a tooltip="task-gather-facts"]
		role_4a55805a -> role_c77f1e6f [label="1 " color="#b61665" fontcolor="#b61665" id=edge_a5ffbfa4 labeltooltip="1 " tooltip="1 "]
		role_4a55805a -> role_13e6f795 [label="2 " color="#b61665" fontcolor="#b61665" id=edge_056009be labeltooltip="2 " tooltip="2 "]
		role_4a55805a -> role_3023dc41 [label="3 " color="#b61665" fontcolor="#b61665" id=edge_0aa4412d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6098f60e [label="[role] Gather kubeinit secrets" color="#b61665" id=role_6098f60e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_242d10f4 [label="[role] Gather additional facts from localhost for kubeinit" color="#b61665" id=role_242d10f4 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_5c1171a3 [label="[role] Create ssh config file from template" color="#b61665" id=role_5c1171a3 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_197f9ea6 [label="[role] task-prepare-hypervisors" color="#b61665" id=role_197f9ea6 tooltip="task-prepare-hypervisors"]
		role_197f9ea6 -> role_6098f60e [label="1 " color="#b61665" fontcolor="#b61665" id=edge_f7be992d labeltooltip="1 " tooltip="1 "]
		role_197f9ea6 -> role_242d10f4 [label="2 " color="#b61665" fontcolor="#b61665" id=edge_57de7fe5 labeltooltip="2 " tooltip="2 "]
		role_197f9ea6 -> role_5c1171a3 [label="3 " color="#b61665" fontcolor="#b61665" id=edge_bde4d9dd labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_8dd2d3d4 -> block_8df12747 [label=1 color="#b61665" fontcolor="#b61665" id=edge_fcbf64cf labeltooltip=1 tooltip=1]
		subgraph cluster_block_8df12747 {
			block_8df12747 [label="[block] Gather facts about the deployment environment" color="#b61665" id=block_8df12747 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_8df12747 -> role_4a55805a [label="1 " color="#b61665" fontcolor="#b61665" id=edge_2173a4ea labeltooltip="1 " tooltip="1 "]
		}
		play_8dd2d3d4 -> block_5017ae13 [label=2 color="#b61665" fontcolor="#b61665" id=edge_adb41f5a labeltooltip=2 tooltip=2]
		subgraph cluster_block_5017ae13 {
			block_5017ae13 [label="[block] Prepare the hypervisors" color="#b61665" id=block_5017ae13 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_5017ae13 -> role_197f9ea6 [label="1 " color="#b61665" fontcolor="#b61665" id=edge_9618cb9a labeltooltip="1 " tooltip="1 "]
		}
	}
	play_588b3161 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#3b916f" fontcolor="#ffffff" id=play_588b3161 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_588b3161 [label="2 " color="#3b916f" fontcolor="#3b916f" id=edge_eea99587 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_ee2a0ace [label="[role] Provision the libvirt services on the hypervisor" color="#3b916f" id=role_ee2a0ace tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_9aaa153d [label="[role] Prepare each hypervisor in the deployment" color="#3b916f" id=role_9aaa153d tooltip="Prepare each hypervisor in the deployment"]
		role_9aaa153d -> role_ee2a0ace [label="1 " color="#3b916f" fontcolor="#3b916f" id=edge_b81fa9f5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_588b3161 -> block_a5faaeb9 [label=1 color="#3b916f" fontcolor="#3b916f" id=edge_387253f1 labeltooltip=1 tooltip=1]
		subgraph cluster_block_a5faaeb9 {
			block_a5faaeb9 [label="[block] Prepare individual hypervisors" color="#3b916f" id=block_a5faaeb9 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_a5faaeb9 -> role_9aaa153d [label="1 " color="#3b916f" fontcolor="#3b916f" id=edge_3d260ec2 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_1bb91c02 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#2a32a2" fontcolor="#ffffff" id=play_1bb91c02 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_1bb91c02 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_391e4fa5 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_fcea38d7 [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_fcea38d7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_d0d00532 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_d0d00532 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_97e073f2 [label="[role] Create ssh config file from template" color="#2a32a2" id=role_97e073f2 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_29da6dca [label="[role] task-prepare-environment" color="#2a32a2" id=role_29da6dca tooltip="task-prepare-environment"]
		role_29da6dca -> role_fcea38d7 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_d55e8e0c labeltooltip="1 " tooltip="1 "]
		role_29da6dca -> role_d0d00532 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ee238157 labeltooltip="2 " tooltip="2 "]
		role_29da6dca -> role_97e073f2 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_a4428cfc labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_4aa3938f [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_4aa3938f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_439a9f22 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_439a9f22 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_41500662 [label="[role] Create ssh config file from template" color="#2a32a2" id=role_41500662 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c4c3b962 [label="[role] Prepare environment if not prepared" color="#2a32a2" id=role_c4c3b962 tooltip="Prepare environment if not prepared"]
		role_c4c3b962 -> role_4aa3938f [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_521683d1 labeltooltip="1 " tooltip="1 "]
		role_c4c3b962 -> role_439a9f22 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_e9a32fc8 labeltooltip="2 " tooltip="2 "]
		role_c4c3b962 -> role_41500662 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_e13e3c66 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_e5afdcbf [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2a32a2" id=role_e5afdcbf tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_e9a2b0e1 [label="[role] task-cleanup-hypervisors" color="#2a32a2" id=role_e9a2b0e1 tooltip="task-cleanup-hypervisors"]
		role_e9a2b0e1 -> role_c4c3b962 [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_10c98fc3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e9a2b0e1 -> role_e5afdcbf [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_2700426f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6f4fc48e [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_6f4fc48e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_39dc8fa6 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_39dc8fa6 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c6e308cd [label="[role] Create ssh config file from template" color="#2a32a2" id=role_c6e308cd tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0b196c35 [label="[role] Prepare environment if not prepared" color="#2a32a2" id=role_0b196c35 tooltip="Prepare environment if not prepared"]
		role_0b196c35 -> role_6f4fc48e [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_85dd4f75 labeltooltip="1 " tooltip="1 "]
		role_0b196c35 -> role_39dc8fa6 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_54a44fc2 labeltooltip="2 " tooltip="2 "]
		role_0b196c35 -> role_c6e308cd [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_655234b0 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_4f01fe7b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2a32a2" id=role_4f01fe7b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_bd16b99c [label="[role] Cleanup hypervisors if needed" color="#2a32a2" id=role_bd16b99c tooltip="Cleanup hypervisors if needed"]
		role_bd16b99c -> role_0b196c35 [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_4a58d1ac labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bd16b99c -> role_4f01fe7b [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_be1d8099 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_fc2b0c34 [label="[role] task-run-validations" color="#2a32a2" id=role_fc2b0c34 tooltip="task-run-validations"]
		role_fc2b0c34 -> role_bd16b99c [label="1 [when: not hypervisors_cleaned]" color="#2a32a2" fontcolor="#2a32a2" id=edge_1bdab445 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_e3aae221 [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_e3aae221 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_eb12d3ec [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_eb12d3ec tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7cd5b0f3 [label="[role] Create ssh config file from template" color="#2a32a2" id=role_7cd5b0f3 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_825f7c48 [label="[role] Prepare environment if not prepared" color="#2a32a2" id=role_825f7c48 tooltip="Prepare environment if not prepared"]
		role_825f7c48 -> role_e3aae221 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_29a9042d labeltooltip="1 " tooltip="1 "]
		role_825f7c48 -> role_eb12d3ec [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_62430cf7 labeltooltip="2 " tooltip="2 "]
		role_825f7c48 -> role_7cd5b0f3 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_fbf40383 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7d5c1296 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2a32a2" id=role_7d5c1296 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_156c8154 [label="[role] Cleanup hypervisors if needed" color="#2a32a2" id=role_156c8154 tooltip="Cleanup hypervisors if needed"]
		role_156c8154 -> role_825f7c48 [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_849d8ffb labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_156c8154 -> role_7d5c1296 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_55be00e2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_22e14ec3 [label="[role] task-create-network" color="#2a32a2" id=role_22e14ec3 tooltip="task-create-network"]
		role_22e14ec3 -> role_156c8154 [label="1 [when: not hypervisors_cleaned]" color="#2a32a2" fontcolor="#2a32a2" id=edge_a0700037 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_46ce6908 [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_46ce6908 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_f9d11192 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_f9d11192 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_20fef2ec [label="[role] Create ssh config file from template" color="#2a32a2" id=role_20fef2ec tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2e43f13e [label="[role] Prepare environment if not prepared" color="#2a32a2" id=role_2e43f13e tooltip="Prepare environment if not prepared"]
		role_2e43f13e -> role_46ce6908 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ac6b4b3c labeltooltip="1 " tooltip="1 "]
		role_2e43f13e -> role_f9d11192 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_1f55f2f3 labeltooltip="2 " tooltip="2 "]
		role_2e43f13e -> role_20fef2ec [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_fe171e3d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_d420e28a [label="[role] Prepare podman" color="#2a32a2" id=role_d420e28a tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_338103ec [label="[role] Create systemd service for podman container" color="#2a32a2" id=role_338103ec tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_e6fa5e1b [label="[role] Configure Bind" color="#2a32a2" id=role_e6fa5e1b tooltip="Configure Bind"]
		role_e6fa5e1b -> role_338103ec [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_e2232db3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5d1c685c [label="[role] Create systemd service for podman container" color="#2a32a2" id=role_5d1c685c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_b67027ec [label="[role] Configure Dnsmasq" color="#2a32a2" id=role_b67027ec tooltip="Configure Dnsmasq"]
		role_b67027ec -> role_5d1c685c [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_96f7ff6b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5c7814c4 [label="[role] Create systemd service for podman container" color="#2a32a2" id=role_5c7814c4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_9ecd87f2 [label="[role] Configure HAProxy" color="#2a32a2" id=role_9ecd87f2 tooltip="Configure HAProxy"]
		role_9ecd87f2 -> role_5c7814c4 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_eb4fe172 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f0687319 [label="[role] Create systemd service for podman container" color="#2a32a2" id=role_f0687319 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_0f2311cc [label="[role] Configure Nexus" color="#2a32a2" id=role_0f2311cc tooltip="Configure Nexus"]
		role_0f2311cc -> role_f0687319 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_f2def86c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_55d99cb6 [label="[role] Create systemd service for podman container" color="#2a32a2" id=role_55d99cb6 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_4f9f4598 [label="[role] Configure Apache" color="#2a32a2" id=role_4f9f4598 tooltip="Configure Apache"]
		role_4f9f4598 -> role_55d99cb6 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_1cbfc840 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c9ce8f3a [label="[role] Create systemd service for podman container" color="#2a32a2" id=role_c9ce8f3a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_548e4313 [label="[role] Configure a local container image registry" color="#2a32a2" id=role_548e4313 tooltip="Configure a local container image registry"]
		role_548e4313 -> role_c9ce8f3a [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_42124ddb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_e937ffce [label="[role] task-create-services" color="#2a32a2" id=role_e937ffce tooltip="task-create-services"]
		role_e937ffce -> role_2e43f13e [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_27fa0530 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e937ffce -> role_d420e28a [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_c920e964 labeltooltip="2 " tooltip="2 "]
		role_e937ffce -> role_e6fa5e1b [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_88fd343c labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_e937ffce -> role_b67027ec [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_3b011db4 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_e937ffce -> role_9ecd87f2 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_62d6ce89 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_e937ffce -> role_0f2311cc [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_406d3f1f labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_e937ffce -> role_4f9f4598 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_7d902e97 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_e937ffce -> role_548e4313 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_a35aab6b labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_0c523761 [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_0c523761 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ce1c3957 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_ce1c3957 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_9bde5bd5 [label="[role] Create ssh config file from template" color="#2a32a2" id=role_9bde5bd5 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_876c8e20 [label="[role] Prepare environment if needed" color="#2a32a2" id=role_876c8e20 tooltip="Prepare environment if needed"]
		role_876c8e20 -> role_0c523761 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_420848f4 labeltooltip="1 " tooltip="1 "]
		role_876c8e20 -> role_ce1c3957 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_cc769c16 labeltooltip="2 " tooltip="2 "]
		role_876c8e20 -> role_9bde5bd5 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_1e793dd0 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_46d60571 [label="[role] Gather network and host facts for guest" color="#2a32a2" id=role_46d60571 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_a585b3c8 [label="[role] Prepare services if needed" color="#2a32a2" id=role_a585b3c8 tooltip="Prepare services if needed"]
		role_a585b3c8 -> role_876c8e20 [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_4616a5cc labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a585b3c8 -> role_46d60571 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_c2044ee9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_9b8f3cbe [label="[role] Create systemd service for podman container" color="#2a32a2" id=role_9b8f3cbe tooltip="Create systemd service for podman container"]
		task_00a5ea23 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#2a32a2" id=task_00a5ea23 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_9b8f3cbe -> task_00a5ea23 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_0d772331 labeltooltip="1 " tooltip="1 "]
		task_c6c4b89f [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#2a32a2" id=task_c6c4b89f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_9b8f3cbe -> task_c6c4b89f [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_fdecec8e labeltooltip="2 " tooltip="2 "]
		task_8fb453c0 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#2a32a2" id=task_8fb453c0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_9b8f3cbe -> task_8fb453c0 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_37caced2 labeltooltip="3 " tooltip="3 "]
		task_3ff2bed5 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#2a32a2" id=task_3ff2bed5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_9b8f3cbe -> task_3ff2bed5 [label="4 " color="#2a32a2" fontcolor="#2a32a2" id=edge_47ff3410 labeltooltip="4 " tooltip="4 "]
		task_018327ee [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#2a32a2" id=task_018327ee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_9b8f3cbe -> task_018327ee [label="5 " color="#2a32a2" fontcolor="#2a32a2" id=edge_1b6e41fb labeltooltip="5 " tooltip="5 "]
		task_6ce78d90 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#2a32a2" id=task_6ce78d90 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_9b8f3cbe -> task_6ce78d90 [label="6 " color="#2a32a2" fontcolor="#2a32a2" id=edge_b9c3e563 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_00d73997 [label="[role] Gather network and host facts for provision service" color="#2a32a2" id=role_00d73997 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_af78e4fa [label="[role] Setup the cluster provision container" color="#2a32a2" id=role_af78e4fa tooltip="Setup the cluster provision container"]
		task_4070fee2 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#2a32a2" id=task_4070fee2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_af78e4fa -> task_4070fee2 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ece553b8 labeltooltip="1 " tooltip="1 "]
		task_48f69ab8 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#2a32a2" id=task_48f69ab8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_af78e4fa -> task_48f69ab8 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ee0f6bad labeltooltip="2 " tooltip="2 "]
		task_1009d5cf [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#2a32a2" id=task_1009d5cf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_af78e4fa -> task_1009d5cf [label="3 [when: kubeinit_deployment_os == 'centos']" color="#2a32a2" fontcolor="#2a32a2" id=edge_15154a69 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_ed0bfb43 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2a32a2" id=task_ed0bfb43 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_af78e4fa -> task_ed0bfb43 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#2a32a2" fontcolor="#2a32a2" id=edge_04d3789c labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_353028f2 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2a32a2" id=task_353028f2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_af78e4fa -> task_353028f2 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#2a32a2" fontcolor="#2a32a2" id=edge_8d1f6d9a labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_67ba03c7 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#2a32a2" id=task_67ba03c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_af78e4fa -> task_67ba03c7 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#2a32a2" fontcolor="#2a32a2" id=edge_1b5fd173 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_3affc0bd [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2a32a2" id=task_3affc0bd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_af78e4fa -> task_3affc0bd [label="7 [when: kubeinit_deployment_os == 'debian']" color="#2a32a2" fontcolor="#2a32a2" id=edge_689ee66f labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_111c0d73 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2a32a2" id=task_111c0d73 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_af78e4fa -> task_111c0d73 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#2a32a2" fontcolor="#2a32a2" id=edge_38a4e2c7 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_4a2536e0 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#2a32a2" id=task_4a2536e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_af78e4fa -> task_4a2536e0 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#2a32a2" fontcolor="#2a32a2" id=edge_6d30cc12 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_1dd38c06 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#2a32a2" id=task_1dd38c06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_af78e4fa -> task_1dd38c06 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#2a32a2" fontcolor="#2a32a2" id=edge_f8f8bb94 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_b083bc47 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2a32a2" id=task_b083bc47 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_af78e4fa -> task_b083bc47 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#2a32a2" fontcolor="#2a32a2" id=edge_59e9ccff labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_f76714c3 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2a32a2" id=task_f76714c3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_af78e4fa -> task_f76714c3 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#2a32a2" fontcolor="#2a32a2" id=edge_35281f59 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_56010d02 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#2a32a2" id=task_56010d02 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_af78e4fa -> task_56010d02 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#2a32a2" fontcolor="#2a32a2" id=edge_9c60c668 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_84774824 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#2a32a2" id=task_84774824 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_af78e4fa -> task_84774824 [label="14 " color="#2a32a2" fontcolor="#2a32a2" id=edge_13b83f1f labeltooltip="14 " tooltip="14 "]
		task_4f263953 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#2a32a2" id=task_4f263953 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_af78e4fa -> task_4f263953 [label="15 " color="#2a32a2" fontcolor="#2a32a2" id=edge_f9adc934 labeltooltip="15 " tooltip="15 "]
		task_911b0ef2 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#2a32a2" id=task_911b0ef2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_af78e4fa -> task_911b0ef2 [label="16 " color="#2a32a2" fontcolor="#2a32a2" id=edge_b47713a8 labeltooltip="16 " tooltip="16 "]
		task_d7407add [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#2a32a2" id=task_d7407add shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_af78e4fa -> task_d7407add [label="17 " color="#2a32a2" fontcolor="#2a32a2" id=edge_e0e1f5e1 labeltooltip="17 " tooltip="17 "]
		task_d54dbe01 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#2a32a2" id=task_d54dbe01 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_af78e4fa -> task_d54dbe01 [label="18 " color="#2a32a2" fontcolor="#2a32a2" id=edge_b4c1252f labeltooltip="18 " tooltip="18 "]
		task_0e4fc4b2 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#2a32a2" id=task_0e4fc4b2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_af78e4fa -> task_0e4fc4b2 [label="19 " color="#2a32a2" fontcolor="#2a32a2" id=edge_cc9aa39b labeltooltip="19 " tooltip="19 "]
		task_9590f846 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#2a32a2" id=task_9590f846 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_af78e4fa -> task_9590f846 [label="20 " color="#2a32a2" fontcolor="#2a32a2" id=edge_16fc46d1 labeltooltip="20 " tooltip="20 "]
		task_ff37eb2c [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#2a32a2" id=task_ff37eb2c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_af78e4fa -> task_ff37eb2c [label="21 " color="#2a32a2" fontcolor="#2a32a2" id=edge_2591b670 labeltooltip="21 " tooltip="21 "]
		task_b12a15d1 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#2a32a2" id=task_b12a15d1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_af78e4fa -> task_b12a15d1 [label="22 " color="#2a32a2" fontcolor="#2a32a2" id=edge_9a029561 labeltooltip="22 " tooltip="22 "]
		role_af78e4fa -> role_9b8f3cbe [label="23 " color="#2a32a2" fontcolor="#2a32a2" id=edge_7a57adb5 labeltooltip="23 " tooltip="23 "]
		task_a09045d1 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#2a32a2" id=task_a09045d1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_af78e4fa -> task_a09045d1 [label="24 " color="#2a32a2" fontcolor="#2a32a2" id=edge_60bf7d86 labeltooltip="24 " tooltip="24 "]
		task_980f67ee [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#2a32a2" id=task_980f67ee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_af78e4fa -> task_980f67ee [label="25 " color="#2a32a2" fontcolor="#2a32a2" id=edge_7b2b358c labeltooltip="25 " tooltip="25 "]
		task_5f3a8c62 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#2a32a2" id=task_5f3a8c62 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_af78e4fa -> task_5f3a8c62 [label="26 " color="#2a32a2" fontcolor="#2a32a2" id=edge_1f607fc8 labeltooltip="26 " tooltip="26 "]
		task_d47bd74b [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#2a32a2" id=task_d47bd74b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_af78e4fa -> task_d47bd74b [label="27 " color="#2a32a2" fontcolor="#2a32a2" id=edge_cf4fce63 labeltooltip="27 " tooltip="27 "]
		task_878553c2 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#2a32a2" id=task_878553c2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_af78e4fa -> task_878553c2 [label="28 " color="#2a32a2" fontcolor="#2a32a2" id=edge_b67afd65 labeltooltip="28 " tooltip="28 "]
		task_c2f25697 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#2a32a2" id=task_c2f25697 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_af78e4fa -> task_c2f25697 [label="29 " color="#2a32a2" fontcolor="#2a32a2" id=edge_543df692 labeltooltip="29 " tooltip="29 "]
		task_975e17a8 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#2a32a2" id=task_975e17a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_af78e4fa -> task_975e17a8 [label="30 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ec7818ee labeltooltip="30 " tooltip="30 "]
		task_58dcd960 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#2a32a2" id=task_58dcd960 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_af78e4fa -> task_58dcd960 [label="31 " color="#2a32a2" fontcolor="#2a32a2" id=edge_5446c6a6 labeltooltip="31 " tooltip="31 "]
		task_b542ab8a [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#2a32a2" id=task_b542ab8a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_af78e4fa -> task_b542ab8a [label="32 " color="#2a32a2" fontcolor="#2a32a2" id=edge_de1bae92 labeltooltip="32 " tooltip="32 "]
		task_14a41c87 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#2a32a2" id=task_14a41c87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_af78e4fa -> task_14a41c87 [label="33 " color="#2a32a2" fontcolor="#2a32a2" id=edge_24da6597 labeltooltip="33 " tooltip="33 "]
		task_1f21aac5 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#2a32a2" id=task_1f21aac5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_af78e4fa -> task_1f21aac5 [label="34 " color="#2a32a2" fontcolor="#2a32a2" id=edge_cad8a521 labeltooltip="34 " tooltip="34 "]
		task_9db49c81 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#2a32a2" id=task_9db49c81 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_af78e4fa -> task_9db49c81 [label="35 " color="#2a32a2" fontcolor="#2a32a2" id=edge_4d246925 labeltooltip="35 " tooltip="35 "]
		task_ca9b4687 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#2a32a2" id=task_ca9b4687 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_af78e4fa -> task_ca9b4687 [label="36 " color="#2a32a2" fontcolor="#2a32a2" id=edge_d7be1e52 labeltooltip="36 " tooltip="36 "]
		task_81d6a9bc [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#2a32a2" id=task_81d6a9bc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_af78e4fa -> task_81d6a9bc [label="37 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ae57647a labeltooltip="37 " tooltip="37 "]
		task_1f54334e [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#2a32a2" id=task_1f54334e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_af78e4fa -> task_1f54334e [label="38 " color="#2a32a2" fontcolor="#2a32a2" id=edge_e7da9022 labeltooltip="38 " tooltip="38 "]
		task_bdb3e177 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#2a32a2" id=task_bdb3e177 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_af78e4fa -> task_bdb3e177 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#2a32a2" fontcolor="#2a32a2" id=edge_bb939113 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_36bff74e [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#2a32a2" id=task_36bff74e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_af78e4fa -> task_36bff74e [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2a32a2" fontcolor="#2a32a2" id=edge_f3f76f1a labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_fa86ac3d [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#2a32a2" id=task_fa86ac3d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_af78e4fa -> task_fa86ac3d [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2a32a2" fontcolor="#2a32a2" id=edge_200dcb83 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_7a1f0bdc [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#2a32a2" id=task_7a1f0bdc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_af78e4fa -> task_7a1f0bdc [label="42 [when: kubeinit_deployment_os == 'centos']" color="#2a32a2" fontcolor="#2a32a2" id=edge_844a12b4 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_7e269098 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#2a32a2" id=task_7e269098 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_af78e4fa -> task_7e269098 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2a32a2" fontcolor="#2a32a2" id=edge_1d691ffb labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_d6b81013 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#2a32a2" id=task_d6b81013 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_af78e4fa -> task_d6b81013 [label="44 " color="#2a32a2" fontcolor="#2a32a2" id=edge_1ed93ad9 labeltooltip="44 " tooltip="44 "]
		task_816f8705 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#2a32a2" id=task_816f8705 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_af78e4fa -> task_816f8705 [label="45 " color="#2a32a2" fontcolor="#2a32a2" id=edge_945fca28 labeltooltip="45 " tooltip="45 "]
		task_1e028855 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#2a32a2" id=task_1e028855 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_af78e4fa -> task_1e028855 [label="46 " color="#2a32a2" fontcolor="#2a32a2" id=edge_0d6379f9 labeltooltip="46 " tooltip="46 "]
		task_4b9c850e [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#2a32a2" id=task_4b9c850e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_af78e4fa -> task_4b9c850e [label="47 " color="#2a32a2" fontcolor="#2a32a2" id=edge_7e064779 labeltooltip="47 " tooltip="47 "]
		task_eb5a8876 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#2a32a2" id=task_eb5a8876 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_af78e4fa -> task_eb5a8876 [label="48 " color="#2a32a2" fontcolor="#2a32a2" id=edge_2c780282 labeltooltip="48 " tooltip="48 "]
		task_d035d342 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#2a32a2" id=task_d035d342 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_af78e4fa -> task_d035d342 [label="49 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ff96df71 labeltooltip="49 " tooltip="49 "]
		task_3210dc44 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#2a32a2" id=task_3210dc44 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_af78e4fa -> task_3210dc44 [label="50 " color="#2a32a2" fontcolor="#2a32a2" id=edge_1cd295b6 labeltooltip="50 " tooltip="50 "]
		task_7bf2eb32 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#2a32a2" id=task_7bf2eb32 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_af78e4fa -> task_7bf2eb32 [label="51 " color="#2a32a2" fontcolor="#2a32a2" id=edge_7903dda4 labeltooltip="51 " tooltip="51 "]
		task_d5050e0e [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#2a32a2" id=task_d5050e0e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_af78e4fa -> task_d5050e0e [label="52 " color="#2a32a2" fontcolor="#2a32a2" id=edge_eb26c8c2 labeltooltip="52 " tooltip="52 "]
		task_1ac92868 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" color="#2a32a2" id=task_1ac92868 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_af78e4fa -> task_1ac92868 [label="53 " color="#2a32a2" fontcolor="#2a32a2" id=edge_d42590c6 labeltooltip="53 " tooltip="53 "]
		role_af78e4fa -> role_00d73997 [label="54 " color="#2a32a2" fontcolor="#2a32a2" id=edge_cb6f737b labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_81f69404 [label="[role] Delegate to the distro role to prepare the cluster" color="#2a32a2" id=role_81f69404 tooltip="Delegate to the distro role to prepare the cluster"]
		role_81f69404 -> role_af78e4fa [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_72b7fa47 labeltooltip="1 " tooltip="1 "]
		task_5792d712 [label="kubeinit.kubeinit.kubeinit_eks : Remove repo before adding it" color="#2a32a2" id=task_5792d712 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Remove repo before adding it"]
		role_81f69404 -> task_5792d712 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_b18bbcdd labeltooltip="2 " tooltip="2 "]
		task_1a334d95 [label="kubeinit.kubeinit.kubeinit_eks : Creating a repository file for Kubernetes" color="#2a32a2" id=task_1a334d95 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Creating a repository file for Kubernetes"]
		role_81f69404 -> task_1a334d95 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_6b77dc49 labeltooltip="3 " tooltip="3 "]
		task_813e93e3 [label="kubeinit.kubeinit.kubeinit_eks : Adding repository details in Kubernetes repo file." color="#2a32a2" id=task_813e93e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Adding repository details in Kubernetes repo file."]
		role_81f69404 -> task_813e93e3 [label="4 " color="#2a32a2" fontcolor="#2a32a2" id=edge_90262aaf labeltooltip="4 " tooltip="4 "]
		task_7b820a4d [label="kubeinit.kubeinit.kubeinit_eks : Fetch EKS kubernetes release" color="#2a32a2" id=task_7b820a4d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Fetch EKS kubernetes release"]
		role_81f69404 -> task_7b820a4d [label="5 " color="#2a32a2" fontcolor="#2a32a2" id=edge_e26370db labeltooltip="5 " tooltip="5 "]
		task_6839947a [label="kubeinit.kubeinit.kubeinit_eks : Set EKS kubernetes major-minor fact" color="#2a32a2" id=task_6839947a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS kubernetes major-minor fact"]
		role_81f69404 -> task_6839947a [label="6 " color="#2a32a2" fontcolor="#2a32a2" id=edge_10367551 labeltooltip="6 " tooltip="6 "]
		task_62014327 [label="kubeinit.kubeinit.kubeinit_eks : Discover the revision number for eks" color="#2a32a2" id=task_62014327 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Discover the revision number for eks"]
		role_81f69404 -> task_62014327 [label="7 " color="#2a32a2" fontcolor="#2a32a2" id=edge_2b3c21f4 labeltooltip="7 " tooltip="7 "]
		task_403e6645 [label="kubeinit.kubeinit.kubeinit_eks : Set EKS release number fact" color="#2a32a2" id=task_403e6645 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS release number fact"]
		role_81f69404 -> task_403e6645 [label="8 " color="#2a32a2" fontcolor="#2a32a2" id=edge_5684572a labeltooltip="8 " tooltip="8 "]
		task_a5376c93 [label="kubeinit.kubeinit.kubeinit_eks : Discover the git tag for eks" color="#2a32a2" id=task_a5376c93 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Discover the git tag for eks"]
		role_81f69404 -> task_a5376c93 [label="9 " color="#2a32a2" fontcolor="#2a32a2" id=edge_3acd1748 labeltooltip="9 " tooltip="9 "]
		task_477557c2 [label="kubeinit.kubeinit.kubeinit_eks : Set EKS string facts" color="#2a32a2" id=task_477557c2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set EKS string facts"]
		role_81f69404 -> task_477557c2 [label="10 " color="#2a32a2" fontcolor="#2a32a2" id=edge_a00436c4 labeltooltip="10 " tooltip="10 "]
		task_36baca32 [label="kubeinit.kubeinit.kubeinit_eks : Set complete EKS kubernetes version" color="#2a32a2" id=task_36baca32 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Set complete EKS kubernetes version"]
		role_81f69404 -> task_36baca32 [label="11 " color="#2a32a2" fontcolor="#2a32a2" id=edge_2c8799d1 labeltooltip="11 " tooltip="11 "]
		task_81de9811 [label="kubeinit.kubeinit.kubeinit_eks : Install requirements" color="#2a32a2" id=task_81de9811 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install requirements"]
		role_81f69404 -> task_81de9811 [label="12 " color="#2a32a2" fontcolor="#2a32a2" id=edge_7e1472cd labeltooltip="12 " tooltip="12 "]
		task_d1024a6d [label="kubeinit.kubeinit.kubeinit_eks : Install services requirements" color="#2a32a2" id=task_d1024a6d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install services requirements"]
		role_81f69404 -> task_d1024a6d [label="13 " color="#2a32a2" fontcolor="#2a32a2" id=edge_c8138e24 labeltooltip="13 " tooltip="13 "]
		task_a2ed8456 [label="kubeinit.kubeinit.kubeinit_eks : Install common requirements" color="#2a32a2" id=task_a2ed8456 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Install common requirements"]
		role_81f69404 -> task_a2ed8456 [label="14 [when: kubeinit_eks_common_dependencies is defined]" color="#2a32a2" fontcolor="#2a32a2" id=edge_e4200b98 labeltooltip="14 [when: kubeinit_eks_common_dependencies is defined]" tooltip="14 [when: kubeinit_eks_common_dependencies is defined]"]
		task_e9d80586 [label="kubeinit.kubeinit.kubeinit_eks : Get the required container images" color="#2a32a2" id=task_e9d80586 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Get the required container images"]
		role_81f69404 -> task_e9d80586 [label="15 " color="#2a32a2" fontcolor="#2a32a2" id=edge_96a7b29b labeltooltip="15 " tooltip="15 "]
		task_d91d0469 [label="kubeinit.kubeinit.kubeinit_eks : Mirror EKS remote registry to local" color="#2a32a2" id=task_d91d0469 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_eks : Mirror EKS remote registry to local"]
		role_81f69404 -> task_d91d0469 [label="16 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_7c0ff116 labeltooltip="16 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="16 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-prepare-cluster" {
		role_68a5463b [label="[role] task-prepare-cluster" color="#2a32a2" id=role_68a5463b tooltip="task-prepare-cluster"]
		role_68a5463b -> role_a585b3c8 [label="1 [when: not services_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_b420c1be labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_68a5463b -> role_81f69404 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ec05f01d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_8096f719 [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_8096f719 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_0d3c7225 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_0d3c7225 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d4e59c4b [label="[role] Create ssh config file from template" color="#2a32a2" id=role_d4e59c4b tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_aa9c0d8f [label="[role] Prepare environment if not prepared" color="#2a32a2" id=role_aa9c0d8f tooltip="Prepare environment if not prepared"]
		role_aa9c0d8f -> role_8096f719 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_68eec009 labeltooltip="1 " tooltip="1 "]
		role_aa9c0d8f -> role_0d3c7225 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_288977c8 labeltooltip="2 " tooltip="2 "]
		role_aa9c0d8f -> role_d4e59c4b [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_db8464f0 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_bd754c9c [label="[role] task-download-images" color="#2a32a2" id=role_bd754c9c tooltip="task-download-images"]
		role_bd754c9c -> role_aa9c0d8f [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_a1f0dec0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_86d19a9c [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_86d19a9c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_212c1662 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_212c1662 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_433b181f [label="[role] Create ssh config file from template" color="#2a32a2" id=role_433b181f tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_410b15e6 [label="[role] Prepare environment if needed" color="#2a32a2" id=role_410b15e6 tooltip="Prepare environment if needed"]
		role_410b15e6 -> role_86d19a9c [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_e4c2a891 labeltooltip="1 " tooltip="1 "]
		role_410b15e6 -> role_212c1662 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_a2486f85 labeltooltip="2 " tooltip="2 "]
		role_410b15e6 -> role_433b181f [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_fbce1750 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_8c9e2fae [label="[role] Gather network and host facts for guest" color="#2a32a2" id=role_8c9e2fae tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_54b11246 [label="[role] Prepare services if needed" color="#2a32a2" id=role_54b11246 tooltip="Prepare services if needed"]
		role_54b11246 -> role_410b15e6 [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_8843c5d4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_54b11246 -> role_8c9e2fae [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_679597c4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_135c64b2 [label="[role] Deploy the cluster nodes" color="#2a32a2" id=role_135c64b2 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_2b63764f [label="[role] Delegate to the distro role to deploy the cluster" color="#2a32a2" id=role_2b63764f tooltip="Delegate to the distro role to deploy the cluster"]
		role_2b63764f -> role_135c64b2 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#2a32a2" fontcolor="#2a32a2" id=edge_552d00c9 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_7fbdc4aa [label="[role] task-deploy-cluster" color="#2a32a2" id=role_7fbdc4aa tooltip="task-deploy-cluster"]
		role_7fbdc4aa -> role_54b11246 [label="1 [when: not services_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_25e0afe3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_7fbdc4aa -> role_2b63764f [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_742a9d70 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a6827537 [label="[role] Gather kubeinit secrets" color="#2a32a2" id=role_a6827537 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_66151343 [label="[role] Gather additional facts from localhost for kubeinit" color="#2a32a2" id=role_66151343 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_a36a75d4 [label="[role] Create ssh config file from template" color="#2a32a2" id=role_a36a75d4 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_3806e846 [label="[role] Prepare environment if needed" color="#2a32a2" id=role_3806e846 tooltip="Prepare environment if needed"]
		role_3806e846 -> role_a6827537 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ea9fe0ca labeltooltip="1 " tooltip="1 "]
		role_3806e846 -> role_66151343 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_52a3981b labeltooltip="2 " tooltip="2 "]
		role_3806e846 -> role_a36a75d4 [label="3 " color="#2a32a2" fontcolor="#2a32a2" id=edge_94ecd731 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_8f6fbc2b [label="[role] Gather network and host facts for guest" color="#2a32a2" id=role_8f6fbc2b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_382aee62 [label="[role] Prepare services if needed" color="#2a32a2" id=role_382aee62 tooltip="Prepare services if needed"]
		role_382aee62 -> role_3806e846 [label="1 [when: not environment_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_53540f18 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_382aee62 -> role_8f6fbc2b [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_17435b4c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_ec4e8434 [label="[role] Deploy the apps" color="#2a32a2" id=role_ec4e8434 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_54e84579 [label="[role] Configure NFS" color="#2a32a2" id=role_54e84579 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_1682e004 [label="[role] Delegate to distro role to run post-deployment tasks" color="#2a32a2" id=role_1682e004 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_1682e004 -> role_ec4e8434 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_179d271b labeltooltip="1 " tooltip="1 "]
		role_1682e004 -> role_54e84579 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#2a32a2" fontcolor="#2a32a2" id=edge_7a635b29 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_6fc075a4 [label="[role] task-post-deployment" color="#2a32a2" id=role_6fc075a4 tooltip="task-post-deployment"]
		role_6fc075a4 -> role_382aee62 [label="1 [when: not services_prepared]" color="#2a32a2" fontcolor="#2a32a2" id=edge_3f92ac79 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_6fc075a4 -> role_1682e004 [label="2 " color="#2a32a2" fontcolor="#2a32a2" id=edge_93b06c89 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_1bb91c02 -> block_3edc696b [label=1 color="#2a32a2" fontcolor="#2a32a2" id=edge_b96c933a labeltooltip=1 tooltip=1]
		subgraph cluster_block_3edc696b {
			block_3edc696b [label="[block] Prepare the environment" color="#2a32a2" id=block_3edc696b labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_3edc696b -> role_29da6dca [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_8eb8b07f labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_01dcd89e [label=2 color="#2a32a2" fontcolor="#2a32a2" id=edge_428462be labeltooltip=2 tooltip=2]
		subgraph cluster_block_01dcd89e {
			block_01dcd89e [label="[block] Cleanup hypervisors" color="#2a32a2" id=block_01dcd89e labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_01dcd89e -> role_e9a2b0e1 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_ffe93292 labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_5a283e9e [label=3 color="#2a32a2" fontcolor="#2a32a2" id=edge_aa7ce1ed labeltooltip=3 tooltip=3]
		subgraph cluster_block_5a283e9e {
			block_5a283e9e [label="[block] Run validations on cluster resources" color="#2a32a2" id=block_5a283e9e labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_5a283e9e -> role_fc2b0c34 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_82b31bc1 labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_ce810b9a [label=4 color="#2a32a2" fontcolor="#2a32a2" id=edge_8336fba6 labeltooltip=4 tooltip=4]
		subgraph cluster_block_ce810b9a {
			block_ce810b9a [label="[block] Create the cluster network resources" color="#2a32a2" id=block_ce810b9a labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_ce810b9a -> role_22e14ec3 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_b3043791 labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_a51f6032 [label=5 color="#2a32a2" fontcolor="#2a32a2" id=edge_19ffd095 labeltooltip=5 tooltip=5]
		subgraph cluster_block_a51f6032 {
			block_a51f6032 [label="[block] Create services the cluster will need" color="#2a32a2" id=block_a51f6032 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_a51f6032 -> role_e937ffce [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_84ca1997 labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_ed478b7d [label=6 color="#2a32a2" fontcolor="#2a32a2" id=edge_0bf5e02d labeltooltip=6 tooltip=6]
		subgraph cluster_block_ed478b7d {
			block_ed478b7d [label="[block] Prepare to deploy the cluster" color="#2a32a2" id=block_ed478b7d labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_ed478b7d -> role_68a5463b [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_4c2b880f labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_31e8d2c8 [label=7 color="#2a32a2" fontcolor="#2a32a2" id=edge_c633d636 labeltooltip=7 tooltip=7]
		subgraph cluster_block_31e8d2c8 {
			block_31e8d2c8 [label="[block] Download cloud images" color="#2a32a2" id=block_31e8d2c8 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_31e8d2c8 -> role_bd754c9c [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_d4489b53 labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_86b643a7 [label=8 color="#2a32a2" fontcolor="#2a32a2" id=edge_1b430d4d labeltooltip=8 tooltip=8]
		subgraph cluster_block_86b643a7 {
			block_86b643a7 [label="[block] Deploy the cluster" color="#2a32a2" id=block_86b643a7 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_86b643a7 -> role_7fbdc4aa [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_a28201f3 labeltooltip="1 " tooltip="1 "]
		}
		play_1bb91c02 -> block_16a15479 [label=9 color="#2a32a2" fontcolor="#2a32a2" id=edge_b2007c99 labeltooltip=9 tooltip=9]
		subgraph cluster_block_16a15479 {
			block_16a15479 [label="[block] Run any post-deployment tasks" color="#2a32a2" id=block_16a15479 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_16a15479 -> role_6fc075a4 [label="1 " color="#2a32a2" fontcolor="#2a32a2" id=edge_101afb7f labeltooltip="1 " tooltip="1 "]
		}
	}
}
