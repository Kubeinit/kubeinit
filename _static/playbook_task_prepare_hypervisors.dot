digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#915f5e" fontcolor="#ffffff" id="play_b44c2f20-ea3d-440d-abc8-b7193362a756" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#915f5e" fontcolor="#915f5e" id="edge_5656f244-d458-484f-9f26-c86346766534" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#d4b01e" fontcolor="#ffffff" id="play_53b77369-19cf-41c1-813c-cbb500c8a291" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#d4b01e" fontcolor="#d4b01e" id="edge_089ee00c-2cc3-4b7b-8c86-4772b4f5e03d" style=bold]
		"task_459b786e-0bce-4153-a877-31415a14e068" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_459b786e-0bce-4153-a877-31415a14e068" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_459b786e-0bce-4153-a877-31415a14e068" [label=1 color="#d4b01e" fontcolor="#d4b01e" id="edge_ad8ded08-2243-48b7-a0e3-6ff9917f4169" style=bold]
		"task_dc6e0ad9-5ce0-4329-8598-d206da084e88" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_dc6e0ad9-5ce0-4329-8598-d206da084e88" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_dc6e0ad9-5ce0-4329-8598-d206da084e88" [label=2 color="#d4b01e" fontcolor="#d4b01e" id="edge_d22d6a4a-1533-4f8e-8152-f4e8a939941c" style=bold]
		"task_c6a05df6-4978-4658-bf8c-74685db6ee63" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_c6a05df6-4978-4658-bf8c-74685db6ee63" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c6a05df6-4978-4658-bf8c-74685db6ee63" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#d4b01e" fontcolor="#d4b01e" id="edge_fe932960-ab4c-49a4-8a4c-22599781fb95" style=bold]
		"task_3cd03bdc-3fb4-44b9-94ba-e1472df44e5c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_3cd03bdc-3fb4-44b9-94ba-e1472df44e5c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3cd03bdc-3fb4-44b9-94ba-e1472df44e5c" [label=4 color="#d4b01e" fontcolor="#d4b01e" id="edge_d4697ed0-0335-442c-b9a3-8db7304112cc" style=bold]
		"task_41c8e2ff-6710-4b8c-a8da-d0a164bc7710" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_41c8e2ff-6710-4b8c-a8da-d0a164bc7710" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_41c8e2ff-6710-4b8c-a8da-d0a164bc7710" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#d4b01e" fontcolor="#d4b01e" id="edge_f323c443-ae6f-4653-b432-62ab4c87b4de" style=bold]
		"task_080d0876-b715-4a0f-b17e-2ac3a9a0ac83" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_080d0876-b715-4a0f-b17e-2ac3a9a0ac83" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_080d0876-b715-4a0f-b17e-2ac3a9a0ac83" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#d4b01e" fontcolor="#d4b01e" id="edge_dea0dc7a-a2bb-4220-85c3-6ac2c53ba012" style=bold]
		"task_91a694f7-7bd9-4265-aed6-7724fa16c7ed" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_91a694f7-7bd9-4265-aed6-7724fa16c7ed" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_91a694f7-7bd9-4265-aed6-7724fa16c7ed" [label=7 color="#d4b01e" fontcolor="#d4b01e" id="edge_9045f85b-6103-4791-ba39-1adcb09f808b" style=bold]
		"task_8421d495-83dc-48e8-aea7-a9decdded134" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_8421d495-83dc-48e8-aea7-a9decdded134" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_8421d495-83dc-48e8-aea7-a9decdded134" [label=8 color="#d4b01e" fontcolor="#d4b01e" id="edge_52b9fcb0-89cd-4cd2-8de4-d77c9e52a1f5" style=bold]
		"task_ac09b7a2-4708-4ccb-81b8-3fbde76b19af" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_ac09b7a2-4708-4ccb-81b8-3fbde76b19af" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ac09b7a2-4708-4ccb-81b8-3fbde76b19af" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#d4b01e" fontcolor="#d4b01e" id="edge_45239652-6a21-4011-98f1-eebc07507f9e" style=bold]
		"task_a4012862-65b3-43f4-82c6-775588e85685" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_a4012862-65b3-43f4-82c6-775588e85685" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a4012862-65b3-43f4-82c6-775588e85685" [label=10 color="#d4b01e" fontcolor="#d4b01e" id="edge_a260733a-ac5a-4ffe-8942-1000d5c206c9" style=bold]
		"task_90de942f-a528-48f7-8339-fb6e589b1b60" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_90de942f-a528-48f7-8339-fb6e589b1b60" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_90de942f-a528-48f7-8339-fb6e589b1b60" [label=11 color="#d4b01e" fontcolor="#d4b01e" id="edge_8f34e09e-f470-461f-aa0d-aa74093b9ac3" style=bold]
		"task_03fa59b1-d8a3-4843-a81e-1562309d32a0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_03fa59b1-d8a3-4843-a81e-1562309d32a0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_03fa59b1-d8a3-4843-a81e-1562309d32a0" [label=12 color="#d4b01e" fontcolor="#d4b01e" id="edge_0906d749-eaf7-4f83-adca-1dddf990ad41" style=bold]
		"task_b85d4db2-668a-4a4e-b97a-65ae7ae7c41f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_b85d4db2-668a-4a4e-b97a-65ae7ae7c41f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b85d4db2-668a-4a4e-b97a-65ae7ae7c41f" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#d4b01e" fontcolor="#d4b01e" id="edge_ab95aa7d-89b9-493d-94c1-ee232febf9f5" style=bold]
		"task_e381a9ce-5592-4fc6-b76f-8f0e341fb86c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_e381a9ce-5592-4fc6-b76f-8f0e341fb86c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e381a9ce-5592-4fc6-b76f-8f0e341fb86c" [label="14  [when: _result_intel_processor.rc == 0]" color="#d4b01e" fontcolor="#d4b01e" id="edge_ad07e592-89fb-44ab-8879-3dc8e0d8fe92" style=bold]
		"task_50f6b5fd-60a9-4379-bcb8-c9a40d6299d9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_50f6b5fd-60a9-4379-bcb8-c9a40d6299d9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_50f6b5fd-60a9-4379-bcb8-c9a40d6299d9" [label="15  [when: _result_amd_processor.rc == 0]" color="#d4b01e" fontcolor="#d4b01e" id="edge_ab0682c3-e134-41c3-90de-febc2abd010f" style=bold]
		"task_7b4d16da-ad9d-4631-aac6-a573ea59a10f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_7b4d16da-ad9d-4631-aac6-a573ea59a10f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7b4d16da-ad9d-4631-aac6-a573ea59a10f" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d4b01e" fontcolor="#d4b01e" id="edge_27f7895d-1123-4344-9599-b819188ca1de" style=bold]
		"task_d7e71e77-6313-4118-bc98-07d89d89214f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_d7e71e77-6313-4118-bc98-07d89d89214f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d7e71e77-6313-4118-bc98-07d89d89214f" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d4b01e" fontcolor="#d4b01e" id="edge_0c542d10-452e-47ec-acc2-92e9b13637a9" style=bold]
		"task_377f06d2-35f7-4a27-913c-1d974894c6bd" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_377f06d2-35f7-4a27-913c-1d974894c6bd" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_377f06d2-35f7-4a27-913c-1d974894c6bd" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d4b01e" fontcolor="#d4b01e" id="edge_66129521-bd11-401b-9d5a-e13bc9165f9c" style=bold]
		"task_5581a49e-7bfb-456a-9d9d-83eb4274a28c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_5581a49e-7bfb-456a-9d9d-83eb4274a28c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5581a49e-7bfb-456a-9d9d-83eb4274a28c" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d4b01e" fontcolor="#d4b01e" id="edge_951c2bfa-4eaa-4b7e-8554-97620dc61793" style=bold]
		"task_e03d0b2f-2b0f-4dd5-9b17-10217d7f09b8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_e03d0b2f-2b0f-4dd5-9b17-10217d7f09b8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e03d0b2f-2b0f-4dd5-9b17-10217d7f09b8" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d4b01e" fontcolor="#d4b01e" id="edge_ebb1992b-939c-4441-8867-23f721ce11ea" style=bold]
		"task_cb5e48d1-bf34-4d24-bf07-ab3a16624e15" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_cb5e48d1-bf34-4d24-bf07-ab3a16624e15" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_cb5e48d1-bf34-4d24-bf07-ab3a16624e15" [label=21 color="#d4b01e" fontcolor="#d4b01e" id="edge_7c862697-562c-4a0f-b901-6c9c468724c0" style=bold]
		"task_fb5a2535-c87d-41b4-bca5-1d78354616ea" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_fb5a2535-c87d-41b4-bca5-1d78354616ea" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fb5a2535-c87d-41b4-bca5-1d78354616ea" [label=22 color="#d4b01e" fontcolor="#d4b01e" id="edge_a57e2910-a07b-4161-858e-526743bfe8ef" style=bold]
		"task_ce5d3bfc-43b9-49af-ae26-69f4ba1c712f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_ce5d3bfc-43b9-49af-ae26-69f4ba1c712f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ce5d3bfc-43b9-49af-ae26-69f4ba1c712f" [label=23 color="#d4b01e" fontcolor="#d4b01e" id="edge_52010a17-5af8-4ade-987e-5ba2e34e25a9" style=bold]
		"task_1a11d93b-cc68-41dd-81fb-3790c36ef724" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_1a11d93b-cc68-41dd-81fb-3790c36ef724" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1a11d93b-cc68-41dd-81fb-3790c36ef724" [label=24 color="#d4b01e" fontcolor="#d4b01e" id="edge_77e51668-9075-439b-921a-8115ce7cbaab" style=bold]
		"task_e08d2ba9-5069-4513-af71-f053a42a274b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_e08d2ba9-5069-4513-af71-f053a42a274b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e08d2ba9-5069-4513-af71-f053a42a274b" [label=25 color="#d4b01e" fontcolor="#d4b01e" id="edge_4fad75a8-ed72-44b2-8d32-ee6f1234faa7" style=bold]
		"task_9ce8c817-5833-4b27-b847-27336f05dd73" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_9ce8c817-5833-4b27-b847-27336f05dd73" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9ce8c817-5833-4b27-b847-27336f05dd73" [label=26 color="#d4b01e" fontcolor="#d4b01e" id="edge_4be5f17a-22ba-48c9-8df8-ad8db3686b74" style=bold]
		"task_1a653009-3250-42f1-9073-bdae7337e0ad" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_1a653009-3250-42f1-9073-bdae7337e0ad" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1a653009-3250-42f1-9073-bdae7337e0ad" [label=27 color="#d4b01e" fontcolor="#d4b01e" id="edge_e6457582-e81b-4113-93e0-5accfc8e7a01" style=bold]
		"task_0f845080-bf32-4a5b-9c1f-9fa7933f1922" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_0f845080-bf32-4a5b-9c1f-9fa7933f1922" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0f845080-bf32-4a5b-9c1f-9fa7933f1922" [label=28 color="#d4b01e" fontcolor="#d4b01e" id="edge_a87fe111-7d15-4eff-b5f3-c1c4ed5c168a" style=bold]
		"task_1fb40d4c-5dc8-49c2-b491-35dcf271bed4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_1fb40d4c-5dc8-49c2-b491-35dcf271bed4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1fb40d4c-5dc8-49c2-b491-35dcf271bed4" [label=29 color="#d4b01e" fontcolor="#d4b01e" id="edge_6c7879c2-a23e-4afe-a27d-c91510352bba" style=bold]
		"task_e210d7f0-9e50-459d-bdfd-dd9a67883fc3" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_e210d7f0-9e50-459d-bdfd-dd9a67883fc3" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e210d7f0-9e50-459d-bdfd-dd9a67883fc3" [label=30 color="#d4b01e" fontcolor="#d4b01e" id="edge_fe923b3c-b4c7-458e-a8ec-669c94ea40d1" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#f7a2e0" fontcolor="#000000" id="play_aa34deea-b15c-48f5-96c3-08cc63d4534e" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#f7a2e0" fontcolor="#f7a2e0" id="edge_479d254e-b3a3-443e-a523-499d12d389de" style=bold]
	}
}
