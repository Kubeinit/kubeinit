digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#05b3f0" fontcolor="#ffffff" id="play_607cd370-6ebc-4ab2-bd93-254b51783678" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#05b3f0" fontcolor="#05b3f0" id="edge_84565931-afdd-4bb8-839a-0e36bd701b1b" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#3fada8" fontcolor="#ffffff" id="play_4e5b8f06-e741-4054-ab8b-cacae266f70a" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#3fada8" fontcolor="#3fada8" id="edge_044bf712-fda3-44e0-97b5-e0a680c67e9f" style=bold]
		"task_737fad14-8a0e-40a1-8525-09b3fe9de8c8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_737fad14-8a0e-40a1-8525-09b3fe9de8c8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_737fad14-8a0e-40a1-8525-09b3fe9de8c8" [label=1 color="#3fada8" fontcolor="#3fada8" id="edge_96ccc270-8643-4a50-8ff4-27ca04b6130c" style=bold]
		"task_fc423e29-5dc3-4657-b9f7-fa7daafc57be" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_fc423e29-5dc3-4657-b9f7-fa7daafc57be" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fc423e29-5dc3-4657-b9f7-fa7daafc57be" [label=2 color="#3fada8" fontcolor="#3fada8" id="edge_27feffd1-d468-42c8-bff2-d29982476488" style=bold]
		"task_7f51c40c-506c-475b-9750-1cf8bad8a39e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_7f51c40c-506c-475b-9750-1cf8bad8a39e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7f51c40c-506c-475b-9750-1cf8bad8a39e" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#3fada8" fontcolor="#3fada8" id="edge_c91768db-f683-47a2-9b40-bb8cbf43b75e" style=bold]
		"task_fdd606b1-954f-494e-939c-6c0cdb6cc6dc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_fdd606b1-954f-494e-939c-6c0cdb6cc6dc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fdd606b1-954f-494e-939c-6c0cdb6cc6dc" [label=4 color="#3fada8" fontcolor="#3fada8" id="edge_cab96707-0555-4c7f-a8eb-6dcf5bd4bafb" style=bold]
		"task_ea25c903-d651-47f2-bd01-30da4a570fe6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_ea25c903-d651-47f2-bd01-30da4a570fe6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ea25c903-d651-47f2-bd01-30da4a570fe6" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#3fada8" fontcolor="#3fada8" id="edge_8bf6dfa3-43a7-4822-af66-c63ce3b183dc" style=bold]
		"task_8912b8ba-9d22-4131-aa25-498ef178eb93" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_8912b8ba-9d22-4131-aa25-498ef178eb93" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_8912b8ba-9d22-4131-aa25-498ef178eb93" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#3fada8" fontcolor="#3fada8" id="edge_4f628797-eefa-41c8-a63a-71a2a64e212e" style=bold]
		"task_2f12a98a-915d-4b99-8243-4bf67db2e04f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_2f12a98a-915d-4b99-8243-4bf67db2e04f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2f12a98a-915d-4b99-8243-4bf67db2e04f" [label=7 color="#3fada8" fontcolor="#3fada8" id="edge_f4ea5b7f-86ab-43bb-9140-c7d50b8c911d" style=bold]
		"task_53378bba-7402-4a4f-9d08-196b14d92c25" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_53378bba-7402-4a4f-9d08-196b14d92c25" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_53378bba-7402-4a4f-9d08-196b14d92c25" [label=8 color="#3fada8" fontcolor="#3fada8" id="edge_380cd708-324e-4f78-a7e7-7df3339cc6f4" style=bold]
		"task_f052fb49-5175-4ba5-acf1-deb0908b2cb7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_f052fb49-5175-4ba5-acf1-deb0908b2cb7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f052fb49-5175-4ba5-acf1-deb0908b2cb7" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#3fada8" fontcolor="#3fada8" id="edge_42dddbe2-1be6-455c-bd18-519184ac0a38" style=bold]
		"task_7e5d0e3c-cdbe-4e75-b96a-92a9f43d5ba1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_7e5d0e3c-cdbe-4e75-b96a-92a9f43d5ba1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7e5d0e3c-cdbe-4e75-b96a-92a9f43d5ba1" [label=10 color="#3fada8" fontcolor="#3fada8" id="edge_223da033-2bca-4979-a76c-7f41c1555bbd" style=bold]
		"task_9dae32c6-87c1-4ddc-8351-140a92c68470" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_9dae32c6-87c1-4ddc-8351-140a92c68470" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9dae32c6-87c1-4ddc-8351-140a92c68470" [label=11 color="#3fada8" fontcolor="#3fada8" id="edge_3385da05-fdb9-42aa-920a-b5d9f09da819" style=bold]
		"task_43224253-a77a-4896-92f0-da5c3c815afb" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_43224253-a77a-4896-92f0-da5c3c815afb" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_43224253-a77a-4896-92f0-da5c3c815afb" [label=12 color="#3fada8" fontcolor="#3fada8" id="edge_7a5b78ac-b6a3-4106-95e4-8a898b7168e5" style=bold]
		"task_378537f5-c337-4739-83bf-7ed706142cf1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_378537f5-c337-4739-83bf-7ed706142cf1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_378537f5-c337-4739-83bf-7ed706142cf1" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#3fada8" fontcolor="#3fada8" id="edge_75867f53-5a27-4c31-91a5-df400ac5ebc2" style=bold]
		"task_7cad7ccd-37ba-4b94-bdd3-d131098fcc88" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_7cad7ccd-37ba-4b94-bdd3-d131098fcc88" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7cad7ccd-37ba-4b94-bdd3-d131098fcc88" [label="14  [when: _result_intel_processor.rc == 0]" color="#3fada8" fontcolor="#3fada8" id="edge_97f0a9bc-352a-439d-8006-7fec42c10169" style=bold]
		"task_4f726e9f-c880-4ed8-8145-203b24e14d16" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_4f726e9f-c880-4ed8-8145-203b24e14d16" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4f726e9f-c880-4ed8-8145-203b24e14d16" [label="15  [when: _result_amd_processor.rc == 0]" color="#3fada8" fontcolor="#3fada8" id="edge_fd3e6c0c-e827-4be0-b8af-de8cbf257389" style=bold]
		"task_38180379-4cdd-47aa-b54d-300361e43e51" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_38180379-4cdd-47aa-b54d-300361e43e51" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_38180379-4cdd-47aa-b54d-300361e43e51" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#3fada8" fontcolor="#3fada8" id="edge_e32185e2-a12d-433e-aef1-c7226b1fee0b" style=bold]
		"task_73bc62ed-4cb9-4c9c-8352-0043c83e38f2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_73bc62ed-4cb9-4c9c-8352-0043c83e38f2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_73bc62ed-4cb9-4c9c-8352-0043c83e38f2" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#3fada8" fontcolor="#3fada8" id="edge_3a52b22a-129d-4bc1-8046-6dde461ffdd9" style=bold]
		"task_f94f6bc5-a316-43d0-9ef0-71f76f42f6c7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_f94f6bc5-a316-43d0-9ef0-71f76f42f6c7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f94f6bc5-a316-43d0-9ef0-71f76f42f6c7" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#3fada8" fontcolor="#3fada8" id="edge_f500a79f-9092-4c84-a47f-0c7683088331" style=bold]
		"task_1b45c9a2-1919-40dd-90fd-acbe74f3d0a8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_1b45c9a2-1919-40dd-90fd-acbe74f3d0a8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1b45c9a2-1919-40dd-90fd-acbe74f3d0a8" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#3fada8" fontcolor="#3fada8" id="edge_a8ad92ed-354f-4f5b-8e27-536191f472ff" style=bold]
		"task_1f550246-2c3d-47f6-a09e-339325e95b6d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_1f550246-2c3d-47f6-a09e-339325e95b6d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1f550246-2c3d-47f6-a09e-339325e95b6d" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#3fada8" fontcolor="#3fada8" id="edge_bc26641f-1d68-49f5-990f-8d06e3eda0da" style=bold]
		"task_ca4b7c9d-a96a-4888-8321-997833c5cff3" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_ca4b7c9d-a96a-4888-8321-997833c5cff3" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ca4b7c9d-a96a-4888-8321-997833c5cff3" [label=21 color="#3fada8" fontcolor="#3fada8" id="edge_daf8e6e8-1236-41e4-aadf-0d1c2d08e958" style=bold]
		"task_e011de50-54e9-4419-b3c0-513f1710af1e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_e011de50-54e9-4419-b3c0-513f1710af1e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e011de50-54e9-4419-b3c0-513f1710af1e" [label=22 color="#3fada8" fontcolor="#3fada8" id="edge_b7890b2f-12e3-4881-b441-249e59cec68a" style=bold]
		"task_5323479d-d912-494a-a483-f436291c4cce" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_5323479d-d912-494a-a483-f436291c4cce" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5323479d-d912-494a-a483-f436291c4cce" [label=23 color="#3fada8" fontcolor="#3fada8" id="edge_333961d0-8501-49a7-9540-1f6ddb035ece" style=bold]
		"task_2a219679-52ca-413d-a0e5-0e6cbd3705ca" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_2a219679-52ca-413d-a0e5-0e6cbd3705ca" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2a219679-52ca-413d-a0e5-0e6cbd3705ca" [label=24 color="#3fada8" fontcolor="#3fada8" id="edge_9a84e13d-58b1-4adf-ae3c-425e6eb97987" style=bold]
		"task_31644dac-441d-4020-8a1c-5fbee76e6b46" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_31644dac-441d-4020-8a1c-5fbee76e6b46" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_31644dac-441d-4020-8a1c-5fbee76e6b46" [label=25 color="#3fada8" fontcolor="#3fada8" id="edge_bbf2dfa1-759d-4bb9-8cbc-f6dc9b5003c7" style=bold]
		"task_cb770c5c-2848-44e5-bfc7-20e89661d864" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_cb770c5c-2848-44e5-bfc7-20e89661d864" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_cb770c5c-2848-44e5-bfc7-20e89661d864" [label=26 color="#3fada8" fontcolor="#3fada8" id="edge_22b5a68a-7b24-49ad-aa80-3eb6007a7b40" style=bold]
		"task_6b5277c8-cabc-4363-b391-248903190167" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_6b5277c8-cabc-4363-b391-248903190167" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6b5277c8-cabc-4363-b391-248903190167" [label=27 color="#3fada8" fontcolor="#3fada8" id="edge_18d38b77-298b-41b5-be5c-74e93294d06a" style=bold]
		"task_6224277e-d348-40e8-b60a-0a1f25592eb2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_6224277e-d348-40e8-b60a-0a1f25592eb2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6224277e-d348-40e8-b60a-0a1f25592eb2" [label=28 color="#3fada8" fontcolor="#3fada8" id="edge_579aa672-e2b3-4ec6-aa03-b6717965adf8" style=bold]
		"task_3ab58a47-d3f0-4298-8c57-bafd29151ad0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_3ab58a47-d3f0-4298-8c57-bafd29151ad0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3ab58a47-d3f0-4298-8c57-bafd29151ad0" [label=29 color="#3fada8" fontcolor="#3fada8" id="edge_e5362065-9a0e-40ba-85d8-bb544900631a" style=bold]
		"task_a9e0a126-313b-4574-92c1-6886d1c9f500" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_a9e0a126-313b-4574-92c1-6886d1c9f500" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a9e0a126-313b-4574-92c1-6886d1c9f500" [label=30 color="#3fada8" fontcolor="#3fada8" id="edge_73dbdc39-f3ff-4dac-9e03-59bbf74ee10f" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#87c7a4" fontcolor="#000000" id="play_63a5fb08-b31a-45e9-857d-49e94ea7d605" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#87c7a4" fontcolor="#87c7a4" id="edge_d8bda17c-5bf5-4636-a041-2f215f634ac0" style=bold]
	}
}
