digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#77ceab" fontcolor="#000000" id="play_023a53f0-3967-4f7b-a6e8-684f3ebab23b" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#77ceab" fontcolor="#77ceab" id="edge_422d02ee-09d5-4027-8a51-d6cb5f31de28" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#d12299" fontcolor="#ffffff" id="play_e9e0817b-83ae-4fec-8985-e33f7f6ee88a" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#d12299" fontcolor="#d12299" id="edge_14e04aaa-f712-4aed-b1b1-c25b8b4dfff8" style=bold]
		"task_0b29b273-7c69-4f74-a9a6-440b243c315c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_0b29b273-7c69-4f74-a9a6-440b243c315c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0b29b273-7c69-4f74-a9a6-440b243c315c" [label=1 color="#d12299" fontcolor="#d12299" id="edge_518eca22-4d3e-4061-9e2b-9ba5f399469f" style=bold]
		"task_fc8fb7ca-0891-46c8-a933-ddc88973a21d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_fc8fb7ca-0891-46c8-a933-ddc88973a21d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fc8fb7ca-0891-46c8-a933-ddc88973a21d" [label=2 color="#d12299" fontcolor="#d12299" id="edge_739ee8ed-c439-4cef-a4c2-f7284730f66f" style=bold]
		"task_f15ac09a-c877-48cb-ba3f-49de27a89b73" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_f15ac09a-c877-48cb-ba3f-49de27a89b73" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f15ac09a-c877-48cb-ba3f-49de27a89b73" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#d12299" fontcolor="#d12299" id="edge_e514451b-4357-4b23-abe0-63d81d3b7579" style=bold]
		"task_97162d99-7690-4c29-b8f2-e1c162dde4df" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_97162d99-7690-4c29-b8f2-e1c162dde4df" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_97162d99-7690-4c29-b8f2-e1c162dde4df" [label=4 color="#d12299" fontcolor="#d12299" id="edge_689ce653-aaeb-4e47-b00c-69799ec014d8" style=bold]
		"task_88ebdc82-5dea-4dd6-bd7b-03ddecbca35a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_88ebdc82-5dea-4dd6-bd7b-03ddecbca35a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_88ebdc82-5dea-4dd6-bd7b-03ddecbca35a" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#d12299" fontcolor="#d12299" id="edge_e167a730-aef0-4977-835d-c0bcf31d704a" style=bold]
		"task_676da7e0-6cd7-4d7e-9d88-5e5c63d09131" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_676da7e0-6cd7-4d7e-9d88-5e5c63d09131" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_676da7e0-6cd7-4d7e-9d88-5e5c63d09131" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#d12299" fontcolor="#d12299" id="edge_079a7afa-1559-45b3-b943-0fc34243fd59" style=bold]
		"task_3dcfbf61-6a0e-4a3e-b33a-63b429b497ec" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_3dcfbf61-6a0e-4a3e-b33a-63b429b497ec" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3dcfbf61-6a0e-4a3e-b33a-63b429b497ec" [label=7 color="#d12299" fontcolor="#d12299" id="edge_99719555-5c58-46e3-872c-5aa0e8475485" style=bold]
		"task_1992642d-2a99-4686-8ab8-a4b34cb13fa0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_1992642d-2a99-4686-8ab8-a4b34cb13fa0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1992642d-2a99-4686-8ab8-a4b34cb13fa0" [label=8 color="#d12299" fontcolor="#d12299" id="edge_e53a8e91-afb9-4c69-b8e1-b292d6a47912" style=bold]
		"task_79ca79d8-d26e-42a9-b3e4-43be180f01da" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_79ca79d8-d26e-42a9-b3e4-43be180f01da" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_79ca79d8-d26e-42a9-b3e4-43be180f01da" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#d12299" fontcolor="#d12299" id="edge_77357c4b-3a65-4a9a-93f7-9f89f54171ae" style=bold]
		"task_9f208e41-b8fd-4f80-95b6-523be3a68c72" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_9f208e41-b8fd-4f80-95b6-523be3a68c72" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9f208e41-b8fd-4f80-95b6-523be3a68c72" [label=10 color="#d12299" fontcolor="#d12299" id="edge_92314304-5a32-4607-802a-260bb16f5c45" style=bold]
		"task_a4a7198a-fd8b-4c26-b58f-ba88229dfcdf" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_a4a7198a-fd8b-4c26-b58f-ba88229dfcdf" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a4a7198a-fd8b-4c26-b58f-ba88229dfcdf" [label=11 color="#d12299" fontcolor="#d12299" id="edge_d2c87bb1-9e7d-4138-af48-975449324ac2" style=bold]
		"task_5d4df128-3a9a-4625-b373-a040eb58a721" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_5d4df128-3a9a-4625-b373-a040eb58a721" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5d4df128-3a9a-4625-b373-a040eb58a721" [label=12 color="#d12299" fontcolor="#d12299" id="edge_f7c9e0b8-f65b-43e9-b34e-0679f40a51ac" style=bold]
		"task_d3f6867c-da5d-45e0-bd62-b67123e5a219" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_d3f6867c-da5d-45e0-bd62-b67123e5a219" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d3f6867c-da5d-45e0-bd62-b67123e5a219" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#d12299" fontcolor="#d12299" id="edge_becfc182-a901-42ec-898b-74b210e3ec9b" style=bold]
		"task_80f3749b-133a-4c99-8172-f9c6a7216934" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_80f3749b-133a-4c99-8172-f9c6a7216934" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_80f3749b-133a-4c99-8172-f9c6a7216934" [label="14  [when: _result_intel_processor.rc == 0]" color="#d12299" fontcolor="#d12299" id="edge_677cd585-7bd6-4063-b1a4-457524dfe3bd" style=bold]
		"task_a96603a5-0765-44c1-bd99-be8652ab342d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_a96603a5-0765-44c1-bd99-be8652ab342d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a96603a5-0765-44c1-bd99-be8652ab342d" [label="15  [when: _result_amd_processor.rc == 0]" color="#d12299" fontcolor="#d12299" id="edge_e94b4353-484c-4f4f-aa21-35b9876ef7a2" style=bold]
		"task_19d9f280-a3d3-4c50-937c-8dbc399a019e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_19d9f280-a3d3-4c50-937c-8dbc399a019e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_19d9f280-a3d3-4c50-937c-8dbc399a019e" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d12299" fontcolor="#d12299" id="edge_5e769666-45ba-46c6-bfee-8c6f8c4dc80a" style=bold]
		"task_0e9548da-48f3-4b46-86e0-bfc7207c91b2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_0e9548da-48f3-4b46-86e0-bfc7207c91b2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0e9548da-48f3-4b46-86e0-bfc7207c91b2" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d12299" fontcolor="#d12299" id="edge_68ae45d7-aece-4475-a16f-445a664bec26" style=bold]
		"task_ab2abff1-e054-49d7-afc3-26908491ad66" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_ab2abff1-e054-49d7-afc3-26908491ad66" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ab2abff1-e054-49d7-afc3-26908491ad66" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d12299" fontcolor="#d12299" id="edge_7e1c710a-9199-43c5-87b6-af12b2e0c14b" style=bold]
		"task_966b4896-9ea9-404a-abe1-4daf17219514" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_966b4896-9ea9-404a-abe1-4daf17219514" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_966b4896-9ea9-404a-abe1-4daf17219514" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d12299" fontcolor="#d12299" id="edge_3f8c0338-b636-45d2-919d-8aa829793dff" style=bold]
		"task_85bb7dba-8dda-47b0-a482-1b3005f2b205" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_85bb7dba-8dda-47b0-a482-1b3005f2b205" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_85bb7dba-8dda-47b0-a482-1b3005f2b205" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#d12299" fontcolor="#d12299" id="edge_9f5e1871-81d6-4068-83e9-f7cc89c9e0a7" style=bold]
		"task_0a326d23-3dc4-4f0b-8b51-41d754a60590" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_0a326d23-3dc4-4f0b-8b51-41d754a60590" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0a326d23-3dc4-4f0b-8b51-41d754a60590" [label=21 color="#d12299" fontcolor="#d12299" id="edge_c647d26b-e8c0-4a65-85e1-30d6d8f373a6" style=bold]
		"task_720791ca-83c8-4032-bf56-96dfd7d3a360" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_720791ca-83c8-4032-bf56-96dfd7d3a360" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_720791ca-83c8-4032-bf56-96dfd7d3a360" [label=22 color="#d12299" fontcolor="#d12299" id="edge_86cd958f-49c8-4daa-8077-cd936217e786" style=bold]
		"task_0d4f2f82-92cd-4b9f-85ff-9a49c893476d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_0d4f2f82-92cd-4b9f-85ff-9a49c893476d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0d4f2f82-92cd-4b9f-85ff-9a49c893476d" [label=23 color="#d12299" fontcolor="#d12299" id="edge_444884d0-87dd-4f99-8acb-23b5aec59b2e" style=bold]
		"task_17048340-07d8-4d72-a8aa-2d2d061d8afb" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_17048340-07d8-4d72-a8aa-2d2d061d8afb" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_17048340-07d8-4d72-a8aa-2d2d061d8afb" [label=24 color="#d12299" fontcolor="#d12299" id="edge_139d2792-ec8d-491e-9d46-7ab4f6e63962" style=bold]
		"task_efcfcb3e-291b-4ab3-88b3-f5977615b982" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_efcfcb3e-291b-4ab3-88b3-f5977615b982" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_efcfcb3e-291b-4ab3-88b3-f5977615b982" [label=25 color="#d12299" fontcolor="#d12299" id="edge_54b88fc1-48fe-4cd5-ae1d-e0e3f5e7022c" style=bold]
		"task_76ccbb61-7df1-4dff-84fa-adff643d98e3" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_76ccbb61-7df1-4dff-84fa-adff643d98e3" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_76ccbb61-7df1-4dff-84fa-adff643d98e3" [label=26 color="#d12299" fontcolor="#d12299" id="edge_755ca4d4-9e60-4590-94fa-5867ca0916df" style=bold]
		"task_38f24d59-3bb4-4077-b460-7d985ce493d9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_38f24d59-3bb4-4077-b460-7d985ce493d9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_38f24d59-3bb4-4077-b460-7d985ce493d9" [label=27 color="#d12299" fontcolor="#d12299" id="edge_94423cb6-4627-4bd0-86af-839d9926890b" style=bold]
		"task_52d437c3-9699-4dbe-aed7-bc5bc1a6cd72" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_52d437c3-9699-4dbe-aed7-bc5bc1a6cd72" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_52d437c3-9699-4dbe-aed7-bc5bc1a6cd72" [label=28 color="#d12299" fontcolor="#d12299" id="edge_f90e02fd-020a-4f5b-93e8-dbdc35911beb" style=bold]
		"task_3e67f5f2-e0ed-417f-a7e4-b5ade6b7ec3e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_3e67f5f2-e0ed-417f-a7e4-b5ade6b7ec3e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3e67f5f2-e0ed-417f-a7e4-b5ade6b7ec3e" [label=29 color="#d12299" fontcolor="#d12299" id="edge_c3b4b77d-8aa2-4bca-99b6-dc8192c8815c" style=bold]
		"task_d30831bf-e74e-4a11-ae16-2aeb8cda1641" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_d30831bf-e74e-4a11-ae16-2aeb8cda1641" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d30831bf-e74e-4a11-ae16-2aeb8cda1641" [label=30 color="#d12299" fontcolor="#d12299" id="edge_5420183a-40fa-4df2-98db-98572882e945" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#8efb85" fontcolor="#000000" id="play_993959d9-6f6e-4cd8-bbee-aee5bef3cefb" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#8efb85" fontcolor="#8efb85" id="edge_0bdefaab-08ba-4fec-993a-475a88831131" style=bold]
	}
}
