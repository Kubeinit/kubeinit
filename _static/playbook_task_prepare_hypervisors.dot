digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#b54910" fontcolor="#ffffff" id="play_b746f286-09c3-476d-a40e-33e7e8ce77d8" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#b54910" fontcolor="#b54910" id="edge_8b64e432-9ba9-4378-8860-c107e5d1d76b" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#7d3f91" fontcolor="#ffffff" id="play_99e8e09e-bd6e-4e29-942a-3ea6620e52b3" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#7d3f91" fontcolor="#7d3f91" id="edge_daf17ed6-b845-490e-864a-80d8993d2bb9" style=bold]
		"task_4423c73f-39af-4feb-9531-fe32cfd03961" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_4423c73f-39af-4feb-9531-fe32cfd03961" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4423c73f-39af-4feb-9531-fe32cfd03961" [label=1 color="#7d3f91" fontcolor="#7d3f91" id="edge_c71abfae-ea9c-4f68-b416-dfef2f518e73" style=bold]
		"task_83a964b0-b53e-4759-9034-0bbbf0c3da25" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_83a964b0-b53e-4759-9034-0bbbf0c3da25" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_83a964b0-b53e-4759-9034-0bbbf0c3da25" [label=2 color="#7d3f91" fontcolor="#7d3f91" id="edge_f88e6e39-671c-4e9e-aac4-ceffc9cc9eba" style=bold]
		"task_0fc1e4b2-f8f0-41ce-a2a1-aa09d20bbc35" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_0fc1e4b2-f8f0-41ce-a2a1-aa09d20bbc35" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0fc1e4b2-f8f0-41ce-a2a1-aa09d20bbc35" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#7d3f91" fontcolor="#7d3f91" id="edge_953ebae8-9eed-46f6-8475-258e30d478ac" style=bold]
		"task_e5d1c0ff-5705-4081-974e-cce7c4a72949" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_e5d1c0ff-5705-4081-974e-cce7c4a72949" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e5d1c0ff-5705-4081-974e-cce7c4a72949" [label=4 color="#7d3f91" fontcolor="#7d3f91" id="edge_9f678eee-9449-4ba0-80fa-f3695b994cf5" style=bold]
		"task_2e5dfab4-0fbe-4f2e-9d6c-a0b665076947" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_2e5dfab4-0fbe-4f2e-9d6c-a0b665076947" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2e5dfab4-0fbe-4f2e-9d6c-a0b665076947" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#7d3f91" fontcolor="#7d3f91" id="edge_58823fd4-aead-4e1d-ba2f-f4f31ba043eb" style=bold]
		"task_ba1a104d-8249-4bc0-9e90-f3bff096b18d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_ba1a104d-8249-4bc0-9e90-f3bff096b18d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ba1a104d-8249-4bc0-9e90-f3bff096b18d" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#7d3f91" fontcolor="#7d3f91" id="edge_613cdf29-a161-4ab3-a042-13ff2ec2e044" style=bold]
		"task_ca276fd2-5c1c-49c8-947f-0fabfd2b07bc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_ca276fd2-5c1c-49c8-947f-0fabfd2b07bc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ca276fd2-5c1c-49c8-947f-0fabfd2b07bc" [label=7 color="#7d3f91" fontcolor="#7d3f91" id="edge_1ba794bd-9090-45b3-9d2a-d9973dd60419" style=bold]
		"task_c72edc74-d886-49b1-939a-3eb6d43f14ec" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_c72edc74-d886-49b1-939a-3eb6d43f14ec" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c72edc74-d886-49b1-939a-3eb6d43f14ec" [label=8 color="#7d3f91" fontcolor="#7d3f91" id="edge_254c1923-44d4-47b6-b014-d50dc13484de" style=bold]
		"task_7380e8f1-3390-415f-90a8-976f06511b0a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_7380e8f1-3390-415f-90a8-976f06511b0a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7380e8f1-3390-415f-90a8-976f06511b0a" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#7d3f91" fontcolor="#7d3f91" id="edge_97ce4659-e408-4995-8698-664a1de1f7f4" style=bold]
		"task_aa04da0d-6498-4d44-89dc-8d1cb2c0675b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_aa04da0d-6498-4d44-89dc-8d1cb2c0675b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_aa04da0d-6498-4d44-89dc-8d1cb2c0675b" [label=10 color="#7d3f91" fontcolor="#7d3f91" id="edge_586262a7-206b-474a-83b6-8844176ddcb2" style=bold]
		"task_dc21f2b0-1ea0-48e5-8e0d-319bf0e3b5c4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_dc21f2b0-1ea0-48e5-8e0d-319bf0e3b5c4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_dc21f2b0-1ea0-48e5-8e0d-319bf0e3b5c4" [label=11 color="#7d3f91" fontcolor="#7d3f91" id="edge_e47b77ae-7bf2-4096-9f62-473e600a5552" style=bold]
		"task_6c92da04-793e-4eb5-a513-3ddc8597693b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_6c92da04-793e-4eb5-a513-3ddc8597693b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6c92da04-793e-4eb5-a513-3ddc8597693b" [label=12 color="#7d3f91" fontcolor="#7d3f91" id="edge_75132ebb-894a-4190-8784-c4c4174676e7" style=bold]
		"task_a4100ec3-153c-4cef-88da-8fb6d92007d3" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_a4100ec3-153c-4cef-88da-8fb6d92007d3" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a4100ec3-153c-4cef-88da-8fb6d92007d3" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#7d3f91" fontcolor="#7d3f91" id="edge_16055787-d2e6-4566-9b9a-0fc60b335be3" style=bold]
		"task_2bb07fa9-fd59-4cb0-aac9-c81a7430dd67" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_2bb07fa9-fd59-4cb0-aac9-c81a7430dd67" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2bb07fa9-fd59-4cb0-aac9-c81a7430dd67" [label="14  [when: _result_intel_processor.rc == 0]" color="#7d3f91" fontcolor="#7d3f91" id="edge_405a3d8c-9ba8-4a9c-ad68-f027bc19df9f" style=bold]
		"task_b0f1cc3b-dca9-4c42-b321-a78bc0c15f41" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_b0f1cc3b-dca9-4c42-b321-a78bc0c15f41" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b0f1cc3b-dca9-4c42-b321-a78bc0c15f41" [label="15  [when: _result_amd_processor.rc == 0]" color="#7d3f91" fontcolor="#7d3f91" id="edge_0ee3f5c9-0a66-4690-82a9-ff36f3a17474" style=bold]
		"task_e5f60e32-b83d-4bc2-ae53-e05e2b988e8a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_e5f60e32-b83d-4bc2-ae53-e05e2b988e8a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e5f60e32-b83d-4bc2-ae53-e05e2b988e8a" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#7d3f91" fontcolor="#7d3f91" id="edge_ebf46410-6884-4fae-9c0f-4dc2d034770b" style=bold]
		"task_0218167f-7c00-4259-a7e9-08ce4f924188" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_0218167f-7c00-4259-a7e9-08ce4f924188" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0218167f-7c00-4259-a7e9-08ce4f924188" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#7d3f91" fontcolor="#7d3f91" id="edge_8e3f5966-b366-454b-b77e-eea1aa9d8251" style=bold]
		"task_011304e3-ed59-450b-b6e2-77fe9a4db74a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_011304e3-ed59-450b-b6e2-77fe9a4db74a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_011304e3-ed59-450b-b6e2-77fe9a4db74a" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#7d3f91" fontcolor="#7d3f91" id="edge_edc0a53a-c5cf-49b3-9fa3-c6a4e37aa109" style=bold]
		"task_e9a28fe4-be61-476d-a56d-630cb56ee4d1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_e9a28fe4-be61-476d-a56d-630cb56ee4d1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e9a28fe4-be61-476d-a56d-630cb56ee4d1" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#7d3f91" fontcolor="#7d3f91" id="edge_811ead4e-edcc-4d31-984c-fa6d8261f7f1" style=bold]
		"task_a73fa367-8d65-49d6-b439-f4301e858c63" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_a73fa367-8d65-49d6-b439-f4301e858c63" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a73fa367-8d65-49d6-b439-f4301e858c63" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#7d3f91" fontcolor="#7d3f91" id="edge_18b38fff-db17-4f35-a79e-2174b362204a" style=bold]
		"task_15c80e0a-f376-440a-a4aa-a57d60654fba" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_15c80e0a-f376-440a-a4aa-a57d60654fba" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_15c80e0a-f376-440a-a4aa-a57d60654fba" [label=21 color="#7d3f91" fontcolor="#7d3f91" id="edge_e78f27d4-032e-4018-adba-ad7f002021de" style=bold]
		"task_211896d1-2e09-449e-aeab-5fb609585bfa" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_211896d1-2e09-449e-aeab-5fb609585bfa" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_211896d1-2e09-449e-aeab-5fb609585bfa" [label=22 color="#7d3f91" fontcolor="#7d3f91" id="edge_bb43af9e-b918-42d6-add6-a89993f406f1" style=bold]
		"task_3e313f18-c511-4f28-974a-5d955536c2bc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_3e313f18-c511-4f28-974a-5d955536c2bc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3e313f18-c511-4f28-974a-5d955536c2bc" [label=23 color="#7d3f91" fontcolor="#7d3f91" id="edge_df141fb0-adfd-4533-a11d-1e18b88e51f9" style=bold]
		"task_a7cd1a47-a1b1-4586-a7c1-51d48c66ba8a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_a7cd1a47-a1b1-4586-a7c1-51d48c66ba8a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a7cd1a47-a1b1-4586-a7c1-51d48c66ba8a" [label=24 color="#7d3f91" fontcolor="#7d3f91" id="edge_cb7076a3-3c23-41d9-b91e-0a838e7b8f6a" style=bold]
		"task_66981bec-50b6-4e6a-b31c-9c270b7aee8d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_66981bec-50b6-4e6a-b31c-9c270b7aee8d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_66981bec-50b6-4e6a-b31c-9c270b7aee8d" [label=25 color="#7d3f91" fontcolor="#7d3f91" id="edge_0d031c4b-1cdc-458e-acea-100e018b9758" style=bold]
		"task_b0777d11-8d21-44d9-9038-4990e7514f46" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_b0777d11-8d21-44d9-9038-4990e7514f46" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b0777d11-8d21-44d9-9038-4990e7514f46" [label=26 color="#7d3f91" fontcolor="#7d3f91" id="edge_36cb6eaa-3ce2-4422-92a9-6475065ac596" style=bold]
		"task_fd1ad3f3-41bd-439b-915a-b1a4f2014225" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_fd1ad3f3-41bd-439b-915a-b1a4f2014225" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fd1ad3f3-41bd-439b-915a-b1a4f2014225" [label=27 color="#7d3f91" fontcolor="#7d3f91" id="edge_04f7657f-7d10-42ac-acba-2a4817ad073b" style=bold]
		"task_8f426c1c-1347-4583-86fe-1eb85a0abcac" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_8f426c1c-1347-4583-86fe-1eb85a0abcac" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_8f426c1c-1347-4583-86fe-1eb85a0abcac" [label=28 color="#7d3f91" fontcolor="#7d3f91" id="edge_78330c61-9174-434d-9929-3abc4db035d5" style=bold]
		"task_1fd5eceb-27cd-4cb9-babf-5e1538c4bf13" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_1fd5eceb-27cd-4cb9-babf-5e1538c4bf13" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1fd5eceb-27cd-4cb9-babf-5e1538c4bf13" [label=29 color="#7d3f91" fontcolor="#7d3f91" id="edge_7c69de3d-7a02-4425-8bd0-229e40df834f" style=bold]
		"task_846d75ce-99b5-46ea-be17-52418a23315b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_846d75ce-99b5-46ea-be17-52418a23315b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_846d75ce-99b5-46ea-be17-52418a23315b" [label=30 color="#7d3f91" fontcolor="#7d3f91" id="edge_8ebac133-1b2f-48bf-8191-6cdfd1493042" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#9a1c21" fontcolor="#ffffff" id="play_89b49929-512a-4bd2-9cf2-21eca4b61eb1" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#9a1c21" fontcolor="#9a1c21" id="edge_26e9c025-13d3-46a8-b4ef-c951c44ede4f" style=bold]
	}
}
