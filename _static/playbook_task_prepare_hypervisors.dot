digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_1de52ada [label="Play: Initial setup (1)" color="#7714b8" fontcolor="#ffffff" id=play_1de52ada shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_1de52ada [label="1 " color="#7714b8" fontcolor="#7714b8" id=edge_cd885a4c labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_467bbd3f [label="[role] Read podman secrets if running from the container" color="#7714b8" id=role_467bbd3f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_65629ad1 [label="[role] task-gather-facts" color="#7714b8" id=role_65629ad1 tooltip="task-gather-facts"]
		role_65629ad1 -> role_467bbd3f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7714b8" fontcolor="#7714b8" id=edge_79ee8dca labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3fbd1160 [label="[role] Read podman secrets if running from the container" color="#7714b8" id=role_3fbd1160 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_4af28eb4 [label="[role] task-prepare-hypervisors" color="#7714b8" id=role_4af28eb4 tooltip="task-prepare-hypervisors"]
		role_4af28eb4 -> role_3fbd1160 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#7714b8" fontcolor="#7714b8" id=edge_a9df66c3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_1de52ada -> block_6ba6b47d [label=1 color="#7714b8" fontcolor="#7714b8" id=edge_2e53d6df labeltooltip=1 tooltip=1]
		subgraph cluster_block_6ba6b47d {
			block_6ba6b47d [label="[block] Gather facts about the deployment environment" color="#7714b8" id=block_6ba6b47d labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_6ba6b47d -> role_65629ad1 [label="1 " color="#7714b8" fontcolor="#7714b8" id=edge_37478cdd labeltooltip="1 " tooltip="1 "]
		}
		play_1de52ada -> block_1ded85b2 [label=2 color="#7714b8" fontcolor="#7714b8" id=edge_7a35a57a labeltooltip=2 tooltip=2]
		subgraph cluster_block_1ded85b2 {
			block_1ded85b2 [label="[block] Prepare the hypervisors" color="#7714b8" id=block_1ded85b2 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_1ded85b2 -> role_4af28eb4 [label="1 " color="#7714b8" fontcolor="#7714b8" id=edge_0296b178 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_cce99eb6 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#399380" fontcolor="#ffffff" id=play_cce99eb6 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_cce99eb6 [label="2 " color="#399380" fontcolor="#399380" id=edge_57f901c9 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_ff66dbc1 [label="[role] Provision the libvirt services on the hypervisor" color="#399380" id=role_ff66dbc1 tooltip="Provision the libvirt services on the hypervisor"]
		task_01598a2b [label="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" color="#399380" id=task_01598a2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		role_ff66dbc1 -> task_01598a2b [label="1 " color="#399380" fontcolor="#399380" id=edge_915bc528 labeltooltip="1 " tooltip="1 "]
		task_47b61bac [label="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" color="#399380" id=task_47b61bac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		role_ff66dbc1 -> task_47b61bac [label="2 " color="#399380" fontcolor="#399380" id=edge_e2ee496b labeltooltip="2 " tooltip="2 "]
		task_348c6291 [label="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" color="#399380" id=task_348c6291 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		role_ff66dbc1 -> task_348c6291 [label="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#399380" fontcolor="#399380" id=edge_4b2968a5 labeltooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" tooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]"]
		task_cd2b56d8 [label="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" color="#399380" id=task_cd2b56d8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		role_ff66dbc1 -> task_cd2b56d8 [label="4 " color="#399380" fontcolor="#399380" id=edge_e23c0048 labeltooltip="4 " tooltip="4 "]
		task_e41d973f [label="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" color="#399380" id=task_e41d973f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		role_ff66dbc1 -> task_e41d973f [label="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#399380" fontcolor="#399380" id=edge_3cc584f7 labeltooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" tooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']"]
		task_b6b47713 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian" color="#399380" id=task_b6b47713 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian"]
		role_ff66dbc1 -> task_b6b47713 [label="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#399380" fontcolor="#399380" id=edge_36363d89 labeltooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_da8ce28c [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages list" color="#399380" id=task_da8ce28c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages list"]
		role_ff66dbc1 -> task_da8ce28c [label="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#399380" fontcolor="#399380" id=edge_95566b48 labeltooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_c8a56616 [label="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" color="#399380" id=task_c8a56616 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		role_ff66dbc1 -> task_c8a56616 [label="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#399380" fontcolor="#399380" id=edge_5e623232 labeltooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" tooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']"]
		task_42b5178a [label="kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" color="#399380" id=task_42b5178a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		role_ff66dbc1 -> task_42b5178a [label="9 " color="#399380" fontcolor="#399380" id=edge_02abaf1d labeltooltip="9 " tooltip="9 "]
		task_f0d1b2f8 [label="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" color="#399380" id=task_f0d1b2f8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		role_ff66dbc1 -> task_f0d1b2f8 [label="10 " color="#399380" fontcolor="#399380" id=edge_e6b68add labeltooltip="10 " tooltip="10 "]
		task_80612e60 [label="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" color="#399380" id=task_80612e60 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		role_ff66dbc1 -> task_80612e60 [label="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#399380" fontcolor="#399380" id=edge_9e066371 labeltooltip="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" tooltip="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]"]
		task_eabf2406 [label="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" color="#399380" id=task_eabf2406 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		role_ff66dbc1 -> task_eabf2406 [label="12 " color="#399380" fontcolor="#399380" id=edge_365cc88a labeltooltip="12 " tooltip="12 "]
		task_0788fd86 [label="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" color="#399380" id=task_0788fd86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		role_ff66dbc1 -> task_0788fd86 [label="13 " color="#399380" fontcolor="#399380" id=edge_fa8ded56 labeltooltip="13 " tooltip="13 "]
		task_18c99b81 [label="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" color="#399380" id=task_18c99b81 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		role_ff66dbc1 -> task_18c99b81 [label="14 " color="#399380" fontcolor="#399380" id=edge_5d13e1eb labeltooltip="14 " tooltip="14 "]
		task_546cff07 [label="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." color="#399380" id=task_546cff07 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		role_ff66dbc1 -> task_546cff07 [label="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" color="#399380" fontcolor="#399380" id=edge_21471d8f labeltooltip="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" tooltip="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]"]
		task_fa60e392 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" color="#399380" id=task_fa60e392 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		role_ff66dbc1 -> task_fa60e392 [label="16 [when: _result_intel_processor.rc == 0]" color="#399380" fontcolor="#399380" id=edge_28dfd64b labeltooltip="16 [when: _result_intel_processor.rc == 0]" tooltip="16 [when: _result_intel_processor.rc == 0]"]
		task_ca955820 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" color="#399380" id=task_ca955820 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		role_ff66dbc1 -> task_ca955820 [label="17 [when: _result_amd_processor.rc == 0]" color="#399380" fontcolor="#399380" id=edge_e25ee6cc labeltooltip="17 [when: _result_amd_processor.rc == 0]" tooltip="17 [when: _result_amd_processor.rc == 0]"]
		task_21bc9ae0 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" color="#399380" id=task_21bc9ae0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		role_ff66dbc1 -> task_21bc9ae0 [label="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#399380" fontcolor="#399380" id=edge_3391fc56 labeltooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_c5e8a489 [label="kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" color="#399380" id=task_c5e8a489 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		role_ff66dbc1 -> task_c5e8a489 [label="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#399380" fontcolor="#399380" id=edge_033d9ff0 labeltooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_c2569813 [label="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" color="#399380" id=task_c2569813 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		role_ff66dbc1 -> task_c2569813 [label="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#399380" fontcolor="#399380" id=edge_2ca3d686 labeltooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_4550afed [label="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" color="#399380" id=task_4550afed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		role_ff66dbc1 -> task_4550afed [label="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#399380" fontcolor="#399380" id=edge_cdaee232 labeltooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_ed62223f [label="kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" color="#399380" id=task_ed62223f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		role_ff66dbc1 -> task_ed62223f [label="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#399380" fontcolor="#399380" id=edge_f9f7fcd6 labeltooltip="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_bb136a9b [label="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" color="#399380" id=task_bb136a9b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		role_ff66dbc1 -> task_bb136a9b [label="23 " color="#399380" fontcolor="#399380" id=edge_92df11c6 labeltooltip="23 " tooltip="23 "]
		task_8630671b [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" color="#399380" id=task_8630671b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		role_ff66dbc1 -> task_8630671b [label="24 " color="#399380" fontcolor="#399380" id=edge_5ee5ad06 labeltooltip="24 " tooltip="24 "]
		task_69949770 [label="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" color="#399380" id=task_69949770 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		role_ff66dbc1 -> task_69949770 [label="25 " color="#399380" fontcolor="#399380" id=edge_09890d54 labeltooltip="25 " tooltip="25 "]
		task_d6621855 [label="kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" color="#399380" id=task_d6621855 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		role_ff66dbc1 -> task_d6621855 [label="26 " color="#399380" fontcolor="#399380" id=edge_6d97dd5e labeltooltip="26 " tooltip="26 "]
		task_c450eb06 [label="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" color="#399380" id=task_c450eb06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		role_ff66dbc1 -> task_c450eb06 [label="27 " color="#399380" fontcolor="#399380" id=edge_08dfb9b4 labeltooltip="27 " tooltip="27 "]
		task_71d175ae [label="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" color="#399380" id=task_71d175ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		role_ff66dbc1 -> task_71d175ae [label="28 " color="#399380" fontcolor="#399380" id=edge_3bdd369e labeltooltip="28 " tooltip="28 "]
		task_ab7e75f6 [label="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" color="#399380" id=task_ab7e75f6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		role_ff66dbc1 -> task_ab7e75f6 [label="29 " color="#399380" fontcolor="#399380" id=edge_1b87d43d labeltooltip="29 " tooltip="29 "]
		task_3cb0f346 [label="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair" color="#399380" id=task_3cb0f346 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair"]
		role_ff66dbc1 -> task_3cb0f346 [label="30 " color="#399380" fontcolor="#399380" id=edge_bf07eac6 labeltooltip="30 " tooltip="30 "]
		task_2c7c569a [label="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" color="#399380" id=task_2c7c569a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		role_ff66dbc1 -> task_2c7c569a [label="31 " color="#399380" fontcolor="#399380" id=edge_ce11a83e labeltooltip="31 " tooltip="31 "]
		task_b59c10b0 [label="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" color="#399380" id=task_b59c10b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		role_ff66dbc1 -> task_b59c10b0 [label="32 " color="#399380" fontcolor="#399380" id=edge_c9b3c14a labeltooltip="32 " tooltip="32 "]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_8e83cc75 [label="[role] Prepare each hypervisor in the deployment" color="#399380" id=role_8e83cc75 tooltip="Prepare each hypervisor in the deployment"]
		role_8e83cc75 -> role_ff66dbc1 [label="1 " color="#399380" fontcolor="#399380" id=edge_149595cf labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_cce99eb6 -> block_531fb309 [label=1 color="#399380" fontcolor="#399380" id=edge_50be8cc1 labeltooltip=1 tooltip=1]
		subgraph cluster_block_531fb309 {
			block_531fb309 [label="[block] Prepare individual hypervisors" color="#399380" id=block_531fb309 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_531fb309 -> role_8e83cc75 [label="2 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" color="#399380" fontcolor="#399380" id=edge_ed08f76f labeltooltip="2 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" tooltip="2 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]"]
			task_1da5496b [label="Set kubeinit_cluster_name fact" color="#399380" id=task_1da5496b shape=octagon tooltip="Set kubeinit_cluster_name fact"]
			block_531fb309 -> task_1da5496b [label="1 " color="#399380" fontcolor="#399380" id=edge_4ed71dc6 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_d089f09c [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#0269ca" fontcolor="#ffffff" id=play_d089f09c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_d089f09c [label="3 " color="#0269ca" fontcolor="#0269ca" id=edge_8376a540 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_ef0dff78 [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_ef0dff78 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_25861856 [label="[role] task-prepare-environment" color="#0269ca" id=role_25861856 tooltip="task-prepare-environment"]
		role_25861856 -> role_ef0dff78 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_19de2bab labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_4cc3210e [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_4cc3210e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f151f7b4 [label="[role] Prepare environment if not prepared" color="#0269ca" id=role_f151f7b4 tooltip="Prepare environment if not prepared"]
		role_f151f7b4 -> role_4cc3210e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_4138319a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_78846788 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0269ca" id=role_78846788 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_f4e5b1f3 [label="[role] task-cleanup-hypervisors" color="#0269ca" id=role_f4e5b1f3 tooltip="task-cleanup-hypervisors"]
		role_f4e5b1f3 -> role_f151f7b4 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_7fe2ba8b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f4e5b1f3 -> role_78846788 [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_9a929622 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_eed893a2 [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_eed893a2 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_b6d72434 [label="[role] Prepare environment if not prepared" color="#0269ca" id=role_b6d72434 tooltip="Prepare environment if not prepared"]
		role_b6d72434 -> role_eed893a2 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_dbc4c70a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d91e67fc [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0269ca" id=role_d91e67fc tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_102fbdb7 [label="[role] Cleanup hypervisors if needed" color="#0269ca" id=role_102fbdb7 tooltip="Cleanup hypervisors if needed"]
		role_102fbdb7 -> role_b6d72434 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_682c7edc labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_102fbdb7 -> role_d91e67fc [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_d65fd330 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_6828ac8c [label="[role] task-run-validations" color="#0269ca" id=role_6828ac8c tooltip="task-run-validations"]
		role_6828ac8c -> role_102fbdb7 [label="1 [when: not hypervisors_cleaned]" color="#0269ca" fontcolor="#0269ca" id=edge_ecf5b9e5 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b943fe2c [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_b943fe2c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_537f13f3 [label="[role] Prepare environment if not prepared" color="#0269ca" id=role_537f13f3 tooltip="Prepare environment if not prepared"]
		role_537f13f3 -> role_b943fe2c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_393e9ed1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_602632e2 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#0269ca" id=role_602632e2 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3e646f44 [label="[role] Cleanup hypervisors if needed" color="#0269ca" id=role_3e646f44 tooltip="Cleanup hypervisors if needed"]
		role_3e646f44 -> role_537f13f3 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_7601c415 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3e646f44 -> role_602632e2 [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_60f8b5d4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_12448f08 [label="[role] task-create-network" color="#0269ca" id=role_12448f08 tooltip="task-create-network"]
		role_12448f08 -> role_3e646f44 [label="1 [when: not hypervisors_cleaned]" color="#0269ca" fontcolor="#0269ca" id=edge_7a1a0272 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_24ae90de [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_24ae90de tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_26b6dc46 [label="[role] Prepare environment if not prepared" color="#0269ca" id=role_26b6dc46 tooltip="Prepare environment if not prepared"]
		role_26b6dc46 -> role_24ae90de [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_5feee9f0 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_875cd47a [label="[role] Prepare podman" color="#0269ca" id=role_875cd47a tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_511f5f77 [label="[role] Create systemd service for podman container" color="#0269ca" id=role_511f5f77 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_1553063b [label="[role] Configure Bind" color="#0269ca" id=role_1553063b tooltip="Configure Bind"]
		role_1553063b -> role_511f5f77 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_107623ba labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f1db5268 [label="[role] Create systemd service for podman container" color="#0269ca" id=role_f1db5268 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_3eed1c37 [label="[role] Configure Dnsmasq" color="#0269ca" id=role_3eed1c37 tooltip="Configure Dnsmasq"]
		role_3eed1c37 -> role_f1db5268 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_0ba0b97b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4749a623 [label="[role] Create systemd service for podman container" color="#0269ca" id=role_4749a623 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_663a83b3 [label="[role] Configure HAProxy" color="#0269ca" id=role_663a83b3 tooltip="Configure HAProxy"]
		role_663a83b3 -> role_4749a623 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_7d62bacf labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1947e6ba [label="[role] Create systemd service for podman container" color="#0269ca" id=role_1947e6ba tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_bb84aa5e [label="[role] Configure Nexus" color="#0269ca" id=role_bb84aa5e tooltip="Configure Nexus"]
		role_bb84aa5e -> role_1947e6ba [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_8c4eb26a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_702c89d0 [label="[role] Create systemd service for podman container" color="#0269ca" id=role_702c89d0 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_f9c81262 [label="[role] Configure Apache" color="#0269ca" id=role_f9c81262 tooltip="Configure Apache"]
		role_f9c81262 -> role_702c89d0 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_358e440b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f0a2e694 [label="[role] Create systemd service for podman container" color="#0269ca" id=role_f0a2e694 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_396a1fcd [label="[role] Configure a local container image registry" color="#0269ca" id=role_396a1fcd tooltip="Configure a local container image registry"]
		role_396a1fcd -> role_f0a2e694 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_81d16a2d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_245e9a02 [label="[role] task-create-services" color="#0269ca" id=role_245e9a02 tooltip="task-create-services"]
		role_245e9a02 -> role_26b6dc46 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_009f5751 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_245e9a02 -> role_875cd47a [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_94b5e00d labeltooltip="2 " tooltip="2 "]
		role_245e9a02 -> role_1553063b [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#0269ca" fontcolor="#0269ca" id=edge_ed2abfb8 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_245e9a02 -> role_3eed1c37 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#0269ca" fontcolor="#0269ca" id=edge_9876cd6f labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_245e9a02 -> role_663a83b3 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#0269ca" fontcolor="#0269ca" id=edge_883fd534 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_245e9a02 -> role_bb84aa5e [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#0269ca" fontcolor="#0269ca" id=edge_9b780974 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_245e9a02 -> role_f9c81262 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#0269ca" fontcolor="#0269ca" id=edge_addf929b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_245e9a02 -> role_396a1fcd [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#0269ca" fontcolor="#0269ca" id=edge_e17492e4 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_4ffb9055 [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_4ffb9055 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_34e926f6 [label="[role] Prepare environment if needed" color="#0269ca" id=role_34e926f6 tooltip="Prepare environment if needed"]
		role_34e926f6 -> role_4ffb9055 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_be5dde9c labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_58523b0a [label="[role] Gather network and host facts for guest" color="#0269ca" id=role_58523b0a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_4544a93f [label="[role] Prepare services if needed" color="#0269ca" id=role_4544a93f tooltip="Prepare services if needed"]
		role_4544a93f -> role_34e926f6 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_c168e0f1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4544a93f -> role_58523b0a [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_b18f7fd7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6fea7afe [label="[role] Create systemd service for podman container" color="#0269ca" id=role_6fea7afe tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_8459ea47 [label="[role] Gather network and host facts for provision service" color="#0269ca" id=role_8459ea47 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_3b315faa [label="[role] Setup the cluster provision container" color="#0269ca" id=role_3b315faa tooltip="Setup the cluster provision container"]
		role_3b315faa -> role_6fea7afe [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_baf7eb67 labeltooltip="1 " tooltip="1 "]
		role_3b315faa -> role_8459ea47 [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_2db62e62 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_9e8842ce [label="[role] Delegate to the distro role to prepare the cluster" color="#0269ca" id=role_9e8842ce tooltip="Delegate to the distro role to prepare the cluster"]
		role_9e8842ce -> role_3b315faa [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_9ad2611f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_5fe7eb72 [label="[role] task-prepare-cluster" color="#0269ca" id=role_5fe7eb72 tooltip="task-prepare-cluster"]
		role_5fe7eb72 -> role_4544a93f [label="1 [when: not services_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_4aaaa163 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_5fe7eb72 -> role_9e8842ce [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_ecf93b46 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_7b721b9c [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_7b721b9c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2a9a43e9 [label="[role] Prepare environment if not prepared" color="#0269ca" id=role_2a9a43e9 tooltip="Prepare environment if not prepared"]
		role_2a9a43e9 -> role_7b721b9c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_a69186d1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_ba1cdc01 [label="[role] task-download-images" color="#0269ca" id=role_ba1cdc01 tooltip="task-download-images"]
		role_ba1cdc01 -> role_2a9a43e9 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_d0d5cbe6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_852f5ed0 [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_852f5ed0 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_9c0b3f91 [label="[role] Prepare environment if needed" color="#0269ca" id=role_9c0b3f91 tooltip="Prepare environment if needed"]
		role_9c0b3f91 -> role_852f5ed0 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_367d143f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_b5b8ee39 [label="[role] Gather network and host facts for guest" color="#0269ca" id=role_b5b8ee39 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_56548f43 [label="[role] Prepare services if needed" color="#0269ca" id=role_56548f43 tooltip="Prepare services if needed"]
		role_56548f43 -> role_9c0b3f91 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_f8ca4f48 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_56548f43 -> role_b5b8ee39 [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_d378d437 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_f69be911 [label="[role] Deploy the cluster bootstrap node" color="#0269ca" id=role_f69be911 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_e1cd5c8f [label="[role] Deploy the cluster controller nodes" color="#0269ca" id=role_e1cd5c8f tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_6a0d16f4 [label="[role] Deploy the cluster compute nodes" color="#0269ca" id=role_6a0d16f4 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_f13ad177 [label="[role] Delegate to the distro role to deploy the cluster" color="#0269ca" id=role_f13ad177 tooltip="Delegate to the distro role to deploy the cluster"]
		role_f13ad177 -> role_f69be911 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_8fa9ab67 labeltooltip="1 " tooltip="1 "]
		role_f13ad177 -> role_e1cd5c8f [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_29b2bec9 labeltooltip="2 " tooltip="2 "]
		role_f13ad177 -> role_6a0d16f4 [label="3 " color="#0269ca" fontcolor="#0269ca" id=edge_1e36948e labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_6dbb3492 [label="[role] task-deploy-cluster" color="#0269ca" id=role_6dbb3492 tooltip="task-deploy-cluster"]
		role_6dbb3492 -> role_56548f43 [label="1 [when: not services_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_c6936dc2 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_6dbb3492 -> role_f13ad177 [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_9d9b8161 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0d8381bd [label="[role] Read podman secrets if running from the container" color="#0269ca" id=role_0d8381bd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_05de9ee8 [label="[role] Prepare environment if needed" color="#0269ca" id=role_05de9ee8 tooltip="Prepare environment if needed"]
		role_05de9ee8 -> role_0d8381bd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0269ca" fontcolor="#0269ca" id=edge_f0bbc444 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_149c2eb1 [label="[role] Gather network and host facts for guest" color="#0269ca" id=role_149c2eb1 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_9970486f [label="[role] Prepare services if needed" color="#0269ca" id=role_9970486f tooltip="Prepare services if needed"]
		role_9970486f -> role_05de9ee8 [label="1 [when: not environment_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_a816b9f6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9970486f -> role_149c2eb1 [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_0506e87c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_1072a6c5 [label="[role] Configure NFS" color="#0269ca" id=role_1072a6c5 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_ae400e7e [label="[role] Deploy the apps" color="#0269ca" id=role_ae400e7e tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_8ac14ba0 [label="[role] Deploy KubeVirt" color="#0269ca" id=role_8ac14ba0 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_fe92f086 [label="[role] Deploy Submariner" color="#0269ca" id=role_fe92f086 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_24318c80 [label="[role] Delegate to distro role to run post-deployment tasks" color="#0269ca" id=role_24318c80 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_24318c80 -> role_1072a6c5 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#0269ca" fontcolor="#0269ca" id=edge_253cbc96 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_24318c80 -> role_ae400e7e [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_193bf7dc labeltooltip="2 " tooltip="2 "]
		role_24318c80 -> role_8ac14ba0 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#0269ca" fontcolor="#0269ca" id=edge_a1f56e4f labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_24318c80 -> role_fe92f086 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#0269ca" fontcolor="#0269ca" id=edge_4df9e84d labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_f3c5ae0c [label="[role] task-post-deployment" color="#0269ca" id=role_f3c5ae0c tooltip="task-post-deployment"]
		role_f3c5ae0c -> role_9970486f [label="1 [when: not services_prepared]" color="#0269ca" fontcolor="#0269ca" id=edge_7b67354b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f3c5ae0c -> role_24318c80 [label="2 " color="#0269ca" fontcolor="#0269ca" id=edge_aafbb25b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_d089f09c -> block_e591c732 [label=1 color="#0269ca" fontcolor="#0269ca" id=edge_f9e707ff labeltooltip=1 tooltip=1]
		subgraph cluster_block_e591c732 {
			block_e591c732 [label="[block] Prepare the environment" color="#0269ca" id=block_e591c732 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_e591c732 -> role_25861856 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_68d85893 labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_50729e62 [label=2 color="#0269ca" fontcolor="#0269ca" id=edge_84075683 labeltooltip=2 tooltip=2]
		subgraph cluster_block_50729e62 {
			block_50729e62 [label="[block] Cleanup hypervisors" color="#0269ca" id=block_50729e62 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_50729e62 -> role_f4e5b1f3 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_76156cf1 labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_3b56bff3 [label=3 color="#0269ca" fontcolor="#0269ca" id=edge_d199d5f4 labeltooltip=3 tooltip=3]
		subgraph cluster_block_3b56bff3 {
			block_3b56bff3 [label="[block] Run validations on cluster resources" color="#0269ca" id=block_3b56bff3 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_3b56bff3 -> role_6828ac8c [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_3f664da3 labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_f8d51e45 [label=4 color="#0269ca" fontcolor="#0269ca" id=edge_fe19e664 labeltooltip=4 tooltip=4]
		subgraph cluster_block_f8d51e45 {
			block_f8d51e45 [label="[block] Create the cluster network resources" color="#0269ca" id=block_f8d51e45 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_f8d51e45 -> role_12448f08 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_2409b0aa labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_7db13390 [label=5 color="#0269ca" fontcolor="#0269ca" id=edge_9cb1c2c0 labeltooltip=5 tooltip=5]
		subgraph cluster_block_7db13390 {
			block_7db13390 [label="[block] Create services the cluster will need" color="#0269ca" id=block_7db13390 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_7db13390 -> role_245e9a02 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_259080a3 labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_70c7fb8f [label=6 color="#0269ca" fontcolor="#0269ca" id=edge_9d23a6b2 labeltooltip=6 tooltip=6]
		subgraph cluster_block_70c7fb8f {
			block_70c7fb8f [label="[block] Prepare to deploy the cluster" color="#0269ca" id=block_70c7fb8f labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_70c7fb8f -> role_5fe7eb72 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_c3aa25aa labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_8ced83e0 [label=7 color="#0269ca" fontcolor="#0269ca" id=edge_5c301ad8 labeltooltip=7 tooltip=7]
		subgraph cluster_block_8ced83e0 {
			block_8ced83e0 [label="[block] Download cloud images" color="#0269ca" id=block_8ced83e0 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_8ced83e0 -> role_ba1cdc01 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_cf1c4015 labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_a670731f [label=8 color="#0269ca" fontcolor="#0269ca" id=edge_05932d64 labeltooltip=8 tooltip=8]
		subgraph cluster_block_a670731f {
			block_a670731f [label="[block] Deploy the cluster" color="#0269ca" id=block_a670731f labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_a670731f -> role_6dbb3492 [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_971f2c90 labeltooltip="1 " tooltip="1 "]
		}
		play_d089f09c -> block_8dfbcaa8 [label=9 color="#0269ca" fontcolor="#0269ca" id=edge_ccd3870a labeltooltip=9 tooltip=9]
		subgraph cluster_block_8dfbcaa8 {
			block_8dfbcaa8 [label="[block] Run any post-deployment tasks" color="#0269ca" id=block_8dfbcaa8 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_8dfbcaa8 -> role_f3c5ae0c [label="1 " color="#0269ca" fontcolor="#0269ca" id=edge_40d17c33 labeltooltip="1 " tooltip="1 "]
		}
	}
}
