digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#88899d" fontcolor="#ffffff" id="play_9632800f-569d-4440-8a70-1ec53c93b8f8" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#88899d" fontcolor="#88899d" id="edge_e1cabb38-cc19-4f53-96e4-0893341fd04f" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#cf52f6" fontcolor="#000000" id="play_f355b3b3-5242-4b47-bbce-df152c1d5060" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#cf52f6" fontcolor="#cf52f6" id="edge_0a6ebbf9-195f-4e6c-be1a-08adf0034e51" style=bold]
		"task_a166228e-9f81-4f98-a2a2-3f0c53bd4f1c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_a166228e-9f81-4f98-a2a2-3f0c53bd4f1c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a166228e-9f81-4f98-a2a2-3f0c53bd4f1c" [label=1 color="#cf52f6" fontcolor="#cf52f6" id="edge_47df54e3-c195-40cc-b661-8a0cb92eb98c" style=bold]
		"task_1840f2e9-2395-416a-8aeb-79d265f915fa" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_1840f2e9-2395-416a-8aeb-79d265f915fa" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1840f2e9-2395-416a-8aeb-79d265f915fa" [label=2 color="#cf52f6" fontcolor="#cf52f6" id="edge_00c59422-40e8-49e8-a2a7-65216b4e1cd3" style=bold]
		"task_d9ee2c03-f711-4157-ae29-9b589cfc9fa7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_d9ee2c03-f711-4157-ae29-9b589cfc9fa7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d9ee2c03-f711-4157-ae29-9b589cfc9fa7" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#cf52f6" fontcolor="#cf52f6" id="edge_d528e067-03ce-4a30-965a-a2363a3aa17a" style=bold]
		"task_3742f10e-1524-423d-bb6c-dd4e037ce220" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_3742f10e-1524-423d-bb6c-dd4e037ce220" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3742f10e-1524-423d-bb6c-dd4e037ce220" [label=4 color="#cf52f6" fontcolor="#cf52f6" id="edge_65b190fd-6fd3-4a3a-b06d-2103ec4f647d" style=bold]
		"task_19bdd6c9-957f-4b91-8c56-74274cee52ab" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_19bdd6c9-957f-4b91-8c56-74274cee52ab" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_19bdd6c9-957f-4b91-8c56-74274cee52ab" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#cf52f6" fontcolor="#cf52f6" id="edge_b92a3988-97d9-4f44-a71f-92fdd7bf352d" style=bold]
		"task_097af8c6-de43-4623-8a40-ab35c0aa13e1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_097af8c6-de43-4623-8a40-ab35c0aa13e1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_097af8c6-de43-4623-8a40-ab35c0aa13e1" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#cf52f6" fontcolor="#cf52f6" id="edge_5ac3e90b-a478-4d24-ba44-cd1e5f5a29ba" style=bold]
		"task_2f800c09-deec-43d0-8396-6f2ef510a185" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_2f800c09-deec-43d0-8396-6f2ef510a185" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2f800c09-deec-43d0-8396-6f2ef510a185" [label=7 color="#cf52f6" fontcolor="#cf52f6" id="edge_647922e2-a48f-4974-bb86-df098f2842f4" style=bold]
		"task_43257411-fd9b-4ad7-ac05-9922ec267f2d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_43257411-fd9b-4ad7-ac05-9922ec267f2d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_43257411-fd9b-4ad7-ac05-9922ec267f2d" [label=8 color="#cf52f6" fontcolor="#cf52f6" id="edge_49c2675f-6c81-45ab-942b-3ffdfc964b09" style=bold]
		"task_518e6075-05aa-42b0-a1c5-5362f2609cba" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_518e6075-05aa-42b0-a1c5-5362f2609cba" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_518e6075-05aa-42b0-a1c5-5362f2609cba" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#cf52f6" fontcolor="#cf52f6" id="edge_c02daaca-0010-4d6e-990a-3d9d37a68fc2" style=bold]
		"task_aad737ae-d317-4b3f-99af-75751fe288b2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_aad737ae-d317-4b3f-99af-75751fe288b2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_aad737ae-d317-4b3f-99af-75751fe288b2" [label=10 color="#cf52f6" fontcolor="#cf52f6" id="edge_312d364b-31b9-47b9-b9e0-c55a42a8f7ed" style=bold]
		"task_6b19cc2b-1f27-4a46-a77c-7f2c3801ec5b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_6b19cc2b-1f27-4a46-a77c-7f2c3801ec5b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6b19cc2b-1f27-4a46-a77c-7f2c3801ec5b" [label=11 color="#cf52f6" fontcolor="#cf52f6" id="edge_66058b0b-5db5-449d-a217-20db4bffbf42" style=bold]
		"task_d2aa50a2-e349-4175-8c4e-05151e9856b6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_d2aa50a2-e349-4175-8c4e-05151e9856b6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d2aa50a2-e349-4175-8c4e-05151e9856b6" [label=12 color="#cf52f6" fontcolor="#cf52f6" id="edge_aec64750-115f-4eeb-8357-dcbd1a0dce18" style=bold]
		"task_a2c217d2-91f1-4a2c-a590-9c31844bd329" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_a2c217d2-91f1-4a2c-a590-9c31844bd329" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a2c217d2-91f1-4a2c-a590-9c31844bd329" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not kubeinit_inventory_hosted_deployment]" color="#cf52f6" fontcolor="#cf52f6" id="edge_1f05c7b5-6f09-4a42-a126-3bdfaf7e1b51" style=bold]
		"task_9d6c548e-4c6e-40ce-b26e-8abc1f2b20b8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_9d6c548e-4c6e-40ce-b26e-8abc1f2b20b8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9d6c548e-4c6e-40ce-b26e-8abc1f2b20b8" [label="14  [when: _result_intel_processor.rc == 0]" color="#cf52f6" fontcolor="#cf52f6" id="edge_5654762d-c3dd-4208-a44e-d328a8a4a55d" style=bold]
		"task_5165a9e7-d098-449d-9a9c-063cd9931f6b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_5165a9e7-d098-449d-9a9c-063cd9931f6b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5165a9e7-d098-449d-9a9c-063cd9931f6b" [label="15  [when: _result_amd_processor.rc == 0]" color="#cf52f6" fontcolor="#cf52f6" id="edge_cad0ee98-5c85-4731-a1f5-53420c1b13d7" style=bold]
		"task_d6c11866-197b-47ed-be51-ee30bc283cc7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_d6c11866-197b-47ed-be51-ee30bc283cc7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d6c11866-197b-47ed-be51-ee30bc283cc7" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cf52f6" fontcolor="#cf52f6" id="edge_cf314185-d1cd-4269-bc4d-d13aeced8375" style=bold]
		"task_ea1d2fce-7ad2-47ea-96a5-864b4761aabf" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_ea1d2fce-7ad2-47ea-96a5-864b4761aabf" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ea1d2fce-7ad2-47ea-96a5-864b4761aabf" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cf52f6" fontcolor="#cf52f6" id="edge_600e87f0-114e-4b0b-9374-12aaf0e60570" style=bold]
		"task_fbc0e17e-dd81-4951-97d0-3e22ac96048d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_fbc0e17e-dd81-4951-97d0-3e22ac96048d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fbc0e17e-dd81-4951-97d0-3e22ac96048d" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cf52f6" fontcolor="#cf52f6" id="edge_558dfb43-510f-45ca-b736-0aa1abf17d2f" style=bold]
		"task_8fd360b0-be8c-45b1-8598-b03aa3198e47" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_8fd360b0-be8c-45b1-8598-b03aa3198e47" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_8fd360b0-be8c-45b1-8598-b03aa3198e47" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cf52f6" fontcolor="#cf52f6" id="edge_f3a0603d-040e-4087-8c4e-c441e80bac06" style=bold]
		"task_c5cd3d22-fee2-4b25-99a0-9c8a49a7e51e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_c5cd3d22-fee2-4b25-99a0-9c8a49a7e51e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c5cd3d22-fee2-4b25-99a0-9c8a49a7e51e" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cf52f6" fontcolor="#cf52f6" id="edge_fbfa529f-b3dc-4002-843c-19e58d97a5cb" style=bold]
		"task_97f10df8-a435-4e10-8db1-3e43d8b434b4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_97f10df8-a435-4e10-8db1-3e43d8b434b4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_97f10df8-a435-4e10-8db1-3e43d8b434b4" [label=21 color="#cf52f6" fontcolor="#cf52f6" id="edge_52b80469-e5de-41a4-8d6c-f57c32a008ff" style=bold]
		"task_8e9f752c-8e87-4f7b-9fff-ba6f09e66e24" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_8e9f752c-8e87-4f7b-9fff-ba6f09e66e24" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_8e9f752c-8e87-4f7b-9fff-ba6f09e66e24" [label=22 color="#cf52f6" fontcolor="#cf52f6" id="edge_aff55d86-f9e6-4c9c-a534-54e45417f96a" style=bold]
		"task_248d4e90-89ac-4300-ad94-6f182332a6fe" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_248d4e90-89ac-4300-ad94-6f182332a6fe" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_248d4e90-89ac-4300-ad94-6f182332a6fe" [label=23 color="#cf52f6" fontcolor="#cf52f6" id="edge_11869ba9-2f82-45bd-ae44-5fe9fd0b20cd" style=bold]
		"task_ba76a2c7-3360-44b8-9fa6-84c20b9b0bd6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_ba76a2c7-3360-44b8-9fa6-84c20b9b0bd6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ba76a2c7-3360-44b8-9fa6-84c20b9b0bd6" [label=24 color="#cf52f6" fontcolor="#cf52f6" id="edge_eb759ef2-f8ec-4716-b828-be41b9cfe090" style=bold]
		"task_ce6f10c4-18af-4231-8588-cfaddb9b6305" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_ce6f10c4-18af-4231-8588-cfaddb9b6305" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ce6f10c4-18af-4231-8588-cfaddb9b6305" [label=25 color="#cf52f6" fontcolor="#cf52f6" id="edge_eeef993b-7939-4c23-984f-7f821eeb12e9" style=bold]
		"task_ce1ec828-ca03-43f8-ab2c-8390f42da6bf" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_ce1ec828-ca03-43f8-ab2c-8390f42da6bf" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ce1ec828-ca03-43f8-ab2c-8390f42da6bf" [label=26 color="#cf52f6" fontcolor="#cf52f6" id="edge_dda190b6-647a-48b0-8f57-25532216c0be" style=bold]
		"task_7d690aa7-026f-49a4-bf93-b409ecf89ee9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_7d690aa7-026f-49a4-bf93-b409ecf89ee9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7d690aa7-026f-49a4-bf93-b409ecf89ee9" [label=27 color="#cf52f6" fontcolor="#cf52f6" id="edge_ae0ea261-97b3-4cc9-b27e-7615c1a03022" style=bold]
		"task_ebc51a0f-da82-40dc-928a-1c9bf861aa62" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_ebc51a0f-da82-40dc-928a-1c9bf861aa62" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ebc51a0f-da82-40dc-928a-1c9bf861aa62" [label=28 color="#cf52f6" fontcolor="#cf52f6" id="edge_874b1a85-d959-464c-9f3f-9d729447e465" style=bold]
		"task_ea37f45b-fb58-492b-80b3-c24a8668657c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_ea37f45b-fb58-492b-80b3-c24a8668657c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ea37f45b-fb58-492b-80b3-c24a8668657c" [label=29 color="#cf52f6" fontcolor="#cf52f6" id="edge_e83a0018-bb86-4808-a6de-15801d39ac71" style=bold]
		"task_fc2d83f4-f945-48e1-961a-eb2e84546eff" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_fc2d83f4-f945-48e1-961a-eb2e84546eff" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fc2d83f4-f945-48e1-961a-eb2e84546eff" [label=30 color="#cf52f6" fontcolor="#cf52f6" id="edge_783335d4-8fee-4e84-8cc0-373401de401f" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#afa00c" fontcolor="#ffffff" id="play_00c41c2e-823a-4388-b774-bee7840c3fa9" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#afa00c" fontcolor="#afa00c" id="edge_051bae78-c373-4a03-8e63-801312d59de5" style=bold]
	}
}
