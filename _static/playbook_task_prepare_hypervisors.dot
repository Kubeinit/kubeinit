digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#6e8041" fontcolor="#ffffff" id="play_eae9923f-6fd3-4869-83b8-68127b441271" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#6e8041" fontcolor="#6e8041" id="edge_e21d5b3e-0a78-4c59-8ea2-ca1685fdb2bc" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#2496c1" fontcolor="#ffffff" id="play_b28304af-4ae9-49ed-956b-1af1870cdd68" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#2496c1" fontcolor="#2496c1" id="edge_279a1f60-a004-4ef3-a986-8f7fcb539abe" style=bold]
		"task_4d3f6af2-792f-40de-87b3-bbaefed78d44" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_4d3f6af2-792f-40de-87b3-bbaefed78d44" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4d3f6af2-792f-40de-87b3-bbaefed78d44" [label=1 color="#2496c1" fontcolor="#2496c1" id="edge_4237ae1d-42a4-4886-966c-18b7827e8bbf" style=bold]
		"task_5a948221-d853-48e3-8cae-9d5476500b20" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_5a948221-d853-48e3-8cae-9d5476500b20" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5a948221-d853-48e3-8cae-9d5476500b20" [label=2 color="#2496c1" fontcolor="#2496c1" id="edge_6940bba7-43c0-47c8-91c1-1c0c037303e8" style=bold]
		"task_09b0411b-58a7-418c-9fa8-52b3b125d79b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_09b0411b-58a7-418c-9fa8-52b3b125d79b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_09b0411b-58a7-418c-9fa8-52b3b125d79b" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#2496c1" fontcolor="#2496c1" id="edge_a514e34e-4878-43fe-89a4-b8f92a19a6db" style=bold]
		"task_6f215a07-004f-45a8-aa27-9592f8f94c34" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_6f215a07-004f-45a8-aa27-9592f8f94c34" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6f215a07-004f-45a8-aa27-9592f8f94c34" [label=4 color="#2496c1" fontcolor="#2496c1" id="edge_5eb5e51e-8ef3-4c53-b5d4-d37956e43d8a" style=bold]
		"task_d0df3d81-8f46-4136-b6dc-7b390755567a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_d0df3d81-8f46-4136-b6dc-7b390755567a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d0df3d81-8f46-4136-b6dc-7b390755567a" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#2496c1" fontcolor="#2496c1" id="edge_bc78fdb2-8278-4a39-af32-3e3b18aedad3" style=bold]
		"task_1028174a-91a4-4ad3-bca2-2715026960ad" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_1028174a-91a4-4ad3-bca2-2715026960ad" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1028174a-91a4-4ad3-bca2-2715026960ad" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#2496c1" fontcolor="#2496c1" id="edge_a4329fcc-7018-4eed-9b6d-fd98851cad74" style=bold]
		"task_22d06247-36b3-4e00-941b-d03245340abc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_22d06247-36b3-4e00-941b-d03245340abc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_22d06247-36b3-4e00-941b-d03245340abc" [label=7 color="#2496c1" fontcolor="#2496c1" id="edge_ace7b2ce-87b4-4e16-b152-2da8bfd67c78" style=bold]
		"task_7fa2fe74-d44a-40de-a68b-25d39cb89ab8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_7fa2fe74-d44a-40de-a68b-25d39cb89ab8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7fa2fe74-d44a-40de-a68b-25d39cb89ab8" [label=8 color="#2496c1" fontcolor="#2496c1" id="edge_62e20d44-107d-4876-9036-39cf4b6342cf" style=bold]
		"task_2fae928f-c6de-47ca-8638-9f18e44a7de1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_2fae928f-c6de-47ca-8638-9f18e44a7de1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2fae928f-c6de-47ca-8638-9f18e44a7de1" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#2496c1" fontcolor="#2496c1" id="edge_261f291f-e2db-49ab-aa12-fa14dd15bdd5" style=bold]
		"task_54ecfb34-38b0-4d57-a8d1-b9b2eb1f0d3f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_54ecfb34-38b0-4d57-a8d1-b9b2eb1f0d3f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_54ecfb34-38b0-4d57-a8d1-b9b2eb1f0d3f" [label=10 color="#2496c1" fontcolor="#2496c1" id="edge_a1925f9f-a300-480c-b4d5-477f2a0a8c58" style=bold]
		"task_b81299d9-7cca-4653-8328-f6a874c41b81" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_b81299d9-7cca-4653-8328-f6a874c41b81" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b81299d9-7cca-4653-8328-f6a874c41b81" [label=11 color="#2496c1" fontcolor="#2496c1" id="edge_e829ecb0-d3fd-4d59-8d36-aa6dc4634249" style=bold]
		"task_4b388d24-3c04-45c9-8899-81ad70666500" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_4b388d24-3c04-45c9-8899-81ad70666500" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4b388d24-3c04-45c9-8899-81ad70666500" [label=12 color="#2496c1" fontcolor="#2496c1" id="edge_22ac46c0-805d-4f0e-8dbf-b4b4c263f22e" style=bold]
		"task_de460f0f-2951-4bb0-93cf-32c5791b6067" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_de460f0f-2951-4bb0-93cf-32c5791b6067" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_de460f0f-2951-4bb0-93cf-32c5791b6067" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#2496c1" fontcolor="#2496c1" id="edge_de47f6ec-424d-4fa6-bcb1-60551a304e66" style=bold]
		"task_85f84a9a-5a28-465e-9d4f-f62047b3db31" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_85f84a9a-5a28-465e-9d4f-f62047b3db31" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_85f84a9a-5a28-465e-9d4f-f62047b3db31" [label="14  [when: _result_intel_processor.rc == 0]" color="#2496c1" fontcolor="#2496c1" id="edge_e989da7c-e540-40de-a517-63601aa0b7cd" style=bold]
		"task_577945a4-41f7-442f-a5ed-a4226f69e91d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_577945a4-41f7-442f-a5ed-a4226f69e91d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_577945a4-41f7-442f-a5ed-a4226f69e91d" [label="15  [when: _result_amd_processor.rc == 0]" color="#2496c1" fontcolor="#2496c1" id="edge_654ddba2-f8ef-467f-9890-54827ea50637" style=bold]
		"task_711c8479-ec01-4519-bab7-60bfe7727229" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_711c8479-ec01-4519-bab7-60bfe7727229" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_711c8479-ec01-4519-bab7-60bfe7727229" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#2496c1" fontcolor="#2496c1" id="edge_a0db47aa-d2e9-4f99-9e1d-c53c1b59d84f" style=bold]
		"task_37ece266-6a8f-4ff6-a43e-23b191758e7a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_37ece266-6a8f-4ff6-a43e-23b191758e7a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_37ece266-6a8f-4ff6-a43e-23b191758e7a" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#2496c1" fontcolor="#2496c1" id="edge_1cf3ee23-725b-427a-b3ce-22dbbf23e2a3" style=bold]
		"task_bbbf4b6a-ec51-4a3d-a34e-72ca1de246a2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_bbbf4b6a-ec51-4a3d-a34e-72ca1de246a2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_bbbf4b6a-ec51-4a3d-a34e-72ca1de246a2" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#2496c1" fontcolor="#2496c1" id="edge_33a2d618-143a-48e8-addb-553938b56e26" style=bold]
		"task_923b609d-ecd4-4667-971b-53ac622468d5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_923b609d-ecd4-4667-971b-53ac622468d5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_923b609d-ecd4-4667-971b-53ac622468d5" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#2496c1" fontcolor="#2496c1" id="edge_53b95031-4dac-499f-abe7-dcdc799b660e" style=bold]
		"task_4a5336a9-6491-4e03-8141-d8e6f8f8641b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_4a5336a9-6491-4e03-8141-d8e6f8f8641b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4a5336a9-6491-4e03-8141-d8e6f8f8641b" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#2496c1" fontcolor="#2496c1" id="edge_8fe237a6-2f44-4cfd-bfe8-ef35a17c094f" style=bold]
		"task_80b0b7fd-47d4-4382-8b27-704581022dfe" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_80b0b7fd-47d4-4382-8b27-704581022dfe" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_80b0b7fd-47d4-4382-8b27-704581022dfe" [label=21 color="#2496c1" fontcolor="#2496c1" id="edge_4fc2f292-3017-42e7-a3d8-0ddf51e4ace1" style=bold]
		"task_854449b7-029e-4678-97a0-2522538ce79c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_854449b7-029e-4678-97a0-2522538ce79c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_854449b7-029e-4678-97a0-2522538ce79c" [label=22 color="#2496c1" fontcolor="#2496c1" id="edge_a68cf142-8833-4159-ba9d-00b7f4982fb5" style=bold]
		"task_25ef26fc-3910-48e0-89cf-cec25a7b8c9c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_25ef26fc-3910-48e0-89cf-cec25a7b8c9c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_25ef26fc-3910-48e0-89cf-cec25a7b8c9c" [label=23 color="#2496c1" fontcolor="#2496c1" id="edge_1b570de9-9d16-4da4-89e7-6a576d26200d" style=bold]
		"task_ce6e82e8-f04b-4507-931a-351f3e735a22" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_ce6e82e8-f04b-4507-931a-351f3e735a22" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ce6e82e8-f04b-4507-931a-351f3e735a22" [label=24 color="#2496c1" fontcolor="#2496c1" id="edge_b9c7862c-1c80-4afd-85a1-ff3c06d82c0e" style=bold]
		"task_482e3e0f-3fad-466a-b913-f4e2d09b99b0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_482e3e0f-3fad-466a-b913-f4e2d09b99b0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_482e3e0f-3fad-466a-b913-f4e2d09b99b0" [label=25 color="#2496c1" fontcolor="#2496c1" id="edge_62f2efc7-cf89-431c-910e-fec208eac588" style=bold]
		"task_80cb3062-93f6-4b91-b640-dd37c7ede7f1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_80cb3062-93f6-4b91-b640-dd37c7ede7f1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_80cb3062-93f6-4b91-b640-dd37c7ede7f1" [label=26 color="#2496c1" fontcolor="#2496c1" id="edge_275aec67-f4a0-4b94-adba-6fa8602a74c1" style=bold]
		"task_e37e3afa-6185-4f83-b35e-8613923802e7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_e37e3afa-6185-4f83-b35e-8613923802e7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e37e3afa-6185-4f83-b35e-8613923802e7" [label=27 color="#2496c1" fontcolor="#2496c1" id="edge_b0c6e674-985e-4a25-bb59-c297e9fbe85f" style=bold]
		"task_23e423b7-c2a7-4227-a885-8128a39606b0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_23e423b7-c2a7-4227-a885-8128a39606b0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_23e423b7-c2a7-4227-a885-8128a39606b0" [label=28 color="#2496c1" fontcolor="#2496c1" id="edge_2bd043ab-1bdd-408c-a73c-39f4954a782d" style=bold]
		"task_a6d49989-8f98-4264-a10e-37bdd57ac305" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_a6d49989-8f98-4264-a10e-37bdd57ac305" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a6d49989-8f98-4264-a10e-37bdd57ac305" [label=29 color="#2496c1" fontcolor="#2496c1" id="edge_9de0be69-ba6c-40b2-9368-79887fc7efed" style=bold]
		"task_82b32e0e-1964-4000-8c2f-2aa38b66edc5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_82b32e0e-1964-4000-8c2f-2aa38b66edc5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_82b32e0e-1964-4000-8c2f-2aa38b66edc5" [label=30 color="#2496c1" fontcolor="#2496c1" id="edge_3e7cdc6d-34ef-406c-bda1-2c91eed1abe6" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#9848c8" fontcolor="#ffffff" id="play_875a59a2-a546-44ec-bbf4-ca2a7a8b05df" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#9848c8" fontcolor="#9848c8" id="edge_3a826b72-07eb-4514-9466-f86fc21fec33" style=bold]
	}
}
