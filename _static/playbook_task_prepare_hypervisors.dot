digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_6ca4d98c [label="Play: Initial setup (1)" color="#1bb189" fontcolor="#ffffff" id=play_6ca4d98c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_6ca4d98c [label="1 " color="#1bb189" fontcolor="#1bb189" id=edge_73327b7e labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_b3e387fe [label="[role] Read podman secrets if running from the container" color="#1bb189" id=role_b3e387fe tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_5ed9efba [label="[role] task-gather-facts" color="#1bb189" id=role_5ed9efba tooltip="task-gather-facts"]
		role_5ed9efba -> role_b3e387fe [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1bb189" fontcolor="#1bb189" id=edge_e928805a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6b81729b [label="[role] Read podman secrets if running from the container" color="#1bb189" id=role_6b81729b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_ff56ca1f [label="[role] task-prepare-hypervisors" color="#1bb189" id=role_ff56ca1f tooltip="task-prepare-hypervisors"]
		role_ff56ca1f -> role_6b81729b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1bb189" fontcolor="#1bb189" id=edge_dc0e526d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_6ca4d98c -> block_eafa2fae [label=1 color="#1bb189" fontcolor="#1bb189" id=edge_ac57e240 labeltooltip=1 tooltip=1]
		subgraph cluster_block_eafa2fae {
			block_eafa2fae [label="[block] Gather facts about the deployment environment" color="#1bb189" id=block_eafa2fae labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_eafa2fae -> role_5ed9efba [label="1 " color="#1bb189" fontcolor="#1bb189" id=edge_39ac179a labeltooltip="1 " tooltip="1 "]
		}
		play_6ca4d98c -> block_381ff349 [label=2 color="#1bb189" fontcolor="#1bb189" id=edge_10daced2 labeltooltip=2 tooltip=2]
		subgraph cluster_block_381ff349 {
			block_381ff349 [label="[block] Prepare the hypervisors" color="#1bb189" id=block_381ff349 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_381ff349 -> role_ff56ca1f [label="1 " color="#1bb189" fontcolor="#1bb189" id=edge_cd0a90c1 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_54972a07 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#9a18b4" fontcolor="#ffffff" id=play_54972a07 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_54972a07 [label="2 " color="#9a18b4" fontcolor="#9a18b4" id=edge_b52e05b0 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_8d41e10e [label="[role] Provision the libvirt services on the hypervisor" color="#9a18b4" id=role_8d41e10e tooltip="Provision the libvirt services on the hypervisor"]
		task_85ecef48 [label="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" color="#9a18b4" id=task_85ecef48 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		role_8d41e10e -> task_85ecef48 [label="1 " color="#9a18b4" fontcolor="#9a18b4" id=edge_5d2040a5 labeltooltip="1 " tooltip="1 "]
		task_77108dc9 [label="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" color="#9a18b4" id=task_77108dc9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		role_8d41e10e -> task_77108dc9 [label="2 " color="#9a18b4" fontcolor="#9a18b4" id=edge_65cd7332 labeltooltip="2 " tooltip="2 "]
		task_0e696966 [label="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" color="#9a18b4" id=task_0e696966 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		role_8d41e10e -> task_0e696966 [label="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#9a18b4" fontcolor="#9a18b4" id=edge_2dadb699 labeltooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" tooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]"]
		task_d517bde4 [label="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" color="#9a18b4" id=task_d517bde4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		role_8d41e10e -> task_d517bde4 [label="4 " color="#9a18b4" fontcolor="#9a18b4" id=edge_f24d2868 labeltooltip="4 " tooltip="4 "]
		task_8aec936b [label="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" color="#9a18b4" id=task_8aec936b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		role_8d41e10e -> task_8aec936b [label="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#9a18b4" fontcolor="#9a18b4" id=edge_0b5dae8c labeltooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" tooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']"]
		task_adc240e0 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian" color="#9a18b4" id=task_adc240e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian"]
		role_8d41e10e -> task_adc240e0 [label="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#9a18b4" fontcolor="#9a18b4" id=edge_026373fa labeltooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_37340884 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages list" color="#9a18b4" id=task_37340884 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages list"]
		role_8d41e10e -> task_37340884 [label="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#9a18b4" fontcolor="#9a18b4" id=edge_dbb75299 labeltooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_a7c25eb6 [label="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" color="#9a18b4" id=task_a7c25eb6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		role_8d41e10e -> task_a7c25eb6 [label="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#9a18b4" fontcolor="#9a18b4" id=edge_e0dd5346 labeltooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" tooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']"]
		task_65339b9f [label="kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" color="#9a18b4" id=task_65339b9f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		role_8d41e10e -> task_65339b9f [label="9 " color="#9a18b4" fontcolor="#9a18b4" id=edge_073e8bf9 labeltooltip="9 " tooltip="9 "]
		task_e1d4c924 [label="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" color="#9a18b4" id=task_e1d4c924 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		role_8d41e10e -> task_e1d4c924 [label="10 " color="#9a18b4" fontcolor="#9a18b4" id=edge_fe6c676f labeltooltip="10 " tooltip="10 "]
		task_6e759d7a [label="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" color="#9a18b4" id=task_6e759d7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		role_8d41e10e -> task_6e759d7a [label="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#9a18b4" fontcolor="#9a18b4" id=edge_f2d3e643 labeltooltip="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" tooltip="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]"]
		task_f9a6bda9 [label="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" color="#9a18b4" id=task_f9a6bda9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		role_8d41e10e -> task_f9a6bda9 [label="12 " color="#9a18b4" fontcolor="#9a18b4" id=edge_25970986 labeltooltip="12 " tooltip="12 "]
		task_f553a013 [label="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" color="#9a18b4" id=task_f553a013 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		role_8d41e10e -> task_f553a013 [label="13 " color="#9a18b4" fontcolor="#9a18b4" id=edge_a114c8a3 labeltooltip="13 " tooltip="13 "]
		task_eb906191 [label="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" color="#9a18b4" id=task_eb906191 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		role_8d41e10e -> task_eb906191 [label="14 " color="#9a18b4" fontcolor="#9a18b4" id=edge_5804c126 labeltooltip="14 " tooltip="14 "]
		task_97ea47b7 [label="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." color="#9a18b4" id=task_97ea47b7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		role_8d41e10e -> task_97ea47b7 [label="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" color="#9a18b4" fontcolor="#9a18b4" id=edge_0be197d3 labeltooltip="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" tooltip="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]"]
		task_9b64586e [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" color="#9a18b4" id=task_9b64586e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		role_8d41e10e -> task_9b64586e [label="16 [when: _result_intel_processor.rc == 0]" color="#9a18b4" fontcolor="#9a18b4" id=edge_5dc0e66b labeltooltip="16 [when: _result_intel_processor.rc == 0]" tooltip="16 [when: _result_intel_processor.rc == 0]"]
		task_da4bc87e [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" color="#9a18b4" id=task_da4bc87e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		role_8d41e10e -> task_da4bc87e [label="17 [when: _result_amd_processor.rc == 0]" color="#9a18b4" fontcolor="#9a18b4" id=edge_d3dbe55b labeltooltip="17 [when: _result_amd_processor.rc == 0]" tooltip="17 [when: _result_amd_processor.rc == 0]"]
		task_4a1f52f0 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" color="#9a18b4" id=task_4a1f52f0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		role_8d41e10e -> task_4a1f52f0 [label="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#9a18b4" fontcolor="#9a18b4" id=edge_def42c2e labeltooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_8dd69355 [label="kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" color="#9a18b4" id=task_8dd69355 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		role_8d41e10e -> task_8dd69355 [label="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#9a18b4" fontcolor="#9a18b4" id=edge_fa24731b labeltooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_61dbae0e [label="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" color="#9a18b4" id=task_61dbae0e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		role_8d41e10e -> task_61dbae0e [label="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#9a18b4" fontcolor="#9a18b4" id=edge_fd0ff9fd labeltooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_8ea80949 [label="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" color="#9a18b4" id=task_8ea80949 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		role_8d41e10e -> task_8ea80949 [label="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#9a18b4" fontcolor="#9a18b4" id=edge_ba346bcb labeltooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_8c3cb9c7 [label="kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" color="#9a18b4" id=task_8c3cb9c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		role_8d41e10e -> task_8c3cb9c7 [label="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#9a18b4" fontcolor="#9a18b4" id=edge_b98d8d05 labeltooltip="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_1a108bf8 [label="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" color="#9a18b4" id=task_1a108bf8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		role_8d41e10e -> task_1a108bf8 [label="23 " color="#9a18b4" fontcolor="#9a18b4" id=edge_5573ffd2 labeltooltip="23 " tooltip="23 "]
		task_5cb84f15 [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" color="#9a18b4" id=task_5cb84f15 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		role_8d41e10e -> task_5cb84f15 [label="24 " color="#9a18b4" fontcolor="#9a18b4" id=edge_cc756486 labeltooltip="24 " tooltip="24 "]
		task_f1267d6e [label="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" color="#9a18b4" id=task_f1267d6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		role_8d41e10e -> task_f1267d6e [label="25 " color="#9a18b4" fontcolor="#9a18b4" id=edge_66775dea labeltooltip="25 " tooltip="25 "]
		task_1fbaaaf6 [label="kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" color="#9a18b4" id=task_1fbaaaf6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		role_8d41e10e -> task_1fbaaaf6 [label="26 " color="#9a18b4" fontcolor="#9a18b4" id=edge_49d43330 labeltooltip="26 " tooltip="26 "]
		task_3e39ab14 [label="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" color="#9a18b4" id=task_3e39ab14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		role_8d41e10e -> task_3e39ab14 [label="27 " color="#9a18b4" fontcolor="#9a18b4" id=edge_e77e77df labeltooltip="27 " tooltip="27 "]
		task_21ef19e0 [label="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" color="#9a18b4" id=task_21ef19e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		role_8d41e10e -> task_21ef19e0 [label="28 " color="#9a18b4" fontcolor="#9a18b4" id=edge_d7769641 labeltooltip="28 " tooltip="28 "]
		task_d6ea2d18 [label="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" color="#9a18b4" id=task_d6ea2d18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		role_8d41e10e -> task_d6ea2d18 [label="29 " color="#9a18b4" fontcolor="#9a18b4" id=edge_7dd00f36 labeltooltip="29 " tooltip="29 "]
		task_56f73186 [label="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair" color="#9a18b4" id=task_56f73186 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair"]
		role_8d41e10e -> task_56f73186 [label="30 " color="#9a18b4" fontcolor="#9a18b4" id=edge_8423e7e5 labeltooltip="30 " tooltip="30 "]
		task_bb2766d7 [label="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" color="#9a18b4" id=task_bb2766d7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		role_8d41e10e -> task_bb2766d7 [label="31 " color="#9a18b4" fontcolor="#9a18b4" id=edge_707cd16a labeltooltip="31 " tooltip="31 "]
		task_c8a80942 [label="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" color="#9a18b4" id=task_c8a80942 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		role_8d41e10e -> task_c8a80942 [label="32 " color="#9a18b4" fontcolor="#9a18b4" id=edge_e5275d29 labeltooltip="32 " tooltip="32 "]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_2a88f2b3 [label="[role] Prepare each hypervisor in the deployment" color="#9a18b4" id=role_2a88f2b3 tooltip="Prepare each hypervisor in the deployment"]
		role_2a88f2b3 -> role_8d41e10e [label="1 " color="#9a18b4" fontcolor="#9a18b4" id=edge_559dcca7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_54972a07 -> block_98c292c9 [label=1 color="#9a18b4" fontcolor="#9a18b4" id=edge_68e0bef6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_98c292c9 {
			block_98c292c9 [label="[block] Prepare individual hypervisors" color="#9a18b4" id=block_98c292c9 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_98c292c9 -> role_2a88f2b3 [label="2 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" color="#9a18b4" fontcolor="#9a18b4" id=edge_7e2255a2 labeltooltip="2 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" tooltip="2 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]"]
			task_020376a8 [label="Set kubeinit_cluster_name fact" color="#9a18b4" id=task_020376a8 shape=octagon tooltip="Set kubeinit_cluster_name fact"]
			block_98c292c9 -> task_020376a8 [label="1 " color="#9a18b4" fontcolor="#9a18b4" id=edge_dc7cc664 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_fde798a5 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#32a824" fontcolor="#ffffff" id=play_fde798a5 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_fde798a5 [label="3 " color="#32a824" fontcolor="#32a824" id=edge_1c0f3987 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_b1ecd2b4 [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_b1ecd2b4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_a1a44804 [label="[role] task-prepare-environment" color="#32a824" id=role_a1a44804 tooltip="task-prepare-environment"]
		role_a1a44804 -> role_b1ecd2b4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_01c453aa labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_aa4eda30 [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_aa4eda30 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_12806186 [label="[role] Prepare environment if not prepared" color="#32a824" id=role_12806186 tooltip="Prepare environment if not prepared"]
		role_12806186 -> role_aa4eda30 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_7dc096cd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_3b11b39d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#32a824" id=role_3b11b39d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_bc4485bc [label="[role] task-cleanup-hypervisors" color="#32a824" id=role_bc4485bc tooltip="task-cleanup-hypervisors"]
		role_bc4485bc -> role_12806186 [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_48410de5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bc4485bc -> role_3b11b39d [label="2 " color="#32a824" fontcolor="#32a824" id=edge_519de7f5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2c389677 [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_2c389677 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_dee6ef84 [label="[role] Prepare environment if not prepared" color="#32a824" id=role_dee6ef84 tooltip="Prepare environment if not prepared"]
		role_dee6ef84 -> role_2c389677 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_5942577f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_58acda26 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#32a824" id=role_58acda26 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3be8433a [label="[role] Cleanup hypervisors if needed" color="#32a824" id=role_3be8433a tooltip="Cleanup hypervisors if needed"]
		role_3be8433a -> role_dee6ef84 [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_06a97f76 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3be8433a -> role_58acda26 [label="2 " color="#32a824" fontcolor="#32a824" id=edge_d60121b3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_c345d341 [label="[role] task-run-validations" color="#32a824" id=role_c345d341 tooltip="task-run-validations"]
		role_c345d341 -> role_3be8433a [label="1 [when: not hypervisors_cleaned]" color="#32a824" fontcolor="#32a824" id=edge_49df9fe0 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_48f4ba87 [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_48f4ba87 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_7a08ab56 [label="[role] Prepare environment if not prepared" color="#32a824" id=role_7a08ab56 tooltip="Prepare environment if not prepared"]
		role_7a08ab56 -> role_48f4ba87 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_5be01f2f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_19bbc0a1 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#32a824" id=role_19bbc0a1 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_f1f0ce90 [label="[role] Cleanup hypervisors if needed" color="#32a824" id=role_f1f0ce90 tooltip="Cleanup hypervisors if needed"]
		role_f1f0ce90 -> role_7a08ab56 [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_89fa367d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f1f0ce90 -> role_19bbc0a1 [label="2 " color="#32a824" fontcolor="#32a824" id=edge_a6577c24 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_7fa3ca77 [label="[role] task-create-network" color="#32a824" id=role_7fa3ca77 tooltip="task-create-network"]
		role_7fa3ca77 -> role_f1f0ce90 [label="1 [when: not hypervisors_cleaned]" color="#32a824" fontcolor="#32a824" id=edge_d3a016d5 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_47823476 [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_47823476 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ac8ddc8e [label="[role] Prepare environment if not prepared" color="#32a824" id=role_ac8ddc8e tooltip="Prepare environment if not prepared"]
		role_ac8ddc8e -> role_47823476 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_c65c4aaa labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_0d0df76c [label="[role] Prepare podman" color="#32a824" id=role_0d0df76c tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_cb2886be [label="[role] Create systemd service for podman container" color="#32a824" id=role_cb2886be tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_0fb643b7 [label="[role] Configure Bind" color="#32a824" id=role_0fb643b7 tooltip="Configure Bind"]
		role_0fb643b7 -> role_cb2886be [label="1 " color="#32a824" fontcolor="#32a824" id=edge_11974edc labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_cec67839 [label="[role] Create systemd service for podman container" color="#32a824" id=role_cec67839 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_0a1cf3fe [label="[role] Configure Dnsmasq" color="#32a824" id=role_0a1cf3fe tooltip="Configure Dnsmasq"]
		role_0a1cf3fe -> role_cec67839 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_e5c3010a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_59d0946a [label="[role] Create systemd service for podman container" color="#32a824" id=role_59d0946a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_6256db8c [label="[role] Configure HAProxy" color="#32a824" id=role_6256db8c tooltip="Configure HAProxy"]
		role_6256db8c -> role_59d0946a [label="1 " color="#32a824" fontcolor="#32a824" id=edge_1e5256ad labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_cd659bcd [label="[role] Create systemd service for podman container" color="#32a824" id=role_cd659bcd tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_9b9b9541 [label="[role] Configure Nexus" color="#32a824" id=role_9b9b9541 tooltip="Configure Nexus"]
		role_9b9b9541 -> role_cd659bcd [label="1 " color="#32a824" fontcolor="#32a824" id=edge_00b00830 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_703d3cff [label="[role] Create systemd service for podman container" color="#32a824" id=role_703d3cff tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_98bb48b9 [label="[role] Configure Apache" color="#32a824" id=role_98bb48b9 tooltip="Configure Apache"]
		role_98bb48b9 -> role_703d3cff [label="1 " color="#32a824" fontcolor="#32a824" id=edge_fa1bdc23 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1582c340 [label="[role] Create systemd service for podman container" color="#32a824" id=role_1582c340 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_de95fbc1 [label="[role] Configure a local container image registry" color="#32a824" id=role_de95fbc1 tooltip="Configure a local container image registry"]
		role_de95fbc1 -> role_1582c340 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_9be8839d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_99b6b5bd [label="[role] task-create-services" color="#32a824" id=role_99b6b5bd tooltip="task-create-services"]
		role_99b6b5bd -> role_ac8ddc8e [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_e57fab75 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_99b6b5bd -> role_0d0df76c [label="2 " color="#32a824" fontcolor="#32a824" id=edge_787e6f84 labeltooltip="2 " tooltip="2 "]
		role_99b6b5bd -> role_0fb643b7 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#32a824" fontcolor="#32a824" id=edge_7e67676d labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_99b6b5bd -> role_0a1cf3fe [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#32a824" fontcolor="#32a824" id=edge_561ccf38 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_99b6b5bd -> role_6256db8c [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#32a824" fontcolor="#32a824" id=edge_6d5eb47a labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_99b6b5bd -> role_9b9b9541 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#32a824" fontcolor="#32a824" id=edge_727ea5a8 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_99b6b5bd -> role_98bb48b9 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#32a824" fontcolor="#32a824" id=edge_48d2c8fd labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_99b6b5bd -> role_de95fbc1 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#32a824" fontcolor="#32a824" id=edge_c96b0300 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_601fa3ae [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_601fa3ae tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_14df4ac3 [label="[role] Prepare environment if needed" color="#32a824" id=role_14df4ac3 tooltip="Prepare environment if needed"]
		role_14df4ac3 -> role_601fa3ae [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_5c0532e6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_e3390c85 [label="[role] Gather network and host facts for guest" color="#32a824" id=role_e3390c85 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_1a16fefd [label="[role] Prepare services if needed" color="#32a824" id=role_1a16fefd tooltip="Prepare services if needed"]
		role_1a16fefd -> role_14df4ac3 [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_c9af28b8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1a16fefd -> role_e3390c85 [label="2 " color="#32a824" fontcolor="#32a824" id=edge_11c78e0c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_fbb900da [label="[role] Create systemd service for podman container" color="#32a824" id=role_fbb900da tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_595c2d7b [label="[role] Gather network and host facts for provision service" color="#32a824" id=role_595c2d7b tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_05da2b04 [label="[role] Setup the cluster provision container" color="#32a824" id=role_05da2b04 tooltip="Setup the cluster provision container"]
		role_05da2b04 -> role_fbb900da [label="1 " color="#32a824" fontcolor="#32a824" id=edge_6a1130a3 labeltooltip="1 " tooltip="1 "]
		role_05da2b04 -> role_595c2d7b [label="2 " color="#32a824" fontcolor="#32a824" id=edge_b9ea9695 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_ea74232d [label="[role] Delegate to the distro role to prepare the cluster" color="#32a824" id=role_ea74232d tooltip="Delegate to the distro role to prepare the cluster"]
		role_ea74232d -> role_05da2b04 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_0f7f5070 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_72b392c3 [label="[role] task-prepare-cluster" color="#32a824" id=role_72b392c3 tooltip="task-prepare-cluster"]
		role_72b392c3 -> role_1a16fefd [label="1 [when: not services_prepared]" color="#32a824" fontcolor="#32a824" id=edge_6f6bfcbe labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_72b392c3 -> role_ea74232d [label="2 " color="#32a824" fontcolor="#32a824" id=edge_c7a241c4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_42019092 [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_42019092 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_893e1832 [label="[role] Prepare environment if not prepared" color="#32a824" id=role_893e1832 tooltip="Prepare environment if not prepared"]
		role_893e1832 -> role_42019092 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_eb316793 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_d7f6f0dc [label="[role] task-download-images" color="#32a824" id=role_d7f6f0dc tooltip="task-download-images"]
		role_d7f6f0dc -> role_893e1832 [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_1e4bf54f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_986ab977 [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_986ab977 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_c2c591ca [label="[role] Prepare environment if needed" color="#32a824" id=role_c2c591ca tooltip="Prepare environment if needed"]
		role_c2c591ca -> role_986ab977 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_84ad0204 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_a7a308bd [label="[role] Gather network and host facts for guest" color="#32a824" id=role_a7a308bd tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_77af3214 [label="[role] Prepare services if needed" color="#32a824" id=role_77af3214 tooltip="Prepare services if needed"]
		role_77af3214 -> role_c2c591ca [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_5c294a14 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_77af3214 -> role_a7a308bd [label="2 " color="#32a824" fontcolor="#32a824" id=edge_c99a8a69 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_ae1f0bdd [label="[role] Deploy the cluster bootstrap node" color="#32a824" id=role_ae1f0bdd tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_0488cfaa [label="[role] Deploy the cluster controller nodes" color="#32a824" id=role_0488cfaa tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_dc4fc97f [label="[role] Deploy the cluster compute nodes" color="#32a824" id=role_dc4fc97f tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_f0538b2f [label="[role] Delegate to the distro role to deploy the cluster" color="#32a824" id=role_f0538b2f tooltip="Delegate to the distro role to deploy the cluster"]
		role_f0538b2f -> role_ae1f0bdd [label="1 " color="#32a824" fontcolor="#32a824" id=edge_94712abe labeltooltip="1 " tooltip="1 "]
		role_f0538b2f -> role_0488cfaa [label="2 " color="#32a824" fontcolor="#32a824" id=edge_fff79cf7 labeltooltip="2 " tooltip="2 "]
		role_f0538b2f -> role_dc4fc97f [label="3 " color="#32a824" fontcolor="#32a824" id=edge_798f3e0e labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_c8cf90ca [label="[role] task-deploy-cluster" color="#32a824" id=role_c8cf90ca tooltip="task-deploy-cluster"]
		role_c8cf90ca -> role_77af3214 [label="1 [when: not services_prepared]" color="#32a824" fontcolor="#32a824" id=edge_15783985 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c8cf90ca -> role_f0538b2f [label="2 " color="#32a824" fontcolor="#32a824" id=edge_2bf5d256 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3ecad91d [label="[role] Read podman secrets if running from the container" color="#32a824" id=role_3ecad91d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_fd59c309 [label="[role] Prepare environment if needed" color="#32a824" id=role_fd59c309 tooltip="Prepare environment if needed"]
		role_fd59c309 -> role_3ecad91d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#32a824" fontcolor="#32a824" id=edge_bfd0cc90 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_983faadd [label="[role] Gather network and host facts for guest" color="#32a824" id=role_983faadd tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_b6466864 [label="[role] Prepare services if needed" color="#32a824" id=role_b6466864 tooltip="Prepare services if needed"]
		role_b6466864 -> role_fd59c309 [label="1 [when: not environment_prepared]" color="#32a824" fontcolor="#32a824" id=edge_3670d7c9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b6466864 -> role_983faadd [label="2 " color="#32a824" fontcolor="#32a824" id=edge_f3470f1b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_ce2565d7 [label="[role] Configure NFS" color="#32a824" id=role_ce2565d7 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_5dce4895 [label="[role] Deploy the apps" color="#32a824" id=role_5dce4895 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_2f148fe6 [label="[role] Deploy KubeVirt" color="#32a824" id=role_2f148fe6 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_d8d167d9 [label="[role] Deploy Submariner" color="#32a824" id=role_d8d167d9 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_119ca416 [label="[role] Delegate to distro role to run post-deployment tasks" color="#32a824" id=role_119ca416 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_119ca416 -> role_ce2565d7 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#32a824" fontcolor="#32a824" id=edge_f9f53fac labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_119ca416 -> role_5dce4895 [label="2 " color="#32a824" fontcolor="#32a824" id=edge_c52ca129 labeltooltip="2 " tooltip="2 "]
		role_119ca416 -> role_2f148fe6 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#32a824" fontcolor="#32a824" id=edge_1124105d labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_119ca416 -> role_d8d167d9 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#32a824" fontcolor="#32a824" id=edge_ee218ca5 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_69ed9e07 [label="[role] task-post-deployment" color="#32a824" id=role_69ed9e07 tooltip="task-post-deployment"]
		role_69ed9e07 -> role_b6466864 [label="1 [when: not services_prepared]" color="#32a824" fontcolor="#32a824" id=edge_5c3c8c5f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_69ed9e07 -> role_119ca416 [label="2 " color="#32a824" fontcolor="#32a824" id=edge_a1e275a2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_fde798a5 -> block_275e21be [label=1 color="#32a824" fontcolor="#32a824" id=edge_8be3aa01 labeltooltip=1 tooltip=1]
		subgraph cluster_block_275e21be {
			block_275e21be [label="[block] Prepare the environment" color="#32a824" id=block_275e21be labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_275e21be -> role_a1a44804 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_12f4e10d labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_b72433d9 [label=2 color="#32a824" fontcolor="#32a824" id=edge_d1fa106a labeltooltip=2 tooltip=2]
		subgraph cluster_block_b72433d9 {
			block_b72433d9 [label="[block] Cleanup hypervisors" color="#32a824" id=block_b72433d9 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_b72433d9 -> role_bc4485bc [label="1 " color="#32a824" fontcolor="#32a824" id=edge_6b528273 labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_abde39db [label=3 color="#32a824" fontcolor="#32a824" id=edge_a681cacb labeltooltip=3 tooltip=3]
		subgraph cluster_block_abde39db {
			block_abde39db [label="[block] Run validations on cluster resources" color="#32a824" id=block_abde39db labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_abde39db -> role_c345d341 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_fdfc9b4f labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_e1a89e03 [label=4 color="#32a824" fontcolor="#32a824" id=edge_26db1b9c labeltooltip=4 tooltip=4]
		subgraph cluster_block_e1a89e03 {
			block_e1a89e03 [label="[block] Create the cluster network resources" color="#32a824" id=block_e1a89e03 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_e1a89e03 -> role_7fa3ca77 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_293f227f labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_8f49536a [label=5 color="#32a824" fontcolor="#32a824" id=edge_d32d0ad2 labeltooltip=5 tooltip=5]
		subgraph cluster_block_8f49536a {
			block_8f49536a [label="[block] Create services the cluster will need" color="#32a824" id=block_8f49536a labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_8f49536a -> role_99b6b5bd [label="1 " color="#32a824" fontcolor="#32a824" id=edge_10aeb17b labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_eed937ab [label=6 color="#32a824" fontcolor="#32a824" id=edge_d472f465 labeltooltip=6 tooltip=6]
		subgraph cluster_block_eed937ab {
			block_eed937ab [label="[block] Prepare to deploy the cluster" color="#32a824" id=block_eed937ab labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_eed937ab -> role_72b392c3 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_add9102f labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_10a0f8ec [label=7 color="#32a824" fontcolor="#32a824" id=edge_5aa68143 labeltooltip=7 tooltip=7]
		subgraph cluster_block_10a0f8ec {
			block_10a0f8ec [label="[block] Download cloud images" color="#32a824" id=block_10a0f8ec labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_10a0f8ec -> role_d7f6f0dc [label="1 " color="#32a824" fontcolor="#32a824" id=edge_20423ef3 labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_454ebd7f [label=8 color="#32a824" fontcolor="#32a824" id=edge_88de6d09 labeltooltip=8 tooltip=8]
		subgraph cluster_block_454ebd7f {
			block_454ebd7f [label="[block] Deploy the cluster" color="#32a824" id=block_454ebd7f labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_454ebd7f -> role_c8cf90ca [label="1 " color="#32a824" fontcolor="#32a824" id=edge_916bf7d4 labeltooltip="1 " tooltip="1 "]
		}
		play_fde798a5 -> block_3182e880 [label=9 color="#32a824" fontcolor="#32a824" id=edge_7de3e222 labeltooltip=9 tooltip=9]
		subgraph cluster_block_3182e880 {
			block_3182e880 [label="[block] Run any post-deployment tasks" color="#32a824" id=block_3182e880 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_3182e880 -> role_69ed9e07 [label="1 " color="#32a824" fontcolor="#32a824" id=edge_bc08598a labeltooltip="1 " tooltip="1 "]
		}
	}
}
