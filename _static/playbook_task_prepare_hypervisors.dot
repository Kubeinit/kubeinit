digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#8b1e8c" fontcolor="#ffffff" id="play_8d9e7809-4ed4-4c88-ae9b-87c14bf9e7bf" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#8b1e8c" fontcolor="#8b1e8c" id="edge_8a012bcd-2173-44f0-8d88-039f4e482706" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#ba8a04" fontcolor="#ffffff" id="play_f794f250-06e4-4465-862f-9767083e0dcf" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#ba8a04" fontcolor="#ba8a04" id="edge_5dbd2f8e-e019-47be-93c4-bc21cf1b3d30" style=bold]
		"task_3519ff73-dc94-4c01-948b-9102bf63a0c1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_3519ff73-dc94-4c01-948b-9102bf63a0c1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3519ff73-dc94-4c01-948b-9102bf63a0c1" [label=1 color="#ba8a04" fontcolor="#ba8a04" id="edge_754cc981-976a-486f-bfb3-3144f2a9440a" style=bold]
		"task_49ae1041-3e94-477e-9c63-01e19e0fe560" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_49ae1041-3e94-477e-9c63-01e19e0fe560" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_49ae1041-3e94-477e-9c63-01e19e0fe560" [label=2 color="#ba8a04" fontcolor="#ba8a04" id="edge_c385d5c6-ee41-4546-be6d-20038e6c39e0" style=bold]
		"task_faeb33ad-fb9b-4ac0-867a-4f59118a61f9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_faeb33ad-fb9b-4ac0-867a-4f59118a61f9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_faeb33ad-fb9b-4ac0-867a-4f59118a61f9" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#ba8a04" fontcolor="#ba8a04" id="edge_9c534482-c619-4b9b-a6dc-8fc7f59d49ec" style=bold]
		"task_f2a6404c-6a09-4e69-811b-64f4271a1a17" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_f2a6404c-6a09-4e69-811b-64f4271a1a17" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f2a6404c-6a09-4e69-811b-64f4271a1a17" [label=4 color="#ba8a04" fontcolor="#ba8a04" id="edge_ae041b50-d682-4abb-bab9-810d7ec02ad2" style=bold]
		"task_9ddeb103-4545-440a-ad01-8677582aa6cd" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_9ddeb103-4545-440a-ad01-8677582aa6cd" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9ddeb103-4545-440a-ad01-8677582aa6cd" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#ba8a04" fontcolor="#ba8a04" id="edge_1cc0ba1d-e07e-401c-bdc1-c66b999a649d" style=bold]
		"task_f8839333-e568-416e-8dcc-9d676939f6d4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_f8839333-e568-416e-8dcc-9d676939f6d4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f8839333-e568-416e-8dcc-9d676939f6d4" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#ba8a04" fontcolor="#ba8a04" id="edge_1fe76b0f-332c-42ee-9270-70cd0ad17852" style=bold]
		"task_edf0d14a-7ffd-4f79-81af-cdad472be588" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_edf0d14a-7ffd-4f79-81af-cdad472be588" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_edf0d14a-7ffd-4f79-81af-cdad472be588" [label=7 color="#ba8a04" fontcolor="#ba8a04" id="edge_8ea15370-f491-4ad2-8ba9-c551a0303168" style=bold]
		"task_31da6f0e-fcbc-4ff4-adc9-1a70a29e43a9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_31da6f0e-fcbc-4ff4-adc9-1a70a29e43a9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_31da6f0e-fcbc-4ff4-adc9-1a70a29e43a9" [label=8 color="#ba8a04" fontcolor="#ba8a04" id="edge_48185fdb-5a54-4561-946c-1ab6656b319f" style=bold]
		"task_63c44d20-1331-48ad-8cff-58ea6978e220" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_63c44d20-1331-48ad-8cff-58ea6978e220" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_63c44d20-1331-48ad-8cff-58ea6978e220" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#ba8a04" fontcolor="#ba8a04" id="edge_ba2356cb-e37a-433f-946a-0e0229c79b73" style=bold]
		"task_83430093-646f-4286-b94e-15cd023fc206" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_83430093-646f-4286-b94e-15cd023fc206" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_83430093-646f-4286-b94e-15cd023fc206" [label=10 color="#ba8a04" fontcolor="#ba8a04" id="edge_4f3ca300-de6e-4ec5-9b8a-25cb848ba8d5" style=bold]
		"task_b9f0f41a-7bb7-4219-8abc-9a1dd315b1e8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_b9f0f41a-7bb7-4219-8abc-9a1dd315b1e8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b9f0f41a-7bb7-4219-8abc-9a1dd315b1e8" [label=11 color="#ba8a04" fontcolor="#ba8a04" id="edge_427e9a01-5331-4cf5-9829-6969417cc75e" style=bold]
		"task_d837111f-6996-4787-bba7-8b547bb9f58c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_d837111f-6996-4787-bba7-8b547bb9f58c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d837111f-6996-4787-bba7-8b547bb9f58c" [label=12 color="#ba8a04" fontcolor="#ba8a04" id="edge_241a9e65-6b7e-4304-99c4-71fb85fada0e" style=bold]
		"task_b8d5386f-8d3c-486d-a025-058f8e79f05f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_b8d5386f-8d3c-486d-a025-058f8e79f05f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b8d5386f-8d3c-486d-a025-058f8e79f05f" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#ba8a04" fontcolor="#ba8a04" id="edge_c506d243-768a-4454-92fc-bf4872b99511" style=bold]
		"task_a6555cde-1b7f-46b4-9e87-5ca9a749237c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_a6555cde-1b7f-46b4-9e87-5ca9a749237c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a6555cde-1b7f-46b4-9e87-5ca9a749237c" [label="14  [when: _result_intel_processor.rc == 0]" color="#ba8a04" fontcolor="#ba8a04" id="edge_58952915-d249-4719-ac3e-1d1b19620ca1" style=bold]
		"task_3138621b-6081-4a22-895d-be548193243d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_3138621b-6081-4a22-895d-be548193243d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3138621b-6081-4a22-895d-be548193243d" [label="15  [when: _result_amd_processor.rc == 0]" color="#ba8a04" fontcolor="#ba8a04" id="edge_d2544e8e-db79-4bed-87ec-aca795959b41" style=bold]
		"task_f3c5cbeb-9ab1-4dc5-ae22-251cf2d1634c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_f3c5cbeb-9ab1-4dc5-ae22-251cf2d1634c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f3c5cbeb-9ab1-4dc5-ae22-251cf2d1634c" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#ba8a04" fontcolor="#ba8a04" id="edge_c9837431-8071-41b0-8a60-f2106ac3a303" style=bold]
		"task_7372c0a5-89bd-4df5-8e8a-2b51b34787de" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_7372c0a5-89bd-4df5-8e8a-2b51b34787de" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7372c0a5-89bd-4df5-8e8a-2b51b34787de" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#ba8a04" fontcolor="#ba8a04" id="edge_1dfb93b4-b303-4828-a8f9-f28609106576" style=bold]
		"task_45f85309-c606-4f47-9c10-e3d6c260dd4b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_45f85309-c606-4f47-9c10-e3d6c260dd4b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_45f85309-c606-4f47-9c10-e3d6c260dd4b" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#ba8a04" fontcolor="#ba8a04" id="edge_4b12621d-9efe-439d-a363-f3821553d171" style=bold]
		"task_e4614ec0-41fe-4610-a13b-f98dbca1c871" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_e4614ec0-41fe-4610-a13b-f98dbca1c871" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e4614ec0-41fe-4610-a13b-f98dbca1c871" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#ba8a04" fontcolor="#ba8a04" id="edge_aa657b16-e54c-449e-bad7-9a70f96cc839" style=bold]
		"task_ead8b4e7-96a4-4825-8afc-9bdb12a22da8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_ead8b4e7-96a4-4825-8afc-9bdb12a22da8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ead8b4e7-96a4-4825-8afc-9bdb12a22da8" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#ba8a04" fontcolor="#ba8a04" id="edge_feb5b850-e9e1-4a59-8521-613d618e71a1" style=bold]
		"task_dcb9895e-52b0-4b6e-9343-d06b4cfa822c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_dcb9895e-52b0-4b6e-9343-d06b4cfa822c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_dcb9895e-52b0-4b6e-9343-d06b4cfa822c" [label=21 color="#ba8a04" fontcolor="#ba8a04" id="edge_d4e28928-8614-432d-9ddf-863c553d0f46" style=bold]
		"task_34653314-f520-4c81-a744-d1ab493fc5f3" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_34653314-f520-4c81-a744-d1ab493fc5f3" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_34653314-f520-4c81-a744-d1ab493fc5f3" [label=22 color="#ba8a04" fontcolor="#ba8a04" id="edge_33c8f936-96f0-4417-bd09-bb5c9d9b6600" style=bold]
		"task_2c4f591c-e9fc-4fc4-802e-d83828c50a45" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_2c4f591c-e9fc-4fc4-802e-d83828c50a45" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2c4f591c-e9fc-4fc4-802e-d83828c50a45" [label=23 color="#ba8a04" fontcolor="#ba8a04" id="edge_81cf7fe5-d05e-45c5-9779-25a12a4ed0ba" style=bold]
		"task_c4907ff4-6c31-47d1-a2cd-73a9b88fc87b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_c4907ff4-6c31-47d1-a2cd-73a9b88fc87b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c4907ff4-6c31-47d1-a2cd-73a9b88fc87b" [label=24 color="#ba8a04" fontcolor="#ba8a04" id="edge_ab4dc7b9-d84b-4819-b9e9-39787eeac296" style=bold]
		"task_0dc06390-6eea-46d9-a0a5-89d6b23bf85a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_0dc06390-6eea-46d9-a0a5-89d6b23bf85a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0dc06390-6eea-46d9-a0a5-89d6b23bf85a" [label=25 color="#ba8a04" fontcolor="#ba8a04" id="edge_b3e65147-b80a-4896-a745-3cd03f1d386f" style=bold]
		"task_0f53b0bb-1ca1-4265-982e-fdb8520233a0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_0f53b0bb-1ca1-4265-982e-fdb8520233a0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0f53b0bb-1ca1-4265-982e-fdb8520233a0" [label=26 color="#ba8a04" fontcolor="#ba8a04" id="edge_b4607fcb-6d03-42bb-8672-0c17760e7b26" style=bold]
		"task_f7df066d-ee2f-4757-b81a-47937a235f73" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_f7df066d-ee2f-4757-b81a-47937a235f73" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f7df066d-ee2f-4757-b81a-47937a235f73" [label=27 color="#ba8a04" fontcolor="#ba8a04" id="edge_511fbd0e-e657-4c95-bc0a-65d9f8ed5eb9" style=bold]
		"task_319f86e4-9926-41b7-aecd-71e8dc2c61e1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_319f86e4-9926-41b7-aecd-71e8dc2c61e1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_319f86e4-9926-41b7-aecd-71e8dc2c61e1" [label=28 color="#ba8a04" fontcolor="#ba8a04" id="edge_22001f06-1032-46f4-94c6-d5de884cf297" style=bold]
		"task_ed803688-ab97-45d5-b102-bf80380066e5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_ed803688-ab97-45d5-b102-bf80380066e5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ed803688-ab97-45d5-b102-bf80380066e5" [label=29 color="#ba8a04" fontcolor="#ba8a04" id="edge_3184f05a-2c02-4b30-8b40-22b4a63d99e6" style=bold]
		"task_6d109203-425c-4c22-a294-5d112ddf7042" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_6d109203-425c-4c22-a294-5d112ddf7042" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6d109203-425c-4c22-a294-5d112ddf7042" [label=30 color="#ba8a04" fontcolor="#ba8a04" id="edge_6dc2e5a4-bdd8-4794-94f7-67d5bca07a8e" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#7a0fc6" fontcolor="#ffffff" id="play_973fd9f9-1182-4d16-be3a-2a9539a6e4f0" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#7a0fc6" fontcolor="#7a0fc6" id="edge_cd13704d-2946-43bd-8f30-15d00d776ef0" style=bold]
	}
}
