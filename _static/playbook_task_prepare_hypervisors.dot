digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#36758e" fontcolor="#ffffff" id="play_a6ba7df1-3d19-45af-9add-63ba30aa64fa" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#36758e" fontcolor="#36758e" id="edge_6b556af5-1d63-4062-a002-b8714a3e9d6c" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#57b58e" fontcolor="#ffffff" id="play_324336f0-516e-4076-b708-404c8f5e907a" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#57b58e" fontcolor="#57b58e" id="edge_5f240a09-521d-4078-9cfb-cab1aca58c87" style=bold]
		"task_4457fe2b-bd8f-4952-a9d0-4fc4a78bd22f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_4457fe2b-bd8f-4952-a9d0-4fc4a78bd22f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4457fe2b-bd8f-4952-a9d0-4fc4a78bd22f" [label=1 color="#57b58e" fontcolor="#57b58e" id="edge_20a22af3-78d2-4fd7-8403-8443f1e8220d" style=bold]
		"task_34286d43-3dca-4035-95b6-98e9af49717a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_34286d43-3dca-4035-95b6-98e9af49717a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_34286d43-3dca-4035-95b6-98e9af49717a" [label=2 color="#57b58e" fontcolor="#57b58e" id="edge_4f9fced9-b658-4133-b90b-faebdd762ee6" style=bold]
		"task_f3ecf79b-40b5-426e-a0af-4159c28ac752" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_f3ecf79b-40b5-426e-a0af-4159c28ac752" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f3ecf79b-40b5-426e-a0af-4159c28ac752" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#57b58e" fontcolor="#57b58e" id="edge_5f262478-d237-4810-8a51-dadb8142c4ee" style=bold]
		"task_3444b80c-13f9-4f07-b232-bf427a1984eb" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_3444b80c-13f9-4f07-b232-bf427a1984eb" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3444b80c-13f9-4f07-b232-bf427a1984eb" [label=4 color="#57b58e" fontcolor="#57b58e" id="edge_aae1547f-0d24-48a8-a60a-7eae1f903741" style=bold]
		"task_52b5ac14-cd3e-4f28-9c1b-8af72422766d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_52b5ac14-cd3e-4f28-9c1b-8af72422766d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_52b5ac14-cd3e-4f28-9c1b-8af72422766d" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#57b58e" fontcolor="#57b58e" id="edge_858c5823-8c8f-40df-9849-e275e83aec82" style=bold]
		"task_64e162a3-263d-4bbb-a272-11abe173e184" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_64e162a3-263d-4bbb-a272-11abe173e184" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_64e162a3-263d-4bbb-a272-11abe173e184" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#57b58e" fontcolor="#57b58e" id="edge_b06a3991-1240-4bd4-b0dd-cd3f1ba368cd" style=bold]
		"task_64d5eeb6-d9bb-47c1-a361-8cb1ec0bb779" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_64d5eeb6-d9bb-47c1-a361-8cb1ec0bb779" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_64d5eeb6-d9bb-47c1-a361-8cb1ec0bb779" [label=7 color="#57b58e" fontcolor="#57b58e" id="edge_90d9707f-7aa4-4a67-ac0a-3e4a9d45b0b7" style=bold]
		"task_45f2ba85-8994-4222-8554-a8e00481a769" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_45f2ba85-8994-4222-8554-a8e00481a769" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_45f2ba85-8994-4222-8554-a8e00481a769" [label=8 color="#57b58e" fontcolor="#57b58e" id="edge_0b75a442-8c54-491a-90c3-b2983b528c51" style=bold]
		"task_8addac59-9418-42cf-b1e7-f010e03d043e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_8addac59-9418-42cf-b1e7-f010e03d043e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_8addac59-9418-42cf-b1e7-f010e03d043e" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#57b58e" fontcolor="#57b58e" id="edge_231b0701-5adf-4c89-b9ac-f4f37894b5f4" style=bold]
		"task_a86f8efa-8367-45cf-a6ee-345d8e0b436b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_a86f8efa-8367-45cf-a6ee-345d8e0b436b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a86f8efa-8367-45cf-a6ee-345d8e0b436b" [label=10 color="#57b58e" fontcolor="#57b58e" id="edge_c6dfce99-73d2-4a03-8344-232120ec435e" style=bold]
		"task_0223e3d2-e095-4370-bcb5-816e8a7fa75e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_0223e3d2-e095-4370-bcb5-816e8a7fa75e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0223e3d2-e095-4370-bcb5-816e8a7fa75e" [label=11 color="#57b58e" fontcolor="#57b58e" id="edge_3ea71927-1f5b-43ce-8668-e1511b58f51d" style=bold]
		"task_5e1d21e2-4442-4d04-9fc8-3b90a7c64493" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_5e1d21e2-4442-4d04-9fc8-3b90a7c64493" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5e1d21e2-4442-4d04-9fc8-3b90a7c64493" [label=12 color="#57b58e" fontcolor="#57b58e" id="edge_524e0414-44df-4237-9c48-d072d2920457" style=bold]
		"task_0ccfb331-8a5a-4825-b0ca-2de3aab61dc1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_0ccfb331-8a5a-4825-b0ca-2de3aab61dc1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0ccfb331-8a5a-4825-b0ca-2de3aab61dc1" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#57b58e" fontcolor="#57b58e" id="edge_cf721998-a81a-4618-83db-5c60b4e1b94c" style=bold]
		"task_9a457490-3317-481e-a827-167f28a16970" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_9a457490-3317-481e-a827-167f28a16970" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9a457490-3317-481e-a827-167f28a16970" [label="14  [when: _result_intel_processor.rc == 0]" color="#57b58e" fontcolor="#57b58e" id="edge_67950a6b-8dd1-4ec3-a6b8-69c2f4b02f9c" style=bold]
		"task_c471693a-4741-444e-b46e-68b0288c1bb6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_c471693a-4741-444e-b46e-68b0288c1bb6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c471693a-4741-444e-b46e-68b0288c1bb6" [label="15  [when: _result_amd_processor.rc == 0]" color="#57b58e" fontcolor="#57b58e" id="edge_5d88b50c-878b-4997-939c-bdd218e7a326" style=bold]
		"task_07c6d32b-4067-49f4-b17b-0dfb7d32ce08" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_07c6d32b-4067-49f4-b17b-0dfb7d32ce08" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_07c6d32b-4067-49f4-b17b-0dfb7d32ce08" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#57b58e" fontcolor="#57b58e" id="edge_4f0903c8-8f63-48ad-a113-526c87bf1532" style=bold]
		"task_e188abab-2d7e-4179-a562-0eba39bc5dfd" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_e188abab-2d7e-4179-a562-0eba39bc5dfd" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e188abab-2d7e-4179-a562-0eba39bc5dfd" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#57b58e" fontcolor="#57b58e" id="edge_8be66333-0abc-49af-aef6-f791e7ff6ef1" style=bold]
		"task_ca85cafa-e12f-4b38-a66a-544557793525" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_ca85cafa-e12f-4b38-a66a-544557793525" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ca85cafa-e12f-4b38-a66a-544557793525" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#57b58e" fontcolor="#57b58e" id="edge_acdfbeb6-72b0-4a37-b588-48fd8241c78a" style=bold]
		"task_0eb19c1c-3275-426d-abca-6842afb27942" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_0eb19c1c-3275-426d-abca-6842afb27942" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0eb19c1c-3275-426d-abca-6842afb27942" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#57b58e" fontcolor="#57b58e" id="edge_9fe2e52e-98b5-41e2-9138-3548fab21092" style=bold]
		"task_0b6130ef-c64f-4f47-81ca-122e8a3908d6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_0b6130ef-c64f-4f47-81ca-122e8a3908d6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0b6130ef-c64f-4f47-81ca-122e8a3908d6" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#57b58e" fontcolor="#57b58e" id="edge_fc87e25b-45b7-47d6-a338-4d8ceb178ef6" style=bold]
		"task_cece084b-8cd5-4adf-ae2e-976a35b54955" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_cece084b-8cd5-4adf-ae2e-976a35b54955" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_cece084b-8cd5-4adf-ae2e-976a35b54955" [label=21 color="#57b58e" fontcolor="#57b58e" id="edge_1d8843ad-3c51-4cb2-af7c-cb0bbcade001" style=bold]
		"task_5bf7d363-f456-47d1-9492-d45eb41feab1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_5bf7d363-f456-47d1-9492-d45eb41feab1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5bf7d363-f456-47d1-9492-d45eb41feab1" [label=22 color="#57b58e" fontcolor="#57b58e" id="edge_2b99732c-56ee-4e8f-af25-5511b4140b1a" style=bold]
		"task_63c88f09-917e-4b09-bb0e-a4ca96e43270" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_63c88f09-917e-4b09-bb0e-a4ca96e43270" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_63c88f09-917e-4b09-bb0e-a4ca96e43270" [label=23 color="#57b58e" fontcolor="#57b58e" id="edge_f739f9c8-4ead-43ea-923a-76d8fc13fdd9" style=bold]
		"task_4a32285a-25a0-4323-87a6-4c8219d7add0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_4a32285a-25a0-4323-87a6-4c8219d7add0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4a32285a-25a0-4323-87a6-4c8219d7add0" [label=24 color="#57b58e" fontcolor="#57b58e" id="edge_904bb1bd-6745-4350-bb02-ca63c7e93ba9" style=bold]
		"task_3820968e-f9c0-4452-926b-d5714f7062d9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_3820968e-f9c0-4452-926b-d5714f7062d9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3820968e-f9c0-4452-926b-d5714f7062d9" [label=25 color="#57b58e" fontcolor="#57b58e" id="edge_60d85eb9-37ed-467c-bba1-fe8664b5e8a1" style=bold]
		"task_4ff86642-1fb9-4906-9c01-05d50e26aa2b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_4ff86642-1fb9-4906-9c01-05d50e26aa2b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4ff86642-1fb9-4906-9c01-05d50e26aa2b" [label=26 color="#57b58e" fontcolor="#57b58e" id="edge_a490ab8f-ea15-4f88-93d5-0c4918e0ca44" style=bold]
		"task_75c822c8-4225-41a6-9af9-ea30f5bafc2b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_75c822c8-4225-41a6-9af9-ea30f5bafc2b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_75c822c8-4225-41a6-9af9-ea30f5bafc2b" [label=27 color="#57b58e" fontcolor="#57b58e" id="edge_7ba153ce-d80a-4437-932b-40230b7d1a00" style=bold]
		"task_398d9d22-f345-4586-a24d-3eb07bb440ea" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_398d9d22-f345-4586-a24d-3eb07bb440ea" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_398d9d22-f345-4586-a24d-3eb07bb440ea" [label=28 color="#57b58e" fontcolor="#57b58e" id="edge_bf88629e-7bc2-4242-a8ee-d46a2b74fd3c" style=bold]
		"task_a7064a8c-c849-42cb-8cd0-d73c8ca8a1de" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_a7064a8c-c849-42cb-8cd0-d73c8ca8a1de" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a7064a8c-c849-42cb-8cd0-d73c8ca8a1de" [label=29 color="#57b58e" fontcolor="#57b58e" id="edge_a527df18-0022-4ae8-aef6-d0b799165bbd" style=bold]
		"task_45ae7e97-29cb-4a43-a730-ee13727d4576" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_45ae7e97-29cb-4a43-a730-ee13727d4576" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_45ae7e97-29cb-4a43-a730-ee13727d4576" [label=30 color="#57b58e" fontcolor="#57b58e" id="edge_ec91ef03-8d17-4168-9bc7-f01ac2142091" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#b922aa" fontcolor="#ffffff" id="play_09e65a0e-6ba1-4d80-9ea3-61db4bd807a9" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#b922aa" fontcolor="#b922aa" id="edge_70fc9fbd-0bba-4bd9-9ee1-ff2411cf3787" style=bold]
	}
}
