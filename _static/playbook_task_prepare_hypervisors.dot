digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_d7dcc1c0 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#a02c37" fontcolor="#ffffff" id=play_d7dcc1c0 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_d7dcc1c0 [label="1 " color="#a02c37" fontcolor="#a02c37" id=edge_8d7e8c53 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_66df5af5 [label="[role] Gather kubeinit secrets" color="#a02c37" id=role_66df5af5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_e6984277 [label="[role] Gather additional facts from localhost for kubeinit" color="#a02c37" id=role_e6984277 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_26c21f81 [label="[role] Create ssh config file from template" color="#a02c37" id=role_26c21f81 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_7a1a0814 [label="[role] task-gather-facts" color="#a02c37" id=role_7a1a0814 tooltip="task-gather-facts"]
		role_7a1a0814 -> role_66df5af5 [label="1 " color="#a02c37" fontcolor="#a02c37" id=edge_a6a0c08f labeltooltip="1 " tooltip="1 "]
		role_7a1a0814 -> role_e6984277 [label="2 " color="#a02c37" fontcolor="#a02c37" id=edge_d6ab3844 labeltooltip="2 " tooltip="2 "]
		role_7a1a0814 -> role_26c21f81 [label="3 " color="#a02c37" fontcolor="#a02c37" id=edge_292c135d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_df5f2b23 [label="[role] Gather kubeinit secrets" color="#a02c37" id=role_df5f2b23 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_28decd14 [label="[role] Gather additional facts from localhost for kubeinit" color="#a02c37" id=role_28decd14 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d8b0897f [label="[role] Create ssh config file from template" color="#a02c37" id=role_d8b0897f tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_996776ec [label="[role] task-prepare-hypervisors" color="#a02c37" id=role_996776ec tooltip="task-prepare-hypervisors"]
		role_996776ec -> role_df5f2b23 [label="1 " color="#a02c37" fontcolor="#a02c37" id=edge_4655ffe3 labeltooltip="1 " tooltip="1 "]
		role_996776ec -> role_28decd14 [label="2 " color="#a02c37" fontcolor="#a02c37" id=edge_254f74e4 labeltooltip="2 " tooltip="2 "]
		role_996776ec -> role_d8b0897f [label="3 " color="#a02c37" fontcolor="#a02c37" id=edge_c966a245 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_d7dcc1c0 -> block_bc4b2266 [label=1 color="#a02c37" fontcolor="#a02c37" id=edge_625c9f74 labeltooltip=1 tooltip=1]
		subgraph cluster_block_bc4b2266 {
			block_bc4b2266 [label="[block] Gather facts about the deployment environment" color="#a02c37" id=block_bc4b2266 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_bc4b2266 -> role_7a1a0814 [label="1 " color="#a02c37" fontcolor="#a02c37" id=edge_0b22695a labeltooltip="1 " tooltip="1 "]
		}
		play_d7dcc1c0 -> block_4235c119 [label=2 color="#a02c37" fontcolor="#a02c37" id=edge_146e9ec2 labeltooltip=2 tooltip=2]
		subgraph cluster_block_4235c119 {
			block_4235c119 [label="[block] Prepare the hypervisors" color="#a02c37" id=block_4235c119 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_4235c119 -> role_996776ec [label="1 " color="#a02c37" fontcolor="#a02c37" id=edge_fc5f5496 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_740ece47 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#01cbb0" fontcolor="#ffffff" id=play_740ece47 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_740ece47 [label="2 " color="#01cbb0" fontcolor="#01cbb0" id=edge_55fa60eb labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_4e332e2f [label="[role] Provision the libvirt services on the hypervisor" color="#01cbb0" id=role_4e332e2f tooltip="Provision the libvirt services on the hypervisor"]
		task_0312e73b [label="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" color="#01cbb0" id=task_0312e73b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		role_4e332e2f -> task_0312e73b [label="1 " color="#01cbb0" fontcolor="#01cbb0" id=edge_52033070 labeltooltip="1 " tooltip="1 "]
		task_3b49965a [label="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" color="#01cbb0" id=task_3b49965a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		role_4e332e2f -> task_3b49965a [label="2 " color="#01cbb0" fontcolor="#01cbb0" id=edge_902b61d3 labeltooltip="2 " tooltip="2 "]
		task_83a8f0d6 [label="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" color="#01cbb0" id=task_83a8f0d6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		role_4e332e2f -> task_83a8f0d6 [label="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#01cbb0" fontcolor="#01cbb0" id=edge_19430988 labeltooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" tooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]"]
		task_50191c96 [label="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" color="#01cbb0" id=task_50191c96 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		role_4e332e2f -> task_50191c96 [label="4 " color="#01cbb0" fontcolor="#01cbb0" id=edge_343dd133 labeltooltip="4 " tooltip="4 "]
		task_d7ec4a57 [label="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" color="#01cbb0" id=task_d7ec4a57 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		role_4e332e2f -> task_d7ec4a57 [label="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#01cbb0" fontcolor="#01cbb0" id=edge_1f5a4a90 labeltooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" tooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']"]
		task_7cffbc0c [label="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian" color="#01cbb0" id=task_7cffbc0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian"]
		role_4e332e2f -> task_7cffbc0c [label="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#01cbb0" fontcolor="#01cbb0" id=edge_232770fe labeltooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_b0faf5f5 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages list" color="#01cbb0" id=task_b0faf5f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages list"]
		role_4e332e2f -> task_b0faf5f5 [label="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#01cbb0" fontcolor="#01cbb0" id=edge_55d6f238 labeltooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
		task_425c2aa7 [label="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" color="#01cbb0" id=task_425c2aa7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		role_4e332e2f -> task_425c2aa7 [label="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#01cbb0" fontcolor="#01cbb0" id=edge_c35a9c57 labeltooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" tooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']"]
		task_19e1c344 [label="kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" color="#01cbb0" id=task_19e1c344 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		role_4e332e2f -> task_19e1c344 [label="9 " color="#01cbb0" fontcolor="#01cbb0" id=edge_c6db74db labeltooltip="9 " tooltip="9 "]
		task_adf72586 [label="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" color="#01cbb0" id=task_adf72586 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		role_4e332e2f -> task_adf72586 [label="10 " color="#01cbb0" fontcolor="#01cbb0" id=edge_9e555d05 labeltooltip="10 " tooltip="10 "]
		task_b877ce3b [label="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" color="#01cbb0" id=task_b877ce3b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		role_4e332e2f -> task_b877ce3b [label="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#01cbb0" fontcolor="#01cbb0" id=edge_7cc449f0 labeltooltip="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" tooltip="11 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]"]
		task_1d3b9d84 [label="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" color="#01cbb0" id=task_1d3b9d84 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		role_4e332e2f -> task_1d3b9d84 [label="12 " color="#01cbb0" fontcolor="#01cbb0" id=edge_e687c443 labeltooltip="12 " tooltip="12 "]
		task_c0343dae [label="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" color="#01cbb0" id=task_c0343dae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		role_4e332e2f -> task_c0343dae [label="13 " color="#01cbb0" fontcolor="#01cbb0" id=edge_561b0957 labeltooltip="13 " tooltip="13 "]
		task_815a36ff [label="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" color="#01cbb0" id=task_815a36ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		role_4e332e2f -> task_815a36ff [label="14 " color="#01cbb0" fontcolor="#01cbb0" id=edge_4532b22f labeltooltip="14 " tooltip="14 "]
		task_02e0464e [label="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." color="#01cbb0" id=task_02e0464e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		role_4e332e2f -> task_02e0464e [label="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" color="#01cbb0" fontcolor="#01cbb0" id=edge_29d1993b labeltooltip="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" tooltip="15 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]"]
		task_7a44c5d7 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" color="#01cbb0" id=task_7a44c5d7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		role_4e332e2f -> task_7a44c5d7 [label="16 [when: _result_intel_processor.rc == 0]" color="#01cbb0" fontcolor="#01cbb0" id=edge_e118588b labeltooltip="16 [when: _result_intel_processor.rc == 0]" tooltip="16 [when: _result_intel_processor.rc == 0]"]
		task_f7889577 [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" color="#01cbb0" id=task_f7889577 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		role_4e332e2f -> task_f7889577 [label="17 [when: _result_amd_processor.rc == 0]" color="#01cbb0" fontcolor="#01cbb0" id=edge_d0129d35 labeltooltip="17 [when: _result_amd_processor.rc == 0]" tooltip="17 [when: _result_amd_processor.rc == 0]"]
		task_d33164ba [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" color="#01cbb0" id=task_d33164ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		role_4e332e2f -> task_d33164ba [label="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#01cbb0" fontcolor="#01cbb0" id=edge_fec5e2e3 labeltooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_24936934 [label="kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" color="#01cbb0" id=task_24936934 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		role_4e332e2f -> task_24936934 [label="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#01cbb0" fontcolor="#01cbb0" id=edge_8b703816 labeltooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_5f46cf08 [label="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" color="#01cbb0" id=task_5f46cf08 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		role_4e332e2f -> task_5f46cf08 [label="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#01cbb0" fontcolor="#01cbb0" id=edge_410d9ab0 labeltooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_54a7d711 [label="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" color="#01cbb0" id=task_54a7d711 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		role_4e332e2f -> task_54a7d711 [label="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#01cbb0" fontcolor="#01cbb0" id=edge_03ae172f labeltooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_729433cb [label="kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" color="#01cbb0" id=task_729433cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		role_4e332e2f -> task_729433cb [label="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#01cbb0" fontcolor="#01cbb0" id=edge_1994a92e labeltooltip="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="22 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
		task_27008190 [label="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" color="#01cbb0" id=task_27008190 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		role_4e332e2f -> task_27008190 [label="23 " color="#01cbb0" fontcolor="#01cbb0" id=edge_c401a565 labeltooltip="23 " tooltip="23 "]
		task_4f7cb89f [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" color="#01cbb0" id=task_4f7cb89f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		role_4e332e2f -> task_4f7cb89f [label="24 " color="#01cbb0" fontcolor="#01cbb0" id=edge_80315137 labeltooltip="24 " tooltip="24 "]
		task_70c42cff [label="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" color="#01cbb0" id=task_70c42cff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		role_4e332e2f -> task_70c42cff [label="25 " color="#01cbb0" fontcolor="#01cbb0" id=edge_26dbd696 labeltooltip="25 " tooltip="25 "]
		task_c15a7688 [label="kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" color="#01cbb0" id=task_c15a7688 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		role_4e332e2f -> task_c15a7688 [label="26 " color="#01cbb0" fontcolor="#01cbb0" id=edge_5c991459 labeltooltip="26 " tooltip="26 "]
		task_8e8da901 [label="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" color="#01cbb0" id=task_8e8da901 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		role_4e332e2f -> task_8e8da901 [label="27 " color="#01cbb0" fontcolor="#01cbb0" id=edge_13f56178 labeltooltip="27 " tooltip="27 "]
		task_33a820ae [label="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" color="#01cbb0" id=task_33a820ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		role_4e332e2f -> task_33a820ae [label="28 " color="#01cbb0" fontcolor="#01cbb0" id=edge_48a8be76 labeltooltip="28 " tooltip="28 "]
		task_919ad4e6 [label="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" color="#01cbb0" id=task_919ad4e6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		role_4e332e2f -> task_919ad4e6 [label="29 " color="#01cbb0" fontcolor="#01cbb0" id=edge_6ab84666 labeltooltip="29 " tooltip="29 "]
		task_32891389 [label="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair" color="#01cbb0" id=task_32891389 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair"]
		role_4e332e2f -> task_32891389 [label="30 " color="#01cbb0" fontcolor="#01cbb0" id=edge_9800efed labeltooltip="30 " tooltip="30 "]
		task_e69379a8 [label="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" color="#01cbb0" id=task_e69379a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		role_4e332e2f -> task_e69379a8 [label="31 " color="#01cbb0" fontcolor="#01cbb0" id=edge_503e8367 labeltooltip="31 " tooltip="31 "]
		task_0ea928c6 [label="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" color="#01cbb0" id=task_0ea928c6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		role_4e332e2f -> task_0ea928c6 [label="32 " color="#01cbb0" fontcolor="#01cbb0" id=edge_0d76d6fe labeltooltip="32 " tooltip="32 "]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_835ac483 [label="[role] Prepare each hypervisor in the deployment" color="#01cbb0" id=role_835ac483 tooltip="Prepare each hypervisor in the deployment"]
		role_835ac483 -> role_4e332e2f [label="1 " color="#01cbb0" fontcolor="#01cbb0" id=edge_eb0ac2b0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_740ece47 -> block_b8ca4ae7 [label=1 color="#01cbb0" fontcolor="#01cbb0" id=edge_810fe78a labeltooltip=1 tooltip=1]
		subgraph cluster_block_b8ca4ae7 {
			block_b8ca4ae7 [label="[block] Prepare individual hypervisors" color="#01cbb0" id=block_b8ca4ae7 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_b8ca4ae7 -> role_835ac483 [label="2 " color="#01cbb0" fontcolor="#01cbb0" id=edge_10a0ba57 labeltooltip="2 " tooltip="2 "]
			task_d77beca8 [label="Set kubeinit_cluster_name fact" color="#01cbb0" id=task_d77beca8 shape=octagon tooltip="Set kubeinit_cluster_name fact"]
			block_b8ca4ae7 -> task_d77beca8 [label="1 " color="#01cbb0" fontcolor="#01cbb0" id=edge_8e388ff3 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_17fe07f3 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#b616a5" fontcolor="#ffffff" id=play_17fe07f3 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_17fe07f3 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_c735512e labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_c33d25d7 [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_c33d25d7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_532dd647 [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_532dd647 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_fc7fdef6 [label="[role] Create ssh config file from template" color="#b616a5" id=role_fc7fdef6 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_d3e51eec [label="[role] task-prepare-environment" color="#b616a5" id=role_d3e51eec tooltip="task-prepare-environment"]
		role_d3e51eec -> role_c33d25d7 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_9c7da51a labeltooltip="1 " tooltip="1 "]
		role_d3e51eec -> role_532dd647 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_b7ae369a labeltooltip="2 " tooltip="2 "]
		role_d3e51eec -> role_fc7fdef6 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_d930016b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_454e7db5 [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_454e7db5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_cc503eb4 [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_cc503eb4 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_62193b42 [label="[role] Create ssh config file from template" color="#b616a5" id=role_62193b42 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f5077eaa [label="[role] Prepare environment if not prepared" color="#b616a5" id=role_f5077eaa tooltip="Prepare environment if not prepared"]
		role_f5077eaa -> role_454e7db5 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_c6b79f56 labeltooltip="1 " tooltip="1 "]
		role_f5077eaa -> role_cc503eb4 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_f8ee4224 labeltooltip="2 " tooltip="2 "]
		role_f5077eaa -> role_62193b42 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_f9fb4172 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_208bb528 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#b616a5" id=role_208bb528 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_dbbc62e3 [label="[role] task-cleanup-hypervisors" color="#b616a5" id=role_dbbc62e3 tooltip="task-cleanup-hypervisors"]
		role_dbbc62e3 -> role_f5077eaa [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_4fd42a58 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_dbbc62e3 -> role_208bb528 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_9a5d979b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_eab25a6f [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_eab25a6f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_4e8f8637 [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_4e8f8637 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_bd642217 [label="[role] Create ssh config file from template" color="#b616a5" id=role_bd642217 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_bc8cf910 [label="[role] Prepare environment if not prepared" color="#b616a5" id=role_bc8cf910 tooltip="Prepare environment if not prepared"]
		role_bc8cf910 -> role_eab25a6f [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_a4231130 labeltooltip="1 " tooltip="1 "]
		role_bc8cf910 -> role_4e8f8637 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_df8281e1 labeltooltip="2 " tooltip="2 "]
		role_bc8cf910 -> role_bd642217 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_f236cd68 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_d7cd7e1b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#b616a5" id=role_d7cd7e1b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_bf52d9c6 [label="[role] Cleanup hypervisors if needed" color="#b616a5" id=role_bf52d9c6 tooltip="Cleanup hypervisors if needed"]
		role_bf52d9c6 -> role_bc8cf910 [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_a51ac72b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bf52d9c6 -> role_d7cd7e1b [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_d5ceed88 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_d57fcae8 [label="[role] task-run-validations" color="#b616a5" id=role_d57fcae8 tooltip="task-run-validations"]
		role_d57fcae8 -> role_bf52d9c6 [label="1 [when: not hypervisors_cleaned]" color="#b616a5" fontcolor="#b616a5" id=edge_d1c796d9 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_39803d0a [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_39803d0a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_def2c07e [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_def2c07e tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_af2959c2 [label="[role] Create ssh config file from template" color="#b616a5" id=role_af2959c2 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e1d4a629 [label="[role] Prepare environment if not prepared" color="#b616a5" id=role_e1d4a629 tooltip="Prepare environment if not prepared"]
		role_e1d4a629 -> role_39803d0a [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_9d01bb51 labeltooltip="1 " tooltip="1 "]
		role_e1d4a629 -> role_def2c07e [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_82a826aa labeltooltip="2 " tooltip="2 "]
		role_e1d4a629 -> role_af2959c2 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_934e2919 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b819dede [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#b616a5" id=role_b819dede tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_f08ac4b8 [label="[role] Cleanup hypervisors if needed" color="#b616a5" id=role_f08ac4b8 tooltip="Cleanup hypervisors if needed"]
		role_f08ac4b8 -> role_e1d4a629 [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_97e92dee labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f08ac4b8 -> role_b819dede [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_36d277f3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_d4f7e10a [label="[role] task-create-network" color="#b616a5" id=role_d4f7e10a tooltip="task-create-network"]
		role_d4f7e10a -> role_f08ac4b8 [label="1 [when: not hypervisors_cleaned]" color="#b616a5" fontcolor="#b616a5" id=edge_2ed36952 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_25153d4a [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_25153d4a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_0d2a874f [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_0d2a874f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_21377016 [label="[role] Create ssh config file from template" color="#b616a5" id=role_21377016 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f8a94aab [label="[role] Prepare environment if not prepared" color="#b616a5" id=role_f8a94aab tooltip="Prepare environment if not prepared"]
		role_f8a94aab -> role_25153d4a [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_994abe2f labeltooltip="1 " tooltip="1 "]
		role_f8a94aab -> role_0d2a874f [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_1fad3610 labeltooltip="2 " tooltip="2 "]
		role_f8a94aab -> role_21377016 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_f5a76ae9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_386c80b9 [label="[role] Prepare podman" color="#b616a5" id=role_386c80b9 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_24475d9f [label="[role] Create systemd service for podman container" color="#b616a5" id=role_24475d9f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_2beee6dc [label="[role] Configure Bind" color="#b616a5" id=role_2beee6dc tooltip="Configure Bind"]
		role_2beee6dc -> role_24475d9f [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_eb912efe labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c288b7d1 [label="[role] Create systemd service for podman container" color="#b616a5" id=role_c288b7d1 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_36a6040b [label="[role] Configure Dnsmasq" color="#b616a5" id=role_36a6040b tooltip="Configure Dnsmasq"]
		role_36a6040b -> role_c288b7d1 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_9b45ac94 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8bcd7fd0 [label="[role] Create systemd service for podman container" color="#b616a5" id=role_8bcd7fd0 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_567fb3bf [label="[role] Configure HAProxy" color="#b616a5" id=role_567fb3bf tooltip="Configure HAProxy"]
		role_567fb3bf -> role_8bcd7fd0 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_9bddb1c3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7a08f04b [label="[role] Create systemd service for podman container" color="#b616a5" id=role_7a08f04b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_7922a5e3 [label="[role] Configure Nexus" color="#b616a5" id=role_7922a5e3 tooltip="Configure Nexus"]
		role_7922a5e3 -> role_7a08f04b [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_ca773c85 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_380f590f [label="[role] Create systemd service for podman container" color="#b616a5" id=role_380f590f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_71420152 [label="[role] Configure Apache" color="#b616a5" id=role_71420152 tooltip="Configure Apache"]
		role_71420152 -> role_380f590f [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_6e3491c8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e994b705 [label="[role] Create systemd service for podman container" color="#b616a5" id=role_e994b705 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_0fef0b09 [label="[role] Configure a local container image registry" color="#b616a5" id=role_0fef0b09 tooltip="Configure a local container image registry"]
		role_0fef0b09 -> role_e994b705 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_3f26e1ea labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_c532491f [label="[role] task-create-services" color="#b616a5" id=role_c532491f tooltip="task-create-services"]
		role_c532491f -> role_f8a94aab [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_46fe0ec2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c532491f -> role_386c80b9 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_bfb6f319 labeltooltip="2 " tooltip="2 "]
		role_c532491f -> role_2beee6dc [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#b616a5" fontcolor="#b616a5" id=edge_f8bdd0ce labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c532491f -> role_36a6040b [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#b616a5" fontcolor="#b616a5" id=edge_ba819590 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c532491f -> role_567fb3bf [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#b616a5" fontcolor="#b616a5" id=edge_5ffff0e9 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c532491f -> role_7922a5e3 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#b616a5" fontcolor="#b616a5" id=edge_f4842dea labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c532491f -> role_71420152 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#b616a5" fontcolor="#b616a5" id=edge_d544db0c labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c532491f -> role_0fef0b09 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#b616a5" fontcolor="#b616a5" id=edge_de605a98 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_785182e8 [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_785182e8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_f963079a [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_f963079a tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_f47093fd [label="[role] Create ssh config file from template" color="#b616a5" id=role_f47093fd tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_7e43b4ab [label="[role] Prepare environment if needed" color="#b616a5" id=role_7e43b4ab tooltip="Prepare environment if needed"]
		role_7e43b4ab -> role_785182e8 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_0c913edd labeltooltip="1 " tooltip="1 "]
		role_7e43b4ab -> role_f963079a [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_0683e49d labeltooltip="2 " tooltip="2 "]
		role_7e43b4ab -> role_f47093fd [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_71b46600 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_a23fcd8e [label="[role] Gather network and host facts for guest" color="#b616a5" id=role_a23fcd8e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_a7f9d0e2 [label="[role] Prepare services if needed" color="#b616a5" id=role_a7f9d0e2 tooltip="Prepare services if needed"]
		role_a7f9d0e2 -> role_7e43b4ab [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_248132ed labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a7f9d0e2 -> role_a23fcd8e [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_1363aca1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_471eb9ac [label="[role] Create systemd service for podman container" color="#b616a5" id=role_471eb9ac tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_f40a1b27 [label="[role] Gather network and host facts for provision service" color="#b616a5" id=role_f40a1b27 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_e5c33c6e [label="[role] Setup the cluster provision container" color="#b616a5" id=role_e5c33c6e tooltip="Setup the cluster provision container"]
		role_e5c33c6e -> role_471eb9ac [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_7948ceab labeltooltip="1 " tooltip="1 "]
		role_e5c33c6e -> role_f40a1b27 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_8f5d161c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_95213535 [label="[role] Delegate to the distro role to prepare the cluster" color="#b616a5" id=role_95213535 tooltip="Delegate to the distro role to prepare the cluster"]
		role_95213535 -> role_e5c33c6e [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_194f5850 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_6047e233 [label="[role] task-prepare-cluster" color="#b616a5" id=role_6047e233 tooltip="task-prepare-cluster"]
		role_6047e233 -> role_a7f9d0e2 [label="1 [when: not services_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_9d4f50c3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_6047e233 -> role_95213535 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_edacf590 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_648fb258 [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_648fb258 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_2bc47db3 [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_2bc47db3 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_15738170 [label="[role] Create ssh config file from template" color="#b616a5" id=role_15738170 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_10fa110e [label="[role] Prepare environment if not prepared" color="#b616a5" id=role_10fa110e tooltip="Prepare environment if not prepared"]
		role_10fa110e -> role_648fb258 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_833138c6 labeltooltip="1 " tooltip="1 "]
		role_10fa110e -> role_2bc47db3 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_41d94a1a labeltooltip="2 " tooltip="2 "]
		role_10fa110e -> role_15738170 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_a98868b9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_7b606144 [label="[role] task-download-images" color="#b616a5" id=role_7b606144 tooltip="task-download-images"]
		role_7b606144 -> role_10fa110e [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_63801e83 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_0f7d205d [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_0f7d205d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ca713f9f [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_ca713f9f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_4692949a [label="[role] Create ssh config file from template" color="#b616a5" id=role_4692949a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_ab8d3ec3 [label="[role] Prepare environment if needed" color="#b616a5" id=role_ab8d3ec3 tooltip="Prepare environment if needed"]
		role_ab8d3ec3 -> role_0f7d205d [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_295a331e labeltooltip="1 " tooltip="1 "]
		role_ab8d3ec3 -> role_ca713f9f [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_49f3d9e4 labeltooltip="2 " tooltip="2 "]
		role_ab8d3ec3 -> role_4692949a [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_3eef32f3 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_4a97ed99 [label="[role] Gather network and host facts for guest" color="#b616a5" id=role_4a97ed99 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_b52e1433 [label="[role] Prepare services if needed" color="#b616a5" id=role_b52e1433 tooltip="Prepare services if needed"]
		role_b52e1433 -> role_ab8d3ec3 [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_75c90b3f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b52e1433 -> role_4a97ed99 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_bcee9a1f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_c70a6e3f [label="[role] Deploy the cluster bootstrap node" color="#b616a5" id=role_c70a6e3f tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_3095ccd0 [label="[role] Deploy the cluster controller nodes" color="#b616a5" id=role_3095ccd0 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_730bc8d4 [label="[role] Deploy the cluster compute nodes" color="#b616a5" id=role_730bc8d4 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_26e0f7f1 [label="[role] Delegate to the distro role to deploy the cluster" color="#b616a5" id=role_26e0f7f1 tooltip="Delegate to the distro role to deploy the cluster"]
		role_26e0f7f1 -> role_c70a6e3f [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_a8d51452 labeltooltip="1 " tooltip="1 "]
		role_26e0f7f1 -> role_3095ccd0 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_eeea91dd labeltooltip="2 " tooltip="2 "]
		role_26e0f7f1 -> role_730bc8d4 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_8a5792f9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_9fbc1181 [label="[role] task-deploy-cluster" color="#b616a5" id=role_9fbc1181 tooltip="task-deploy-cluster"]
		role_9fbc1181 -> role_b52e1433 [label="1 [when: not services_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_c2e07acb labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_9fbc1181 -> role_26e0f7f1 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_317ae3c4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_580c20d8 [label="[role] Gather kubeinit secrets" color="#b616a5" id=role_580c20d8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_4fe83391 [label="[role] Gather additional facts from localhost for kubeinit" color="#b616a5" id=role_4fe83391 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_19321d23 [label="[role] Create ssh config file from template" color="#b616a5" id=role_19321d23 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_4666ab85 [label="[role] Prepare environment if needed" color="#b616a5" id=role_4666ab85 tooltip="Prepare environment if needed"]
		role_4666ab85 -> role_580c20d8 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_b91af9d0 labeltooltip="1 " tooltip="1 "]
		role_4666ab85 -> role_4fe83391 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_8a4f355b labeltooltip="2 " tooltip="2 "]
		role_4666ab85 -> role_19321d23 [label="3 " color="#b616a5" fontcolor="#b616a5" id=edge_217c0af6 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_ee4a196c [label="[role] Gather network and host facts for guest" color="#b616a5" id=role_ee4a196c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_61b29a2b [label="[role] Prepare services if needed" color="#b616a5" id=role_61b29a2b tooltip="Prepare services if needed"]
		role_61b29a2b -> role_4666ab85 [label="1 [when: not environment_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_e8f982b3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_61b29a2b -> role_ee4a196c [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_a3339ddb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_5da0b438 [label="[role] Configure NFS" color="#b616a5" id=role_5da0b438 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_f26d9043 [label="[role] Deploy the apps" color="#b616a5" id=role_f26d9043 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_8c61a390 [label="[role] Deploy KubeVirt" color="#b616a5" id=role_8c61a390 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_76bd1a21 [label="[role] Deploy Submariner" color="#b616a5" id=role_76bd1a21 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_2e84b665 [label="[role] Delegate to distro role to run post-deployment tasks" color="#b616a5" id=role_2e84b665 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_2e84b665 -> role_5da0b438 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#b616a5" fontcolor="#b616a5" id=edge_a1a59134 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_2e84b665 -> role_f26d9043 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_5724355a labeltooltip="2 " tooltip="2 "]
		role_2e84b665 -> role_8c61a390 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#b616a5" fontcolor="#b616a5" id=edge_33bf3263 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_2e84b665 -> role_76bd1a21 [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#b616a5" fontcolor="#b616a5" id=edge_3050edf2 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_ef9fe43d [label="[role] task-post-deployment" color="#b616a5" id=role_ef9fe43d tooltip="task-post-deployment"]
		role_ef9fe43d -> role_61b29a2b [label="1 [when: not services_prepared]" color="#b616a5" fontcolor="#b616a5" id=edge_603ef0f3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_ef9fe43d -> role_2e84b665 [label="2 " color="#b616a5" fontcolor="#b616a5" id=edge_f79d876e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_17fe07f3 -> block_ee686261 [label=1 color="#b616a5" fontcolor="#b616a5" id=edge_8a4aa836 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ee686261 {
			block_ee686261 [label="[block] Prepare the environment" color="#b616a5" id=block_ee686261 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_ee686261 -> role_d3e51eec [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_9b4d3775 labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_6e90c15d [label=2 color="#b616a5" fontcolor="#b616a5" id=edge_2dd6cc08 labeltooltip=2 tooltip=2]
		subgraph cluster_block_6e90c15d {
			block_6e90c15d [label="[block] Cleanup hypervisors" color="#b616a5" id=block_6e90c15d labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_6e90c15d -> role_dbbc62e3 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_71afbb54 labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_56c51cab [label=3 color="#b616a5" fontcolor="#b616a5" id=edge_128985ce labeltooltip=3 tooltip=3]
		subgraph cluster_block_56c51cab {
			block_56c51cab [label="[block] Run validations on cluster resources" color="#b616a5" id=block_56c51cab labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_56c51cab -> role_d57fcae8 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_1859d081 labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_377a5a05 [label=4 color="#b616a5" fontcolor="#b616a5" id=edge_b79cdd54 labeltooltip=4 tooltip=4]
		subgraph cluster_block_377a5a05 {
			block_377a5a05 [label="[block] Create the cluster network resources" color="#b616a5" id=block_377a5a05 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_377a5a05 -> role_d4f7e10a [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_b5db3e65 labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_af7b1767 [label=5 color="#b616a5" fontcolor="#b616a5" id=edge_68dacd8a labeltooltip=5 tooltip=5]
		subgraph cluster_block_af7b1767 {
			block_af7b1767 [label="[block] Create services the cluster will need" color="#b616a5" id=block_af7b1767 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_af7b1767 -> role_c532491f [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_a40ed9ec labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_e9b77674 [label=6 color="#b616a5" fontcolor="#b616a5" id=edge_b2558d39 labeltooltip=6 tooltip=6]
		subgraph cluster_block_e9b77674 {
			block_e9b77674 [label="[block] Prepare to deploy the cluster" color="#b616a5" id=block_e9b77674 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_e9b77674 -> role_6047e233 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_b9330087 labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_b10e5c00 [label=7 color="#b616a5" fontcolor="#b616a5" id=edge_9516cc77 labeltooltip=7 tooltip=7]
		subgraph cluster_block_b10e5c00 {
			block_b10e5c00 [label="[block] Download cloud images" color="#b616a5" id=block_b10e5c00 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_b10e5c00 -> role_7b606144 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_edd94b32 labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_98942528 [label=8 color="#b616a5" fontcolor="#b616a5" id=edge_7ec182e0 labeltooltip=8 tooltip=8]
		subgraph cluster_block_98942528 {
			block_98942528 [label="[block] Deploy the cluster" color="#b616a5" id=block_98942528 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_98942528 -> role_9fbc1181 [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_a2f83a13 labeltooltip="1 " tooltip="1 "]
		}
		play_17fe07f3 -> block_38d580bb [label=9 color="#b616a5" fontcolor="#b616a5" id=edge_423c9ce9 labeltooltip=9 tooltip=9]
		subgraph cluster_block_38d580bb {
			block_38d580bb [label="[block] Run any post-deployment tasks" color="#b616a5" id=block_38d580bb labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_38d580bb -> role_ef9fe43d [label="1 " color="#b616a5" fontcolor="#b616a5" id=edge_32cff32d labeltooltip="1 " tooltip="1 "]
		}
	}
}
