digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_69a2a66c style=dotted]
	"kubeinit/playbook.yml" -> play_60d6f670 [label="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#260bc1" fontcolor="#260bc1" id=edge_play_60d6f670 labeltooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" tooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)"]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_60d6f670 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#260bc1" fontcolor="#ffffff" id=play_60d6f670 shape=box style=filled tooltip=localhost]
		play_60d6f670 -> block_0688ad24 [label=1 color="#260bc1" fontcolor="#260bc1" id=edge_block_0688ad24 labeltooltip=1 tooltip=1]
		subgraph cluster_block_0688ad24 {
			block_0688ad24 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#260bc1" id=block_0688ad24 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_0688ad24 -> role_bb018996 [label="1 " color="#260bc1" fontcolor="#260bc1" id=edge_role_bb018996 labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_bb018996 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#260bc1" id=role_bb018996 tooltip="task-gather-facts"]
				role_bb018996 -> role_b1ee8651 [label="1 " color="#260bc1" fontcolor="#260bc1" id=edge_role_b1ee8651 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_b1ee8651 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#260bc1" id=role_b1ee8651 tooltip="Gather kubeinit secrets"]
				}
				role_bb018996 -> role_3b0d069a [label="2 " color="#260bc1" fontcolor="#260bc1" id=edge_role_3b0d069a labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_3b0d069a [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#260bc1" id=role_3b0d069a tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_bb018996 -> role_87d8dc7b [label="3 " color="#260bc1" fontcolor="#260bc1" id=edge_role_87d8dc7b labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_87d8dc7b [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#260bc1" id=role_87d8dc7b tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_57ceb0ed [label="2 Play: Gather facts from the cluster hypervisor hosts (0)" color="#309c8d" fontcolor="#309c8d" id=edge_play_57ceb0ed labeltooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)" tooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)"]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_57ceb0ed [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#309c8d" fontcolor="#ffffff" id=play_57ceb0ed shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_57ceb0ed -> block_21a545da [label=1 color="#309c8d" fontcolor="#309c8d" id=edge_block_21a545da labeltooltip=1 tooltip=1]
		subgraph cluster_block_21a545da {
			block_21a545da [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#309c8d" id=block_21a545da labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_21a545da -> role_8258936d [label="1 " color="#309c8d" fontcolor="#309c8d" id=edge_role_8258936d labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_8258936d [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#309c8d" id=role_8258936d tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_a2f568c4 [label="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" color="#548a42" fontcolor="#548a42" id=edge_play_a2f568c4 labeltooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" tooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)"]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_a2f568c4 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#548a42" fontcolor="#ffffff" id=play_a2f568c4 shape=box style=filled tooltip=localhost]
		play_a2f568c4 -> block_6ca1fb97 [label=1 color="#548a42" fontcolor="#548a42" id=edge_block_6ca1fb97 labeltooltip=1 tooltip=1]
		subgraph cluster_block_6ca1fb97 {
			block_6ca1fb97 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#548a42" id=block_6ca1fb97 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_6ca1fb97 -> role_7a7649b2 [label="1 " color="#548a42" fontcolor="#548a42" id=edge_role_7a7649b2 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_7a7649b2 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#548a42" id=role_7a7649b2 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_7a7649b2 -> role_97fab002 [label="1 " color="#548a42" fontcolor="#548a42" id=edge_role_97fab002 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_97fab002 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#548a42" id=role_97fab002 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_a2f568c4 -> block_945698db [label=2 color="#548a42" fontcolor="#548a42" id=edge_block_945698db labeltooltip=2 tooltip=2]
		subgraph cluster_block_945698db {
			block_945698db [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#548a42" id=block_945698db labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_945698db -> role_6a408f7f [label="1 " color="#548a42" fontcolor="#548a42" id=edge_role_6a408f7f labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_6a408f7f [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#548a42" id=role_6a408f7f tooltip="task-prepare-hypervisors"]
				role_6a408f7f -> role_fec2712e [label="1 " color="#548a42" fontcolor="#548a42" id=edge_role_fec2712e labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_fec2712e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#548a42" id=role_fec2712e tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_e0421c17 [label="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" color="#1e32ae" fontcolor="#1e32ae" id=edge_play_e0421c17 labeltooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" tooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
	subgraph "Play: Prepare the infrastructure to deploy service and cluster nodes (0)" {
		play_e0421c17 [label="Play: Prepare the infrastructure to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#1e32ae" fontcolor="#ffffff" id=play_e0421c17 shape=box style=filled tooltip="Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
		play_e0421c17 -> block_2a16d058 [label=1 color="#1e32ae" fontcolor="#1e32ae" id=edge_block_2a16d058 labeltooltip=1 tooltip=1]
		subgraph cluster_block_2a16d058 {
			block_2a16d058 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#1e32ae" id=block_2a16d058 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_2a16d058 -> role_e7f3ad54 [label="2 " color="#1e32ae" fontcolor="#1e32ae" id=edge_role_e7f3ad54 labeltooltip="2 " tooltip="2 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_e7f3ad54 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#1e32ae" id=role_e7f3ad54 tooltip="Prepare each hypervisor in the deployment"]
				task_8b685a06 [label="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair on kubeinit_deployment_node_name" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#1e32ae" id=task_8b685a06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Generate an OpenSSH keypair on kubeinit_deployment_node_name"]
				role_e7f3ad54 -> task_8b685a06 [label="1 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_8b685a06 labeltooltip="1 " tooltip="1 "]
				task_cff3acfe [label="kubeinit.kubeinit.kubeinit_prepare : Create authorized_key from keypair" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#1e32ae" id=task_cff3acfe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Create authorized_key from keypair"]
				role_e7f3ad54 -> task_cff3acfe [label="2 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_cff3acfe labeltooltip="2 " tooltip="2 "]
				role_e7f3ad54 -> role_a94fad27 [label="3 " color="#1e32ae" fontcolor="#1e32ae" id=edge_role_a94fad27 labeltooltip="3 " tooltip="3 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_a94fad27 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#1e32ae" id=role_a94fad27 tooltip="Provision the libvirt services on the hypervisor"]
					task_b68094e1 [label="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_b68094e1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
					role_a94fad27 -> task_b68094e1 [label="1 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_b68094e1 labeltooltip="1 " tooltip="1 "]
					task_5c793228 [label="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_5c793228 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
					role_a94fad27 -> task_5c793228 [label="2 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_5c793228 labeltooltip="2 " tooltip="2 "]
					task_b7a0b274 [label="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_b7a0b274 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
					role_a94fad27 -> task_b7a0b274 [label="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_b7a0b274 labeltooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" tooltip="3 [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]"]
					task_333fd55d [label="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_333fd55d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
					role_a94fad27 -> task_333fd55d [label="4 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_333fd55d labeltooltip="4 " tooltip="4 "]
					task_8a83b5bd [label="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_8a83b5bd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
					role_a94fad27 -> task_8a83b5bd [label="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_8a83b5bd labeltooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" tooltip="5 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']"]
					task_42c2396f [label="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_42c2396f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable the testing repo in Debian"]
					role_a94fad27 -> task_42c2396f [label="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_42c2396f labeltooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="6 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
					task_31a1eed4 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages list" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_31a1eed4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages list"]
					role_a94fad27 -> task_31a1eed4 [label="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_31a1eed4 labeltooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']" tooltip="7 [when: hostvars[kubeinit_deployment_node_name].os == 'debian']"]
					task_76263a0d [label="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_76263a0d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
					role_a94fad27 -> task_76263a0d [label="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_76263a0d labeltooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" tooltip="8 [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']"]
					task_89e10793 [label="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_89e10793 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
					role_a94fad27 -> task_89e10793 [label="9 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_89e10793 labeltooltip="9 " tooltip="9 "]
					task_e6467c7d [label="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_e6467c7d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
					role_a94fad27 -> task_e6467c7d [label="10 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_e6467c7d labeltooltip="10 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" tooltip="10 [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]"]
					task_f95804e0 [label="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_f95804e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
					role_a94fad27 -> task_f95804e0 [label="11 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_f95804e0 labeltooltip="11 " tooltip="11 "]
					task_2a8220d9 [label="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_2a8220d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
					role_a94fad27 -> task_2a8220d9 [label="12 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_2a8220d9 labeltooltip="12 " tooltip="12 "]
					task_a639f9a6 [label="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_a639f9a6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
					role_a94fad27 -> task_a639f9a6 [label="13 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_a639f9a6 labeltooltip="13 " tooltip="13 "]
					task_66a31964 [label="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_66a31964 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
					role_a94fad27 -> task_66a31964 [label="14 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_66a31964 labeltooltip="14 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]" tooltip="14 [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_hosted_deployment | default(false))]"]
					task_2e82f4eb [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_2e82f4eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
					role_a94fad27 -> task_2e82f4eb [label="15 [when: _result_intel_processor.rc == 0]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_2e82f4eb labeltooltip="15 [when: _result_intel_processor.rc == 0]" tooltip="15 [when: _result_intel_processor.rc == 0]"]
					task_eaf1038a [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_eaf1038a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
					role_a94fad27 -> task_eaf1038a [label="16 [when: _result_amd_processor.rc == 0]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_eaf1038a labeltooltip="16 [when: _result_amd_processor.rc == 0]" tooltip="16 [when: _result_amd_processor.rc == 0]"]
					task_4edbebcb [label="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_4edbebcb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
					role_a94fad27 -> task_4edbebcb [label="17 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_4edbebcb labeltooltip="17 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="17 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
					task_e8f091cb [label="kubeinit.kubeinit.kubeinit_libvirt : Ensure the module is available and loaded: {{ nested_virtualization_module_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_e8f091cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Ensure the module is available and loaded: {{ nested_virtualization_module_name }}"]
					role_a94fad27 -> task_e8f091cb [label="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_e8f091cb labeltooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="18 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
					task_edcf6e19 [label="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_edcf6e19 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
					role_a94fad27 -> task_edcf6e19 [label="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_edcf6e19 labeltooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="19 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
					task_d8ad8698 [label="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_d8ad8698 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
					role_a94fad27 -> task_d8ad8698 [label="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_d8ad8698 labeltooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="20 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
					task_f41592f9 [label="kubeinit.kubeinit.kubeinit_libvirt : Load the module: {{ nested_virtualization_module_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_f41592f9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Load the module: {{ nested_virtualization_module_name }}"]
					role_a94fad27 -> task_f41592f9 [label="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#1e32ae" fontcolor="#1e32ae" id=edge_task_f41592f9 labeltooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" tooltip="21 [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]"]
					task_5e19ab8c [label="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_5e19ab8c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
					role_a94fad27 -> task_5e19ab8c [label="22 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_5e19ab8c labeltooltip="22 " tooltip="22 "]
					task_db664cde [label="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/main.yml" color="#1e32ae" id=task_db664cde shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
					role_a94fad27 -> task_db664cde [label="23 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_db664cde labeltooltip="23 " tooltip="23 "]
					task_e69eac77 [label="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a group called toor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_e69eac77 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a group called toor"]
					role_a94fad27 -> task_e69eac77 [label="24 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_e69eac77 labeltooltip="24 " tooltip="24 "]
					task_ad4fb57b [label="kubeinit.kubeinit.kubeinit_libvirt : Allow to have passwordless sudo to the group toor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_ad4fb57b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Allow to have passwordless sudo to the group toor"]
					role_a94fad27 -> task_ad4fb57b [label="25 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_ad4fb57b labeltooltip="25 " tooltip="25 "]
					task_7660a786 [label="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to the group toor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_7660a786 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to the group toor"]
					role_a94fad27 -> task_7660a786 [label="26 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_7660a786 labeltooltip="26 " tooltip="26 "]
					task_008e6a74 [label="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_008e6a74 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
					role_a94fad27 -> task_008e6a74 [label="27 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_008e6a74 labeltooltip="27 " tooltip="27 "]
					task_f4108128 [label="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_f4108128 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
					role_a94fad27 -> task_f4108128 [label="28 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_f4108128 labeltooltip="28 " tooltip="28 "]
					task_ea1fe030 [label="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_ea1fe030 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair"]
					role_a94fad27 -> task_ea1fe030 [label="29 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_ea1fe030 labeltooltip="29 " tooltip="29 "]
					task_bcd4d869 [label="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_bcd4d869 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
					role_a94fad27 -> task_bcd4d869 [label="30 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_bcd4d869 labeltooltip="30 " tooltip="30 "]
					task_28f738c7 [label="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/60_create_cloud_user.yml" color="#1e32ae" id=task_28f738c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
					role_a94fad27 -> task_28f738c7 [label="31 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_28f738c7 labeltooltip="31 " tooltip="31 "]
				}
			}
			task_0212095a [label="Set kubeinit_cluster_name fact" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#1e32ae" id=task_0212095a shape=octagon tooltip="Set kubeinit_cluster_name fact"]
			block_2a16d058 -> task_0212095a [label="1 " color="#1e32ae" fontcolor="#1e32ae" id=edge_task_0212095a labeltooltip="1 " tooltip="1 "]
		}
	}
	"kubeinit/playbook.yml" -> play_ef203501 [label="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" color="#bc3c10" fontcolor="#bc3c10" id=edge_play_ef203501 labeltooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" tooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)"]
	subgraph "Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" {
		play_ef203501 [label="Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" fontcolor="#ffffff" id=play_ef203501 shape=box style=filled tooltip=localhost]
		play_ef203501 -> block_f3c09c13 [label=1 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_f3c09c13 labeltooltip=1 tooltip=1]
		subgraph cluster_block_f3c09c13 {
			block_f3c09c13 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_f3c09c13 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_f3c09c13 -> role_d0578fd9 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_d0578fd9 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_d0578fd9 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_d0578fd9 tooltip="task-prepare-environment"]
				role_d0578fd9 -> role_2d5d544a [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_2d5d544a labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_2d5d544a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_2d5d544a tooltip="Gather kubeinit secrets"]
				}
				role_d0578fd9 -> role_98c53ed2 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_98c53ed2 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				subgraph "Gather facts from bastion_host if needed" {
					role_98c53ed2 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_98c53ed2 tooltip="Gather facts from bastion_host if needed"]
				}
			}
		}
		play_ef203501 -> block_a4ea7ba5 [label=2 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_a4ea7ba5 labeltooltip=2 tooltip=2]
		subgraph cluster_block_a4ea7ba5 {
			block_a4ea7ba5 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_a4ea7ba5 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_a4ea7ba5 -> role_cf4be091 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_cf4be091 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_cf4be091 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_cf4be091 tooltip="task-cleanup-hypervisors"]
				role_cf4be091 -> role_d1b9dcf5 [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_d1b9dcf5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_d1b9dcf5 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#bc3c10" id=role_d1b9dcf5 tooltip="Prepare environment if not prepared"]
					role_d1b9dcf5 -> role_fa5b6ef5 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_fa5b6ef5 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_fa5b6ef5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_fa5b6ef5 tooltip="Gather kubeinit secrets"]
					}
					role_d1b9dcf5 -> role_ccf489b2 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_ccf489b2 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_ccf489b2 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_ccf489b2 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_cf4be091 -> role_6571f4a6 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_6571f4a6 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_6571f4a6 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#bc3c10" id=role_6571f4a6 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_ef203501 -> block_6fa9d845 [label=3 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_6fa9d845 labeltooltip=3 tooltip=3]
		subgraph cluster_block_6fa9d845 {
			block_6fa9d845 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_6fa9d845 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_6fa9d845 -> role_749dda5f [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_749dda5f labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_749dda5f [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_749dda5f tooltip="task-run-validations"]
				role_749dda5f -> role_c128545c [label="1 [when: not hypervisors_cleaned]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_c128545c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_c128545c [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#bc3c10" id=role_c128545c tooltip="Cleanup hypervisors if needed"]
					role_c128545c -> role_32fa4ec0 [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_32fa4ec0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_32fa4ec0 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#bc3c10" id=role_32fa4ec0 tooltip="Prepare environment if not prepared"]
						role_32fa4ec0 -> role_992c9b64 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_992c9b64 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_992c9b64 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_992c9b64 tooltip="Gather kubeinit secrets"]
						}
						role_32fa4ec0 -> role_716d4eff [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_716d4eff labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_716d4eff [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_716d4eff tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_c128545c -> role_797fddde [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_797fddde labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_797fddde [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#bc3c10" id=role_797fddde tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_ef203501 -> block_56901f94 [label=4 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_56901f94 labeltooltip=4 tooltip=4]
		subgraph cluster_block_56901f94 {
			block_56901f94 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_56901f94 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_56901f94 -> role_243cb028 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_243cb028 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_243cb028 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_243cb028 tooltip="task-create-network"]
				role_243cb028 -> role_e091d1ff [label="1 [when: not hypervisors_cleaned]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_e091d1ff labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_e091d1ff [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#bc3c10" id=role_e091d1ff tooltip="Cleanup hypervisors if needed"]
					role_e091d1ff -> role_4d982d6f [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_4d982d6f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_4d982d6f [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#bc3c10" id=role_4d982d6f tooltip="Prepare environment if not prepared"]
						role_4d982d6f -> role_6e7a11f3 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_6e7a11f3 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_6e7a11f3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_6e7a11f3 tooltip="Gather kubeinit secrets"]
						}
						role_4d982d6f -> role_18f755b3 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_18f755b3 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_18f755b3 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_18f755b3 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_e091d1ff -> role_2435404f [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_2435404f labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_2435404f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#bc3c10" id=role_2435404f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_ef203501 -> block_e673b578 [label=5 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_e673b578 labeltooltip=5 tooltip=5]
		subgraph cluster_block_e673b578 {
			block_e673b578 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_e673b578 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_e673b578 -> role_1696d1f8 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_1696d1f8 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_1696d1f8 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_1696d1f8 tooltip="task-create-services"]
				role_1696d1f8 -> role_c6cf1b99 [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_c6cf1b99 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c6cf1b99 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#bc3c10" id=role_c6cf1b99 tooltip="Prepare environment if not prepared"]
					role_c6cf1b99 -> role_45c2039b [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_45c2039b labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_45c2039b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_45c2039b tooltip="Gather kubeinit secrets"]
					}
					role_c6cf1b99 -> role_3bdd0c27 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_3bdd0c27 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_3bdd0c27 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_3bdd0c27 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_1696d1f8 -> role_4ef859e8 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_4ef859e8 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_4ef859e8 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#bc3c10" id=role_4ef859e8 tooltip="Prepare podman"]
				}
				role_1696d1f8 -> role_86101444 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_86101444 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_86101444 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#bc3c10" id=role_86101444 tooltip="Configure Bind"]
					role_86101444 -> role_db646672 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_db646672 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_db646672 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#bc3c10" id=role_db646672 tooltip="Create systemd service for podman container"]
					}
				}
				role_1696d1f8 -> role_fef43de4 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_fef43de4 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_fef43de4 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#bc3c10" id=role_fef43de4 tooltip="Configure Dnsmasq"]
					role_fef43de4 -> role_199eed6f [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_199eed6f labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_199eed6f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#bc3c10" id=role_199eed6f tooltip="Create systemd service for podman container"]
					}
				}
				role_1696d1f8 -> role_2c3f27dd [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_2c3f27dd labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_2c3f27dd [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#bc3c10" id=role_2c3f27dd tooltip="Configure HAProxy"]
					role_2c3f27dd -> role_8dbfc881 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_8dbfc881 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_8dbfc881 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#bc3c10" id=role_8dbfc881 tooltip="Create systemd service for podman container"]
					}
				}
				role_1696d1f8 -> role_462b69ad [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_462b69ad labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_462b69ad [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#bc3c10" id=role_462b69ad tooltip="Configure Nexus"]
					role_462b69ad -> role_db7b9752 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_db7b9752 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_db7b9752 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#bc3c10" id=role_db7b9752 tooltip="Create systemd service for podman container"]
					}
				}
				role_1696d1f8 -> role_d47cf887 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_d47cf887 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_d47cf887 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#bc3c10" id=role_d47cf887 tooltip="Configure Apache"]
					role_d47cf887 -> role_2ca6d635 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_2ca6d635 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_2ca6d635 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#bc3c10" id=role_2ca6d635 tooltip="Create systemd service for podman container"]
					}
				}
				role_1696d1f8 -> role_3528c35e [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_3528c35e labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_3528c35e [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#bc3c10" id=role_3528c35e tooltip="Configure a local container image registry"]
					role_3528c35e -> role_a1ac583c [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_a1ac583c labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_a1ac583c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#bc3c10" id=role_a1ac583c tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_ef203501 -> block_518144df [label=6 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_518144df labeltooltip=6 tooltip=6]
		subgraph cluster_block_518144df {
			block_518144df [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_518144df labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_518144df -> role_04658dbc [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_04658dbc labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_04658dbc [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_04658dbc tooltip="task-prepare-cluster"]
				role_04658dbc -> role_2a0d770d [label="1 [when: not services_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_2a0d770d labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_2a0d770d [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#bc3c10" id=role_2a0d770d tooltip="Prepare services if needed"]
					role_2a0d770d -> role_6cc92703 [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_6cc92703 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_6cc92703 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#bc3c10" id=role_6cc92703 tooltip="Prepare environment if needed"]
						role_6cc92703 -> role_76659fc3 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_76659fc3 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_76659fc3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_76659fc3 tooltip="Gather kubeinit secrets"]
						}
						role_6cc92703 -> role_776b2bd9 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_776b2bd9 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_776b2bd9 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_776b2bd9 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_2a0d770d -> role_372de714 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_372de714 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_372de714 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#bc3c10" id=role_372de714 tooltip="Gather network and host facts for guest"]
					}
				}
				role_04658dbc -> role_3314c308 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_3314c308 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_3314c308 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#bc3c10" id=role_3314c308 tooltip="Delegate to the distro role to prepare the cluster"]
					role_3314c308 -> role_d9b3bd3b [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_d9b3bd3b labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_d9b3bd3b [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/prepare_cluster.yml" color="#bc3c10" id=role_d9b3bd3b tooltip="Setup the cluster provision container"]
						role_d9b3bd3b -> role_73a11129 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_73a11129 labeltooltip="1 " tooltip="1 "]
						subgraph "Create systemd service for podman container" {
							role_73a11129 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#bc3c10" id=role_73a11129 tooltip="Create systemd service for podman container"]
						}
						role_d9b3bd3b -> role_6394f946 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_6394f946 labeltooltip="2 " tooltip="2 "]
						subgraph "Gather network and host facts for provision service" {
							role_6394f946 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#bc3c10" id=role_6394f946 tooltip="Gather network and host facts for provision service"]
						}
					}
				}
			}
		}
		play_ef203501 -> block_d60ccb8d [label=7 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_d60ccb8d labeltooltip=7 tooltip=7]
		subgraph cluster_block_d60ccb8d {
			block_d60ccb8d [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_d60ccb8d labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_d60ccb8d -> role_88f46e43 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_88f46e43 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_88f46e43 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_88f46e43 tooltip="task-download-images"]
				role_88f46e43 -> role_3e08ce12 [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_3e08ce12 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_3e08ce12 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#bc3c10" id=role_3e08ce12 tooltip="Prepare environment if not prepared"]
					role_3e08ce12 -> role_cf4d709d [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_cf4d709d labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_cf4d709d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_cf4d709d tooltip="Gather kubeinit secrets"]
					}
					role_3e08ce12 -> role_de07b67a [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_de07b67a labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_de07b67a [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_de07b67a tooltip="Gather facts from bastion_host if needed"]
					}
				}
			}
		}
		play_ef203501 -> block_0da7ca6f [label=8 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_0da7ca6f labeltooltip=8 tooltip=8]
		subgraph cluster_block_0da7ca6f {
			block_0da7ca6f [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_0da7ca6f labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_0da7ca6f -> role_da46e592 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_da46e592 labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_da46e592 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_da46e592 tooltip="task-deploy-cluster"]
				role_da46e592 -> role_aa74244b [label="1 [when: not services_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_aa74244b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_aa74244b [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#bc3c10" id=role_aa74244b tooltip="Prepare services if needed"]
					role_aa74244b -> role_7296d76e [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_7296d76e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_7296d76e [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#bc3c10" id=role_7296d76e tooltip="Prepare environment if needed"]
						role_7296d76e -> role_183709d7 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_183709d7 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_183709d7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_183709d7 tooltip="Gather kubeinit secrets"]
						}
						role_7296d76e -> role_4e0796eb [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_4e0796eb labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_4e0796eb [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_4e0796eb tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_aa74244b -> role_5131ff9f [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_5131ff9f labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_5131ff9f [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#bc3c10" id=role_5131ff9f tooltip="Gather network and host facts for guest"]
					}
				}
				role_da46e592 -> role_8851cb26 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_8851cb26 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_8851cb26 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#bc3c10" id=role_8851cb26 tooltip="Delegate to the distro role to deploy the cluster"]
					role_8851cb26 -> role_5d83140f [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_5d83140f labeltooltip="1 " tooltip="1 "]
					subgraph "Deploy the cluster bootstrap and any other extra nodes requested" {
						role_5d83140f [label="[role] Deploy the cluster bootstrap and any other extra nodes requested" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#bc3c10" id=role_5d83140f tooltip="Deploy the cluster bootstrap and any other extra nodes requested"]
					}
					role_8851cb26 -> role_1bcf2dcd [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_1bcf2dcd labeltooltip="2 " tooltip="2 "]
					subgraph "Deploy the cluster controller nodes" {
						role_1bcf2dcd [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#bc3c10" id=role_1bcf2dcd tooltip="Deploy the cluster controller nodes"]
					}
					role_8851cb26 -> role_1d18bbda [label="3 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_1d18bbda labeltooltip="3 " tooltip="3 "]
					subgraph "Deploy the cluster compute nodes" {
						role_1d18bbda [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#bc3c10" id=role_1d18bbda tooltip="Deploy the cluster compute nodes"]
					}
				}
			}
		}
		play_ef203501 -> block_3b4c2d16 [label=9 color="#bc3c10" fontcolor="#bc3c10" id=edge_block_3b4c2d16 labeltooltip=9 tooltip=9]
		subgraph cluster_block_3b4c2d16 {
			block_3b4c2d16 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=block_3b4c2d16 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_3b4c2d16 -> role_1af16c85 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_1af16c85 labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_1af16c85 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bc3c10" id=role_1af16c85 tooltip="task-post-deployment"]
				role_1af16c85 -> role_bb3dfc19 [label="1 [when: not services_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_bb3dfc19 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_bb3dfc19 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#bc3c10" id=role_bb3dfc19 tooltip="Prepare services if needed"]
					role_bb3dfc19 -> role_22182d99 [label="1 [when: not environment_prepared]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_22182d99 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_22182d99 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#bc3c10" id=role_22182d99 tooltip="Prepare environment if needed"]
						role_22182d99 -> role_55d0cd19 [label="1 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_55d0cd19 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_55d0cd19 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#bc3c10" id=role_55d0cd19 tooltip="Gather kubeinit secrets"]
						}
						role_22182d99 -> role_46063e44 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_46063e44 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_46063e44 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#bc3c10" id=role_46063e44 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_bb3dfc19 -> role_81bae356 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_81bae356 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_81bae356 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#bc3c10" id=role_81bae356 tooltip="Gather network and host facts for guest"]
					}
				}
				role_1af16c85 -> role_ba9dab24 [label="2 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_ba9dab24 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_ba9dab24 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#bc3c10" id=role_ba9dab24 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_ba9dab24 -> role_3a9a8fad [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_3a9a8fad labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_3a9a8fad [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#bc3c10" id=role_3a9a8fad tooltip="Configure NFS"]
					}
					role_ba9dab24 -> role_a16dc5f0 [label="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_a16dc5f0 labeltooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_a16dc5f0 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#bc3c10" id=role_a16dc5f0 tooltip="Deploy the apps"]
					}
					role_ba9dab24 -> role_436ade93 [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#bc3c10" fontcolor="#bc3c10" id=edge_role_436ade93 labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy KubeVirt" {
						role_436ade93 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#bc3c10" id=role_436ade93 tooltip="Deploy KubeVirt"]
					}
					role_ba9dab24 -> role_3d2b28c5 [label="4 " color="#bc3c10" fontcolor="#bc3c10" id=edge_role_3d2b28c5 labeltooltip="4 " tooltip="4 "]
					subgraph "Deploy extra roles" {
						role_3d2b28c5 [label="[role] Deploy extra roles" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#bc3c10" id=role_3d2b28c5 tooltip="Deploy extra roles"]
					}
				}
			}
		}
	}
}
