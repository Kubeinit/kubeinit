digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#ac74ff" fontcolor="#000000" id="play_403f0326-5296-417f-b2f4-e084c6ef619f" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#ac74ff" fontcolor="#ac74ff" id="edge_af351620-ca43-4528-9f13-db3dc44399fc" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#cc1caf" fontcolor="#ffffff" id="play_bc6bc8a8-0708-427b-bb4b-79ea8002de35" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#cc1caf" fontcolor="#cc1caf" id="edge_a0c1eb60-ed82-46a1-875c-435f2926e601" style=bold]
		"task_88a4bd9f-ffa0-49af-87bb-a7f96b58e5e0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_88a4bd9f-ffa0-49af-87bb-a7f96b58e5e0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_88a4bd9f-ffa0-49af-87bb-a7f96b58e5e0" [label=1 color="#cc1caf" fontcolor="#cc1caf" id="edge_95141588-713a-4be6-8610-54d4a97dfee8" style=bold]
		"task_6634b311-0930-4901-9f81-5e504baf22c7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_6634b311-0930-4901-9f81-5e504baf22c7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6634b311-0930-4901-9f81-5e504baf22c7" [label=2 color="#cc1caf" fontcolor="#cc1caf" id="edge_2b506027-a1b8-4140-bb6b-da6aae9043e4" style=bold]
		"task_f246e575-e712-4717-99c5-00943d15d122" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_f246e575-e712-4717-99c5-00943d15d122" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f246e575-e712-4717-99c5-00943d15d122" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#cc1caf" fontcolor="#cc1caf" id="edge_5ef1efd2-0a1e-4127-9d11-7c006eb6b297" style=bold]
		"task_891f0b03-ce73-428d-8958-1d17c7fc9bec" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_891f0b03-ce73-428d-8958-1d17c7fc9bec" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_891f0b03-ce73-428d-8958-1d17c7fc9bec" [label=4 color="#cc1caf" fontcolor="#cc1caf" id="edge_22a2dde7-350d-4751-86fc-919dab3aa7cd" style=bold]
		"task_a4e3fd06-bb6c-4f0b-9003-6d11310b75ba" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_a4e3fd06-bb6c-4f0b-9003-6d11310b75ba" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a4e3fd06-bb6c-4f0b-9003-6d11310b75ba" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#cc1caf" fontcolor="#cc1caf" id="edge_0be1f2a4-9326-4edd-8630-ff549ed1ced0" style=bold]
		"task_feb9fdc1-1ce5-4a1a-bd1f-4462e6f86286" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_feb9fdc1-1ce5-4a1a-bd1f-4462e6f86286" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_feb9fdc1-1ce5-4a1a-bd1f-4462e6f86286" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#cc1caf" fontcolor="#cc1caf" id="edge_114f91bb-1ae6-4aac-aa4b-fb122734295a" style=bold]
		"task_1a24796d-dce0-4ec2-96e2-4a5307d16023" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_1a24796d-dce0-4ec2-96e2-4a5307d16023" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1a24796d-dce0-4ec2-96e2-4a5307d16023" [label=7 color="#cc1caf" fontcolor="#cc1caf" id="edge_5762daf9-b7af-48d8-924f-82aad7c81e09" style=bold]
		"task_00fef897-5412-4089-9cad-34bdff0d60d2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_00fef897-5412-4089-9cad-34bdff0d60d2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_00fef897-5412-4089-9cad-34bdff0d60d2" [label=8 color="#cc1caf" fontcolor="#cc1caf" id="edge_06cadc36-1527-49d6-8f49-9ef2e3f97cd7" style=bold]
		"task_3397d3be-70ad-432f-8cc3-128c03319376" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_3397d3be-70ad-432f-8cc3-128c03319376" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3397d3be-70ad-432f-8cc3-128c03319376" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#cc1caf" fontcolor="#cc1caf" id="edge_02496064-30cb-4305-a0a8-a0a85c3db486" style=bold]
		"task_ac3670ca-d511-4e4a-b70b-06c5c71c3fcc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_ac3670ca-d511-4e4a-b70b-06c5c71c3fcc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ac3670ca-d511-4e4a-b70b-06c5c71c3fcc" [label=10 color="#cc1caf" fontcolor="#cc1caf" id="edge_597a9414-3e94-4038-8aa7-90a30108618b" style=bold]
		"task_985992f8-63b6-4aa2-839b-f8cbacd71782" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_985992f8-63b6-4aa2-839b-f8cbacd71782" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_985992f8-63b6-4aa2-839b-f8cbacd71782" [label=11 color="#cc1caf" fontcolor="#cc1caf" id="edge_2ef99f1c-faba-4717-bb5f-9cf19663e0b0" style=bold]
		"task_0bf2504f-28f0-423a-addc-d7804510da79" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_0bf2504f-28f0-423a-addc-d7804510da79" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0bf2504f-28f0-423a-addc-d7804510da79" [label=12 color="#cc1caf" fontcolor="#cc1caf" id="edge_24353087-ff75-4ec8-b6ea-3548b2caa876" style=bold]
		"task_42e3de4f-d748-4814-95b4-5d1b900d0087" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_42e3de4f-d748-4814-95b4-5d1b900d0087" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_42e3de4f-d748-4814-95b4-5d1b900d0087" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#cc1caf" fontcolor="#cc1caf" id="edge_b4f46a75-d217-4b4c-8b46-d047ddf3fafe" style=bold]
		"task_4ace8345-600c-40b5-b238-faf895138e97" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_4ace8345-600c-40b5-b238-faf895138e97" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4ace8345-600c-40b5-b238-faf895138e97" [label="14  [when: _result_intel_processor.rc == 0]" color="#cc1caf" fontcolor="#cc1caf" id="edge_2d378bd4-784f-4ecb-8faf-1b828b0acd33" style=bold]
		"task_b7cd98fb-584b-490b-9ff1-28c9fc2c3494" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_b7cd98fb-584b-490b-9ff1-28c9fc2c3494" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b7cd98fb-584b-490b-9ff1-28c9fc2c3494" [label="15  [when: _result_amd_processor.rc == 0]" color="#cc1caf" fontcolor="#cc1caf" id="edge_628d5149-fd6b-423c-94ac-9807211a20f7" style=bold]
		"task_dad3f03c-2375-4e82-8c8b-ca8f29503a7f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_dad3f03c-2375-4e82-8c8b-ca8f29503a7f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_dad3f03c-2375-4e82-8c8b-ca8f29503a7f" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cc1caf" fontcolor="#cc1caf" id="edge_f3d6d441-3f10-4f99-9f2b-6feb695b11d0" style=bold]
		"task_a1db234f-8451-40fd-a6d5-5a197dd8991a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_a1db234f-8451-40fd-a6d5-5a197dd8991a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a1db234f-8451-40fd-a6d5-5a197dd8991a" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cc1caf" fontcolor="#cc1caf" id="edge_120fa0c6-2b5d-41bb-a83a-84d84c77d7dc" style=bold]
		"task_8bdc3b17-7928-4b10-ab97-00935c21c0da" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_8bdc3b17-7928-4b10-ab97-00935c21c0da" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_8bdc3b17-7928-4b10-ab97-00935c21c0da" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cc1caf" fontcolor="#cc1caf" id="edge_5361ee60-de77-483a-a541-ee00494748b6" style=bold]
		"task_a04e5d3f-2067-4548-94c7-9b6ad6c42b9d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_a04e5d3f-2067-4548-94c7-9b6ad6c42b9d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a04e5d3f-2067-4548-94c7-9b6ad6c42b9d" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cc1caf" fontcolor="#cc1caf" id="edge_a14081c4-fb9d-40d3-95f2-f8bb3ee8b1e3" style=bold]
		"task_550f045a-4613-463b-9953-7f66228c3595" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_550f045a-4613-463b-9953-7f66228c3595" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_550f045a-4613-463b-9953-7f66228c3595" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#cc1caf" fontcolor="#cc1caf" id="edge_4db83af8-d20f-4bce-aa47-697c8fd9c07a" style=bold]
		"task_91e4c15c-2a3c-4834-8b9e-6986be92a60f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_91e4c15c-2a3c-4834-8b9e-6986be92a60f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_91e4c15c-2a3c-4834-8b9e-6986be92a60f" [label=21 color="#cc1caf" fontcolor="#cc1caf" id="edge_19d00260-fd93-4137-8a6c-02c2214cf01d" style=bold]
		"task_a6ecbb03-cbb3-4e7f-abf6-9d75e48c5761" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_a6ecbb03-cbb3-4e7f-abf6-9d75e48c5761" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a6ecbb03-cbb3-4e7f-abf6-9d75e48c5761" [label=22 color="#cc1caf" fontcolor="#cc1caf" id="edge_06b7a537-834b-4ff1-8d65-b7bf9d2ddd4c" style=bold]
		"task_94d58b8e-f886-47a8-a045-a0bb7f883751" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_94d58b8e-f886-47a8-a045-a0bb7f883751" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_94d58b8e-f886-47a8-a045-a0bb7f883751" [label=23 color="#cc1caf" fontcolor="#cc1caf" id="edge_e85d8985-9874-447b-b4c0-256de04ff7c0" style=bold]
		"task_1aecdbba-d75a-459a-99c5-ea7cc75d443b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_1aecdbba-d75a-459a-99c5-ea7cc75d443b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1aecdbba-d75a-459a-99c5-ea7cc75d443b" [label=24 color="#cc1caf" fontcolor="#cc1caf" id="edge_4b2bbf2e-6bf4-458a-8555-f2a95e12c7bc" style=bold]
		"task_88bdcc54-cd58-4f11-808d-1204e3239411" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_88bdcc54-cd58-4f11-808d-1204e3239411" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_88bdcc54-cd58-4f11-808d-1204e3239411" [label=25 color="#cc1caf" fontcolor="#cc1caf" id="edge_e062c434-2c2f-4fda-8426-2744985e3985" style=bold]
		"task_c63e2ea6-3753-4906-97f6-577f1304d121" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_c63e2ea6-3753-4906-97f6-577f1304d121" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c63e2ea6-3753-4906-97f6-577f1304d121" [label=26 color="#cc1caf" fontcolor="#cc1caf" id="edge_43508ec0-62d1-4116-a8d4-22f4e29fffd6" style=bold]
		"task_bfa02fa0-794d-4a4b-984c-95d59b1b7968" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_bfa02fa0-794d-4a4b-984c-95d59b1b7968" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_bfa02fa0-794d-4a4b-984c-95d59b1b7968" [label=27 color="#cc1caf" fontcolor="#cc1caf" id="edge_62a52397-37ed-4f76-8ec9-eefbb48dd197" style=bold]
		"task_3c7b2216-1a94-4221-8a9c-90b90adc8b75" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_3c7b2216-1a94-4221-8a9c-90b90adc8b75" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3c7b2216-1a94-4221-8a9c-90b90adc8b75" [label=28 color="#cc1caf" fontcolor="#cc1caf" id="edge_b435eade-ac7c-4ac7-ba57-ec208a99d7e5" style=bold]
		"task_fe006710-9746-423f-b061-87e9b99d705c" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_fe006710-9746-423f-b061-87e9b99d705c" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fe006710-9746-423f-b061-87e9b99d705c" [label=29 color="#cc1caf" fontcolor="#cc1caf" id="edge_b457d3f3-5246-4f15-b134-c985aaa692cb" style=bold]
		"task_efc698c2-3bd9-4231-b191-b1588cbec9a5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_efc698c2-3bd9-4231-b191-b1588cbec9a5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_efc698c2-3bd9-4231-b191-b1588cbec9a5" [label=30 color="#cc1caf" fontcolor="#cc1caf" id="edge_ab6c3eb1-8da6-4c96-91f4-a10c93043313" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#8d141f" fontcolor="#ffffff" id="play_c4edc580-2f2a-4034-8477-1a4315a772cf" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#8d141f" fontcolor="#8d141f" id="edge_14c8abce-2cef-4198-9173-953ac0692b63" style=bold]
	}
}
