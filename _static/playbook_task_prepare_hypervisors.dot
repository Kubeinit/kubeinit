digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#11f875" fontcolor="#ffffff" id="play_46f6c406-a966-4721-b5db-4086173007e2" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#11f875" fontcolor="#11f875" id="edge_484fadcf-1080-41f8-8852-d5f172e89b34" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#542dc1" fontcolor="#ffffff" id="play_300d1874-d31c-4f5e-83ef-a93a7115f7fe" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#542dc1" fontcolor="#542dc1" id="edge_907979b3-3e30-40d2-89b4-b5b93f3d6761" style=bold]
		"task_d8165409-6c9a-49ad-9d74-8d803346ee3d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_d8165409-6c9a-49ad-9d74-8d803346ee3d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d8165409-6c9a-49ad-9d74-8d803346ee3d" [label=1 color="#542dc1" fontcolor="#542dc1" id="edge_2e809d22-675d-426a-9864-efa7ca63e453" style=bold]
		"task_7452067f-f7ed-41b4-a174-e3f1dc542c41" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_7452067f-f7ed-41b4-a174-e3f1dc542c41" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7452067f-f7ed-41b4-a174-e3f1dc542c41" [label=2 color="#542dc1" fontcolor="#542dc1" id="edge_2e9d6b7c-ef8e-4050-8db0-c3a24857ac48" style=bold]
		"task_e970faff-907c-4637-86cf-55bedd7bce1b" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_e970faff-907c-4637-86cf-55bedd7bce1b" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e970faff-907c-4637-86cf-55bedd7bce1b" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#542dc1" fontcolor="#542dc1" id="edge_538b7892-51ca-419b-baf5-556b95d9f13a" style=bold]
		"task_a344b4b9-0e0f-417c-ae6c-86ed786fd472" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_a344b4b9-0e0f-417c-ae6c-86ed786fd472" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a344b4b9-0e0f-417c-ae6c-86ed786fd472" [label=4 color="#542dc1" fontcolor="#542dc1" id="edge_0569c971-97d0-42ff-a6fd-571e100540bd" style=bold]
		"task_2ae331c7-488e-4b1b-aafb-e8c1c5ca24fd" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_2ae331c7-488e-4b1b-aafb-e8c1c5ca24fd" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2ae331c7-488e-4b1b-aafb-e8c1c5ca24fd" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#542dc1" fontcolor="#542dc1" id="edge_f82ce5a9-9869-4be6-81a7-58ed7b99879b" style=bold]
		"task_4891d0eb-d712-44c6-bcef-a8ef66fc8615" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_4891d0eb-d712-44c6-bcef-a8ef66fc8615" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4891d0eb-d712-44c6-bcef-a8ef66fc8615" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#542dc1" fontcolor="#542dc1" id="edge_9a2af8f5-ee8c-47fe-abdd-23bf386b6b1d" style=bold]
		"task_09baa434-9bf2-43bb-9231-64683c2dcb24" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_09baa434-9bf2-43bb-9231-64683c2dcb24" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_09baa434-9bf2-43bb-9231-64683c2dcb24" [label=7 color="#542dc1" fontcolor="#542dc1" id="edge_703bb1c8-5a68-456e-9c0b-2aa9aba8db1e" style=bold]
		"task_81bf853e-80d7-4108-abc5-cfbb8da90631" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_81bf853e-80d7-4108-abc5-cfbb8da90631" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_81bf853e-80d7-4108-abc5-cfbb8da90631" [label=8 color="#542dc1" fontcolor="#542dc1" id="edge_6b6fbf59-b6fd-475b-a78c-34b3e23adf91" style=bold]
		"task_ee432a23-16d5-417e-84e8-d09ed549c0f0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_ee432a23-16d5-417e-84e8-d09ed549c0f0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ee432a23-16d5-417e-84e8-d09ed549c0f0" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#542dc1" fontcolor="#542dc1" id="edge_691324bd-82e1-4ce7-9852-d864722aca0a" style=bold]
		"task_3a6743e3-502d-48e1-bb36-421e318fe058" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_3a6743e3-502d-48e1-bb36-421e318fe058" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3a6743e3-502d-48e1-bb36-421e318fe058" [label=10 color="#542dc1" fontcolor="#542dc1" id="edge_a8eab686-053c-44c0-b51a-0f3d42daa076" style=bold]
		"task_20d25c7b-e70d-48fe-be4b-406660358897" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_20d25c7b-e70d-48fe-be4b-406660358897" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_20d25c7b-e70d-48fe-be4b-406660358897" [label=11 color="#542dc1" fontcolor="#542dc1" id="edge_7c1e1160-11a1-41f1-8147-37dfb8157aea" style=bold]
		"task_c7dd0d58-cada-4f5a-8b91-f8ba2de2e788" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_c7dd0d58-cada-4f5a-8b91-f8ba2de2e788" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c7dd0d58-cada-4f5a-8b91-f8ba2de2e788" [label=12 color="#542dc1" fontcolor="#542dc1" id="edge_01731cc7-ff56-4999-90e3-01522e728f10" style=bold]
		"task_072d9272-5a3c-46a1-9c43-b773c4c289ea" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_072d9272-5a3c-46a1-9c43-b773c4c289ea" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_072d9272-5a3c-46a1-9c43-b773c4c289ea" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#542dc1" fontcolor="#542dc1" id="edge_dbc16e90-4993-46ba-8db0-519ab9c5aac4" style=bold]
		"task_99ab1a59-7927-48ff-ab4b-0e3d3a2096ce" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_99ab1a59-7927-48ff-ab4b-0e3d3a2096ce" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_99ab1a59-7927-48ff-ab4b-0e3d3a2096ce" [label="14  [when: _result_intel_processor.rc == 0]" color="#542dc1" fontcolor="#542dc1" id="edge_ec7db71d-1137-4966-8415-41daea4cc37e" style=bold]
		"task_3daa7685-b77f-4663-b14a-bd2f477c8809" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_3daa7685-b77f-4663-b14a-bd2f477c8809" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3daa7685-b77f-4663-b14a-bd2f477c8809" [label="15  [when: _result_amd_processor.rc == 0]" color="#542dc1" fontcolor="#542dc1" id="edge_2c507a49-0ea5-4b15-ace0-ddcaa8041a7a" style=bold]
		"task_d9664126-aa9a-4dcf-be22-b53adab44155" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_d9664126-aa9a-4dcf-be22-b53adab44155" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d9664126-aa9a-4dcf-be22-b53adab44155" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#542dc1" fontcolor="#542dc1" id="edge_a9617c02-cf1d-4aa5-ac4e-148c64b647aa" style=bold]
		"task_ce1b4bed-7b11-4e42-b9ce-26f8a1da9dbd" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_ce1b4bed-7b11-4e42-b9ce-26f8a1da9dbd" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ce1b4bed-7b11-4e42-b9ce-26f8a1da9dbd" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#542dc1" fontcolor="#542dc1" id="edge_3f84443c-83dd-4a13-a356-9821b9af7779" style=bold]
		"task_7ecc3d94-682e-46b3-8e3a-8d4327b8594f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_7ecc3d94-682e-46b3-8e3a-8d4327b8594f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7ecc3d94-682e-46b3-8e3a-8d4327b8594f" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#542dc1" fontcolor="#542dc1" id="edge_39e3449d-60fa-4157-823f-63600f14f6f9" style=bold]
		"task_1c10da03-90ff-45df-8397-c2f0f06b458a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_1c10da03-90ff-45df-8397-c2f0f06b458a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1c10da03-90ff-45df-8397-c2f0f06b458a" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#542dc1" fontcolor="#542dc1" id="edge_e2d9cfc3-1638-46b6-8cc6-e2b9d819d528" style=bold]
		"task_f43fccfc-b28d-4fbb-ba8a-fdcf171aea03" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_f43fccfc-b28d-4fbb-ba8a-fdcf171aea03" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f43fccfc-b28d-4fbb-ba8a-fdcf171aea03" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#542dc1" fontcolor="#542dc1" id="edge_ad40c47d-d0a7-42d6-8227-d79d2e920c0c" style=bold]
		"task_d05278ca-ded7-4983-984a-f279fa6d07d5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_d05278ca-ded7-4983-984a-f279fa6d07d5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d05278ca-ded7-4983-984a-f279fa6d07d5" [label=21 color="#542dc1" fontcolor="#542dc1" id="edge_f57e60fd-eb83-4e3a-bf62-e551bf508524" style=bold]
		"task_9b2da348-7556-404c-a597-9a99a2d371cc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_9b2da348-7556-404c-a597-9a99a2d371cc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9b2da348-7556-404c-a597-9a99a2d371cc" [label=22 color="#542dc1" fontcolor="#542dc1" id="edge_075846c4-6465-4f1d-8dd0-5b88d4faead4" style=bold]
		"task_138c3bb3-de0c-4a20-a1a9-1526f7b02ceb" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_138c3bb3-de0c-4a20-a1a9-1526f7b02ceb" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_138c3bb3-de0c-4a20-a1a9-1526f7b02ceb" [label=23 color="#542dc1" fontcolor="#542dc1" id="edge_da3fb2ad-75dc-4241-bbad-b9304e0c6e52" style=bold]
		"task_2a6f3092-720c-47d2-ba01-febce9ff0b1d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_2a6f3092-720c-47d2-ba01-febce9ff0b1d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2a6f3092-720c-47d2-ba01-febce9ff0b1d" [label=24 color="#542dc1" fontcolor="#542dc1" id="edge_2ca43b64-a9b1-401f-b825-863c3cd65a27" style=bold]
		"task_5900af57-5d9f-43cd-83e1-7c34ecb59bc5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_5900af57-5d9f-43cd-83e1-7c34ecb59bc5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5900af57-5d9f-43cd-83e1-7c34ecb59bc5" [label=25 color="#542dc1" fontcolor="#542dc1" id="edge_c4465af2-3e60-4ca5-8671-09ec335282c7" style=bold]
		"task_705eb80f-33ca-4400-9cb2-3795bec7b7ac" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_705eb80f-33ca-4400-9cb2-3795bec7b7ac" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_705eb80f-33ca-4400-9cb2-3795bec7b7ac" [label=26 color="#542dc1" fontcolor="#542dc1" id="edge_ee5e4d3c-9130-4f4e-aebc-a5b14861d755" style=bold]
		"task_d372704b-3555-416b-824d-49746acb44ab" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_d372704b-3555-416b-824d-49746acb44ab" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d372704b-3555-416b-824d-49746acb44ab" [label=27 color="#542dc1" fontcolor="#542dc1" id="edge_d007a184-bc41-41ab-b01a-4745c0039d23" style=bold]
		"task_df0b5dd4-416f-4fc8-afbd-5d58efda744d" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_df0b5dd4-416f-4fc8-afbd-5d58efda744d" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_df0b5dd4-416f-4fc8-afbd-5d58efda744d" [label=28 color="#542dc1" fontcolor="#542dc1" id="edge_6aa73daa-2100-4c79-94eb-dd7bf262a8b8" style=bold]
		"task_3ad6d1fe-ea7b-45c0-9e58-8cf64c6ff0bd" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_3ad6d1fe-ea7b-45c0-9e58-8cf64c6ff0bd" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3ad6d1fe-ea7b-45c0-9e58-8cf64c6ff0bd" [label=29 color="#542dc1" fontcolor="#542dc1" id="edge_aa7b072c-de2b-44b3-9409-a88b7769b80b" style=bold]
		"task_ae6b8a5e-12dd-4ba8-b262-538674b33144" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_ae6b8a5e-12dd-4ba8-b262-538674b33144" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ae6b8a5e-12dd-4ba8-b262-538674b33144" [label=30 color="#542dc1" fontcolor="#542dc1" id="edge_a1d15f89-5cb9-4e06-8da1-aeda1d24aa9c" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#044372" fontcolor="#ffffff" id="play_aabe25d9-e596-4474-9d22-6640dd7fa846" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#044372" fontcolor="#044372" id="edge_003be698-c973-4014-b9c8-b8a75ae0a9f8" style=bold]
	}
}
