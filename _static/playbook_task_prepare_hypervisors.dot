digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#5ded02" fontcolor="#ffffff" id="play_67cec646-1b5b-4758-a829-141fce70b228" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#5ded02" fontcolor="#5ded02" id="edge_c08f16ee-0d2d-4749-a850-9f4316218eb9" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#5f78fb" fontcolor="#000000" id="play_b6ba2a6a-a6a6-41aa-89c2-8e7a40da4d7a" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#5f78fb" fontcolor="#5f78fb" id="edge_d8687b12-8a17-4ced-8d03-443413dc3ce3" style=bold]
		"task_d6460dfb-e427-44cd-a123-9e02c29c5f43" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_d6460dfb-e427-44cd-a123-9e02c29c5f43" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d6460dfb-e427-44cd-a123-9e02c29c5f43" [label=1 color="#5f78fb" fontcolor="#5f78fb" id="edge_43a946e8-41ba-4c5d-bfdf-de10d32090b6" style=bold]
		"task_7c442968-15bf-4537-9a90-4a0430526ad6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_7c442968-15bf-4537-9a90-4a0430526ad6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7c442968-15bf-4537-9a90-4a0430526ad6" [label=2 color="#5f78fb" fontcolor="#5f78fb" id="edge_17281d03-ec26-41d6-aa9e-52c930104e8b" style=bold]
		"task_489d7699-de10-4f61-a787-e3e48cf4f4a4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_489d7699-de10-4f61-a787-e3e48cf4f4a4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_489d7699-de10-4f61-a787-e3e48cf4f4a4" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#5f78fb" fontcolor="#5f78fb" id="edge_888ccdd4-cfc0-4253-9631-c58062ae2d71" style=bold]
		"task_13f05817-b3a6-4da0-8d0b-48ea85662aaa" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_13f05817-b3a6-4da0-8d0b-48ea85662aaa" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_13f05817-b3a6-4da0-8d0b-48ea85662aaa" [label=4 color="#5f78fb" fontcolor="#5f78fb" id="edge_fcc510bc-5add-4c76-ad4e-248fc1ca273e" style=bold]
		"task_ead0cc1e-d0d7-4f68-86b1-c8c7382f86d8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_ead0cc1e-d0d7-4f68-86b1-c8c7382f86d8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ead0cc1e-d0d7-4f68-86b1-c8c7382f86d8" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#5f78fb" fontcolor="#5f78fb" id="edge_ee211b88-440b-4260-8ada-97ee00fd9168" style=bold]
		"task_b975fb37-f173-4e59-9955-6f9466c06b38" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_b975fb37-f173-4e59-9955-6f9466c06b38" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b975fb37-f173-4e59-9955-6f9466c06b38" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#5f78fb" fontcolor="#5f78fb" id="edge_2c39fdb6-2634-4de5-a6ba-f9af425c9c6a" style=bold]
		"task_f3115798-b5c7-4fc7-bdff-b23e511cda93" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_f3115798-b5c7-4fc7-bdff-b23e511cda93" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f3115798-b5c7-4fc7-bdff-b23e511cda93" [label=7 color="#5f78fb" fontcolor="#5f78fb" id="edge_fa8759d1-a780-46ae-a470-d891278f5872" style=bold]
		"task_0f0a5458-a4dd-4e9f-a5b3-736eb2c27d2e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_0f0a5458-a4dd-4e9f-a5b3-736eb2c27d2e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0f0a5458-a4dd-4e9f-a5b3-736eb2c27d2e" [label=8 color="#5f78fb" fontcolor="#5f78fb" id="edge_0eab497a-14b5-4ebe-b9c8-b3160131e8eb" style=bold]
		"task_0eda36e4-828c-4b5d-afb1-2af8e69a29d8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_0eda36e4-828c-4b5d-afb1-2af8e69a29d8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0eda36e4-828c-4b5d-afb1-2af8e69a29d8" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#5f78fb" fontcolor="#5f78fb" id="edge_9998f481-388a-44a2-ab6a-084540a8c302" style=bold]
		"task_2831cd82-0185-403c-ae94-f9fe17bae783" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_2831cd82-0185-403c-ae94-f9fe17bae783" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2831cd82-0185-403c-ae94-f9fe17bae783" [label=10 color="#5f78fb" fontcolor="#5f78fb" id="edge_d11e708c-c1a8-4c0d-acae-47f88ba24395" style=bold]
		"task_23d08a02-2ad0-47e6-8a88-ca10f73c2965" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_23d08a02-2ad0-47e6-8a88-ca10f73c2965" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_23d08a02-2ad0-47e6-8a88-ca10f73c2965" [label=11 color="#5f78fb" fontcolor="#5f78fb" id="edge_860fb896-2ca3-4a9f-865d-876c7bfe17bc" style=bold]
		"task_f0df8743-288a-4009-8be3-364c0e31989a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_f0df8743-288a-4009-8be3-364c0e31989a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f0df8743-288a-4009-8be3-364c0e31989a" [label=12 color="#5f78fb" fontcolor="#5f78fb" id="edge_d9d00ddd-e934-4862-b3af-6d40bf6a9ddd" style=bold]
		"task_70b5fee5-3da0-47c0-acd9-e5438476ade2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_70b5fee5-3da0-47c0-acd9-e5438476ade2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_70b5fee5-3da0-47c0-acd9-e5438476ade2" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#5f78fb" fontcolor="#5f78fb" id="edge_d8c9a76b-bc7d-45a0-ae44-87599a6ac87a" style=bold]
		"task_c0d62a6b-f4df-4a07-8a7e-e37accb2fcf7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_c0d62a6b-f4df-4a07-8a7e-e37accb2fcf7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c0d62a6b-f4df-4a07-8a7e-e37accb2fcf7" [label="14  [when: _result_intel_processor.rc == 0]" color="#5f78fb" fontcolor="#5f78fb" id="edge_9caf4dc6-dedb-4dfc-9628-36192f73f7da" style=bold]
		"task_7b1a3193-2739-4fd8-9f0b-349a5ca60bbc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_7b1a3193-2739-4fd8-9f0b-349a5ca60bbc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7b1a3193-2739-4fd8-9f0b-349a5ca60bbc" [label="15  [when: _result_amd_processor.rc == 0]" color="#5f78fb" fontcolor="#5f78fb" id="edge_88845826-94a7-431a-b92b-ffc80723208b" style=bold]
		"task_6d3b637c-0de2-497f-9728-b24dfbfc8417" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_6d3b637c-0de2-497f-9728-b24dfbfc8417" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6d3b637c-0de2-497f-9728-b24dfbfc8417" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#5f78fb" fontcolor="#5f78fb" id="edge_1ed62f8b-af2d-499d-ad34-700246df4dc5" style=bold]
		"task_5eeefd77-a4ef-41eb-a383-ef18cbd2e634" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_5eeefd77-a4ef-41eb-a383-ef18cbd2e634" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5eeefd77-a4ef-41eb-a383-ef18cbd2e634" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#5f78fb" fontcolor="#5f78fb" id="edge_99cd2657-edea-44e3-9838-b3c52006d1b5" style=bold]
		"task_65ebe5ea-77a8-4df7-952b-a4615b6e4a43" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_65ebe5ea-77a8-4df7-952b-a4615b6e4a43" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_65ebe5ea-77a8-4df7-952b-a4615b6e4a43" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#5f78fb" fontcolor="#5f78fb" id="edge_dd524eee-37cc-4b6c-9cc3-3bf814067e34" style=bold]
		"task_24c9ddf5-d322-4ad7-af6d-c1adfe192ab4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_24c9ddf5-d322-4ad7-af6d-c1adfe192ab4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_24c9ddf5-d322-4ad7-af6d-c1adfe192ab4" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#5f78fb" fontcolor="#5f78fb" id="edge_a50a98a8-6aff-421f-a54a-7291cd6cd920" style=bold]
		"task_0a19ac7a-b376-4a83-b8e7-a16b6152fdd6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_0a19ac7a-b376-4a83-b8e7-a16b6152fdd6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0a19ac7a-b376-4a83-b8e7-a16b6152fdd6" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#5f78fb" fontcolor="#5f78fb" id="edge_e657a013-dd48-4808-b99c-a071d6af10a8" style=bold]
		"task_242bf167-29e4-43b4-8df3-50f0cba04df8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_242bf167-29e4-43b4-8df3-50f0cba04df8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_242bf167-29e4-43b4-8df3-50f0cba04df8" [label=21 color="#5f78fb" fontcolor="#5f78fb" id="edge_ec8f698d-aa7a-4b79-8e89-e71d1606d1df" style=bold]
		"task_2dbe8337-4f1f-4a19-bc23-3f2ad92bcee7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_2dbe8337-4f1f-4a19-bc23-3f2ad92bcee7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2dbe8337-4f1f-4a19-bc23-3f2ad92bcee7" [label=22 color="#5f78fb" fontcolor="#5f78fb" id="edge_18ee158d-fe7a-42f7-8cfc-b8725919c09a" style=bold]
		"task_0c887a5f-07d3-48f7-b78f-7f0edaee84a5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_0c887a5f-07d3-48f7-b78f-7f0edaee84a5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0c887a5f-07d3-48f7-b78f-7f0edaee84a5" [label=23 color="#5f78fb" fontcolor="#5f78fb" id="edge_0b90bece-7730-4830-9d6c-5b0f81b17bf4" style=bold]
		"task_c3baec68-e03d-4509-a801-fdce8322f17f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_c3baec68-e03d-4509-a801-fdce8322f17f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c3baec68-e03d-4509-a801-fdce8322f17f" [label=24 color="#5f78fb" fontcolor="#5f78fb" id="edge_b62797ee-92b5-4021-b864-94a75a802b33" style=bold]
		"task_f8b96c98-d5bd-442b-bc5f-bf736a9274dc" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_f8b96c98-d5bd-442b-bc5f-bf736a9274dc" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f8b96c98-d5bd-442b-bc5f-bf736a9274dc" [label=25 color="#5f78fb" fontcolor="#5f78fb" id="edge_a2f61e80-f93d-4f03-b495-f622e4cdb363" style=bold]
		"task_7f2f5143-f0b0-4926-9dfa-a47319da0335" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_7f2f5143-f0b0-4926-9dfa-a47319da0335" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7f2f5143-f0b0-4926-9dfa-a47319da0335" [label=26 color="#5f78fb" fontcolor="#5f78fb" id="edge_5130e32b-ddca-4faf-a4f7-19e39babf4f8" style=bold]
		"task_c6ef0bfa-92e6-4369-8180-59cfbff6b151" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_c6ef0bfa-92e6-4369-8180-59cfbff6b151" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c6ef0bfa-92e6-4369-8180-59cfbff6b151" [label=27 color="#5f78fb" fontcolor="#5f78fb" id="edge_438bdc07-89fb-48ca-aab6-fb652940f069" style=bold]
		"task_0d5b1401-af2c-4b51-865a-74eeb755fb3f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_0d5b1401-af2c-4b51-865a-74eeb755fb3f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0d5b1401-af2c-4b51-865a-74eeb755fb3f" [label=28 color="#5f78fb" fontcolor="#5f78fb" id="edge_265dbd67-83f4-4cec-9d7d-25f44e444d5f" style=bold]
		"task_3619e73c-a5bf-4aee-a0d7-4d2a2b2fdfbe" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_3619e73c-a5bf-4aee-a0d7-4d2a2b2fdfbe" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3619e73c-a5bf-4aee-a0d7-4d2a2b2fdfbe" [label=29 color="#5f78fb" fontcolor="#5f78fb" id="edge_3d5ded29-ec92-4242-8b6d-b840ca7e20c1" style=bold]
		"task_ff4d213c-daac-4b78-b86f-424a5a711c94" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_ff4d213c-daac-4b78-b86f-424a5a711c94" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ff4d213c-daac-4b78-b86f-424a5a711c94" [label=30 color="#5f78fb" fontcolor="#5f78fb" id="edge_33d2bd45-ee04-4ac5-ac89-b02ed90790a4" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#5414ca" fontcolor="#ffffff" id="play_d4278644-3eab-449b-af04-4de288b3b5b5" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#5414ca" fontcolor="#5414ca" id="edge_f722d637-8720-47b1-956b-353a06cda6b2" style=bold]
	}
}
