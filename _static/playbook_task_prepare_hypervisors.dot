digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#fbba34" fontcolor="#ffffff" id="play_5b47ab1e-8682-49b5-b578-3c15fc0ba3d2" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#fbba34" fontcolor="#fbba34" id="edge_c70d0d8c-6623-4912-b005-7eb5c59b0c84" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#efefa5" fontcolor="#000000" id="play_fea3878f-073e-4fda-be82-2e098aa06c3e" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#efefa5" fontcolor="#efefa5" id="edge_5487587e-c949-4146-9d77-11965f5449f9" style=bold]
		"task_0d4617ae-9927-4ebb-b72f-1ffc30b8e2f7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_0d4617ae-9927-4ebb-b72f-1ffc30b8e2f7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_0d4617ae-9927-4ebb-b72f-1ffc30b8e2f7" [label=1 color="#efefa5" fontcolor="#efefa5" id="edge_da8fc99f-94ef-4844-91a7-8ec71e2f5db5" style=bold]
		"task_153efb3c-ddac-46b0-ada5-3d5767c2f6d2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_153efb3c-ddac-46b0-ada5-3d5767c2f6d2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_153efb3c-ddac-46b0-ada5-3d5767c2f6d2" [label=2 color="#efefa5" fontcolor="#efefa5" id="edge_35054f12-cd4a-45dd-8fd4-abe690460a5a" style=bold]
		"task_d11df055-5bdb-4604-aac4-3342b871bb4e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_d11df055-5bdb-4604-aac4-3342b871bb4e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d11df055-5bdb-4604-aac4-3342b871bb4e" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#efefa5" fontcolor="#efefa5" id="edge_fb46759f-bce2-4e29-898b-0429a271310c" style=bold]
		"task_a966b340-606c-4f33-8c73-97d04ebfeab0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_a966b340-606c-4f33-8c73-97d04ebfeab0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a966b340-606c-4f33-8c73-97d04ebfeab0" [label=4 color="#efefa5" fontcolor="#efefa5" id="edge_c2613be8-8f10-4c70-ba38-a150b6eaa01c" style=bold]
		"task_944b3361-6b4e-4dd9-b6af-703f9868a0c6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_944b3361-6b4e-4dd9-b6af-703f9868a0c6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_944b3361-6b4e-4dd9-b6af-703f9868a0c6" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#efefa5" fontcolor="#efefa5" id="edge_acde49ba-a4c8-49e4-a2b5-bd5f38f2bbcd" style=bold]
		"task_922eca04-bf35-4e36-a7f6-2be41586ae0e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_922eca04-bf35-4e36-a7f6-2be41586ae0e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_922eca04-bf35-4e36-a7f6-2be41586ae0e" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#efefa5" fontcolor="#efefa5" id="edge_3b33bb34-9c02-4cd2-be3d-2b2df1fdfa56" style=bold]
		"task_9c64799d-2b5c-424b-89d8-91467feba832" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_9c64799d-2b5c-424b-89d8-91467feba832" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9c64799d-2b5c-424b-89d8-91467feba832" [label=7 color="#efefa5" fontcolor="#efefa5" id="edge_69957ecc-1ef8-4ab2-ba0d-0d6e458a5f49" style=bold]
		"task_207d8f91-3b98-4b98-9946-851e6f3c7fe9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_207d8f91-3b98-4b98-9946-851e6f3c7fe9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_207d8f91-3b98-4b98-9946-851e6f3c7fe9" [label=8 color="#efefa5" fontcolor="#efefa5" id="edge_3e393c57-14a2-4865-8695-450bc59bb8da" style=bold]
		"task_4c19dd59-f895-42e3-8957-2c5096718df7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_4c19dd59-f895-42e3-8957-2c5096718df7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4c19dd59-f895-42e3-8957-2c5096718df7" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#efefa5" fontcolor="#efefa5" id="edge_15264ee1-4dcd-40ea-a70b-ba8893b1958a" style=bold]
		"task_169f0a83-6746-45e9-8710-fa682f724f5e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_169f0a83-6746-45e9-8710-fa682f724f5e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_169f0a83-6746-45e9-8710-fa682f724f5e" [label=10 color="#efefa5" fontcolor="#efefa5" id="edge_5e845152-f6cd-4187-8097-2fa55ab893c7" style=bold]
		"task_4770d299-24ec-4c60-98d0-19de7d4de89f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_4770d299-24ec-4c60-98d0-19de7d4de89f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_4770d299-24ec-4c60-98d0-19de7d4de89f" [label=11 color="#efefa5" fontcolor="#efefa5" id="edge_3add9139-1fec-4b24-a270-ff96a99dbde9" style=bold]
		"task_2c9a940f-65bd-4285-8797-7e5f7e70268e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_2c9a940f-65bd-4285-8797-7e5f7e70268e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2c9a940f-65bd-4285-8797-7e5f7e70268e" [label=12 color="#efefa5" fontcolor="#efefa5" id="edge_2becf767-46d8-471f-9a66-01f3a417bdd4" style=bold]
		"task_9d2e0870-f283-41ce-985b-246da8e36daa" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_9d2e0870-f283-41ce-985b-246da8e36daa" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9d2e0870-f283-41ce-985b-246da8e36daa" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#efefa5" fontcolor="#efefa5" id="edge_15b6b1cd-79b6-45f8-8f56-51fab8e98335" style=bold]
		"task_35fab6c2-e5e6-47fe-aee1-e23b8a320bce" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_35fab6c2-e5e6-47fe-aee1-e23b8a320bce" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_35fab6c2-e5e6-47fe-aee1-e23b8a320bce" [label="14  [when: _result_intel_processor.rc == 0]" color="#efefa5" fontcolor="#efefa5" id="edge_858e754e-931c-4fcd-94e0-3c70ca054dbb" style=bold]
		"task_ca1a6767-191d-4a22-adfd-cd6b8be4c6a2" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_ca1a6767-191d-4a22-adfd-cd6b8be4c6a2" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ca1a6767-191d-4a22-adfd-cd6b8be4c6a2" [label="15  [when: _result_amd_processor.rc == 0]" color="#efefa5" fontcolor="#efefa5" id="edge_44268231-e878-4a85-91f7-3ea03d6d69ba" style=bold]
		"task_e1ccf137-ce80-4282-9390-2b42f542fba5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_e1ccf137-ce80-4282-9390-2b42f542fba5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e1ccf137-ce80-4282-9390-2b42f542fba5" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#efefa5" fontcolor="#efefa5" id="edge_252e369d-39c5-43b8-8ad0-5a3463be19c2" style=bold]
		"task_281ef457-c24b-4b9e-9346-59c1eeab01c7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_281ef457-c24b-4b9e-9346-59c1eeab01c7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_281ef457-c24b-4b9e-9346-59c1eeab01c7" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#efefa5" fontcolor="#efefa5" id="edge_b5c2b80e-35c7-4f79-9a50-dbbae08c3020" style=bold]
		"task_b479db48-34d1-4916-93db-1d9c0e146767" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_b479db48-34d1-4916-93db-1d9c0e146767" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b479db48-34d1-4916-93db-1d9c0e146767" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#efefa5" fontcolor="#efefa5" id="edge_84024945-b6bf-4e35-84c6-c2b6801d4062" style=bold]
		"task_644a5019-6fdc-4209-bc9d-689aee705342" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_644a5019-6fdc-4209-bc9d-689aee705342" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_644a5019-6fdc-4209-bc9d-689aee705342" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#efefa5" fontcolor="#efefa5" id="edge_bb8d16e0-1e44-4fc3-b9d6-523a61717c1a" style=bold]
		"task_807c9e67-6788-45f0-be03-f4a6dd8fc598" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_807c9e67-6788-45f0-be03-f4a6dd8fc598" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_807c9e67-6788-45f0-be03-f4a6dd8fc598" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#efefa5" fontcolor="#efefa5" id="edge_ed1dbac8-3864-4c9c-b791-e3fc3e26087f" style=bold]
		"task_c470fd31-daa0-48b9-96fd-bf2da80750c3" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_c470fd31-daa0-48b9-96fd-bf2da80750c3" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_c470fd31-daa0-48b9-96fd-bf2da80750c3" [label=21 color="#efefa5" fontcolor="#efefa5" id="edge_d230e08e-1f16-48c6-82bc-8b533d7013a2" style=bold]
		"task_e3877650-5e96-437e-8e7e-d0859095fe31" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_e3877650-5e96-437e-8e7e-d0859095fe31" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e3877650-5e96-437e-8e7e-d0859095fe31" [label=22 color="#efefa5" fontcolor="#efefa5" id="edge_31efeecc-92f9-45c1-be18-0aa9073b163e" style=bold]
		"task_d37aca70-2246-48b8-a0e5-1b245f208e49" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_d37aca70-2246-48b8-a0e5-1b245f208e49" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d37aca70-2246-48b8-a0e5-1b245f208e49" [label=23 color="#efefa5" fontcolor="#efefa5" id="edge_a733f7af-fd64-468d-a7b3-fb077a6f3e90" style=bold]
		"task_e1f3e3f1-df8d-4f26-a356-73a44c918c2f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_e1f3e3f1-df8d-4f26-a356-73a44c918c2f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e1f3e3f1-df8d-4f26-a356-73a44c918c2f" [label=24 color="#efefa5" fontcolor="#efefa5" id="edge_b1ec9764-7da9-480e-a2fb-bd9bac74c58b" style=bold]
		"task_536f3e03-75d9-49aa-bf74-f61cad9bc9c6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_536f3e03-75d9-49aa-bf74-f61cad9bc9c6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_536f3e03-75d9-49aa-bf74-f61cad9bc9c6" [label=25 color="#efefa5" fontcolor="#efefa5" id="edge_e6ad7ee3-e6cf-4ea9-9a29-81392c0336cc" style=bold]
		"task_785594ff-0284-47aa-87fb-46538808e071" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_785594ff-0284-47aa-87fb-46538808e071" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_785594ff-0284-47aa-87fb-46538808e071" [label=26 color="#efefa5" fontcolor="#efefa5" id="edge_71810a43-7870-412d-9173-88cdbe8dc022" style=bold]
		"task_69438762-6ee1-4096-af60-1e0484f3ec41" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_69438762-6ee1-4096-af60-1e0484f3ec41" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_69438762-6ee1-4096-af60-1e0484f3ec41" [label=27 color="#efefa5" fontcolor="#efefa5" id="edge_425aef0d-d48a-4a52-95d8-301ca2c0e7d8" style=bold]
		"task_a05ccadc-0415-47a0-9d54-afb54e0481a1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_a05ccadc-0415-47a0-9d54-afb54e0481a1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a05ccadc-0415-47a0-9d54-afb54e0481a1" [label=28 color="#efefa5" fontcolor="#efefa5" id="edge_4b80fb25-9fe4-46ed-bb77-c218e0448a39" style=bold]
		"task_02f28e93-d834-423e-942a-2205393d6bf7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_02f28e93-d834-423e-942a-2205393d6bf7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_02f28e93-d834-423e-942a-2205393d6bf7" [label=29 color="#efefa5" fontcolor="#efefa5" id="edge_271eac81-e8df-4d77-a3a2-e1390ad29cce" style=bold]
		"task_baf3ca77-9000-4add-872c-98e9d7dcdba6" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_baf3ca77-9000-4add-872c-98e9d7dcdba6" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_baf3ca77-9000-4add-872c-98e9d7dcdba6" [label=30 color="#efefa5" fontcolor="#efefa5" id="edge_c7f9115b-68af-495f-b815-ed7134b6a996" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#39d5f1" fontcolor="#ffffff" id="play_e6d7c068-ca99-4f27-a863-483e5e89999b" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#39d5f1" fontcolor="#39d5f1" id="edge_33d4397a-96ea-420b-bd03-8720e9a2e177" style=bold]
	}
}
