digraph "kubeinit/playbook.yml "{
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	subgraph "Play #1: Initial setup (1) "{
		"Play #1: Initial setup (1)" [color="#bb51ac" fontcolor="#ffffff" id="play_db480a8d-d72c-49a4-8fa5-c29be983de6f" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #1: Initial setup (1)" [label=1 color="#bb51ac" fontcolor="#bb51ac" id="edge_7f4018d8-031a-48e2-86ed-49492c943dea" style=bold]
	}
	subgraph "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0) "{
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [color="#18787c" fontcolor="#ffffff" id="play_ae46742f-526f-4688-b42d-065a02a27cd2" shape=box style=filled tooltip=""]
		"kubeinit/playbook.yml" -> "Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" [label=2 color="#18787c" fontcolor="#18787c" id="edge_0f3776ff-48b0-4375-87e9-eb7de7762499" style=bold]
		"task_6efc194d-02d3-44fe-8301-1ffd81b9572a" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution" id="task_6efc194d-02d3-44fe-8301-1ffd81b9572a" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show ansible_distribution"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6efc194d-02d3-44fe-8301-1ffd81b9572a" [label=1 color="#18787c" fontcolor="#18787c" id="edge_11d606c7-17e3-4802-b7c9-80d276b5d7be" style=bold]
		"task_3c5179ff-f44f-494a-aaa1-e8dacc28c0ba" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family" id="task_3c5179ff-f44f-494a-aaa1-e8dacc28c0ba" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Show distribution_family"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3c5179ff-f44f-494a-aaa1-e8dacc28c0ba" [label=2 color="#18787c" fontcolor="#18787c" id="edge_e9701dfa-35e0-4767-a7a7-012a676a8c7b" style=bold]
		"task_5b6dc2f5-c17d-4d05-94d9-04d292a26759" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor" id="task_5b6dc2f5-c17d-4d05-94d9-04d292a26759" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fails if CentOS 7 hypervisor"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_5b6dc2f5-c17d-4d05-94d9-04d292a26759" [label="3  [when: (hostvars[kubeinit_deployment_node_name].ansible_distribution == 'CentOS' and hostvars[kubeinit_deployment_node_name].ansible_distribution_major_version == \"7\")]" color="#18787c" fontcolor="#18787c" id="edge_d439296a-4246-4cc5-9a30-921749c57e11" style=bold]
		"task_6ce43cb6-8c67-4e8b-805b-72c41f13c4c8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug" id="task_6ce43cb6-8c67-4e8b-805b-72c41f13c4c8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix libvirt qemu bug"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_6ce43cb6-8c67-4e8b-805b-72c41f13c4c8" [label=4 color="#18787c" fontcolor="#18787c" id="edge_812af28e-e578-468a-a4f3-c321ad60bf9b" style=bold]
		"task_39574917-c440-4eba-a80c-e5b3cb701eb8" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements" id="task_39574917-c440-4eba-a80c-e5b3cb701eb8" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install CentOS based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_39574917-c440-4eba-a80c-e5b3cb701eb8" [label="5  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'CentOS' or hostvars[kubeinit_deployment_node_name].distribution_family == 'Fedora']" color="#18787c" fontcolor="#18787c" id="edge_c25b839c-5a68-44c5-8801-bf700e5114bc" style=bold]
		"task_a9ab2752-6b30-4aea-a155-399c4a068c46" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements" id="task_a9ab2752-6b30-4aea-a155-399c4a068c46" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Install Debian based requirements"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a9ab2752-6b30-4aea-a155-399c4a068c46" [label="6  [when: hostvars[kubeinit_deployment_node_name].distribution_family == 'Debian']" color="#18787c" fontcolor="#18787c" id="edge_275f4c4e-8d73-4cec-8712-81455a578748" style=bold]
		"task_b73418d3-1afe-4a1a-a796-cc89951a7cb4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages" id="task_b73418d3-1afe-4a1a-a796-cc89951a7cb4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Upgrade all packages"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_b73418d3-1afe-4a1a-a796-cc89951a7cb4" [label=7 color="#18787c" fontcolor="#18787c" id="edge_5d22c2f1-a921-46de-8067-f9e7e124408a" style=bold]
		"task_371e1390-7306-479a-80ac-d84a9d825a67" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt" id="task_371e1390-7306-479a-80ac-d84a9d825a67" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add users to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_371e1390-7306-479a-80ac-d84a9d825a67" [label=8 color="#18787c" fontcolor="#18787c" id="edge_e986175e-6f2a-47b6-a147-120438b14e7b" style=bold]
		"task_7f1413a5-0f1b-43cb-a532-ef6b2d89e7f4" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart" id="task_7f1413a5-0f1b-43cb-a532-ef6b2d89e7f4" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Reboot host and wait for it to restart"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_7f1413a5-0f1b-43cb-a532-ef6b2d89e7f4" [label="9  [when: (_result_installed_packages_centos.changed or _result_installed_packages_debian.changed or _result_upgraded_packages.changed) and kubeinit_libvirt_reboot_hypervisors_after_package_update]" color="#18787c" fontcolor="#18787c" id="edge_da29f58b-45ff-4f30-97e6-b9c7ba73b08a" style=bold]
		"task_1981824a-25b8-4dcf-a28c-ad28a5eab911" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts" id="task_1981824a-25b8-4dcf-a28c-ad28a5eab911" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear installed/upgraded packages facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_1981824a-25b8-4dcf-a28c-ad28a5eab911" [label=10 color="#18787c" fontcolor="#18787c" id="edge_a1c80c3e-8c79-473f-bd9a-e924fd40cce7" style=bold]
		"task_49b16c7a-b6fc-4b4d-a256-2e719cc0e1b7" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported" id="task_49b16c7a-b6fc-4b4d-a256-2e719cc0e1b7" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if Intel virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_49b16c7a-b6fc-4b4d-a256-2e719cc0e1b7" [label=11 color="#18787c" fontcolor="#18787c" id="edge_62f86139-0928-4918-a1fd-cf59b832e9bb" style=bold]
		"task_71ac0351-2600-40f4-9a7f-a52778eb8138" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported" id="task_71ac0351-2600-40f4-9a7f-a52778eb8138" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Check if AMD virtualization is supported"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_71ac0351-2600-40f4-9a7f-a52778eb8138" [label=12 color="#18787c" fontcolor="#18787c" id="edge_2d734060-21a8-4296-b214-0d7e65d2563b" style=bold]
		"task_a5261067-b1ed-43cd-a0b6-197944c1a220" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment." id="task_a5261067-b1ed-43cd-a0b6-197944c1a220" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fail in case no Intel or AMD virtualization support is not detected and is not a hosted deployment."]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_a5261067-b1ed-43cd-a0b6-197944c1a220" [label="13  [when: _result_intel_processor.rc != 0 and _result_amd_processor.rc != 0 and not (kubeinit_inventory_hosted_deployment | default(false))]" color="#18787c" fontcolor="#18787c" id="edge_e699dc8d-3b78-4f50-9fa8-e4fd7828d84b" style=bold]
		"task_372e4cfb-8939-4470-b410-24ff275e91c1" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization" id="task_372e4cfb-8939-4470-b410-24ff275e91c1" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for Intel virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_372e4cfb-8939-4470-b410-24ff275e91c1" [label="14  [when: _result_intel_processor.rc == 0]" color="#18787c" fontcolor="#18787c" id="edge_0bb5eb52-236f-4a9f-89ed-6d987e4583d4" style=bold]
		"task_63f7f529-8b17-45ad-a14a-da6af5359a3f" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization" id="task_63f7f529-8b17-45ad-a14a-da6af5359a3f" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for AMD virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_63f7f529-8b17-45ad-a14a-da6af5359a3f" [label="15  [when: _result_amd_processor.rc == 0]" color="#18787c" fontcolor="#18787c" id="edge_90170658-97a0-4da2-9787-0b84b2e5915d" style=bold]
		"task_d15996ae-adb8-4af5-be7f-907054577427" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path" id="task_d15996ae-adb8-4af5-be7f-907054577427" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Set fact for nested virtualization test path"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d15996ae-adb8-4af5-be7f-907054577427" [label="16  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#18787c" fontcolor="#18787c" id="edge_76dd3e2a-f5b1-4be5-88e8-e61b3d8d4060" style=bold]
		"task_3bada5b0-b670-4b83-995d-fcc39e837c45" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded" id="task_3bada5b0-b670-4b83-995d-fcc39e837c45" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Ensure {{ nested_virtualization_module_name }} module is available and loaded"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_3bada5b0-b670-4b83-995d-fcc39e837c45" [label="17  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#18787c" fontcolor="#18787c" id="edge_455eefcb-9b55-404f-a0c0-504e3c8aa4d7" style=bold]
		"task_d1566aab-052a-4d8c-a5cc-cb59a4621926" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization" id="task_d1566aab-052a-4d8c-a5cc-cb59a4621926" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Test status of nested virtualization"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d1566aab-052a-4d8c-a5cc-cb59a4621926" [label="18  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#18787c" fontcolor="#18787c" id="edge_02a9adca-14c0-46f0-84d9-e0bb20aabe18" style=bold]
		"task_2b1d393e-f235-4b54-b9d2-09ee4813e4f9" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf" id="task_2b1d393e-f235-4b54-b9d2-09ee4813e4f9" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Persist configuration in /etc/modprobe.d/kvm.conf"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_2b1d393e-f235-4b54-b9d2-09ee4813e4f9" [label="19  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#18787c" fontcolor="#18787c" id="edge_4a2101e3-5710-4dd6-a81c-7c019974046a" style=bold]
		"task_f15248c2-8d25-4f92-923c-b543587337de" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module" id="task_f15248c2-8d25-4f92-923c-b543587337de" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Load {{ nested_virtualization_module_name }} module"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_f15248c2-8d25-4f92-923c-b543587337de" [label="20  [when: _result_intel_processor.rc == 0 or _result_amd_processor.rc == 0]" color="#18787c" fontcolor="#18787c" id="edge_878cb1a5-28b4-4b8d-a52a-f2f0fc652b15" style=bold]
		"task_d4555a78-7002-4673-802f-c8ac05923da3" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts" id="task_d4555a78-7002-4673-802f-c8ac05923da3" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Clear intel and amd processor facts"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_d4555a78-7002-4673-802f-c8ac05923da3" [label=21 color="#18787c" fontcolor="#18787c" id="edge_5ba36a6c-e659-42aa-be5c-52025da58bf8" style=bold]
		"task_efbfa154-6e08-48cd-8a96-1f9d75207620" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd" id="task_efbfa154-6e08-48cd-8a96-1f9d75207620" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Enable and start libvirtd"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_efbfa154-6e08-48cd-8a96-1f9d75207620" [label=22 color="#18787c" fontcolor="#18787c" id="edge_03285238-6746-403e-9f51-98944d0010ba" style=bold]
		"task_9218b10b-7480-41ff-9aa2-229e4f0168f0" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group" id="task_9218b10b-7480-41ff-9aa2-229e4f0168f0" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Make sure we have a 'toor' group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_9218b10b-7480-41ff-9aa2-229e4f0168f0" [label=23 color="#18787c" fontcolor="#18787c" id="edge_572a4e51-a30d-4479-a204-4abadf1216d0" style=bold]
		"task_aff4521b-bccf-469f-8418-39fd9670532e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo" id="task_aff4521b-bccf-469f-8418-39fd9670532e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Allow 'toor' group to have passwordless sudo"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_aff4521b-bccf-469f-8418-39fd9670532e" [label=24 color="#18787c" fontcolor="#18787c" id="edge_8d7e81e3-5b2f-4919-843b-3a1d3ec0f827" style=bold]
		"task_e387d7eb-dc34-499a-b714-87d59b79d325" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group" id="task_e387d7eb-dc34-499a-b714-87d59b79d325" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add sudoers users to toor group"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_e387d7eb-dc34-499a-b714-87d59b79d325" [label=25 color="#18787c" fontcolor="#18787c" id="edge_84b9355d-36fe-456e-9877-6f3c31ed1913" style=bold]
		"task_edf0e184-2420-40d6-828c-ddb218b9f544" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt" id="task_edf0e184-2420-40d6-828c-ddb218b9f544" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Add cloud user to libvirt"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_edf0e184-2420-40d6-828c-ddb218b9f544" [label=26 color="#18787c" fontcolor="#18787c" id="edge_a5ace0f5-b9dc-446c-9de5-3cb793206cf4" style=bold]
		"task_fdfee30b-3b49-4372-9f90-f5a515dcbacd" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder" id="task_fdfee30b-3b49-4372-9f90-f5a515dcbacd" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Create ssh folder"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_fdfee30b-3b49-4372-9f90-f5a515dcbacd" [label=27 color="#18787c" fontcolor="#18787c" id="edge_a1c25717-1d34-4303-a0ce-514212a55a28" style=bold]
		"task_ed632643-04b8-4838-9ec3-ae0b9d96773e" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)" id="task_ed632643-04b8-4838-9ec3-ae0b9d96773e" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Generate an OpenSSH keypair with the default values (4096 bits, rsa)"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_ed632643-04b8-4838-9ec3-ae0b9d96773e" [label=28 color="#18787c" fontcolor="#18787c" id="edge_75aaef36-fa6f-47f9-9f07-2cf604ddf880" style=bold]
		"task_055a93f3-acca-4187-9314-c258fb75d1f5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key" id="task_055a93f3-acca-4187-9314-c258fb75d1f5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Fix owner of the generated pub key"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_055a93f3-acca-4187-9314-c258fb75d1f5" [label=29 color="#18787c" fontcolor="#18787c" id="edge_042d2471-df44-4a1e-b340-6e2138221be8" style=bold]
		"task_012a2a6c-4269-48b3-8b68-bebe252e46e5" [label="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home" id="task_012a2a6c-4269-48b3-8b68-bebe252e46e5" shape=octagon tooltip="[task] kubeinit.kubeinit.kubeinit_libvirt : Insert the default libvirt uri in user's home"]
		"Play #2: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" -> "task_012a2a6c-4269-48b3-8b68-bebe252e46e5" [label=30 color="#18787c" fontcolor="#18787c" id="edge_21a765b5-0c08-417b-9505-04c5d20a6369" style=bold]
	}
	subgraph "Play #3: Run cluster deployment on prepared hypervisors (1) "{
		"Play #3: Run cluster deployment on prepared hypervisors (1)" [color="#09f441" fontcolor="#ffffff" id="play_9c9ff7e6-60a3-469e-815a-8b25ec24489a" shape=box style=filled tooltip=localhost]
		"kubeinit/playbook.yml" -> "Play #3: Run cluster deployment on prepared hypervisors (1)" [label=3 color="#09f441" fontcolor="#09f441" id="edge_e8057026-a335-4a38-990a-60da533cbc33" style=bold]
	}
}
