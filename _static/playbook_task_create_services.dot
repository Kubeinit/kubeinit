digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_c59a45c4 style=dotted]
	"kubeinit/playbook.yml" -> play_3a4fc2e2 [label="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#17b5a2" fontcolor="#17b5a2" id=edge_play_3a4fc2e2 labeltooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" tooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)"]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_3a4fc2e2 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#17b5a2" fontcolor="#ffffff" id=play_3a4fc2e2 shape=box style=filled tooltip=localhost]
		play_3a4fc2e2 -> block_a170f522 [label=1 color="#17b5a2" fontcolor="#17b5a2" id=edge_block_a170f522 labeltooltip=1 tooltip=1]
		subgraph cluster_block_a170f522 {
			block_a170f522 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#17b5a2" id=block_a170f522 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_a170f522 -> role_86cc226b [label="1 " color="#17b5a2" fontcolor="#17b5a2" id=edge_role_86cc226b labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_86cc226b [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#17b5a2" id=role_86cc226b tooltip="task-gather-facts"]
				role_86cc226b -> role_f90bb8ab [label="1 " color="#17b5a2" fontcolor="#17b5a2" id=edge_role_f90bb8ab labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_f90bb8ab [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#17b5a2" id=role_f90bb8ab tooltip="Gather kubeinit secrets"]
				}
				role_86cc226b -> role_84e645db [label="2 " color="#17b5a2" fontcolor="#17b5a2" id=edge_role_84e645db labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_84e645db [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#17b5a2" id=role_84e645db tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_86cc226b -> role_bd2888b9 [label="3 " color="#17b5a2" fontcolor="#17b5a2" id=edge_role_bd2888b9 labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_bd2888b9 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#17b5a2" id=role_bd2888b9 tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_ad005950 [label="2 Play: Gather facts from the cluster hypervisor hosts (0)" color="#4900cc" fontcolor="#4900cc" id=edge_play_ad005950 labeltooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)" tooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)"]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_ad005950 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4900cc" fontcolor="#ffffff" id=play_ad005950 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_ad005950 -> block_bb423e45 [label=1 color="#4900cc" fontcolor="#4900cc" id=edge_block_bb423e45 labeltooltip=1 tooltip=1]
		subgraph cluster_block_bb423e45 {
			block_bb423e45 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4900cc" id=block_bb423e45 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_bb423e45 -> role_17bafd75 [label="1 " color="#4900cc" fontcolor="#4900cc" id=edge_role_17bafd75 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_17bafd75 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#4900cc" id=role_17bafd75 tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_874c798c [label="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" color="#776355" fontcolor="#776355" id=edge_play_874c798c labeltooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" tooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)"]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_874c798c [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#776355" fontcolor="#ffffff" id=play_874c798c shape=box style=filled tooltip=localhost]
		play_874c798c -> block_19c7247b [label=1 color="#776355" fontcolor="#776355" id=edge_block_19c7247b labeltooltip=1 tooltip=1]
		subgraph cluster_block_19c7247b {
			block_19c7247b [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#776355" id=block_19c7247b labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_19c7247b -> role_11275b49 [label="1 " color="#776355" fontcolor="#776355" id=edge_role_11275b49 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_11275b49 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#776355" id=role_11275b49 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_11275b49 -> role_90a8766a [label="1 " color="#776355" fontcolor="#776355" id=edge_role_90a8766a labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_90a8766a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#776355" id=role_90a8766a tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_874c798c -> block_b886f306 [label=2 color="#776355" fontcolor="#776355" id=edge_block_b886f306 labeltooltip=2 tooltip=2]
		subgraph cluster_block_b886f306 {
			block_b886f306 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#776355" id=block_b886f306 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_b886f306 -> role_a3d87586 [label="1 " color="#776355" fontcolor="#776355" id=edge_role_a3d87586 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_a3d87586 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#776355" id=role_a3d87586 tooltip="task-prepare-hypervisors"]
				role_a3d87586 -> role_30789887 [label="1 " color="#776355" fontcolor="#776355" id=edge_role_30789887 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_30789887 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#776355" id=role_30789887 tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_c44e2af4 [label="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" color="#3bb418" fontcolor="#3bb418" id=edge_play_c44e2af4 labeltooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" tooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
	subgraph "Play: Prepare the infrastructure to deploy service and cluster nodes (0)" {
		play_c44e2af4 [label="Play: Prepare the infrastructure to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3bb418" fontcolor="#ffffff" id=play_c44e2af4 shape=box style=filled tooltip="Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
		play_c44e2af4 -> block_aed6d7f4 [label=1 color="#3bb418" fontcolor="#3bb418" id=edge_block_aed6d7f4 labeltooltip=1 tooltip=1]
		subgraph cluster_block_aed6d7f4 {
			block_aed6d7f4 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3bb418" id=block_aed6d7f4 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_aed6d7f4 -> role_a14b9639 [label="1 " color="#3bb418" fontcolor="#3bb418" id=edge_role_a14b9639 labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_a14b9639 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3bb418" id=role_a14b9639 tooltip="Prepare each hypervisor in the deployment"]
				role_a14b9639 -> role_ab46cfb5 [label="1 " color="#3bb418" fontcolor="#3bb418" id=edge_role_ab46cfb5 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_ab46cfb5 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#3bb418" id=role_ab46cfb5 tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_076ae8a3 [label="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_play_076ae8a3 labeltooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" tooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)"]
	subgraph "Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" {
		play_076ae8a3 [label="Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" fontcolor="#ffffff" id=play_076ae8a3 shape=box style=filled tooltip=localhost]
		play_076ae8a3 -> block_85b7ad68 [label=1 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_85b7ad68 labeltooltip=1 tooltip=1]
		subgraph cluster_block_85b7ad68 {
			block_85b7ad68 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_85b7ad68 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_85b7ad68 -> role_02c7b3ee [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_02c7b3ee labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_02c7b3ee [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_02c7b3ee tooltip="task-prepare-environment"]
				role_02c7b3ee -> role_00bfee1b [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_00bfee1b labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_00bfee1b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_00bfee1b tooltip="Gather kubeinit secrets"]
				}
				role_02c7b3ee -> role_4df408f3 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_4df408f3 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				subgraph "Gather facts from bastion_host if needed" {
					role_4df408f3 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_4df408f3 tooltip="Gather facts from bastion_host if needed"]
				}
			}
		}
		play_076ae8a3 -> block_e70d987d [label=2 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_e70d987d labeltooltip=2 tooltip=2]
		subgraph cluster_block_e70d987d {
			block_e70d987d [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_e70d987d labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_e70d987d -> role_c3b726c4 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_c3b726c4 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_c3b726c4 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_c3b726c4 tooltip="task-cleanup-hypervisors"]
				role_c3b726c4 -> role_68a37a74 [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_68a37a74 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_68a37a74 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#3f8d7c" id=role_68a37a74 tooltip="Prepare environment if not prepared"]
					role_68a37a74 -> role_c81301ca [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_c81301ca labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_c81301ca [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_c81301ca tooltip="Gather kubeinit secrets"]
					}
					role_68a37a74 -> role_d1147344 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_d1147344 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_d1147344 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_d1147344 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_c3b726c4 -> role_07b4df7e [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_07b4df7e labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_07b4df7e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#3f8d7c" id=role_07b4df7e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_076ae8a3 -> block_d1f45b20 [label=3 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_d1f45b20 labeltooltip=3 tooltip=3]
		subgraph cluster_block_d1f45b20 {
			block_d1f45b20 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_d1f45b20 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_d1f45b20 -> role_ba45fa37 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_ba45fa37 labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_ba45fa37 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_ba45fa37 tooltip="task-run-validations"]
				role_ba45fa37 -> role_21de442f [label="1 [when: not hypervisors_cleaned]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_21de442f labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_21de442f [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#3f8d7c" id=role_21de442f tooltip="Cleanup hypervisors if needed"]
					role_21de442f -> role_cc871e06 [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_cc871e06 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_cc871e06 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#3f8d7c" id=role_cc871e06 tooltip="Prepare environment if not prepared"]
						role_cc871e06 -> role_e3499718 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_e3499718 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_e3499718 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_e3499718 tooltip="Gather kubeinit secrets"]
						}
						role_cc871e06 -> role_75d5d5e4 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_75d5d5e4 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_75d5d5e4 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_75d5d5e4 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_21de442f -> role_878e0961 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_878e0961 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_878e0961 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#3f8d7c" id=role_878e0961 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_076ae8a3 -> block_ec78a658 [label=4 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_ec78a658 labeltooltip=4 tooltip=4]
		subgraph cluster_block_ec78a658 {
			block_ec78a658 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_ec78a658 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_ec78a658 -> role_861b067f [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_861b067f labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_861b067f [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_861b067f tooltip="task-create-network"]
				role_861b067f -> role_daf09300 [label="1 [when: not hypervisors_cleaned]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_daf09300 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_daf09300 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#3f8d7c" id=role_daf09300 tooltip="Cleanup hypervisors if needed"]
					role_daf09300 -> role_36a134f8 [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_36a134f8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_36a134f8 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#3f8d7c" id=role_36a134f8 tooltip="Prepare environment if not prepared"]
						role_36a134f8 -> role_9d5ec247 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_9d5ec247 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_9d5ec247 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_9d5ec247 tooltip="Gather kubeinit secrets"]
						}
						role_36a134f8 -> role_c8e76084 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_c8e76084 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_c8e76084 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_c8e76084 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_daf09300 -> role_8fc2b4ed [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_8fc2b4ed labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_8fc2b4ed [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#3f8d7c" id=role_8fc2b4ed tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_076ae8a3 -> block_bf401958 [label=5 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_bf401958 labeltooltip=5 tooltip=5]
		subgraph cluster_block_bf401958 {
			block_bf401958 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_bf401958 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_bf401958 -> role_b47c17fb [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_b47c17fb labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_b47c17fb [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_b47c17fb tooltip="task-create-services"]
				role_b47c17fb -> role_c79d59ed [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_c79d59ed labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c79d59ed [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#3f8d7c" id=role_c79d59ed tooltip="Prepare environment if not prepared"]
					role_c79d59ed -> role_c634aecc [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_c634aecc labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_c634aecc [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_c634aecc tooltip="Gather kubeinit secrets"]
					}
					role_c79d59ed -> role_fd078d73 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_fd078d73 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_fd078d73 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_fd078d73 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_b47c17fb -> role_8ea2c223 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_8ea2c223 labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_8ea2c223 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=role_8ea2c223 tooltip="Prepare podman"]
					task_8715e68f [label="kubeinit.kubeinit.kubeinit_prepare : Set cgroup_manager for debian release" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_8715e68f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set cgroup_manager for debian release"]
					role_8ea2c223 -> task_8715e68f [label="1 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_8715e68f labeltooltip="1 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" tooltip="1 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']"]
					task_76fc332a [label="kubeinit.kubeinit.kubeinit_prepare : Set version facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_76fc332a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set version facts"]
					role_8ea2c223 -> task_76fc332a [label="2 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_76fc332a labeltooltip="2 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" tooltip="2 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']"]
					task_346c44bf [label="kubeinit.kubeinit.kubeinit_prepare : Set version facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_346c44bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set version facts"]
					role_8ea2c223 -> task_346c44bf [label="3 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_346c44bf labeltooltip="3 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" tooltip="3 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']"]
					task_0d23f38d [label="kubeinit.kubeinit.kubeinit_prepare : Set version facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_0d23f38d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set version facts"]
					role_8ea2c223 -> task_0d23f38d [label="4 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_0d23f38d labeltooltip="4 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']" tooltip="4 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Debian']"]
					task_d2dac762 [label="kubeinit.kubeinit.kubeinit_prepare : Set version facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_d2dac762 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set version facts"]
					role_8ea2c223 -> task_d2dac762 [label="5 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Ubuntu']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d2dac762 labeltooltip="5 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Ubuntu']" tooltip="5 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Ubuntu']"]
					task_255601d0 [label="kubeinit.kubeinit.kubeinit_prepare : Set version facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_255601d0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set version facts"]
					role_8ea2c223 -> task_255601d0 [label="6 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Ubuntu']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_255601d0 labeltooltip="6 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Ubuntu']" tooltip="6 [when: _param_install_dependencies | default(false) and _param_hostvars.ansible_distribution == 'Ubuntu']"]
					task_f4edbeef [label="kubeinit.kubeinit.kubeinit_prepare : Make sure we have curl installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_f4edbeef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Make sure we have curl installed"]
					role_8ea2c223 -> task_f4edbeef [label="7 [when: _param_install_dependencies | default(false) and _param_hostvars.distribution_family == 'Debian']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f4edbeef labeltooltip="7 [when: _param_install_dependencies | default(false) and _param_hostvars.distribution_family == 'Debian']" tooltip="7 [when: _param_install_dependencies | default(false) and _param_hostvars.distribution_family == 'Debian']"]
					task_adc095e0 [label="kubeinit.kubeinit.kubeinit_prepare : Add the Podman kubeinit package repository to Apt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_adc095e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Add the Podman kubeinit package repository to Apt"]
					role_8ea2c223 -> task_adc095e0 [label="8 [when: _param_install_dependencies | default(false) and _param_hostvars.distribution_family == 'Debian']" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_adc095e0 labeltooltip="8 [when: _param_install_dependencies | default(false) and _param_hostvars.distribution_family == 'Debian']" tooltip="8 [when: _param_install_dependencies | default(false) and _param_hostvars.distribution_family == 'Debian']"]
					task_5a2c4116 [label="kubeinit.kubeinit.kubeinit_prepare : Install podman dependencies" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_5a2c4116 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Install podman dependencies"]
					role_8ea2c223 -> task_5a2c4116 [label="9 [when: _param_install_dependencies | default(false)]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5a2c4116 labeltooltip="9 [when: _param_install_dependencies | default(false)]" tooltip="9 [when: _param_install_dependencies | default(false)]"]
					task_dd57d08b [label="kubeinit.kubeinit.kubeinit_prepare : Ensure default_capabilities is consistent in the hypervisors" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_dd57d08b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Ensure default_capabilities is consistent in the hypervisors"]
					role_8ea2c223 -> task_dd57d08b [label="10 [when: _param_install_dependencies | default(false)]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_dd57d08b labeltooltip="10 [when: _param_install_dependencies | default(false)]" tooltip="10 [when: _param_install_dependencies | default(false)]"]
					task_dd56129c [label="kubeinit.kubeinit.kubeinit_prepare : Set tasks-hidden fact" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_dd56129c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set tasks-hidden fact"]
					role_8ea2c223 -> task_dd56129c [label="11 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_dd56129c labeltooltip="11 " tooltip="11 "]
					task_593bfa70 [label="kubeinit.kubeinit.kubeinit_prepare : Set username_secret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_593bfa70 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set username_secret"]
					role_8ea2c223 -> task_593bfa70 [label="12 [when: hostvars['kubeinit-secrets'].secrets['dockerhub-username'] | default('') | length > 0]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_593bfa70 labeltooltip="12 [when: hostvars['kubeinit-secrets'].secrets['dockerhub-username'] | default('') | length > 0]" tooltip="12 [when: hostvars['kubeinit-secrets'].secrets['dockerhub-username'] | default('') | length > 0]"]
					task_55800a0e [label="kubeinit.kubeinit.kubeinit_prepare : Set password_secret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_55800a0e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Set password_secret"]
					role_8ea2c223 -> task_55800a0e [label="13 [when: hostvars['kubeinit-secrets'].secrets['dockerhub-password'] | default('') | length > 0]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_55800a0e labeltooltip="13 [when: hostvars['kubeinit-secrets'].secrets['dockerhub-password'] | default('') | length > 0]" tooltip="13 [when: hostvars['kubeinit-secrets'].secrets['dockerhub-password'] | default('') | length > 0]"]
					task_4a024c04 [label="kubeinit.kubeinit.kubeinit_prepare : Podman login to docker.io" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_4a024c04 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Podman login to docker.io"]
					role_8ea2c223 -> task_4a024c04 [label="14 [when: (_results['username-secret'] is defined) and (_results['password-secret'] is defined)]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_4a024c04 labeltooltip="14 [when: (_results['username-secret'] is defined) and (_results['password-secret'] is defined)]" tooltip="14 [when: (_results['username-secret'] is defined) and (_results['password-secret'] is defined)]"]
					task_d6354f62 [label="kubeinit.kubeinit.kubeinit_prepare : Clear any reference to dockerhub secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_podman.yml" color="#3f8d7c" id=task_d6354f62 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_prepare : Clear any reference to dockerhub secrets"]
					role_8ea2c223 -> task_d6354f62 [label="15 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d6354f62 labeltooltip="15 " tooltip="15 "]
				}
				task_737929ec [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_737929ec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
				role_b47c17fb -> task_737929ec [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_737929ec labeltooltip="3 " tooltip="3 "]
				task_9b15ba92 [label="kubeinit.kubeinit.kubeinit_services : Retrieve remote user runtime path" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_9b15ba92 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Retrieve remote user runtime path"]
				role_b47c17fb -> task_9b15ba92 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_9b15ba92 labeltooltip="4 " tooltip="4 "]
				task_2d43e6ba [label="kubeinit.kubeinit.kubeinit_services : Enable and start podman.socket" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_2d43e6ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable and start podman.socket"]
				role_b47c17fb -> task_2d43e6ba [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_2d43e6ba labeltooltip="5 " tooltip="5 "]
				task_225575d9 [label="kubeinit.kubeinit.kubeinit_services : Start podman.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_225575d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start podman.service"]
				role_b47c17fb -> task_225575d9 [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_225575d9 labeltooltip="6 " tooltip="6 "]
				task_46a2647a [label="kubeinit.kubeinit.kubeinit_services : Set ssh port to use" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_46a2647a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set ssh port to use"]
				role_b47c17fb -> task_46a2647a [label="7 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_46a2647a labeltooltip="7 " tooltip="7 "]
				task_57c83185 [label="kubeinit.kubeinit.kubeinit_services : Set the remote end of the tunnel" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_57c83185 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set the remote end of the tunnel"]
				role_b47c17fb -> task_57c83185 [label="8 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_57c83185 labeltooltip="8 " tooltip="8 "]
				task_6335622c [label="kubeinit.kubeinit.kubeinit_services : Set the host in the middle of the tunnel" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_6335622c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set the host in the middle of the tunnel"]
				role_b47c17fb -> task_6335622c [label="9 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_6335622c labeltooltip="9 " tooltip="9 "]
				task_7b2bab27 [label="kubeinit.kubeinit.kubeinit_services : Need an ssh tunnel from the bastion host through the ovn-central host to the service node" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_7b2bab27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Need an ssh tunnel from the bastion host through the ovn-central host to the service node"]
				role_b47c17fb -> task_7b2bab27 [label="10 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_7b2bab27 labeltooltip="10 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host]" tooltip="10 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host]"]
				task_a01fdf1b [label="kubeinit.kubeinit.kubeinit_services : Gather current firewall rules" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_a01fdf1b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather current firewall rules"]
				role_b47c17fb -> task_a01fdf1b [label="11 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].firewalld_is_active]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_a01fdf1b labeltooltip="11 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].firewalld_is_active]" tooltip="11 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].firewalld_is_active]"]
				task_f058726c [label="kubeinit.kubeinit.kubeinit_services : Check firewalld ports for existing entries" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_f058726c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check firewalld ports for existing entries"]
				role_b47c17fb -> task_f058726c [label="12 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f058726c labeltooltip="12 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host]" tooltip="12 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host]"]
				task_880a743b [label="kubeinit.kubeinit.kubeinit_services : Open firewall port 6222 on bastion" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_880a743b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Open firewall port 6222 on bastion"]
				role_b47c17fb -> task_880a743b [label="13 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].add_bastion_ssh_tunnel | default(false)]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_880a743b labeltooltip="13 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].add_bastion_ssh_tunnel | default(false)]" tooltip="13 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].add_bastion_ssh_tunnel | default(false)]"]
				task_00c5965e [label="kubeinit.kubeinit.kubeinit_services : Reload firewalld service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_00c5965e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload firewalld service"]
				role_b47c17fb -> task_00c5965e [label="14 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].reload_firewalld | default(false)]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_00c5965e labeltooltip="14 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].reload_firewalld | default(false)]" tooltip="14 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].reload_firewalld | default(false)]"]
				task_e4dab35e [label="kubeinit.kubeinit.kubeinit_services : Reload podman networks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_e4dab35e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload podman networks"]
				role_b47c17fb -> task_e4dab35e [label="15 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].reload_firewalld | default(false) and hostvars[kubeinit_bastion_host].podman_is_installed | default(false)]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e4dab35e labeltooltip="15 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].reload_firewalld | default(false) and hostvars[kubeinit_bastion_host].podman_is_installed | default(false)]" tooltip="15 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and hostvars[kubeinit_bastion_host].reload_firewalld | default(false) and hostvars[kubeinit_bastion_host].podman_is_installed | default(false)]"]
				task_b45efc38 [label="kubeinit.kubeinit.kubeinit_services : Create route to cluster network on bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_b45efc38 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create route to cluster network on bastion host"]
				role_b47c17fb -> task_b45efc38 [label="16 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and false and kubeinit_ovn_central_host not in kubeinit_bastion_host]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b45efc38 labeltooltip="16 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and false and kubeinit_ovn_central_host not in kubeinit_bastion_host]" tooltip="16 [when: kubeinit_deployment_delegate not in kubeinit_bastion_host and false and kubeinit_ovn_central_host not in kubeinit_bastion_host]"]
				task_f15ffe3a [label="kubeinit.kubeinit.kubeinit_services : Add remote system connection definition for bastion hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_f15ffe3a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote system connection definition for bastion hypervisor"]
				role_b47c17fb -> task_f15ffe3a [label="17 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f15ffe3a labeltooltip="17 " tooltip="17 "]
				task_4c405712 [label="kubeinit.kubeinit.kubeinit_services : Create kubeinit services data volume" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_4c405712 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create kubeinit services data volume"]
				role_b47c17fb -> task_4c405712 [label="18 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_4c405712 labeltooltip="18 " tooltip="18 "]
				task_079145a8 [label="kubeinit.kubeinit.kubeinit_services : Create a podman network for the service containers" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_079145a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a podman network for the service containers"]
				role_b47c17fb -> task_079145a8 [label="19 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_079145a8 labeltooltip="19 " tooltip="19 "]
				task_0c8dde92 [label="kubeinit.kubeinit.kubeinit_services : Create a podman pod for the service containers" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_0c8dde92 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a podman pod for the service containers"]
				role_b47c17fb -> task_0c8dde92 [label="20 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_0c8dde92 labeltooltip="20 " tooltip="20 "]
				task_a784b142 [label="kubeinit.kubeinit.kubeinit_services : Gather info about the infra container of the services pod" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_a784b142 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather info about the infra container of the services pod"]
				role_b47c17fb -> task_a784b142 [label="21 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_a784b142 labeltooltip="21 " tooltip="21 "]
				task_ac27398a [label="kubeinit.kubeinit.kubeinit_services : Extract cni netns value for the pod" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_ac27398a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Extract cni netns value for the pod"]
				role_b47c17fb -> task_ac27398a [label="22 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_ac27398a labeltooltip="22 " tooltip="22 "]
				task_eaeee198 [label="kubeinit.kubeinit.kubeinit_services : Set veth facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_eaeee198 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set veth facts"]
				role_b47c17fb -> task_eaeee198 [label="23 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_eaeee198 labeltooltip="23 " tooltip="23 "]
				task_b24d4e1d [label="kubeinit.kubeinit.kubeinit_services : Create veth pair to connect the services pod to the cluster network" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_b24d4e1d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create veth pair to connect the services pod to the cluster network"]
				role_b47c17fb -> task_b24d4e1d [label="24 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b24d4e1d labeltooltip="24 " tooltip="24 "]
				task_4b86d49f [label="kubeinit.kubeinit.kubeinit_services : Put the container endpoint of the veth pair in the netns of the services pod" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_4b86d49f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Put the container endpoint of the veth pair in the netns of the services pod"]
				role_b47c17fb -> task_4b86d49f [label="25 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_4b86d49f labeltooltip="25 " tooltip="25 "]
				task_59d6a97b [label="kubeinit.kubeinit.kubeinit_services : Set the services pod endpoint up" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_59d6a97b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set the services pod endpoint up"]
				role_b47c17fb -> task_59d6a97b [label="26 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_59d6a97b labeltooltip="26 " tooltip="26 "]
				task_cb379239 [label="kubeinit.kubeinit.kubeinit_services : Add the IP address for the services pod endpoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_cb379239 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add the IP address for the services pod endpoint"]
				role_b47c17fb -> task_cb379239 [label="27 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_cb379239 labeltooltip="27 " tooltip="27 "]
				task_5ca1af56 [label="kubeinit.kubeinit.kubeinit_services : Add the cluster network endpoint to the openvswitch bridge" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_5ca1af56 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add the cluster network endpoint to the openvswitch bridge"]
				role_b47c17fb -> task_5ca1af56 [label="28 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5ca1af56 labeltooltip="28 " tooltip="28 "]
				task_33b4c7a7 [label="kubeinit.kubeinit.kubeinit_services : Set the cluster network endpoint up" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_33b4c7a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set the cluster network endpoint up"]
				role_b47c17fb -> task_33b4c7a7 [label="29 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_33b4c7a7 labeltooltip="29 " tooltip="29 "]
				task_ff8638c9 [label="kubeinit.kubeinit.kubeinit_services : Set the mac address for the ovs port" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_ff8638c9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set the mac address for the ovs port"]
				role_b47c17fb -> task_ff8638c9 [label="30 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_ff8638c9 labeltooltip="30 " tooltip="30 "]
				task_c438ae39 [label="kubeinit.kubeinit.kubeinit_services : Set the interface id for the ovs port" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#3f8d7c" id=task_c438ae39 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set the interface id for the ovs port"]
				role_b47c17fb -> task_c438ae39 [label="31 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c438ae39 labeltooltip="31 " tooltip="31 "]
				task_a454cf16 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_a454cf16 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
				role_b47c17fb -> task_a454cf16 [label="32 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_a454cf16 labeltooltip="32 " tooltip="32 "]
				task_898c7130 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_898c7130 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
				role_b47c17fb -> task_898c7130 [label="33 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_898c7130 labeltooltip="33 " tooltip="33 "]
				task_f2cb7dc2 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_f2cb7dc2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
				role_b47c17fb -> task_f2cb7dc2 [label="34 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f2cb7dc2 labeltooltip="34 " tooltip="34 "]
				task_03dfdfeb [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_03dfdfeb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
				role_b47c17fb -> task_03dfdfeb [label="35 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_03dfdfeb labeltooltip="35 " tooltip="35 "]
				task_5c3ca7bb [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_5c3ca7bb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
				role_b47c17fb -> task_5c3ca7bb [label="36 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5c3ca7bb labeltooltip="36 " tooltip="36 "]
				task_d4464b7a [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_d4464b7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
				role_b47c17fb -> task_d4464b7a [label="37 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d4464b7a labeltooltip="37 " tooltip="37 "]
				task_5133604f [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_5133604f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
				role_b47c17fb -> task_5133604f [label="38 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5133604f labeltooltip="38 " tooltip="38 "]
				task_2494baac [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_2494baac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
				role_b47c17fb -> task_2494baac [label="39 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_2494baac labeltooltip="39 " tooltip="39 "]
				task_edd5b8a1 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous credentials container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_edd5b8a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous credentials container"]
				role_b47c17fb -> task_edd5b8a1 [label="40 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_edd5b8a1 labeltooltip="40 " tooltip="40 "]
				task_b0e1a496 [label="kubeinit.kubeinit.kubeinit_services : Create podman credentials container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_b0e1a496 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman credentials container"]
				role_b47c17fb -> task_b0e1a496 [label="41 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b0e1a496 labeltooltip="41 " tooltip="41 "]
				task_88cd54a7 [label="kubeinit.kubeinit.kubeinit_services : Run dnf to bring container up to date" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_88cd54a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Run dnf to bring container up to date"]
				role_b47c17fb -> task_88cd54a7 [label="42 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_88cd54a7 labeltooltip="42 " tooltip="42 "]
				task_190c378a [label="kubeinit.kubeinit.kubeinit_services : Install python3" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_190c378a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install python3"]
				role_b47c17fb -> task_190c378a [label="43 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_190c378a labeltooltip="43 " tooltip="43 "]
				task_894c85f5 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_894c85f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
				role_b47c17fb -> task_894c85f5 [label="44 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_894c85f5 labeltooltip="44 " tooltip="44 "]
				task_3b7e142d [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to the container <cluster_name>-credentials: {{ kubeinit_cluster_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_3b7e142d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to the container <cluster_name>-credentials: {{ kubeinit_cluster_name }}"]
				role_b47c17fb -> task_3b7e142d [label="45 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_3b7e142d labeltooltip="45 " tooltip="45 "]
				task_b1307603 [label="kubeinit.kubeinit.kubeinit_services : Create html folder" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_b1307603 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create html folder"]
				role_b47c17fb -> task_b1307603 [label="46 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b1307603 labeltooltip="46 " tooltip="46 "]
				task_c2d6d92a [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_c2d6d92a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
				role_b47c17fb -> task_c2d6d92a [label="47 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c2d6d92a labeltooltip="47 " tooltip="47 "]
				task_112cb2c2 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography and passlib" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_112cb2c2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography and passlib"]
				role_b47c17fb -> task_112cb2c2 [label="48 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_112cb2c2 labeltooltip="48 " tooltip="48 "]
				task_917697ef [label="kubeinit.kubeinit.kubeinit_services : Create directory to hold the registry files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_917697ef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create directory to hold the registry files"]
				role_b47c17fb -> task_917697ef [label="49 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_917697ef labeltooltip="49 " tooltip="49 "]
				task_1cc6a8b1 [label="kubeinit.kubeinit.kubeinit_services : Generate the htpasswd entry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_1cc6a8b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate the htpasswd entry"]
				role_b47c17fb -> task_1cc6a8b1 [label="50 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_1cc6a8b1 labeltooltip="50 " tooltip="50 "]
				task_f7c1325b [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSL private key" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_f7c1325b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSL private key"]
				role_b47c17fb -> task_f7c1325b [label="51 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f7c1325b labeltooltip="51 " tooltip="51 "]
				task_3f2b27d2 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSL CSR" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_3f2b27d2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSL CSR"]
				role_b47c17fb -> task_3f2b27d2 [label="52 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_3f2b27d2 labeltooltip="52 " tooltip="52 "]
				task_75d07623 [label="kubeinit.kubeinit.kubeinit_services : Generate a selfsigned OpenSSL CA Certificate" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_75d07623 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate a selfsigned OpenSSL CA Certificate"]
				role_b47c17fb -> task_75d07623 [label="53 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_75d07623 labeltooltip="53 " tooltip="53 "]
				task_4496bf1e [label="kubeinit.kubeinit.kubeinit_services : Generate an ownca OpenSSL Certificate" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_4496bf1e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an ownca OpenSSL Certificate"]
				role_b47c17fb -> task_4496bf1e [label="54 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_4496bf1e labeltooltip="54 " tooltip="54 "]
				task_8ec2a7b7 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_8ec2a7b7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
				role_b47c17fb -> task_8ec2a7b7 [label="55 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_8ec2a7b7 labeltooltip="55 " tooltip="55 "]
				task_0fe4e2e6 [label="kubeinit.kubeinit.kubeinit_services : Add contents of domain.crt to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_0fe4e2e6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add contents of domain.crt to cluster vars"]
				role_b47c17fb -> task_0fe4e2e6 [label="56 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_0fe4e2e6 labeltooltip="56 " tooltip="56 "]
				task_5b0814d1 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_5b0814d1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
				role_b47c17fb -> task_5b0814d1 [label="57 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5b0814d1 labeltooltip="57 " tooltip="57 "]
				task_a9d22801 [label="kubeinit.kubeinit.kubeinit_services : Remove credentials container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_credentials.yml" color="#3f8d7c" id=task_a9d22801 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove credentials container"]
				role_b47c17fb -> task_a9d22801 [label="58 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_a9d22801 labeltooltip="58 " tooltip="58 "]
				role_b47c17fb -> role_12b95b15 [label="59 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_12b95b15 labeltooltip="59 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="59 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_12b95b15 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#3f8d7c" id=role_12b95b15 tooltip="Configure Bind"]
					task_5dbe636a [label="kubeinit.kubeinit.kubeinit_bind : Create script to provide external access to the cluster through the bastion host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_5dbe636a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create script to provide external access to the cluster through the bastion host"]
					role_12b95b15 -> task_5dbe636a [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5dbe636a labeltooltip="1 " tooltip="1 "]
					task_b17ac7ef [label="kubeinit.kubeinit.kubeinit_bind : Create Bind folders" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_b17ac7ef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create Bind folders"]
					role_12b95b15 -> task_b17ac7ef [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b17ac7ef labeltooltip="2 " tooltip="2 "]
					task_f7aa1dc9 [label="kubeinit.kubeinit.kubeinit_bind : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_f7aa1dc9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Install buildah if required"]
					role_12b95b15 -> task_f7aa1dc9 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f7aa1dc9 labeltooltip="3 " tooltip="3 "]
					task_da863904 [label="kubeinit.kubeinit.kubeinit_bind : Remove any old bind buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_da863904 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Remove any old bind buildah container"]
					role_12b95b15 -> task_da863904 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_da863904 labeltooltip="4 " tooltip="4 "]
					task_3c574d7c [label="kubeinit.kubeinit.kubeinit_bind : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_3c574d7c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create a new working container image"]
					role_12b95b15 -> task_3c574d7c [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_3c574d7c labeltooltip="5 " tooltip="5 "]
					task_393a2cb9 [label="kubeinit.kubeinit.kubeinit_bind : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_393a2cb9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Update the container"]
					role_12b95b15 -> task_393a2cb9 [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_393a2cb9 labeltooltip="6 " tooltip="6 "]
					task_262363f5 [label="kubeinit.kubeinit.kubeinit_bind : Copy original contents to /bind-config folder" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_262363f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Copy original contents to /bind-config folder"]
					role_12b95b15 -> task_262363f5 [label="7 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_262363f5 labeltooltip="7 " tooltip="7 "]
					task_d0b9cdf0 [label="kubeinit.kubeinit.kubeinit_bind : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_d0b9cdf0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Set kubeinit-cluster-name label"]
					role_12b95b15 -> task_d0b9cdf0 [label="8 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d0b9cdf0 labeltooltip="8 " tooltip="8 "]
					task_11f2e017 [label="kubeinit.kubeinit.kubeinit_bind : Commit the container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_11f2e017 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Commit the container image"]
					role_12b95b15 -> task_11f2e017 [label="9 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_11f2e017 labeltooltip="9 " tooltip="9 "]
					task_3183d80b [label="kubeinit.kubeinit.kubeinit_bind : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_3183d80b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Remove the buildah container"]
					role_12b95b15 -> task_3183d80b [label="10 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_3183d80b labeltooltip="10 " tooltip="10 "]
					task_3d323f17 [label="kubeinit.kubeinit.kubeinit_bind : Create named.conf" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_3d323f17 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create named.conf"]
					role_12b95b15 -> task_3d323f17 [label="11 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_3d323f17 labeltooltip="11 " tooltip="11 "]
					task_c903c3ed [label="kubeinit.kubeinit.kubeinit_bind : Create named.conf.local" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_c903c3ed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create named.conf.local"]
					role_12b95b15 -> task_c903c3ed [label="12 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c903c3ed labeltooltip="12 " tooltip="12 "]
					task_a0926ef4 [label="kubeinit.kubeinit.kubeinit_bind : Create BIND db internal subnet" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_a0926ef4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create BIND db internal subnet"]
					role_12b95b15 -> task_a0926ef4 [label="13 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_a0926ef4 labeltooltip="13 " tooltip="13 "]
					task_c6da6b2c [label="kubeinit.kubeinit.kubeinit_bind : Create BIND db internal zone" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_c6da6b2c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create BIND db internal zone"]
					role_12b95b15 -> task_c6da6b2c [label="14 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c6da6b2c labeltooltip="14 " tooltip="14 "]
					task_2c52b750 [label="kubeinit.kubeinit.kubeinit_bind : Create a podman volume for bind config" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_2c52b750 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create a podman volume for bind config"]
					role_12b95b15 -> task_2c52b750 [label="15 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_2c52b750 labeltooltip="15 " tooltip="15 "]
					task_88f622d1 [label="kubeinit.kubeinit.kubeinit_bind : Create a podman container to serve the Bind server" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_88f622d1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Create a podman container to serve the Bind server"]
					role_12b95b15 -> task_88f622d1 [label="16 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_88f622d1 labeltooltip="16 " tooltip="16 "]
					task_e5b44a31 [label="kubeinit.kubeinit.kubeinit_bind : Copy data into bind config volume" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_e5b44a31 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Copy data into bind config volume"]
					role_12b95b15 -> task_e5b44a31 [label="17 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e5b44a31 labeltooltip="17 " tooltip="17 "]
					role_12b95b15 -> role_1e60acce [label="18 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_1e60acce labeltooltip="18 " tooltip="18 "]
					subgraph "Create systemd service for podman container" {
						role_1e60acce [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=role_1e60acce tooltip="Create systemd service for podman container"]
						task_50575da2 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_50575da2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
						role_1e60acce -> task_50575da2 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_50575da2 labeltooltip="1 " tooltip="1 "]
						task_fe38eda8 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_fe38eda8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
						role_1e60acce -> task_fe38eda8 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_fe38eda8 labeltooltip="2 " tooltip="2 "]
						task_4efd4eb1 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_4efd4eb1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
						role_1e60acce -> task_4efd4eb1 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_4efd4eb1 labeltooltip="3 " tooltip="3 "]
						task_cd545073 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_cd545073 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
						role_1e60acce -> task_cd545073 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_cd545073 labeltooltip="4 " tooltip="4 "]
						task_dfacc4b9 [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_dfacc4b9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
						role_1e60acce -> task_dfacc4b9 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_dfacc4b9 labeltooltip="5 " tooltip="5 "]
						task_20354519 [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_20354519 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
						role_1e60acce -> task_20354519 [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_20354519 labeltooltip="6 " tooltip="6 "]
					}
					task_8d62e519 [label="kubeinit.kubeinit.kubeinit_bind : Clear temp facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#3f8d7c" id=task_8d62e519 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_bind : Clear temp facts"]
					role_12b95b15 -> task_8d62e519 [label="19 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_8d62e519 labeltooltip="19 " tooltip="19 "]
				}
				role_b47c17fb -> role_79a7be3d [label="60 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_79a7be3d labeltooltip="60 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="60 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_79a7be3d [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#3f8d7c" id=role_79a7be3d tooltip="Configure Dnsmasq"]
					task_30a9790e [label="kubeinit.kubeinit.kubeinit_dnsmasq : Create dnsmasq folders" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_30a9790e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Create dnsmasq folders"]
					role_79a7be3d -> task_30a9790e [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_30a9790e labeltooltip="1 " tooltip="1 "]
					task_1fb41c88 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Create dnsmasq config file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_1fb41c88 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Create dnsmasq config file"]
					role_79a7be3d -> task_1fb41c88 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_1fb41c88 labeltooltip="2 " tooltip="2 "]
					task_824853d8 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_824853d8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Install buildah if required"]
					role_79a7be3d -> task_824853d8 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_824853d8 labeltooltip="3 " tooltip="3 "]
					task_ac86f813 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Remove any old dnsmasq buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_ac86f813 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Remove any old dnsmasq buildah container"]
					role_79a7be3d -> task_ac86f813 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_ac86f813 labeltooltip="4 " tooltip="4 "]
					task_b5b736f6 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_b5b736f6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Create a new working container image"]
					role_79a7be3d -> task_b5b736f6 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b5b736f6 labeltooltip="5 " tooltip="5 "]
					task_0ce20d34 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_0ce20d34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Update the container"]
					role_79a7be3d -> task_0ce20d34 [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_0ce20d34 labeltooltip="6 " tooltip="6 "]
					task_97ef4e87 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Copy generated dnsmasq.conf into container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_97ef4e87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Copy generated dnsmasq.conf into container"]
					role_79a7be3d -> task_97ef4e87 [label="7 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_97ef4e87 labeltooltip="7 " tooltip="7 "]
					task_128d3bc8 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_128d3bc8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Set kubeinit-cluster-name label"]
					role_79a7be3d -> task_128d3bc8 [label="8 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_128d3bc8 labeltooltip="8 " tooltip="8 "]
					task_2af0a4ab [label="kubeinit.kubeinit.kubeinit_dnsmasq : Commit the container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_2af0a4ab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Commit the container image"]
					role_79a7be3d -> task_2af0a4ab [label="9 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_2af0a4ab labeltooltip="9 " tooltip="9 "]
					task_d4c09828 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_d4c09828 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Remove the buildah container"]
					role_79a7be3d -> task_d4c09828 [label="10 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d4c09828 labeltooltip="10 " tooltip="10 "]
					task_990f935c [label="kubeinit.kubeinit.kubeinit_dnsmasq : Create a podman container to serve the dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_990f935c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Create a podman container to serve the dnsmasq"]
					role_79a7be3d -> task_990f935c [label="11 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_990f935c labeltooltip="11 " tooltip="11 "]
					role_79a7be3d -> role_ec706eaa [label="12 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_ec706eaa labeltooltip="12 " tooltip="12 "]
					subgraph "Create systemd service for podman container" {
						role_ec706eaa [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=role_ec706eaa tooltip="Create systemd service for podman container"]
						task_dcdc8d06 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_dcdc8d06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
						role_ec706eaa -> task_dcdc8d06 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_dcdc8d06 labeltooltip="1 " tooltip="1 "]
						task_382ab9b1 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_382ab9b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
						role_ec706eaa -> task_382ab9b1 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_382ab9b1 labeltooltip="2 " tooltip="2 "]
						task_29ffb037 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_29ffb037 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
						role_ec706eaa -> task_29ffb037 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_29ffb037 labeltooltip="3 " tooltip="3 "]
						task_b45ee5c9 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_b45ee5c9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
						role_ec706eaa -> task_b45ee5c9 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b45ee5c9 labeltooltip="4 " tooltip="4 "]
						task_40ed5471 [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_40ed5471 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
						role_ec706eaa -> task_40ed5471 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_40ed5471 labeltooltip="5 " tooltip="5 "]
						task_8abb9b1c [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_8abb9b1c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
						role_ec706eaa -> task_8abb9b1c [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_8abb9b1c labeltooltip="6 " tooltip="6 "]
					}
					task_64103a44 [label="kubeinit.kubeinit.kubeinit_dnsmasq : Clear temp facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#3f8d7c" id=task_64103a44 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_dnsmasq : Clear temp facts"]
					role_79a7be3d -> task_64103a44 [label="13 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_64103a44 labeltooltip="13 " tooltip="13 "]
				}
				role_b47c17fb -> role_9bb52eb5 [label="61 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_9bb52eb5 labeltooltip="61 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="61 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_9bb52eb5 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#3f8d7c" id=role_9bb52eb5 tooltip="Configure HAProxy"]
					task_c614b023 [label="kubeinit.kubeinit.kubeinit_haproxy : Create HAProxy folders" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_c614b023 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Create HAProxy folders"]
					role_9bb52eb5 -> task_c614b023 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c614b023 labeltooltip="1 " tooltip="1 "]
					task_0c5fba39 [label="kubeinit.kubeinit.kubeinit_haproxy : Create HAProxy config file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_0c5fba39 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Create HAProxy config file"]
					role_9bb52eb5 -> task_0c5fba39 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_0c5fba39 labeltooltip="2 " tooltip="2 "]
					task_cd732e84 [label="kubeinit.kubeinit.kubeinit_haproxy : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_cd732e84 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Install buildah if required"]
					role_9bb52eb5 -> task_cd732e84 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_cd732e84 labeltooltip="3 " tooltip="3 "]
					task_351e4e6e [label="kubeinit.kubeinit.kubeinit_haproxy : Remove any old haproxy buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_351e4e6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Remove any old haproxy buildah container"]
					role_9bb52eb5 -> task_351e4e6e [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_351e4e6e labeltooltip="4 " tooltip="4 "]
					task_d4922a39 [label="kubeinit.kubeinit.kubeinit_haproxy : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_d4922a39 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Create a new working container image"]
					role_9bb52eb5 -> task_d4922a39 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d4922a39 labeltooltip="5 " tooltip="5 "]
					task_2453c23a [label="kubeinit.kubeinit.kubeinit_haproxy : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_2453c23a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Update the container"]
					role_9bb52eb5 -> task_2453c23a [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_2453c23a labeltooltip="6 " tooltip="6 "]
					task_e46af047 [label="kubeinit.kubeinit.kubeinit_haproxy : Copy generated haproxy.cfg into container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_e46af047 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Copy generated haproxy.cfg into container"]
					role_9bb52eb5 -> task_e46af047 [label="7 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e46af047 labeltooltip="7 " tooltip="7 "]
					task_cf9a51ef [label="kubeinit.kubeinit.kubeinit_haproxy : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_cf9a51ef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Set kubeinit-cluster-name label"]
					role_9bb52eb5 -> task_cf9a51ef [label="8 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_cf9a51ef labeltooltip="8 " tooltip="8 "]
					task_9b88a7fc [label="kubeinit.kubeinit.kubeinit_haproxy : Commit the container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_9b88a7fc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Commit the container image"]
					role_9bb52eb5 -> task_9b88a7fc [label="9 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_9b88a7fc labeltooltip="9 " tooltip="9 "]
					task_473dcc23 [label="kubeinit.kubeinit.kubeinit_haproxy : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_473dcc23 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Remove the buildah container"]
					role_9bb52eb5 -> task_473dcc23 [label="10 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_473dcc23 labeltooltip="10 " tooltip="10 "]
					task_9c92a6ae [label="kubeinit.kubeinit.kubeinit_haproxy : Create a podman container to serve the haproxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_9c92a6ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Create a podman container to serve the haproxy"]
					role_9bb52eb5 -> task_9c92a6ae [label="11 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_9c92a6ae labeltooltip="11 " tooltip="11 "]
					role_9bb52eb5 -> role_c6f039ff [label="12 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_c6f039ff labeltooltip="12 " tooltip="12 "]
					subgraph "Create systemd service for podman container" {
						role_c6f039ff [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=role_c6f039ff tooltip="Create systemd service for podman container"]
						task_9e226df0 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_9e226df0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
						role_c6f039ff -> task_9e226df0 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_9e226df0 labeltooltip="1 " tooltip="1 "]
						task_63ef92bb [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_63ef92bb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
						role_c6f039ff -> task_63ef92bb [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_63ef92bb labeltooltip="2 " tooltip="2 "]
						task_eaad4431 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_eaad4431 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
						role_c6f039ff -> task_eaad4431 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_eaad4431 labeltooltip="3 " tooltip="3 "]
						task_4575ddbb [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_4575ddbb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
						role_c6f039ff -> task_4575ddbb [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_4575ddbb labeltooltip="4 " tooltip="4 "]
						task_3fd50519 [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_3fd50519 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
						role_c6f039ff -> task_3fd50519 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_3fd50519 labeltooltip="5 " tooltip="5 "]
						task_839804fd [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_839804fd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
						role_c6f039ff -> task_839804fd [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_839804fd labeltooltip="6 " tooltip="6 "]
					}
					task_d5c67e7e [label="kubeinit.kubeinit.kubeinit_haproxy : Clear temp facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#3f8d7c" id=task_d5c67e7e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_haproxy : Clear temp facts"]
					role_9bb52eb5 -> task_d5c67e7e [label="13 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d5c67e7e labeltooltip="13 " tooltip="13 "]
				}
				role_b47c17fb -> role_69fbfbf3 [label="62 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_69fbfbf3 labeltooltip="62 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="62 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_69fbfbf3 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#3f8d7c" id=role_69fbfbf3 tooltip="Configure Nexus"]
					task_d410e7e2 [label="kubeinit.kubeinit.kubeinit_nexus : Create Nexus folders" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_d410e7e2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create Nexus folders"]
					role_69fbfbf3 -> task_d410e7e2 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d410e7e2 labeltooltip="1 " tooltip="1 "]
					task_40640797 [label="kubeinit.kubeinit.kubeinit_nexus : Create nexus-data subfolders" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_40640797 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create nexus-data subfolders"]
					role_69fbfbf3 -> task_40640797 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_40640797 labeltooltip="2 " tooltip="2 "]
					task_c2ae3d50 [label="kubeinit.kubeinit.kubeinit_nexus : Create the property file update script" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_c2ae3d50 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create the property file update script"]
					role_69fbfbf3 -> task_c2ae3d50 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c2ae3d50 labeltooltip="3 " tooltip="3 "]
					task_8ef845c2 [label="kubeinit.kubeinit.kubeinit_nexus : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_8ef845c2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Install buildah if required"]
					role_69fbfbf3 -> task_8ef845c2 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_8ef845c2 labeltooltip="4 " tooltip="4 "]
					task_68f81942 [label="kubeinit.kubeinit.kubeinit_nexus : Remove any old nexus buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_68f81942 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Remove any old nexus buildah container"]
					role_69fbfbf3 -> task_68f81942 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_68f81942 labeltooltip="5 " tooltip="5 "]
					task_46e251dd [label="kubeinit.kubeinit.kubeinit_nexus : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_46e251dd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create a new working container image"]
					role_69fbfbf3 -> task_46e251dd [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_46e251dd labeltooltip="6 " tooltip="6 "]
					task_e57390b8 [label="kubeinit.kubeinit.kubeinit_nexus : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_e57390b8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Set working directory inside container"]
					role_69fbfbf3 -> task_e57390b8 [label="7 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e57390b8 labeltooltip="7 " tooltip="7 "]
					task_bdaf5dd6 [label="kubeinit.kubeinit.kubeinit_nexus : Update image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_bdaf5dd6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Update image"]
					role_69fbfbf3 -> task_bdaf5dd6 [label="8 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_bdaf5dd6 labeltooltip="8 " tooltip="8 "]
					task_05641089 [label="kubeinit.kubeinit.kubeinit_nexus : Create java keystore" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_05641089 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create java keystore"]
					role_69fbfbf3 -> task_05641089 [label="9 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_05641089 labeltooltip="9 " tooltip="9 "]
					task_f9fae306 [label="kubeinit.kubeinit.kubeinit_nexus : Copy keystore file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_f9fae306 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Copy keystore file"]
					role_69fbfbf3 -> task_f9fae306 [label="10 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f9fae306 labeltooltip="10 " tooltip="10 "]
					task_874846df [label="kubeinit.kubeinit.kubeinit_nexus : Copy keystore file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_874846df shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Copy keystore file"]
					role_69fbfbf3 -> task_874846df [label="11 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_874846df labeltooltip="11 " tooltip="11 "]
					task_482e72a9 [label="kubeinit.kubeinit.kubeinit_nexus : Copy keystore file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_482e72a9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Copy keystore file"]
					role_69fbfbf3 -> task_482e72a9 [label="12 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_482e72a9 labeltooltip="12 " tooltip="12 "]
					task_5bf670ad [label="kubeinit.kubeinit.kubeinit_nexus : Link keystore file to alternate location" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_5bf670ad shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Link keystore file to alternate location"]
					role_69fbfbf3 -> task_5bf670ad [label="13 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5bf670ad labeltooltip="13 " tooltip="13 "]
					task_4378248c [label="kubeinit.kubeinit.kubeinit_nexus : Run script to update properties" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_4378248c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Run script to update properties"]
					role_69fbfbf3 -> task_4378248c [label="14 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_4378248c labeltooltip="14 " tooltip="14 "]
					task_b1dbdf05 [label="kubeinit.kubeinit.kubeinit_nexus : Set owner of nexus data to nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_b1dbdf05 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Set owner of nexus data to nexus"]
					role_69fbfbf3 -> task_b1dbdf05 [label="15 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b1dbdf05 labeltooltip="15 " tooltip="15 "]
					task_96c98031 [label="kubeinit.kubeinit.kubeinit_nexus : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_96c98031 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Set kubeinit-cluster-name label"]
					role_69fbfbf3 -> task_96c98031 [label="16 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_96c98031 labeltooltip="16 " tooltip="16 "]
					task_5c43cf13 [label="kubeinit.kubeinit.kubeinit_nexus : Commit the container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_5c43cf13 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Commit the container image"]
					role_69fbfbf3 -> task_5c43cf13 [label="17 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5c43cf13 labeltooltip="17 " tooltip="17 "]
					task_046606ce [label="kubeinit.kubeinit.kubeinit_nexus : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_046606ce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Remove the buildah container"]
					role_69fbfbf3 -> task_046606ce [label="18 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_046606ce labeltooltip="18 " tooltip="18 "]
					task_6dc9da89 [label="kubeinit.kubeinit.kubeinit_nexus : Create a podman volume for nexus data" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_6dc9da89 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create a podman volume for nexus data"]
					role_69fbfbf3 -> task_6dc9da89 [label="19 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_6dc9da89 labeltooltip="19 " tooltip="19 "]
					task_39076080 [label="kubeinit.kubeinit.kubeinit_nexus : Set nexus as owner of the volume root" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_39076080 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Set nexus as owner of the volume root"]
					role_69fbfbf3 -> task_39076080 [label="20 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_39076080 labeltooltip="20 " tooltip="20 "]
					task_301974a6 [label="kubeinit.kubeinit.kubeinit_nexus : Copy data into nexus-data volume" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_301974a6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Copy data into nexus-data volume"]
					role_69fbfbf3 -> task_301974a6 [label="21 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_301974a6 labeltooltip="21 " tooltip="21 "]
					task_8eeae31b [label="kubeinit.kubeinit.kubeinit_nexus : Create a podman container to serve nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_8eeae31b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create a podman container to serve nexus"]
					role_69fbfbf3 -> task_8eeae31b [label="22 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_8eeae31b labeltooltip="22 " tooltip="22 "]
					role_69fbfbf3 -> role_b3ba3d30 [label="23 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_b3ba3d30 labeltooltip="23 " tooltip="23 "]
					subgraph "Create systemd service for podman container" {
						role_b3ba3d30 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=role_b3ba3d30 tooltip="Create systemd service for podman container"]
						task_cdebdf87 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_cdebdf87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
						role_b3ba3d30 -> task_cdebdf87 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_cdebdf87 labeltooltip="1 " tooltip="1 "]
						task_760c7ece [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_760c7ece shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
						role_b3ba3d30 -> task_760c7ece [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_760c7ece labeltooltip="2 " tooltip="2 "]
						task_1978dec1 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_1978dec1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
						role_b3ba3d30 -> task_1978dec1 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_1978dec1 labeltooltip="3 " tooltip="3 "]
						task_748765f7 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_748765f7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
						role_b3ba3d30 -> task_748765f7 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_748765f7 labeltooltip="4 " tooltip="4 "]
						task_0af0a3fe [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_0af0a3fe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
						role_b3ba3d30 -> task_0af0a3fe [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_0af0a3fe labeltooltip="5 " tooltip="5 "]
						task_e0fe8c40 [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_e0fe8c40 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
						role_b3ba3d30 -> task_e0fe8c40 [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e0fe8c40 labeltooltip="6 " tooltip="6 "]
					}
					task_5a80f4f7 [label="kubeinit.kubeinit.kubeinit_nexus : Clear temp facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_5a80f4f7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Clear temp facts"]
					role_69fbfbf3 -> task_5a80f4f7 [label="24 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5a80f4f7 labeltooltip="24 " tooltip="24 "]
					task_62e9c338 [label="kubeinit.kubeinit.kubeinit_nexus : Wait for service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_62e9c338 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Wait for service to be available"]
					role_69fbfbf3 -> task_62e9c338 [label="25 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_62e9c338 labeltooltip="25 " tooltip="25 "]
					task_6bb80e9a [label="kubeinit.kubeinit.kubeinit_nexus : Copy out admin password" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_6bb80e9a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Copy out admin password"]
					role_69fbfbf3 -> task_6bb80e9a [label="26 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_6bb80e9a labeltooltip="26 " tooltip="26 "]
					task_3d78dd45 [label="kubeinit.kubeinit.kubeinit_nexus : Read admin password into a var" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_3d78dd45 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Read admin password into a var"]
					role_69fbfbf3 -> task_3d78dd45 [label="27 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_3d78dd45 labeltooltip="27 " tooltip="27 "]
					task_9163d1a5 [label="kubeinit.kubeinit.kubeinit_nexus : Install the nexus3 cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_9163d1a5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Install the nexus3 cli"]
					role_69fbfbf3 -> task_9163d1a5 [label="28 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_9163d1a5 labeltooltip="28 " tooltip="28 "]
					task_cf785922 [label="kubeinit.kubeinit.kubeinit_nexus : Login to nexus3 cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_cf785922 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Login to nexus3 cli"]
					role_69fbfbf3 -> task_cf785922 [label="29 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_cf785922 labeltooltip="29 " tooltip="29 "]
					task_95167f0c [label="kubeinit.kubeinit.kubeinit_nexus : Create docker repository" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_95167f0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Create docker repository"]
					role_69fbfbf3 -> task_95167f0c [label="30 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_95167f0c labeltooltip="30 " tooltip="30 "]
					task_ee895b61 [label="kubeinit.kubeinit.kubeinit_nexus : Activate security realm for docker tokens" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#3f8d7c" id=task_ee895b61 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_nexus : Activate security realm for docker tokens"]
					role_69fbfbf3 -> task_ee895b61 [label="31 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_ee895b61 labeltooltip="31 " tooltip="31 "]
				}
				role_b47c17fb -> role_33b58fb2 [label="63 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_33b58fb2 labeltooltip="63 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="63 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_33b58fb2 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#3f8d7c" id=role_33b58fb2 tooltip="Configure Apache"]
					task_5c75846f [label="kubeinit.kubeinit.kubeinit_apache : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_5c75846f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Install buildah if required"]
					role_33b58fb2 -> task_5c75846f [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_5c75846f labeltooltip="1 " tooltip="1 "]
					task_f9d79012 [label="kubeinit.kubeinit.kubeinit_apache : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_f9d79012 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Create a new working container image"]
					role_33b58fb2 -> task_f9d79012 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_f9d79012 labeltooltip="2 " tooltip="2 "]
					task_d784cb34 [label="kubeinit.kubeinit.kubeinit_apache : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_d784cb34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Update the container"]
					role_33b58fb2 -> task_d784cb34 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d784cb34 labeltooltip="3 " tooltip="3 "]
					task_985bef27 [label="kubeinit.kubeinit.kubeinit_apache : Replace port 80 with 8080" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_985bef27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Replace port 80 with 8080"]
					role_33b58fb2 -> task_985bef27 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_985bef27 labeltooltip="4 " tooltip="4 "]
					task_65145e95 [label="kubeinit.kubeinit.kubeinit_apache : Create link to kubeinit folder" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_65145e95 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Create link to kubeinit folder"]
					role_33b58fb2 -> task_65145e95 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_65145e95 labeltooltip="5 " tooltip="5 "]
					task_c84e03ad [label="kubeinit.kubeinit.kubeinit_apache : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_c84e03ad shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Set kubeinit-cluster-name label"]
					role_33b58fb2 -> task_c84e03ad [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c84e03ad labeltooltip="6 " tooltip="6 "]
					task_e4045e5d [label="kubeinit.kubeinit.kubeinit_apache : Commit the container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_e4045e5d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Commit the container image"]
					role_33b58fb2 -> task_e4045e5d [label="7 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e4045e5d labeltooltip="7 " tooltip="7 "]
					task_b09f8356 [label="kubeinit.kubeinit.kubeinit_apache : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_b09f8356 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Remove the buildah container"]
					role_33b58fb2 -> task_b09f8356 [label="8 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b09f8356 labeltooltip="8 " tooltip="8 "]
					task_b8b3f9c1 [label="kubeinit.kubeinit.kubeinit_apache : Create a podman container to serve the Apache server" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_b8b3f9c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Create a podman container to serve the Apache server"]
					role_33b58fb2 -> task_b8b3f9c1 [label="9 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b8b3f9c1 labeltooltip="9 " tooltip="9 "]
					role_33b58fb2 -> role_996276e7 [label="10 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_996276e7 labeltooltip="10 " tooltip="10 "]
					subgraph "Create systemd service for podman container" {
						role_996276e7 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=role_996276e7 tooltip="Create systemd service for podman container"]
						task_e68c2cf2 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_e68c2cf2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
						role_996276e7 -> task_e68c2cf2 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e68c2cf2 labeltooltip="1 " tooltip="1 "]
						task_658fb42d [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_658fb42d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
						role_996276e7 -> task_658fb42d [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_658fb42d labeltooltip="2 " tooltip="2 "]
						task_67b1d774 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_67b1d774 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
						role_996276e7 -> task_67b1d774 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_67b1d774 labeltooltip="3 " tooltip="3 "]
						task_63754b66 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_63754b66 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
						role_996276e7 -> task_63754b66 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_63754b66 labeltooltip="4 " tooltip="4 "]
						task_e0e62919 [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_e0e62919 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
						role_996276e7 -> task_e0e62919 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_e0e62919 labeltooltip="5 " tooltip="5 "]
						task_d4ba1af8 [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_d4ba1af8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
						role_996276e7 -> task_d4ba1af8 [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d4ba1af8 labeltooltip="6 " tooltip="6 "]
					}
					task_38fc1522 [label="kubeinit.kubeinit.kubeinit_apache : Clear temp facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#3f8d7c" id=task_38fc1522 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_apache : Clear temp facts"]
					role_33b58fb2 -> task_38fc1522 [label="11 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_38fc1522 labeltooltip="11 " tooltip="11 "]
				}
				role_b47c17fb -> role_d4072721 [label="64 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_d4072721 labeltooltip="64 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="64 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_d4072721 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#3f8d7c" id=role_d4072721 tooltip="Configure a local container image registry"]
					task_bb714e0d [label="kubeinit.kubeinit.kubeinit_registry : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_bb714e0d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Install buildah if required"]
					role_d4072721 -> task_bb714e0d [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_bb714e0d labeltooltip="1 " tooltip="1 "]
					task_7961cd25 [label="kubeinit.kubeinit.kubeinit_registry : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_7961cd25 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Create a new working container image"]
					role_d4072721 -> task_7961cd25 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_7961cd25 labeltooltip="2 " tooltip="2 "]
					task_1952d64e [label="kubeinit.kubeinit.kubeinit_registry : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_1952d64e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Update the container"]
					role_d4072721 -> task_1952d64e [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_1952d64e labeltooltip="3 " tooltip="3 "]
					task_36fc4e8f [label="kubeinit.kubeinit.kubeinit_registry : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_36fc4e8f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Set kubeinit-cluster-name label"]
					role_d4072721 -> task_36fc4e8f [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_36fc4e8f labeltooltip="4 " tooltip="4 "]
					task_1ad2367c [label="kubeinit.kubeinit.kubeinit_registry : Commit the container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_1ad2367c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Commit the container image"]
					role_d4072721 -> task_1ad2367c [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_1ad2367c labeltooltip="5 " tooltip="5 "]
					task_462bf461 [label="kubeinit.kubeinit.kubeinit_registry : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_462bf461 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Remove the buildah container"]
					role_d4072721 -> task_462bf461 [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_462bf461 labeltooltip="6 " tooltip="6 "]
					task_95120b2b [label="kubeinit.kubeinit.kubeinit_registry : Create a podman container to serve the registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_95120b2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Create a podman container to serve the registry"]
					role_d4072721 -> task_95120b2b [label="7 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_95120b2b labeltooltip="7 " tooltip="7 "]
					task_165df14c [label="kubeinit.kubeinit.kubeinit_registry : Copy kubeinit registry secrets into registry container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_165df14c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Copy kubeinit registry secrets into registry container"]
					role_d4072721 -> task_165df14c [label="8 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_165df14c labeltooltip="8 " tooltip="8 "]
					role_d4072721 -> role_def2e2a3 [label="9 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_def2e2a3 labeltooltip="9 " tooltip="9 "]
					subgraph "Create systemd service for podman container" {
						role_def2e2a3 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=role_def2e2a3 tooltip="Create systemd service for podman container"]
						task_9609b7b1 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_9609b7b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
						role_def2e2a3 -> task_9609b7b1 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_9609b7b1 labeltooltip="1 " tooltip="1 "]
						task_83d18b69 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_83d18b69 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
						role_def2e2a3 -> task_83d18b69 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_83d18b69 labeltooltip="2 " tooltip="2 "]
						task_ceda9a61 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_ceda9a61 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
						role_def2e2a3 -> task_ceda9a61 [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_ceda9a61 labeltooltip="3 " tooltip="3 "]
						task_c92bb6a8 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_c92bb6a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
						role_def2e2a3 -> task_c92bb6a8 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_c92bb6a8 labeltooltip="4 " tooltip="4 "]
						task_d669fcc5 [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_d669fcc5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
						role_def2e2a3 -> task_d669fcc5 [label="5 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_d669fcc5 labeltooltip="5 " tooltip="5 "]
						task_b2f609db [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#3f8d7c" id=task_b2f609db shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
						role_def2e2a3 -> task_b2f609db [label="6 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_b2f609db labeltooltip="6 " tooltip="6 "]
					}
					task_9078ea3d [label="kubeinit.kubeinit.kubeinit_registry : Clear temp facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#3f8d7c" id=task_9078ea3d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_registry : Clear temp facts"]
					role_d4072721 -> task_9078ea3d [label="10 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_task_9078ea3d labeltooltip="10 " tooltip="10 "]
				}
			}
		}
		play_076ae8a3 -> block_54791e77 [label=6 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_54791e77 labeltooltip=6 tooltip=6]
		subgraph cluster_block_54791e77 {
			block_54791e77 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_54791e77 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_54791e77 -> role_e8f4668f [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_e8f4668f labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_e8f4668f [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_e8f4668f tooltip="task-prepare-cluster"]
				role_e8f4668f -> role_bbecc85c [label="1 [when: not services_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_bbecc85c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_bbecc85c [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#3f8d7c" id=role_bbecc85c tooltip="Prepare services if needed"]
					role_bbecc85c -> role_dada8431 [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_dada8431 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_dada8431 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#3f8d7c" id=role_dada8431 tooltip="Prepare environment if needed"]
						role_dada8431 -> role_c94e1013 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_c94e1013 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_c94e1013 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_c94e1013 tooltip="Gather kubeinit secrets"]
						}
						role_dada8431 -> role_3661d21f [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_3661d21f labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_3661d21f [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_3661d21f tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_bbecc85c -> role_51ded7fe [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_51ded7fe labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_51ded7fe [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#3f8d7c" id=role_51ded7fe tooltip="Gather network and host facts for guest"]
					}
				}
				role_e8f4668f -> role_5d693a66 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_5d693a66 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_5d693a66 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#3f8d7c" id=role_5d693a66 tooltip="Delegate to the distro role to prepare the cluster"]
					role_5d693a66 -> role_8fdd8593 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_8fdd8593 labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_8fdd8593 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/prepare_cluster.yml" color="#3f8d7c" id=role_8fdd8593 tooltip="Setup the cluster provision container"]
						role_8fdd8593 -> role_85358966 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_85358966 labeltooltip="1 " tooltip="1 "]
						subgraph "Create systemd service for podman container" {
							role_85358966 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#3f8d7c" id=role_85358966 tooltip="Create systemd service for podman container"]
						}
						role_8fdd8593 -> role_22b10605 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_22b10605 labeltooltip="2 " tooltip="2 "]
						subgraph "Gather network and host facts for provision service" {
							role_22b10605 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#3f8d7c" id=role_22b10605 tooltip="Gather network and host facts for provision service"]
						}
					}
				}
			}
		}
		play_076ae8a3 -> block_3c7a7ab3 [label=7 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_3c7a7ab3 labeltooltip=7 tooltip=7]
		subgraph cluster_block_3c7a7ab3 {
			block_3c7a7ab3 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_3c7a7ab3 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_3c7a7ab3 -> role_147979e9 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_147979e9 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_147979e9 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_147979e9 tooltip="task-download-images"]
				role_147979e9 -> role_cd3a4b91 [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_cd3a4b91 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_cd3a4b91 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#3f8d7c" id=role_cd3a4b91 tooltip="Prepare environment if not prepared"]
					role_cd3a4b91 -> role_58c14a17 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_58c14a17 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_58c14a17 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_58c14a17 tooltip="Gather kubeinit secrets"]
					}
					role_cd3a4b91 -> role_777bc4f9 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_777bc4f9 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_777bc4f9 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_777bc4f9 tooltip="Gather facts from bastion_host if needed"]
					}
				}
			}
		}
		play_076ae8a3 -> block_05e92cb4 [label=8 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_05e92cb4 labeltooltip=8 tooltip=8]
		subgraph cluster_block_05e92cb4 {
			block_05e92cb4 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_05e92cb4 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_05e92cb4 -> role_b45f8952 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_b45f8952 labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_b45f8952 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_b45f8952 tooltip="task-deploy-cluster"]
				role_b45f8952 -> role_1d19ae23 [label="1 [when: not services_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_1d19ae23 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_1d19ae23 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#3f8d7c" id=role_1d19ae23 tooltip="Prepare services if needed"]
					role_1d19ae23 -> role_65ce83d7 [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_65ce83d7 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_65ce83d7 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#3f8d7c" id=role_65ce83d7 tooltip="Prepare environment if needed"]
						role_65ce83d7 -> role_af3fb22c [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_af3fb22c labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_af3fb22c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_af3fb22c tooltip="Gather kubeinit secrets"]
						}
						role_65ce83d7 -> role_adace895 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_adace895 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_adace895 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_adace895 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_1d19ae23 -> role_3f988f92 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_3f988f92 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_3f988f92 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#3f8d7c" id=role_3f988f92 tooltip="Gather network and host facts for guest"]
					}
				}
				role_b45f8952 -> role_1d8608db [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_1d8608db labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_1d8608db [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#3f8d7c" id=role_1d8608db tooltip="Delegate to the distro role to deploy the cluster"]
					role_1d8608db -> role_65ec2076 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_65ec2076 labeltooltip="1 " tooltip="1 "]
					subgraph "Deploy the cluster bootstrap and any other extra nodes requested" {
						role_65ec2076 [label="[role] Deploy the cluster bootstrap and any other extra nodes requested" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#3f8d7c" id=role_65ec2076 tooltip="Deploy the cluster bootstrap and any other extra nodes requested"]
					}
					role_1d8608db -> role_cacab6d5 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_cacab6d5 labeltooltip="2 " tooltip="2 "]
					subgraph "Deploy the cluster controller nodes" {
						role_cacab6d5 [label="[role] Deploy the cluster controller nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#3f8d7c" id=role_cacab6d5 tooltip="Deploy the cluster controller nodes"]
					}
					role_1d8608db -> role_6fef1e1b [label="3 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_6fef1e1b labeltooltip="3 " tooltip="3 "]
					subgraph "Deploy the cluster compute nodes" {
						role_6fef1e1b [label="[role] Deploy the cluster compute nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/main.yml" color="#3f8d7c" id=role_6fef1e1b tooltip="Deploy the cluster compute nodes"]
					}
				}
			}
		}
		play_076ae8a3 -> block_85ff57e9 [label=9 color="#3f8d7c" fontcolor="#3f8d7c" id=edge_block_85ff57e9 labeltooltip=9 tooltip=9]
		subgraph cluster_block_85ff57e9 {
			block_85ff57e9 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=block_85ff57e9 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_85ff57e9 -> role_b6e5d5a6 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_b6e5d5a6 labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_b6e5d5a6 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3f8d7c" id=role_b6e5d5a6 tooltip="task-post-deployment"]
				role_b6e5d5a6 -> role_8e412326 [label="1 [when: not services_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_8e412326 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_8e412326 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#3f8d7c" id=role_8e412326 tooltip="Prepare services if needed"]
					role_8e412326 -> role_d63ac96e [label="1 [when: not environment_prepared]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_d63ac96e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_d63ac96e [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#3f8d7c" id=role_d63ac96e tooltip="Prepare environment if needed"]
						role_d63ac96e -> role_16d321a4 [label="1 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_16d321a4 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_16d321a4 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3f8d7c" id=role_16d321a4 tooltip="Gather kubeinit secrets"]
						}
						role_d63ac96e -> role_d1db6114 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_d1db6114 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_d1db6114 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#3f8d7c" id=role_d1db6114 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_8e412326 -> role_6eabebf8 [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_6eabebf8 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_6eabebf8 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#3f8d7c" id=role_6eabebf8 tooltip="Gather network and host facts for guest"]
					}
				}
				role_b6e5d5a6 -> role_8610ac0e [label="2 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_8610ac0e labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_8610ac0e [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#3f8d7c" id=role_8610ac0e tooltip="Delegate to distro role to run post-deployment tasks"]
					role_8610ac0e -> role_ea583af5 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_ea583af5 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_ea583af5 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#3f8d7c" id=role_ea583af5 tooltip="Configure NFS"]
					}
					role_8610ac0e -> role_79469c75 [label="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_79469c75 labeltooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'apps' in kubeinit_cluster_hostvars.services]"]
					subgraph "Deploy the apps" {
						role_79469c75 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#3f8d7c" id=role_79469c75 tooltip="Deploy the apps"]
					}
					role_8610ac0e -> role_b3bec3c4 [label="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_b3bec3c4 labeltooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="3 [when: 'kubevirt' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
					subgraph "Deploy KubeVirt" {
						role_b3bec3c4 [label="[role] Deploy KubeVirt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#3f8d7c" id=role_b3bec3c4 tooltip="Deploy KubeVirt"]
					}
					role_8610ac0e -> role_288f74d1 [label="4 " color="#3f8d7c" fontcolor="#3f8d7c" id=edge_role_288f74d1 labeltooltip="4 " tooltip="4 "]
					subgraph "Deploy extra roles" {
						role_288f74d1 [label="[role] Deploy extra roles" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_openshift/tasks/post_deployment_tasks.yml" color="#3f8d7c" id=role_288f74d1 tooltip="Deploy extra roles"]
					}
				}
			}
		}
	}
}
