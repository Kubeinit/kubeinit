digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_8e1c3aeb [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#3223a9" fontcolor="#ffffff" id=play_8e1c3aeb shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_8e1c3aeb [label="1 " color="#3223a9" fontcolor="#3223a9" id=edge_ec89e6d5 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_7b5b9c2b [label="[role] Gather kubeinit secrets" color="#3223a9" id=role_7b5b9c2b tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7e650ec9 [label="[role] Gather additional facts from localhost for kubeinit" color="#3223a9" id=role_7e650ec9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_b5e60d4f [label="[role] Create ssh config file from template" color="#3223a9" id=role_b5e60d4f tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_9a7b0732 [label="[role] task-gather-facts" color="#3223a9" id=role_9a7b0732 tooltip="task-gather-facts"]
		role_9a7b0732 -> role_7b5b9c2b [label="1 " color="#3223a9" fontcolor="#3223a9" id=edge_d69ece5f labeltooltip="1 " tooltip="1 "]
		role_9a7b0732 -> role_7e650ec9 [label="2 " color="#3223a9" fontcolor="#3223a9" id=edge_4e7fe4de labeltooltip="2 " tooltip="2 "]
		role_9a7b0732 -> role_b5e60d4f [label="3 " color="#3223a9" fontcolor="#3223a9" id=edge_e4a54091 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_2c0ed4b5 [label="[role] Gather kubeinit secrets" color="#3223a9" id=role_2c0ed4b5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a7a054ee [label="[role] Gather additional facts from localhost for kubeinit" color="#3223a9" id=role_a7a054ee tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_09c83397 [label="[role] Create ssh config file from template" color="#3223a9" id=role_09c83397 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_85366f66 [label="[role] task-prepare-hypervisors" color="#3223a9" id=role_85366f66 tooltip="task-prepare-hypervisors"]
		role_85366f66 -> role_2c0ed4b5 [label="1 " color="#3223a9" fontcolor="#3223a9" id=edge_7afb2fc0 labeltooltip="1 " tooltip="1 "]
		role_85366f66 -> role_a7a054ee [label="2 " color="#3223a9" fontcolor="#3223a9" id=edge_1adcd384 labeltooltip="2 " tooltip="2 "]
		role_85366f66 -> role_09c83397 [label="3 " color="#3223a9" fontcolor="#3223a9" id=edge_2cfad6c0 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_8e1c3aeb -> block_0f977f7b [label=1 color="#3223a9" fontcolor="#3223a9" id=edge_465ae711 labeltooltip=1 tooltip=1]
		subgraph cluster_block_0f977f7b {
			block_0f977f7b [label="[block] Gather facts about the deployment environment" color="#3223a9" id=block_0f977f7b labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_0f977f7b -> role_9a7b0732 [label="1 " color="#3223a9" fontcolor="#3223a9" id=edge_53bde8c5 labeltooltip="1 " tooltip="1 "]
		}
		play_8e1c3aeb -> block_13d15779 [label=2 color="#3223a9" fontcolor="#3223a9" id=edge_da4e3fa4 labeltooltip=2 tooltip=2]
		subgraph cluster_block_13d15779 {
			block_13d15779 [label="[block] Prepare the hypervisors" color="#3223a9" id=block_13d15779 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_13d15779 -> role_85366f66 [label="1 " color="#3223a9" fontcolor="#3223a9" id=edge_0c4f3914 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ca8b5ee8 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#70b418" fontcolor="#ffffff" id=play_ca8b5ee8 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_ca8b5ee8 [label="2 " color="#70b418" fontcolor="#70b418" id=edge_35c49655 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_3ad7db0e [label="[role] Provision the libvirt services on the hypervisor" color="#70b418" id=role_3ad7db0e tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_c16e31a6 [label="[role] Prepare each hypervisor in the deployment" color="#70b418" id=role_c16e31a6 tooltip="Prepare each hypervisor in the deployment"]
		role_c16e31a6 -> role_3ad7db0e [label="1 " color="#70b418" fontcolor="#70b418" id=edge_1204062e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_ca8b5ee8 -> block_f1f067cd [label=1 color="#70b418" fontcolor="#70b418" id=edge_701e334e labeltooltip=1 tooltip=1]
		subgraph cluster_block_f1f067cd {
			block_f1f067cd [label="[block] Prepare individual hypervisors" color="#70b418" id=block_f1f067cd labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_f1f067cd -> role_c16e31a6 [label="1 " color="#70b418" fontcolor="#70b418" id=edge_1e655075 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_8d35590f [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#175ab5" fontcolor="#ffffff" id=play_8d35590f shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_8d35590f [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_5e181a27 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_f853b553 [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_f853b553 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_c45cbfcf [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_c45cbfcf tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7bd02777 [label="[role] Create ssh config file from template" color="#175ab5" id=role_7bd02777 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_3107daff [label="[role] task-prepare-environment" color="#175ab5" id=role_3107daff tooltip="task-prepare-environment"]
		role_3107daff -> role_f853b553 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_5c73f620 labeltooltip="1 " tooltip="1 "]
		role_3107daff -> role_c45cbfcf [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_9a82d5e7 labeltooltip="2 " tooltip="2 "]
		role_3107daff -> role_7bd02777 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_99a5f4e5 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_f6714df2 [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_f6714df2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_fdf48252 [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_fdf48252 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2275ec25 [label="[role] Create ssh config file from template" color="#175ab5" id=role_2275ec25 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_5425afad [label="[role] Prepare environment if not prepared" color="#175ab5" id=role_5425afad tooltip="Prepare environment if not prepared"]
		role_5425afad -> role_f6714df2 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_6b535307 labeltooltip="1 " tooltip="1 "]
		role_5425afad -> role_fdf48252 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_6bb668e4 labeltooltip="2 " tooltip="2 "]
		role_5425afad -> role_2275ec25 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_905732f7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_76152ad0 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#175ab5" id=role_76152ad0 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_4cb7dc83 [label="[role] task-cleanup-hypervisors" color="#175ab5" id=role_4cb7dc83 tooltip="task-cleanup-hypervisors"]
		role_4cb7dc83 -> role_5425afad [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_0b6e5e9c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4cb7dc83 -> role_76152ad0 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_a1db5b61 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_10d096e7 [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_10d096e7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6f7cd2dd [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_6f7cd2dd tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_03248b28 [label="[role] Create ssh config file from template" color="#175ab5" id=role_03248b28 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d995019a [label="[role] Prepare environment if not prepared" color="#175ab5" id=role_d995019a tooltip="Prepare environment if not prepared"]
		role_d995019a -> role_10d096e7 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_bc2ceb4d labeltooltip="1 " tooltip="1 "]
		role_d995019a -> role_6f7cd2dd [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_06debec2 labeltooltip="2 " tooltip="2 "]
		role_d995019a -> role_03248b28 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_1b24e17b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_0f951045 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#175ab5" id=role_0f951045 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3b47d344 [label="[role] Cleanup hypervisors if needed" color="#175ab5" id=role_3b47d344 tooltip="Cleanup hypervisors if needed"]
		role_3b47d344 -> role_d995019a [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_dcd219c2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3b47d344 -> role_0f951045 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_ee513adc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_62f37f27 [label="[role] task-run-validations" color="#175ab5" id=role_62f37f27 tooltip="task-run-validations"]
		role_62f37f27 -> role_3b47d344 [label="1 [when: not hypervisors_cleaned]" color="#175ab5" fontcolor="#175ab5" id=edge_dd7c0333 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_ca035f17 [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_ca035f17 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9089c0b5 [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_9089c0b5 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_7f383bb0 [label="[role] Create ssh config file from template" color="#175ab5" id=role_7f383bb0 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_115a82ed [label="[role] Prepare environment if not prepared" color="#175ab5" id=role_115a82ed tooltip="Prepare environment if not prepared"]
		role_115a82ed -> role_ca035f17 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_0242a7f4 labeltooltip="1 " tooltip="1 "]
		role_115a82ed -> role_9089c0b5 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_7e17625f labeltooltip="2 " tooltip="2 "]
		role_115a82ed -> role_7f383bb0 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_13ad2be8 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_870d8c4d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#175ab5" id=role_870d8c4d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_64815402 [label="[role] Cleanup hypervisors if needed" color="#175ab5" id=role_64815402 tooltip="Cleanup hypervisors if needed"]
		role_64815402 -> role_115a82ed [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_3eefaf21 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_64815402 -> role_870d8c4d [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_ba6b5298 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_182d7f23 [label="[role] task-create-network" color="#175ab5" id=role_182d7f23 tooltip="task-create-network"]
		role_182d7f23 -> role_64815402 [label="1 [when: not hypervisors_cleaned]" color="#175ab5" fontcolor="#175ab5" id=edge_f513cb98 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_b49ccb30 [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_b49ccb30 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_658fab22 [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_658fab22 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_4a78c6e8 [label="[role] Create ssh config file from template" color="#175ab5" id=role_4a78c6e8 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_becd507e [label="[role] Prepare environment if not prepared" color="#175ab5" id=role_becd507e tooltip="Prepare environment if not prepared"]
		role_becd507e -> role_b49ccb30 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_f7e2e2f7 labeltooltip="1 " tooltip="1 "]
		role_becd507e -> role_658fab22 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_2a8c30cc labeltooltip="2 " tooltip="2 "]
		role_becd507e -> role_4a78c6e8 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_0957ea88 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_0b91614d [label="[role] Prepare podman" color="#175ab5" id=role_0b91614d tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_a799515f [label="[role] Create systemd service for podman container" color="#175ab5" id=role_a799515f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_2759095c [label="[role] Configure Bind" color="#175ab5" id=role_2759095c tooltip="Configure Bind"]
		role_2759095c -> role_a799515f [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_cb9d0427 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_19cded23 [label="[role] Create systemd service for podman container" color="#175ab5" id=role_19cded23 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_e5c7d410 [label="[role] Configure Dnsmasq" color="#175ab5" id=role_e5c7d410 tooltip="Configure Dnsmasq"]
		role_e5c7d410 -> role_19cded23 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_ee4fbe7c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_28b0b328 [label="[role] Create systemd service for podman container" color="#175ab5" id=role_28b0b328 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_93e2eb22 [label="[role] Configure HAProxy" color="#175ab5" id=role_93e2eb22 tooltip="Configure HAProxy"]
		role_93e2eb22 -> role_28b0b328 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_44ce61f0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3a16da69 [label="[role] Create systemd service for podman container" color="#175ab5" id=role_3a16da69 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_460f097e [label="[role] Configure Nexus" color="#175ab5" id=role_460f097e tooltip="Configure Nexus"]
		role_460f097e -> role_3a16da69 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_bd5296d9 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3d7930a3 [label="[role] Create systemd service for podman container" color="#175ab5" id=role_3d7930a3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_90a9a123 [label="[role] Configure Apache" color="#175ab5" id=role_90a9a123 tooltip="Configure Apache"]
		role_90a9a123 -> role_3d7930a3 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_a785c13d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0bf036b6 [label="[role] Create systemd service for podman container" color="#175ab5" id=role_0bf036b6 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_4000af7e [label="[role] Configure a local container image registry" color="#175ab5" id=role_4000af7e tooltip="Configure a local container image registry"]
		role_4000af7e -> role_0bf036b6 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_65ae9bee labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_f50e2a00 [label="[role] task-create-services" color="#175ab5" id=role_f50e2a00 tooltip="task-create-services"]
		role_f50e2a00 -> role_becd507e [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_167693f4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f50e2a00 -> role_0b91614d [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_160ae068 labeltooltip="2 " tooltip="2 "]
		role_f50e2a00 -> role_2759095c [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#175ab5" fontcolor="#175ab5" id=edge_4335ef4c labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f50e2a00 -> role_e5c7d410 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#175ab5" fontcolor="#175ab5" id=edge_bf79f3c4 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f50e2a00 -> role_93e2eb22 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#175ab5" fontcolor="#175ab5" id=edge_4c8ed306 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f50e2a00 -> role_460f097e [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#175ab5" fontcolor="#175ab5" id=edge_d98eb0d8 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f50e2a00 -> role_90a9a123 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#175ab5" fontcolor="#175ab5" id=edge_7abfec08 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f50e2a00 -> role_4000af7e [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#175ab5" fontcolor="#175ab5" id=edge_be1d92c0 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_780764ac [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_780764ac tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_2b3df7c5 [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_2b3df7c5 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_24d3bc81 [label="[role] Create ssh config file from template" color="#175ab5" id=role_24d3bc81 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_69dfc503 [label="[role] Prepare environment if needed" color="#175ab5" id=role_69dfc503 tooltip="Prepare environment if needed"]
		role_69dfc503 -> role_780764ac [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_dd7287dd labeltooltip="1 " tooltip="1 "]
		role_69dfc503 -> role_2b3df7c5 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_27058030 labeltooltip="2 " tooltip="2 "]
		role_69dfc503 -> role_24d3bc81 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_cb7615c4 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_51cb5188 [label="[role] Gather network and host facts for guest" color="#175ab5" id=role_51cb5188 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_75538b8c [label="[role] Prepare services if needed" color="#175ab5" id=role_75538b8c tooltip="Prepare services if needed"]
		role_75538b8c -> role_69dfc503 [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_9c155644 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_75538b8c -> role_51cb5188 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_5223c80b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_706171ed [label="[role] Create systemd service for podman container" color="#175ab5" id=role_706171ed tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_7d737765 [label="[role] Gather network and host facts for provision service" color="#175ab5" id=role_7d737765 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_1bfe0a78 [label="[role] Setup the cluster provision container" color="#175ab5" id=role_1bfe0a78 tooltip="Setup the cluster provision container"]
		role_1bfe0a78 -> role_706171ed [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_b79555f0 labeltooltip="1 " tooltip="1 "]
		role_1bfe0a78 -> role_7d737765 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_52b0a83a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_da31f74a [label="[role] Delegate to the distro role to prepare the cluster" color="#175ab5" id=role_da31f74a tooltip="Delegate to the distro role to prepare the cluster"]
		role_da31f74a -> role_1bfe0a78 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_de69d8ea labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_febffba4 [label="[role] task-prepare-cluster" color="#175ab5" id=role_febffba4 tooltip="task-prepare-cluster"]
		role_febffba4 -> role_75538b8c [label="1 [when: not services_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_dc112b9c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_febffba4 -> role_da31f74a [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_2d66ed0b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_eafd2637 [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_eafd2637 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_54f0db92 [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_54f0db92 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_6bf5a151 [label="[role] Create ssh config file from template" color="#175ab5" id=role_6bf5a151 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_744ba9f1 [label="[role] Prepare environment if not prepared" color="#175ab5" id=role_744ba9f1 tooltip="Prepare environment if not prepared"]
		role_744ba9f1 -> role_eafd2637 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_c6dc3768 labeltooltip="1 " tooltip="1 "]
		role_744ba9f1 -> role_54f0db92 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_7f46a0ab labeltooltip="2 " tooltip="2 "]
		role_744ba9f1 -> role_6bf5a151 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_86134504 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_4b237ac0 [label="[role] task-download-images" color="#175ab5" id=role_4b237ac0 tooltip="task-download-images"]
		role_4b237ac0 -> role_744ba9f1 [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_0d43315b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		task_82fe2a77 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms" color="#175ab5" id=task_82fe2a77 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms"]
		role_4b237ac0 -> task_82fe2a77 [label="2 [when: hostvars[guest_vm].target in hypervisor]" color="#175ab5" fontcolor="#175ab5" id=edge_ccf24041 labeltooltip="2 [when: hostvars[guest_vm].target in hypervisor]" tooltip="2 [when: hostvars[guest_vm].target in hypervisor]"]
		task_f6076f18 [label="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node" color="#175ab5" id=task_f6076f18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node"]
		role_4b237ac0 -> task_f6076f18 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_e1f36f16 labeltooltip="3 " tooltip="3 "]
		task_f6e0a019 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images" color="#175ab5" id=task_f6e0a019 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images"]
		role_4b237ac0 -> task_f6e0a019 [label="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" color="#175ab5" fontcolor="#175ab5" id=edge_276ac563 labeltooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" tooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]"]
		task_d7c04105 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates" color="#175ab5" id=task_d7c04105 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates"]
		role_4b237ac0 -> task_d7c04105 [label="5 " color="#175ab5" fontcolor="#175ab5" id=edge_99ee8de0 labeltooltip="5 " tooltip="5 "]
		task_590b91c4 [label="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images" color="#175ab5" id=task_590b91c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images"]
		role_4b237ac0 -> task_590b91c4 [label="6 " color="#175ab5" fontcolor="#175ab5" id=edge_159bd9a3 labeltooltip="6 " tooltip="6 "]
		task_25bd0e13 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images" color="#175ab5" id=task_25bd0e13 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images"]
		role_4b237ac0 -> task_25bd0e13 [label="7 " color="#175ab5" fontcolor="#175ab5" id=edge_74e4a341 labeltooltip="7 " tooltip="7 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_6462c90a [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_6462c90a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_dbf16e0b [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_dbf16e0b tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_89908a25 [label="[role] Create ssh config file from template" color="#175ab5" id=role_89908a25 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_f09ced01 [label="[role] Prepare environment if needed" color="#175ab5" id=role_f09ced01 tooltip="Prepare environment if needed"]
		role_f09ced01 -> role_6462c90a [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_ca282074 labeltooltip="1 " tooltip="1 "]
		role_f09ced01 -> role_dbf16e0b [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_19af8dc8 labeltooltip="2 " tooltip="2 "]
		role_f09ced01 -> role_89908a25 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_6d309021 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_b2d918b5 [label="[role] Gather network and host facts for guest" color="#175ab5" id=role_b2d918b5 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_dfa309af [label="[role] Prepare services if needed" color="#175ab5" id=role_dfa309af tooltip="Prepare services if needed"]
		role_dfa309af -> role_f09ced01 [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_de52a82b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_dfa309af -> role_b2d918b5 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_de759c3a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_178ca4d9 [label="[role] Deploy the cluster bootstrap node" color="#175ab5" id=role_178ca4d9 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_5043084c [label="[role] Deploy the cluster controller nodes" color="#175ab5" id=role_5043084c tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_1dec7fc6 [label="[role] Deploy the cluster compute nodes" color="#175ab5" id=role_1dec7fc6 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_7ce11d35 [label="[role] Delegate to the distro role to deploy the cluster" color="#175ab5" id=role_7ce11d35 tooltip="Delegate to the distro role to deploy the cluster"]
		role_7ce11d35 -> role_178ca4d9 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_48e52f6d labeltooltip="1 " tooltip="1 "]
		role_7ce11d35 -> role_5043084c [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_f4e1b083 labeltooltip="2 " tooltip="2 "]
		role_7ce11d35 -> role_1dec7fc6 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_5290592b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_af29410c [label="[role] task-deploy-cluster" color="#175ab5" id=role_af29410c tooltip="task-deploy-cluster"]
		role_af29410c -> role_dfa309af [label="1 [when: not services_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_45fedc7f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_af29410c -> role_7ce11d35 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_f6d3a09b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_4c66e237 [label="[role] Gather kubeinit secrets" color="#175ab5" id=role_4c66e237 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_df000fad [label="[role] Gather additional facts from localhost for kubeinit" color="#175ab5" id=role_df000fad tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c5922952 [label="[role] Create ssh config file from template" color="#175ab5" id=role_c5922952 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_34d50e16 [label="[role] Prepare environment if needed" color="#175ab5" id=role_34d50e16 tooltip="Prepare environment if needed"]
		role_34d50e16 -> role_4c66e237 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_5c9c2b6a labeltooltip="1 " tooltip="1 "]
		role_34d50e16 -> role_df000fad [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_ab3edc6b labeltooltip="2 " tooltip="2 "]
		role_34d50e16 -> role_c5922952 [label="3 " color="#175ab5" fontcolor="#175ab5" id=edge_0dde1e8d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_1bba5b94 [label="[role] Gather network and host facts for guest" color="#175ab5" id=role_1bba5b94 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_42090c03 [label="[role] Prepare services if needed" color="#175ab5" id=role_42090c03 tooltip="Prepare services if needed"]
		role_42090c03 -> role_34d50e16 [label="1 [when: not environment_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_6e9e509f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_42090c03 -> role_1bba5b94 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_7a0738ea labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_adc79709 [label="[role] Configure NFS" color="#175ab5" id=role_adc79709 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_1c5c547d [label="[role] Deploy the apps" color="#175ab5" id=role_1c5c547d tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_c8219799 [label="[role] Deploy KubeVirt" color="#175ab5" id=role_c8219799 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_2363adfb [label="[role] Deploy Submariner" color="#175ab5" id=role_2363adfb tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_c97caba7 [label="[role] Delegate to distro role to run post-deployment tasks" color="#175ab5" id=role_c97caba7 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_c97caba7 -> role_adc79709 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#175ab5" fontcolor="#175ab5" id=edge_11a04452 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_c97caba7 -> role_1c5c547d [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_8e128a4e labeltooltip="2 " tooltip="2 "]
		role_c97caba7 -> role_c8219799 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#175ab5" fontcolor="#175ab5" id=edge_d3dc839e labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_c97caba7 -> role_2363adfb [label="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" color="#175ab5" fontcolor="#175ab5" id=edge_dc1216a6 labeltooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]" tooltip="4 [when: 'submariner' in (kubeinit_cluster_hostvars['post_deployment_services'] | default([]))]"]
	}
	subgraph "task-post-deployment" {
		role_b581d799 [label="[role] task-post-deployment" color="#175ab5" id=role_b581d799 tooltip="task-post-deployment"]
		role_b581d799 -> role_42090c03 [label="1 [when: not services_prepared]" color="#175ab5" fontcolor="#175ab5" id=edge_55092cec labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b581d799 -> role_c97caba7 [label="2 " color="#175ab5" fontcolor="#175ab5" id=edge_f75b8287 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_8d35590f -> block_e07d0c63 [label=1 color="#175ab5" fontcolor="#175ab5" id=edge_e3a36b2d labeltooltip=1 tooltip=1]
		subgraph cluster_block_e07d0c63 {
			block_e07d0c63 [label="[block] Prepare the environment" color="#175ab5" id=block_e07d0c63 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_e07d0c63 -> role_3107daff [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_3ef524c7 labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_5beb6f95 [label=2 color="#175ab5" fontcolor="#175ab5" id=edge_3e4e24a3 labeltooltip=2 tooltip=2]
		subgraph cluster_block_5beb6f95 {
			block_5beb6f95 [label="[block] Cleanup hypervisors" color="#175ab5" id=block_5beb6f95 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_5beb6f95 -> role_4cb7dc83 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_d70b8403 labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_2aafd147 [label=3 color="#175ab5" fontcolor="#175ab5" id=edge_b5a22852 labeltooltip=3 tooltip=3]
		subgraph cluster_block_2aafd147 {
			block_2aafd147 [label="[block] Run validations on cluster resources" color="#175ab5" id=block_2aafd147 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_2aafd147 -> role_62f37f27 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_724b8c49 labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_8442e844 [label=4 color="#175ab5" fontcolor="#175ab5" id=edge_f5fafb15 labeltooltip=4 tooltip=4]
		subgraph cluster_block_8442e844 {
			block_8442e844 [label="[block] Create the cluster network resources" color="#175ab5" id=block_8442e844 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_8442e844 -> role_182d7f23 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_be47317a labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_4c764502 [label=5 color="#175ab5" fontcolor="#175ab5" id=edge_b734190e labeltooltip=5 tooltip=5]
		subgraph cluster_block_4c764502 {
			block_4c764502 [label="[block] Create services the cluster will need" color="#175ab5" id=block_4c764502 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_4c764502 -> role_f50e2a00 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_6bb9be4f labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_5e013460 [label=6 color="#175ab5" fontcolor="#175ab5" id=edge_13d42ade labeltooltip=6 tooltip=6]
		subgraph cluster_block_5e013460 {
			block_5e013460 [label="[block] Prepare to deploy the cluster" color="#175ab5" id=block_5e013460 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_5e013460 -> role_febffba4 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_3845ff3c labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_b3e8b4ad [label=7 color="#175ab5" fontcolor="#175ab5" id=edge_d87e7ea5 labeltooltip=7 tooltip=7]
		subgraph cluster_block_b3e8b4ad {
			block_b3e8b4ad [label="[block] Download cloud images" color="#175ab5" id=block_b3e8b4ad labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_b3e8b4ad -> role_4b237ac0 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_836947e4 labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_6fd80cda [label=8 color="#175ab5" fontcolor="#175ab5" id=edge_c3cecda9 labeltooltip=8 tooltip=8]
		subgraph cluster_block_6fd80cda {
			block_6fd80cda [label="[block] Deploy the cluster" color="#175ab5" id=block_6fd80cda labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_6fd80cda -> role_af29410c [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_e8c0556d labeltooltip="1 " tooltip="1 "]
		}
		play_8d35590f -> block_e0f8f4e2 [label=9 color="#175ab5" fontcolor="#175ab5" id=edge_7ac43c03 labeltooltip=9 tooltip=9]
		subgraph cluster_block_e0f8f4e2 {
			block_e0f8f4e2 [label="[block] Run any post-deployment tasks" color="#175ab5" id=block_e0f8f4e2 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_e0f8f4e2 -> role_b581d799 [label="1 " color="#175ab5" fontcolor="#175ab5" id=edge_8a9ed0f6 labeltooltip="1 " tooltip="1 "]
		}
	}
}
