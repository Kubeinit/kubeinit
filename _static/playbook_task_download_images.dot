digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_14ecac59 [label="Play: Initial setup (1)" color="#4c8052" fontcolor="#ffffff" id=play_14ecac59 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_14ecac59 [label="1 " color="#4c8052" fontcolor="#4c8052" id=edge_18400b00 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_0f1eaecf [label="[role] Read podman secrets if running from the container" color="#4c8052" id=role_0f1eaecf tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_aee95c03 [label="[role] task-gather-facts" color="#4c8052" id=role_aee95c03 tooltip="task-gather-facts"]
		role_aee95c03 -> role_0f1eaecf [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#4c8052" fontcolor="#4c8052" id=edge_74470e72 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3007a742 [label="[role] Read podman secrets if running from the container" color="#4c8052" id=role_3007a742 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_b0f0cc16 [label="[role] task-prepare-hypervisors" color="#4c8052" id=role_b0f0cc16 tooltip="task-prepare-hypervisors"]
		role_b0f0cc16 -> role_3007a742 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#4c8052" fontcolor="#4c8052" id=edge_ec313802 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_14ecac59 -> block_2b617eeb [label=1 color="#4c8052" fontcolor="#4c8052" id=edge_70672ea7 labeltooltip=1 tooltip=1]
		subgraph cluster_block_2b617eeb {
			block_2b617eeb [label="[block] Gather facts about the deployment environment" color="#4c8052" id=block_2b617eeb labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_2b617eeb -> role_aee95c03 [label="1 " color="#4c8052" fontcolor="#4c8052" id=edge_2976c5a9 labeltooltip="1 " tooltip="1 "]
		}
		play_14ecac59 -> block_8fd2d738 [label=2 color="#4c8052" fontcolor="#4c8052" id=edge_be16d63e labeltooltip=2 tooltip=2]
		subgraph cluster_block_8fd2d738 {
			block_8fd2d738 [label="[block] Prepare the hypervisors" color="#4c8052" id=block_8fd2d738 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_8fd2d738 -> role_b0f0cc16 [label="1 " color="#4c8052" fontcolor="#4c8052" id=edge_03dea2aa labeltooltip="1 " tooltip="1 "]
		}
	}
	play_b2497b43 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#1449b8" fontcolor="#ffffff" id=play_b2497b43 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_b2497b43 [label="2 " color="#1449b8" fontcolor="#1449b8" id=edge_dd9b31a6 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_6e70144c [label="[role] Provision the libvirt services on the hypervisor" color="#1449b8" id=role_6e70144c tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_4ef679b6 [label="[role] Prepare each hypervisor in the deployment" color="#1449b8" id=role_4ef679b6 tooltip="Prepare each hypervisor in the deployment"]
		role_4ef679b6 -> role_6e70144c [label="1 " color="#1449b8" fontcolor="#1449b8" id=edge_cc845459 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_b2497b43 -> block_8b31325a [label=1 color="#1449b8" fontcolor="#1449b8" id=edge_7d35cdb8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_8b31325a {
			block_8b31325a [label="[block] Prepare individual hypervisors" color="#1449b8" id=block_8b31325a labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_8b31325a -> role_4ef679b6 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#1449b8" fontcolor="#1449b8" id=edge_eb528ca8 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_2c11c3fe [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#9b9131" fontcolor="#ffffff" id=play_2c11c3fe shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_2c11c3fe [label="3 " color="#9b9131" fontcolor="#9b9131" id=edge_e60f9eb7 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_e4b90c74 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_e4b90c74 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_c7c9e05a [label="[role] task-prepare-environment" color="#9b9131" id=role_c7c9e05a tooltip="task-prepare-environment"]
		role_c7c9e05a -> role_e4b90c74 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_8a333f68 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c6369558 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_c6369558 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_da3bb1c4 [label="[role] Prepare environment if not prepared" color="#9b9131" id=role_da3bb1c4 tooltip="Prepare environment if not prepared"]
		role_da3bb1c4 -> role_c6369558 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_0b68bc8a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_2dddf514 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#9b9131" id=role_2dddf514 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_f800c9ae [label="[role] task-cleanup-hypervisors" color="#9b9131" id=role_f800c9ae tooltip="task-cleanup-hypervisors"]
		role_f800c9ae -> role_da3bb1c4 [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_ad2c1ac5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f800c9ae -> role_2dddf514 [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_370bd713 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d2954024 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_d2954024 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1487804b [label="[role] Prepare environment if not prepared" color="#9b9131" id=role_1487804b tooltip="Prepare environment if not prepared"]
		role_1487804b -> role_d2954024 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_6f6fdb5b labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_c294ee43 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#9b9131" id=role_c294ee43 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_c28437c3 [label="[role] Cleanup hypervisors if needed" color="#9b9131" id=role_c28437c3 tooltip="Cleanup hypervisors if needed"]
		role_c28437c3 -> role_1487804b [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_826295cb labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c28437c3 -> role_c294ee43 [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_474acbeb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_d46cae22 [label="[role] task-run-validations" color="#9b9131" id=role_d46cae22 tooltip="task-run-validations"]
		role_d46cae22 -> role_c28437c3 [label="1 [when: not hypervisors_cleaned]" color="#9b9131" fontcolor="#9b9131" id=edge_9a5637d7 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c5382767 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_c5382767 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_004a2374 [label="[role] Prepare environment if not prepared" color="#9b9131" id=role_004a2374 tooltip="Prepare environment if not prepared"]
		role_004a2374 -> role_c5382767 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_efb15163 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_0173ab4d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#9b9131" id=role_0173ab4d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_9e083677 [label="[role] Cleanup hypervisors if needed" color="#9b9131" id=role_9e083677 tooltip="Cleanup hypervisors if needed"]
		role_9e083677 -> role_004a2374 [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_4293307b labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9e083677 -> role_0173ab4d [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_33b1928b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_7cb00a76 [label="[role] task-create-network" color="#9b9131" id=role_7cb00a76 tooltip="task-create-network"]
		role_7cb00a76 -> role_9e083677 [label="1 [when: not hypervisors_cleaned]" color="#9b9131" fontcolor="#9b9131" id=edge_e4487184 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2c2980ff [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_2c2980ff tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_403436f4 [label="[role] Prepare environment if not prepared" color="#9b9131" id=role_403436f4 tooltip="Prepare environment if not prepared"]
		role_403436f4 -> role_2c2980ff [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_3511793d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_73843213 [label="[role] Prepare podman" color="#9b9131" id=role_73843213 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_170067c2 [label="[role] Create systemd service for podman container" color="#9b9131" id=role_170067c2 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_d41f1b80 [label="[role] Configure Bind" color="#9b9131" id=role_d41f1b80 tooltip="Configure Bind"]
		role_d41f1b80 -> role_170067c2 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_ffc7d8f7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_cd0ad713 [label="[role] Create systemd service for podman container" color="#9b9131" id=role_cd0ad713 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_0dcec570 [label="[role] Configure Dnsmasq" color="#9b9131" id=role_0dcec570 tooltip="Configure Dnsmasq"]
		role_0dcec570 -> role_cd0ad713 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_7422ae5f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0a55ac62 [label="[role] Create systemd service for podman container" color="#9b9131" id=role_0a55ac62 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_9ff6bd59 [label="[role] Configure HAProxy" color="#9b9131" id=role_9ff6bd59 tooltip="Configure HAProxy"]
		role_9ff6bd59 -> role_0a55ac62 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_65aca8ca labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_b2aa0f20 [label="[role] Create systemd service for podman container" color="#9b9131" id=role_b2aa0f20 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_b0b4f288 [label="[role] Configure Nexus" color="#9b9131" id=role_b0b4f288 tooltip="Configure Nexus"]
		role_b0b4f288 -> role_b2aa0f20 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_298f3be6 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_b28d62c6 [label="[role] Create systemd service for podman container" color="#9b9131" id=role_b28d62c6 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_3b12206e [label="[role] Configure Apache" color="#9b9131" id=role_3b12206e tooltip="Configure Apache"]
		role_3b12206e -> role_b28d62c6 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_cecb0282 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_82a94cbb [label="[role] Create systemd service for podman container" color="#9b9131" id=role_82a94cbb tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_18f780ce [label="[role] Configure a local container image registry" color="#9b9131" id=role_18f780ce tooltip="Configure a local container image registry"]
		role_18f780ce -> role_82a94cbb [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_3da4fdcb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_7c425f69 [label="[role] task-create-services" color="#9b9131" id=role_7c425f69 tooltip="task-create-services"]
		role_7c425f69 -> role_403436f4 [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_506f5362 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7c425f69 -> role_73843213 [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_fb887bec labeltooltip="2 " tooltip="2 "]
		role_7c425f69 -> role_d41f1b80 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#9b9131" fontcolor="#9b9131" id=edge_194a9314 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7c425f69 -> role_0dcec570 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#9b9131" fontcolor="#9b9131" id=edge_c601be45 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7c425f69 -> role_9ff6bd59 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#9b9131" fontcolor="#9b9131" id=edge_b8e7671d labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7c425f69 -> role_b0b4f288 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#9b9131" fontcolor="#9b9131" id=edge_6be7b057 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7c425f69 -> role_3b12206e [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#9b9131" fontcolor="#9b9131" id=edge_7054534c labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7c425f69 -> role_18f780ce [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#9b9131" fontcolor="#9b9131" id=edge_d19d7a2a labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_043a90a8 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_043a90a8 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_e366b426 [label="[role] Prepare environment if needed" color="#9b9131" id=role_e366b426 tooltip="Prepare environment if needed"]
		role_e366b426 -> role_043a90a8 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_1eb9d49e labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_98fef308 [label="[role] Gather network and host facts for guest" color="#9b9131" id=role_98fef308 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_98edfa4f [label="[role] Prepare services if needed" color="#9b9131" id=role_98edfa4f tooltip="Prepare services if needed"]
		role_98edfa4f -> role_e366b426 [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_ebd388fa labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_98edfa4f -> role_98fef308 [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_45a33544 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_45ce88cf [label="[role] Create systemd service for podman container" color="#9b9131" id=role_45ce88cf tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_42dbcc8a [label="[role] Gather network and host facts for provision service" color="#9b9131" id=role_42dbcc8a tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_d0f7e86c [label="[role] Setup the cluster provision container" color="#9b9131" id=role_d0f7e86c tooltip="Setup the cluster provision container"]
		role_d0f7e86c -> role_45ce88cf [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_1c2af903 labeltooltip="1 " tooltip="1 "]
		role_d0f7e86c -> role_42dbcc8a [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_89a6fb2b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_195dc6cc [label="[role] Delegate to the distro role to prepare the cluster" color="#9b9131" id=role_195dc6cc tooltip="Delegate to the distro role to prepare the cluster"]
		role_195dc6cc -> role_d0f7e86c [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_4d53b07a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_c990d559 [label="[role] task-prepare-cluster" color="#9b9131" id=role_c990d559 tooltip="task-prepare-cluster"]
		role_c990d559 -> role_98edfa4f [label="1 [when: not services_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_f5b6e5da labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c990d559 -> role_195dc6cc [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_a6a4e193 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_fabb4866 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_fabb4866 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c93cca32 [label="[role] Prepare environment if not prepared" color="#9b9131" id=role_c93cca32 tooltip="Prepare environment if not prepared"]
		role_c93cca32 -> role_fabb4866 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_9e0a3e8b labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_2f54cb52 [label="[role] task-download-images" color="#9b9131" id=role_2f54cb52 tooltip="task-download-images"]
		role_2f54cb52 -> role_c93cca32 [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_16efa955 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		task_f78df996 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms" color="#9b9131" id=task_f78df996 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms"]
		role_2f54cb52 -> task_f78df996 [label="2 [when: hostvars[guest_vm].target in hypervisor]" color="#9b9131" fontcolor="#9b9131" id=edge_b4027f2b labeltooltip="2 [when: hostvars[guest_vm].target in hypervisor]" tooltip="2 [when: hostvars[guest_vm].target in hypervisor]"]
		task_bf8e52d3 [label="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node" color="#9b9131" id=task_bf8e52d3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node"]
		role_2f54cb52 -> task_bf8e52d3 [label="3 " color="#9b9131" fontcolor="#9b9131" id=edge_34db0bb4 labeltooltip="3 " tooltip="3 "]
		task_371d4758 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images" color="#9b9131" id=task_371d4758 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images"]
		role_2f54cb52 -> task_371d4758 [label="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" color="#9b9131" fontcolor="#9b9131" id=edge_9db84d6a labeltooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" tooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]"]
		task_b7249420 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates" color="#9b9131" id=task_b7249420 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates"]
		role_2f54cb52 -> task_b7249420 [label="5 " color="#9b9131" fontcolor="#9b9131" id=edge_6e4728af labeltooltip="5 " tooltip="5 "]
		task_7759525b [label="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images" color="#9b9131" id=task_7759525b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images"]
		role_2f54cb52 -> task_7759525b [label="6 " color="#9b9131" fontcolor="#9b9131" id=edge_d772461d labeltooltip="6 " tooltip="6 "]
		task_d58f2393 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images" color="#9b9131" id=task_d58f2393 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images"]
		role_2f54cb52 -> task_d58f2393 [label="7 " color="#9b9131" fontcolor="#9b9131" id=edge_e3610575 labeltooltip="7 " tooltip="7 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b9312a08 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_b9312a08 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_efeb54fc [label="[role] Prepare environment if needed" color="#9b9131" id=role_efeb54fc tooltip="Prepare environment if needed"]
		role_efeb54fc -> role_b9312a08 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_b764d1a8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_7e4fdccc [label="[role] Gather network and host facts for guest" color="#9b9131" id=role_7e4fdccc tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_25af2510 [label="[role] Prepare services if needed" color="#9b9131" id=role_25af2510 tooltip="Prepare services if needed"]
		role_25af2510 -> role_efeb54fc [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_d2fbe9aa labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_25af2510 -> role_7e4fdccc [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_cb3409f0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_13053c54 [label="[role] Deploy the cluster bootstrap node" color="#9b9131" id=role_13053c54 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_3fdfc3e2 [label="[role] Deploy the cluster controller nodes" color="#9b9131" id=role_3fdfc3e2 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_20d049a6 [label="[role] Deploy the cluster compute nodes" color="#9b9131" id=role_20d049a6 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_bb6a345a [label="[role] Delegate to the distro role to deploy the cluster" color="#9b9131" id=role_bb6a345a tooltip="Delegate to the distro role to deploy the cluster"]
		role_bb6a345a -> role_13053c54 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_0b0f58cf labeltooltip="1 " tooltip="1 "]
		role_bb6a345a -> role_3fdfc3e2 [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_f078a9c5 labeltooltip="2 " tooltip="2 "]
		role_bb6a345a -> role_20d049a6 [label="3 " color="#9b9131" fontcolor="#9b9131" id=edge_4cb89a54 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_531a6d4f [label="[role] task-deploy-cluster" color="#9b9131" id=role_531a6d4f tooltip="task-deploy-cluster"]
		role_531a6d4f -> role_25af2510 [label="1 [when: not services_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_9fc94410 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_531a6d4f -> role_bb6a345a [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_0f3f1d5d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_047adbb1 [label="[role] Read podman secrets if running from the container" color="#9b9131" id=role_047adbb1 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_f45b03ea [label="[role] Prepare environment if needed" color="#9b9131" id=role_f45b03ea tooltip="Prepare environment if needed"]
		role_f45b03ea -> role_047adbb1 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#9b9131" fontcolor="#9b9131" id=edge_bc11c8d4 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_4127106a [label="[role] Gather network and host facts for guest" color="#9b9131" id=role_4127106a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_42a0280e [label="[role] Prepare services if needed" color="#9b9131" id=role_42a0280e tooltip="Prepare services if needed"]
		role_42a0280e -> role_f45b03ea [label="1 [when: not environment_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_95e5acf8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_42a0280e -> role_4127106a [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_1ab3d181 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_d15efefa [label="[role] Configure NFS" color="#9b9131" id=role_d15efefa tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_a4290afd [label="[role] Deploy the apps" color="#9b9131" id=role_a4290afd tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_b0726bef [label="[role] Deploy KubeVirt" color="#9b9131" id=role_b0726bef tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_f8e42f35 [label="[role] Deploy Submariner" color="#9b9131" id=role_f8e42f35 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_63560326 [label="[role] Delegate to distro role to run post-deployment tasks" color="#9b9131" id=role_63560326 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_63560326 -> role_d15efefa [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#9b9131" fontcolor="#9b9131" id=edge_4ea214e3 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_63560326 -> role_a4290afd [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_d6fb98f1 labeltooltip="2 " tooltip="2 "]
		role_63560326 -> role_b0726bef [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#9b9131" fontcolor="#9b9131" id=edge_390cf2c6 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_63560326 -> role_f8e42f35 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#9b9131" fontcolor="#9b9131" id=edge_dad68a1b labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_b329e3e6 [label="[role] task-post-deployment" color="#9b9131" id=role_b329e3e6 tooltip="task-post-deployment"]
		role_b329e3e6 -> role_42a0280e [label="1 [when: not services_prepared]" color="#9b9131" fontcolor="#9b9131" id=edge_ea3418bc labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b329e3e6 -> role_63560326 [label="2 " color="#9b9131" fontcolor="#9b9131" id=edge_d3450718 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_2c11c3fe -> block_ae880626 [label=1 color="#9b9131" fontcolor="#9b9131" id=edge_fa6d9945 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ae880626 {
			block_ae880626 [label="[block] Prepare the environment" color="#9b9131" id=block_ae880626 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_ae880626 -> role_c7c9e05a [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_93c0355b labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_73b9b3f4 [label=2 color="#9b9131" fontcolor="#9b9131" id=edge_ba923b44 labeltooltip=2 tooltip=2]
		subgraph cluster_block_73b9b3f4 {
			block_73b9b3f4 [label="[block] Cleanup hypervisors" color="#9b9131" id=block_73b9b3f4 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_73b9b3f4 -> role_f800c9ae [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_86e98647 labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_bcbde204 [label=3 color="#9b9131" fontcolor="#9b9131" id=edge_00d383be labeltooltip=3 tooltip=3]
		subgraph cluster_block_bcbde204 {
			block_bcbde204 [label="[block] Run validations on cluster resources" color="#9b9131" id=block_bcbde204 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_bcbde204 -> role_d46cae22 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_63c2ee45 labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_99ed904f [label=4 color="#9b9131" fontcolor="#9b9131" id=edge_00eb69a8 labeltooltip=4 tooltip=4]
		subgraph cluster_block_99ed904f {
			block_99ed904f [label="[block] Create the cluster network resources" color="#9b9131" id=block_99ed904f labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_99ed904f -> role_7cb00a76 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_8ca6488d labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_1f85f47e [label=5 color="#9b9131" fontcolor="#9b9131" id=edge_c8c96ad0 labeltooltip=5 tooltip=5]
		subgraph cluster_block_1f85f47e {
			block_1f85f47e [label="[block] Create services the cluster will need" color="#9b9131" id=block_1f85f47e labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_1f85f47e -> role_7c425f69 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_576d7ff2 labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_06f43548 [label=6 color="#9b9131" fontcolor="#9b9131" id=edge_f9347f72 labeltooltip=6 tooltip=6]
		subgraph cluster_block_06f43548 {
			block_06f43548 [label="[block] Prepare to deploy the cluster" color="#9b9131" id=block_06f43548 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_06f43548 -> role_c990d559 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_ee0b2575 labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_5f5e3b45 [label=7 color="#9b9131" fontcolor="#9b9131" id=edge_b35cee56 labeltooltip=7 tooltip=7]
		subgraph cluster_block_5f5e3b45 {
			block_5f5e3b45 [label="[block] Download cloud images" color="#9b9131" id=block_5f5e3b45 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_5f5e3b45 -> role_2f54cb52 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_186f4a11 labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_35684291 [label=8 color="#9b9131" fontcolor="#9b9131" id=edge_34fc84ad labeltooltip=8 tooltip=8]
		subgraph cluster_block_35684291 {
			block_35684291 [label="[block] Deploy the cluster" color="#9b9131" id=block_35684291 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_35684291 -> role_531a6d4f [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_4761b5a1 labeltooltip="1 " tooltip="1 "]
		}
		play_2c11c3fe -> block_fd176c1d [label=9 color="#9b9131" fontcolor="#9b9131" id=edge_746b69d8 labeltooltip=9 tooltip=9]
		subgraph cluster_block_fd176c1d {
			block_fd176c1d [label="[block] Run any post-deployment tasks" color="#9b9131" id=block_fd176c1d labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_fd176c1d -> role_b329e3e6 [label="1 " color="#9b9131" fontcolor="#9b9131" id=edge_832de468 labeltooltip="1 " tooltip="1 "]
		}
	}
}
