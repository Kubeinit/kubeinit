digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_4f1039ad [label="Play: Initial setup (1)" color="#0fc408" fontcolor="#ffffff" id=play_4f1039ad shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_4f1039ad [label="1 " color="#0fc408" fontcolor="#0fc408" id=edge_a791b17b labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_46d2b759 [label="[role] Read podman secrets if running from the container" color="#0fc408" id=role_46d2b759 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_e7459470 [label="[role] task-gather-facts" color="#0fc408" id=role_e7459470 tooltip="task-gather-facts"]
		role_e7459470 -> role_46d2b759 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0fc408" fontcolor="#0fc408" id=edge_c12c48f8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2effef1f [label="[role] Read podman secrets if running from the container" color="#0fc408" id=role_2effef1f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_e738537c [label="[role] task-prepare-hypervisors" color="#0fc408" id=role_e738537c tooltip="task-prepare-hypervisors"]
		role_e738537c -> role_2effef1f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#0fc408" fontcolor="#0fc408" id=edge_a1abce62 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_4f1039ad -> block_7ae07642 [label=1 color="#0fc408" fontcolor="#0fc408" id=edge_a3d0793d labeltooltip=1 tooltip=1]
		subgraph cluster_block_7ae07642 {
			block_7ae07642 [label="[block] Gather facts about the deployment environment" color="#0fc408" id=block_7ae07642 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_7ae07642 -> role_e7459470 [label="1 " color="#0fc408" fontcolor="#0fc408" id=edge_39ac24fa labeltooltip="1 " tooltip="1 "]
		}
		play_4f1039ad -> block_49a5fdb3 [label=2 color="#0fc408" fontcolor="#0fc408" id=edge_494cd0dd labeltooltip=2 tooltip=2]
		subgraph cluster_block_49a5fdb3 {
			block_49a5fdb3 [label="[block] Prepare the hypervisors" color="#0fc408" id=block_49a5fdb3 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_49a5fdb3 -> role_e738537c [label="1 " color="#0fc408" fontcolor="#0fc408" id=edge_33e03662 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_cda4c757 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#39a329" fontcolor="#ffffff" id=play_cda4c757 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_cda4c757 [label="2 " color="#39a329" fontcolor="#39a329" id=edge_7209933f labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_1198ce6c [label="[role] Provision the libvirt services on the hypervisor" color="#39a329" id=role_1198ce6c tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_b211cc56 [label="[role] Prepare each hypervisor in the deployment" color="#39a329" id=role_b211cc56 tooltip="Prepare each hypervisor in the deployment"]
		role_b211cc56 -> role_1198ce6c [label="1 " color="#39a329" fontcolor="#39a329" id=edge_0e8d4a39 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_cda4c757 -> block_6fe018c0 [label=1 color="#39a329" fontcolor="#39a329" id=edge_f0f75bfd labeltooltip=1 tooltip=1]
		subgraph cluster_block_6fe018c0 {
			block_6fe018c0 [label="[block] Prepare individual hypervisors" color="#39a329" id=block_6fe018c0 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_6fe018c0 -> role_b211cc56 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#39a329" fontcolor="#39a329" id=edge_a277957f labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_fbbd3312 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#80c804" fontcolor="#ffffff" id=play_fbbd3312 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_fbbd3312 [label="3 " color="#80c804" fontcolor="#80c804" id=edge_de999458 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_bc49b8eb [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_bc49b8eb tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_adfe3265 [label="[role] task-prepare-environment" color="#80c804" id=role_adfe3265 tooltip="task-prepare-environment"]
		role_adfe3265 -> role_bc49b8eb [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_9add35a3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_7365818b [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_7365818b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_7c49e3c9 [label="[role] Prepare environment if not prepared" color="#80c804" id=role_7c49e3c9 tooltip="Prepare environment if not prepared"]
		role_7c49e3c9 -> role_7365818b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_5db71206 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_dee14fbb [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#80c804" id=role_dee14fbb tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_e61b6f46 [label="[role] task-cleanup-hypervisors" color="#80c804" id=role_e61b6f46 tooltip="task-cleanup-hypervisors"]
		role_e61b6f46 -> role_7c49e3c9 [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_34b43294 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e61b6f46 -> role_dee14fbb [label="2 " color="#80c804" fontcolor="#80c804" id=edge_04640431 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3754a151 [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_3754a151 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_bd567904 [label="[role] Prepare environment if not prepared" color="#80c804" id=role_bd567904 tooltip="Prepare environment if not prepared"]
		role_bd567904 -> role_3754a151 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_01abd147 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_73e46713 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#80c804" id=role_73e46713 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_4bcad9ba [label="[role] Cleanup hypervisors if needed" color="#80c804" id=role_4bcad9ba tooltip="Cleanup hypervisors if needed"]
		role_4bcad9ba -> role_bd567904 [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_ae32c2c7 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4bcad9ba -> role_73e46713 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_728a7a9e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_c3b0271b [label="[role] task-run-validations" color="#80c804" id=role_c3b0271b tooltip="task-run-validations"]
		role_c3b0271b -> role_4bcad9ba [label="1 [when: not hypervisors_cleaned]" color="#80c804" fontcolor="#80c804" id=edge_3e195fa7 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2b373e6b [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_2b373e6b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_223ec348 [label="[role] Prepare environment if not prepared" color="#80c804" id=role_223ec348 tooltip="Prepare environment if not prepared"]
		role_223ec348 -> role_2b373e6b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_a1dae4c1 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_e9c2ff0a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#80c804" id=role_e9c2ff0a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e03515da [label="[role] Cleanup hypervisors if needed" color="#80c804" id=role_e03515da tooltip="Cleanup hypervisors if needed"]
		role_e03515da -> role_223ec348 [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_c0a8d56e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e03515da -> role_e9c2ff0a [label="2 " color="#80c804" fontcolor="#80c804" id=edge_d2ce21ba labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_3b3dd9b2 [label="[role] task-create-network" color="#80c804" id=role_3b3dd9b2 tooltip="task-create-network"]
		role_3b3dd9b2 -> role_e03515da [label="1 [when: not hypervisors_cleaned]" color="#80c804" fontcolor="#80c804" id=edge_8d9dc284 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5ea3b927 [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_5ea3b927 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9f43cb42 [label="[role] Prepare environment if not prepared" color="#80c804" id=role_9f43cb42 tooltip="Prepare environment if not prepared"]
		role_9f43cb42 -> role_5ea3b927 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_6ef3ec5f labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_6e1dae72 [label="[role] Prepare podman" color="#80c804" id=role_6e1dae72 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_3b7b20e9 [label="[role] Create systemd service for podman container" color="#80c804" id=role_3b7b20e9 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_7a4b6383 [label="[role] Configure Bind" color="#80c804" id=role_7a4b6383 tooltip="Configure Bind"]
		role_7a4b6383 -> role_3b7b20e9 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_dddfb51d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_be54b198 [label="[role] Create systemd service for podman container" color="#80c804" id=role_be54b198 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_28120af7 [label="[role] Configure Dnsmasq" color="#80c804" id=role_28120af7 tooltip="Configure Dnsmasq"]
		role_28120af7 -> role_be54b198 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_cd23fddf labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1f207a0e [label="[role] Create systemd service for podman container" color="#80c804" id=role_1f207a0e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_3fbd6b51 [label="[role] Configure HAProxy" color="#80c804" id=role_3fbd6b51 tooltip="Configure HAProxy"]
		role_3fbd6b51 -> role_1f207a0e [label="1 " color="#80c804" fontcolor="#80c804" id=edge_b1934a35 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c1f2d2e5 [label="[role] Create systemd service for podman container" color="#80c804" id=role_c1f2d2e5 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_ffecb454 [label="[role] Configure Nexus" color="#80c804" id=role_ffecb454 tooltip="Configure Nexus"]
		role_ffecb454 -> role_c1f2d2e5 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_f8defcd0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3ecb39b9 [label="[role] Create systemd service for podman container" color="#80c804" id=role_3ecb39b9 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_fceb8ce3 [label="[role] Configure Apache" color="#80c804" id=role_fceb8ce3 tooltip="Configure Apache"]
		role_fceb8ce3 -> role_3ecb39b9 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_ea889b3d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a856da34 [label="[role] Create systemd service for podman container" color="#80c804" id=role_a856da34 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_978c79ab [label="[role] Configure a local container image registry" color="#80c804" id=role_978c79ab tooltip="Configure a local container image registry"]
		role_978c79ab -> role_a856da34 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_84ac73a8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_feecc0a2 [label="[role] task-create-services" color="#80c804" id=role_feecc0a2 tooltip="task-create-services"]
		role_feecc0a2 -> role_9f43cb42 [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_3f774462 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_feecc0a2 -> role_6e1dae72 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_4ba044c6 labeltooltip="2 " tooltip="2 "]
		role_feecc0a2 -> role_7a4b6383 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#80c804" fontcolor="#80c804" id=edge_a5af46f3 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_feecc0a2 -> role_28120af7 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#80c804" fontcolor="#80c804" id=edge_e9bbaae0 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_feecc0a2 -> role_3fbd6b51 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#80c804" fontcolor="#80c804" id=edge_070af2bf labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_feecc0a2 -> role_ffecb454 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#80c804" fontcolor="#80c804" id=edge_88970e1d labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_feecc0a2 -> role_fceb8ce3 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#80c804" fontcolor="#80c804" id=edge_ff0ec6ab labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_feecc0a2 -> role_978c79ab [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#80c804" fontcolor="#80c804" id=edge_1680aa85 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b80d9847 [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_b80d9847 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_c6a00afb [label="[role] Prepare environment if needed" color="#80c804" id=role_c6a00afb tooltip="Prepare environment if needed"]
		role_c6a00afb -> role_b80d9847 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_12ad93a7 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_68a44f7b [label="[role] Gather network and host facts for guest" color="#80c804" id=role_68a44f7b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_fab75a2a [label="[role] Prepare services if needed" color="#80c804" id=role_fab75a2a tooltip="Prepare services if needed"]
		role_fab75a2a -> role_c6a00afb [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_3f6dd372 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_fab75a2a -> role_68a44f7b [label="2 " color="#80c804" fontcolor="#80c804" id=edge_f508e443 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f1c4988c [label="[role] Create systemd service for podman container" color="#80c804" id=role_f1c4988c tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_808e7c59 [label="[role] Gather network and host facts for provision service" color="#80c804" id=role_808e7c59 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_e5483fcf [label="[role] Setup the cluster provision container" color="#80c804" id=role_e5483fcf tooltip="Setup the cluster provision container"]
		role_e5483fcf -> role_f1c4988c [label="1 " color="#80c804" fontcolor="#80c804" id=edge_06e3e64c labeltooltip="1 " tooltip="1 "]
		role_e5483fcf -> role_808e7c59 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_8bab3385 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_08dd01a9 [label="[role] Delegate to the distro role to prepare the cluster" color="#80c804" id=role_08dd01a9 tooltip="Delegate to the distro role to prepare the cluster"]
		role_08dd01a9 -> role_e5483fcf [label="1 " color="#80c804" fontcolor="#80c804" id=edge_3c33004c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_86f82534 [label="[role] task-prepare-cluster" color="#80c804" id=role_86f82534 tooltip="task-prepare-cluster"]
		role_86f82534 -> role_fab75a2a [label="1 [when: not services_prepared]" color="#80c804" fontcolor="#80c804" id=edge_a3dba74b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_86f82534 -> role_08dd01a9 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_1e3cd6dc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1fb15710 [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_1fb15710 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_7e5e518c [label="[role] Prepare environment if not prepared" color="#80c804" id=role_7e5e518c tooltip="Prepare environment if not prepared"]
		role_7e5e518c -> role_1fb15710 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_64b5e8b3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_bae0604b [label="[role] task-download-images" color="#80c804" id=role_bae0604b tooltip="task-download-images"]
		role_bae0604b -> role_7e5e518c [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_1cc9ce25 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		task_d1ad77f3 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms" color="#80c804" id=task_d1ad77f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms"]
		role_bae0604b -> task_d1ad77f3 [label="2 [when: hostvars[guest_vm].target in hypervisor]" color="#80c804" fontcolor="#80c804" id=edge_b81f28bb labeltooltip="2 [when: hostvars[guest_vm].target in hypervisor]" tooltip="2 [when: hostvars[guest_vm].target in hypervisor]"]
		task_e5730aaa [label="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node" color="#80c804" id=task_e5730aaa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node"]
		role_bae0604b -> task_e5730aaa [label="3 " color="#80c804" fontcolor="#80c804" id=edge_159199e8 labeltooltip="3 " tooltip="3 "]
		task_d9307860 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images" color="#80c804" id=task_d9307860 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images"]
		role_bae0604b -> task_d9307860 [label="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" color="#80c804" fontcolor="#80c804" id=edge_9d8e2dc8 labeltooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" tooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]"]
		task_d47764be [label="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates" color="#80c804" id=task_d47764be shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates"]
		role_bae0604b -> task_d47764be [label="5 " color="#80c804" fontcolor="#80c804" id=edge_7aa47297 labeltooltip="5 " tooltip="5 "]
		task_96cfe25e [label="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images" color="#80c804" id=task_96cfe25e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images"]
		role_bae0604b -> task_96cfe25e [label="6 " color="#80c804" fontcolor="#80c804" id=edge_0d7f59cd labeltooltip="6 " tooltip="6 "]
		task_22edcda1 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images" color="#80c804" id=task_22edcda1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images"]
		role_bae0604b -> task_22edcda1 [label="7 " color="#80c804" fontcolor="#80c804" id=edge_da5e933c labeltooltip="7 " tooltip="7 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_eebd6534 [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_eebd6534 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_1c9829a6 [label="[role] Prepare environment if needed" color="#80c804" id=role_1c9829a6 tooltip="Prepare environment if needed"]
		role_1c9829a6 -> role_eebd6534 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_1cfbafa6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_42dcb694 [label="[role] Gather network and host facts for guest" color="#80c804" id=role_42dcb694 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_28c1c05c [label="[role] Prepare services if needed" color="#80c804" id=role_28c1c05c tooltip="Prepare services if needed"]
		role_28c1c05c -> role_1c9829a6 [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_ab072b3d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_28c1c05c -> role_42dcb694 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_267fea87 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_c22e9b59 [label="[role] Deploy the cluster bootstrap node" color="#80c804" id=role_c22e9b59 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_35b2b6e0 [label="[role] Deploy the cluster controller nodes" color="#80c804" id=role_35b2b6e0 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_b84418d8 [label="[role] Deploy the cluster compute nodes" color="#80c804" id=role_b84418d8 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_4f1220a5 [label="[role] Delegate to the distro role to deploy the cluster" color="#80c804" id=role_4f1220a5 tooltip="Delegate to the distro role to deploy the cluster"]
		role_4f1220a5 -> role_c22e9b59 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_80de6613 labeltooltip="1 " tooltip="1 "]
		role_4f1220a5 -> role_35b2b6e0 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_65b2ebba labeltooltip="2 " tooltip="2 "]
		role_4f1220a5 -> role_b84418d8 [label="3 " color="#80c804" fontcolor="#80c804" id=edge_82f49905 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_c5f0f61d [label="[role] task-deploy-cluster" color="#80c804" id=role_c5f0f61d tooltip="task-deploy-cluster"]
		role_c5f0f61d -> role_28c1c05c [label="1 [when: not services_prepared]" color="#80c804" fontcolor="#80c804" id=edge_544d4b25 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c5f0f61d -> role_4f1220a5 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_93a9e09a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a3e40b13 [label="[role] Read podman secrets if running from the container" color="#80c804" id=role_a3e40b13 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_0b4ed06e [label="[role] Prepare environment if needed" color="#80c804" id=role_0b4ed06e tooltip="Prepare environment if needed"]
		role_0b4ed06e -> role_a3e40b13 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#80c804" fontcolor="#80c804" id=edge_a7a359fe labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_1e40a195 [label="[role] Gather network and host facts for guest" color="#80c804" id=role_1e40a195 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_57e4d9ef [label="[role] Prepare services if needed" color="#80c804" id=role_57e4d9ef tooltip="Prepare services if needed"]
		role_57e4d9ef -> role_0b4ed06e [label="1 [when: not environment_prepared]" color="#80c804" fontcolor="#80c804" id=edge_9691930c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_57e4d9ef -> role_1e40a195 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_d1e3c9ac labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_987fdd14 [label="[role] Configure NFS" color="#80c804" id=role_987fdd14 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_a1442f41 [label="[role] Deploy the apps" color="#80c804" id=role_a1442f41 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_658982f5 [label="[role] Deploy KubeVirt" color="#80c804" id=role_658982f5 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_387e2b12 [label="[role] Deploy Submariner" color="#80c804" id=role_387e2b12 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_bad5c9e0 [label="[role] Delegate to distro role to run post-deployment tasks" color="#80c804" id=role_bad5c9e0 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_bad5c9e0 -> role_987fdd14 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#80c804" fontcolor="#80c804" id=edge_39b9a05a labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_bad5c9e0 -> role_a1442f41 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_3a2b47db labeltooltip="2 " tooltip="2 "]
		role_bad5c9e0 -> role_658982f5 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#80c804" fontcolor="#80c804" id=edge_b913738b labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_bad5c9e0 -> role_387e2b12 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#80c804" fontcolor="#80c804" id=edge_8bdb4c0f labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_fc8398e0 [label="[role] task-post-deployment" color="#80c804" id=role_fc8398e0 tooltip="task-post-deployment"]
		role_fc8398e0 -> role_57e4d9ef [label="1 [when: not services_prepared]" color="#80c804" fontcolor="#80c804" id=edge_f316adb9 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_fc8398e0 -> role_bad5c9e0 [label="2 " color="#80c804" fontcolor="#80c804" id=edge_eba60685 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_fbbd3312 -> block_af448d7f [label=1 color="#80c804" fontcolor="#80c804" id=edge_fcbaafa8 labeltooltip=1 tooltip=1]
		subgraph cluster_block_af448d7f {
			block_af448d7f [label="[block] Prepare the environment" color="#80c804" id=block_af448d7f labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_af448d7f -> role_adfe3265 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_823d3e04 labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_3111de1e [label=2 color="#80c804" fontcolor="#80c804" id=edge_f8fae975 labeltooltip=2 tooltip=2]
		subgraph cluster_block_3111de1e {
			block_3111de1e [label="[block] Cleanup hypervisors" color="#80c804" id=block_3111de1e labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_3111de1e -> role_e61b6f46 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_ea279844 labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_9e95a182 [label=3 color="#80c804" fontcolor="#80c804" id=edge_f64d8346 labeltooltip=3 tooltip=3]
		subgraph cluster_block_9e95a182 {
			block_9e95a182 [label="[block] Run validations on cluster resources" color="#80c804" id=block_9e95a182 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_9e95a182 -> role_c3b0271b [label="1 " color="#80c804" fontcolor="#80c804" id=edge_7dc8a61b labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_87e39a94 [label=4 color="#80c804" fontcolor="#80c804" id=edge_b63e8859 labeltooltip=4 tooltip=4]
		subgraph cluster_block_87e39a94 {
			block_87e39a94 [label="[block] Create the cluster network resources" color="#80c804" id=block_87e39a94 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_87e39a94 -> role_3b3dd9b2 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_7e723349 labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_f3015255 [label=5 color="#80c804" fontcolor="#80c804" id=edge_f9c01e20 labeltooltip=5 tooltip=5]
		subgraph cluster_block_f3015255 {
			block_f3015255 [label="[block] Create services the cluster will need" color="#80c804" id=block_f3015255 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_f3015255 -> role_feecc0a2 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_fd45d753 labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_cb669117 [label=6 color="#80c804" fontcolor="#80c804" id=edge_eb2dec63 labeltooltip=6 tooltip=6]
		subgraph cluster_block_cb669117 {
			block_cb669117 [label="[block] Prepare to deploy the cluster" color="#80c804" id=block_cb669117 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_cb669117 -> role_86f82534 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_457d2c34 labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_0c8f7f4e [label=7 color="#80c804" fontcolor="#80c804" id=edge_514ea664 labeltooltip=7 tooltip=7]
		subgraph cluster_block_0c8f7f4e {
			block_0c8f7f4e [label="[block] Download cloud images" color="#80c804" id=block_0c8f7f4e labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_0c8f7f4e -> role_bae0604b [label="1 " color="#80c804" fontcolor="#80c804" id=edge_92786bab labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_5097e941 [label=8 color="#80c804" fontcolor="#80c804" id=edge_ff6f3991 labeltooltip=8 tooltip=8]
		subgraph cluster_block_5097e941 {
			block_5097e941 [label="[block] Deploy the cluster" color="#80c804" id=block_5097e941 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_5097e941 -> role_c5f0f61d [label="1 " color="#80c804" fontcolor="#80c804" id=edge_f98c75bc labeltooltip="1 " tooltip="1 "]
		}
		play_fbbd3312 -> block_77264cd5 [label=9 color="#80c804" fontcolor="#80c804" id=edge_52ae3151 labeltooltip=9 tooltip=9]
		subgraph cluster_block_77264cd5 {
			block_77264cd5 [label="[block] Run any post-deployment tasks" color="#80c804" id=block_77264cd5 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_77264cd5 -> role_fc8398e0 [label="1 " color="#80c804" fontcolor="#80c804" id=edge_70e1a2ed labeltooltip="1 " tooltip="1 "]
		}
	}
}
