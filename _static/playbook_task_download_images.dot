digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_ee0c775c [label="Play: Initial setup (1)" color="#a62696" fontcolor="#ffffff" id=play_ee0c775c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_ee0c775c [label="1 " color="#a62696" fontcolor="#a62696" id=edge_b8e7b41d labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_5a1d76b5 [label="[role] Read podman secrets if running from the container" color="#a62696" id=role_5a1d76b5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_41bf1459 [label="[role] task-gather-facts" color="#a62696" id=role_41bf1459 tooltip="task-gather-facts"]
		role_41bf1459 -> role_5a1d76b5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a62696" fontcolor="#a62696" id=edge_f49d4a55 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2adeab01 [label="[role] Read podman secrets if running from the container" color="#a62696" id=role_2adeab01 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_4a07e3a4 [label="[role] task-prepare-hypervisors" color="#a62696" id=role_4a07e3a4 tooltip="task-prepare-hypervisors"]
		role_4a07e3a4 -> role_2adeab01 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a62696" fontcolor="#a62696" id=edge_635128c3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_ee0c775c -> block_5a00c8d7 [label=1 color="#a62696" fontcolor="#a62696" id=edge_d053627b labeltooltip=1 tooltip=1]
		subgraph cluster_block_5a00c8d7 {
			block_5a00c8d7 [label="[block] Gather facts about the deployment environment" color="#a62696" id=block_5a00c8d7 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_5a00c8d7 -> role_41bf1459 [label="1 " color="#a62696" fontcolor="#a62696" id=edge_3d2bbd71 labeltooltip="1 " tooltip="1 "]
		}
		play_ee0c775c -> block_42c6700b [label=2 color="#a62696" fontcolor="#a62696" id=edge_f28eb772 labeltooltip=2 tooltip=2]
		subgraph cluster_block_42c6700b {
			block_42c6700b [label="[block] Prepare the hypervisors" color="#a62696" id=block_42c6700b labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_42c6700b -> role_4a07e3a4 [label="1 " color="#a62696" fontcolor="#a62696" id=edge_38f7db4c labeltooltip="1 " tooltip="1 "]
		}
	}
	play_d213e249 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#c804c6" fontcolor="#ffffff" id=play_d213e249 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_d213e249 [label="2 " color="#c804c6" fontcolor="#c804c6" id=edge_fd15dabf labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_85825f68 [label="[role] Provision the libvirt services on the hypervisor" color="#c804c6" id=role_85825f68 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_843bfe09 [label="[role] Prepare each hypervisor in the deployment" color="#c804c6" id=role_843bfe09 tooltip="Prepare each hypervisor in the deployment"]
		role_843bfe09 -> role_85825f68 [label="1 " color="#c804c6" fontcolor="#c804c6" id=edge_7c3ba1a2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_d213e249 -> block_3ae69937 [label=1 color="#c804c6" fontcolor="#c804c6" id=edge_17202f83 labeltooltip=1 tooltip=1]
		subgraph cluster_block_3ae69937 {
			block_3ae69937 [label="[block] Prepare individual hypervisors" color="#c804c6" id=block_3ae69937 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_3ae69937 -> role_843bfe09 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#c804c6" fontcolor="#c804c6" id=edge_aa250c5e labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_8b5a50be [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#3d8f48" fontcolor="#ffffff" id=play_8b5a50be shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_8b5a50be [label="3 " color="#3d8f48" fontcolor="#3d8f48" id=edge_a5428309 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_6a3c0a41 [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_6a3c0a41 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_418b3809 [label="[role] task-prepare-environment" color="#3d8f48" id=role_418b3809 tooltip="task-prepare-environment"]
		role_418b3809 -> role_6a3c0a41 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_95e363dc labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d14c6308 [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_d14c6308 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e9d17676 [label="[role] Prepare environment if not prepared" color="#3d8f48" id=role_e9d17676 tooltip="Prepare environment if not prepared"]
		role_e9d17676 -> role_d14c6308 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_df7f99ff labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_a2174153 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#3d8f48" id=role_a2174153 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_424d18e8 [label="[role] task-cleanup-hypervisors" color="#3d8f48" id=role_424d18e8 tooltip="task-cleanup-hypervisors"]
		role_424d18e8 -> role_e9d17676 [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_93a01748 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_424d18e8 -> role_a2174153 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_8abee56c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_355e8357 [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_355e8357 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_44e4b201 [label="[role] Prepare environment if not prepared" color="#3d8f48" id=role_44e4b201 tooltip="Prepare environment if not prepared"]
		role_44e4b201 -> role_355e8357 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_e624d109 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_77ec3cd5 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#3d8f48" id=role_77ec3cd5 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_52d0ccf9 [label="[role] Cleanup hypervisors if needed" color="#3d8f48" id=role_52d0ccf9 tooltip="Cleanup hypervisors if needed"]
		role_52d0ccf9 -> role_44e4b201 [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_57ced735 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_52d0ccf9 -> role_77ec3cd5 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_8b2c9b5f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_94967821 [label="[role] task-run-validations" color="#3d8f48" id=role_94967821 tooltip="task-run-validations"]
		role_94967821 -> role_52d0ccf9 [label="1 [when: not hypervisors_cleaned]" color="#3d8f48" fontcolor="#3d8f48" id=edge_e8d5b8bc labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0e801fa9 [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_0e801fa9 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_4b433a4e [label="[role] Prepare environment if not prepared" color="#3d8f48" id=role_4b433a4e tooltip="Prepare environment if not prepared"]
		role_4b433a4e -> role_0e801fa9 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_a631f384 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_84643e37 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#3d8f48" id=role_84643e37 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_96d0097d [label="[role] Cleanup hypervisors if needed" color="#3d8f48" id=role_96d0097d tooltip="Cleanup hypervisors if needed"]
		role_96d0097d -> role_4b433a4e [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_9ecc0d7f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_96d0097d -> role_84643e37 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_83466f64 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_c7bcd9ea [label="[role] task-create-network" color="#3d8f48" id=role_c7bcd9ea tooltip="task-create-network"]
		role_c7bcd9ea -> role_96d0097d [label="1 [when: not hypervisors_cleaned]" color="#3d8f48" fontcolor="#3d8f48" id=edge_81475c1e labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_cd591b38 [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_cd591b38 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_3c7ae089 [label="[role] Prepare environment if not prepared" color="#3d8f48" id=role_3c7ae089 tooltip="Prepare environment if not prepared"]
		role_3c7ae089 -> role_cd591b38 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_cb88d4a3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_f076c6db [label="[role] Prepare podman" color="#3d8f48" id=role_f076c6db tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_54b86066 [label="[role] Create systemd service for podman container" color="#3d8f48" id=role_54b86066 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_578c7f94 [label="[role] Configure Bind" color="#3d8f48" id=role_578c7f94 tooltip="Configure Bind"]
		role_578c7f94 -> role_54b86066 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_dd78eea7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3bf6b989 [label="[role] Create systemd service for podman container" color="#3d8f48" id=role_3bf6b989 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_7ef1d2ec [label="[role] Configure Dnsmasq" color="#3d8f48" id=role_7ef1d2ec tooltip="Configure Dnsmasq"]
		role_7ef1d2ec -> role_3bf6b989 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_1f5660c5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f58926a3 [label="[role] Create systemd service for podman container" color="#3d8f48" id=role_f58926a3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_a82d57a4 [label="[role] Configure HAProxy" color="#3d8f48" id=role_a82d57a4 tooltip="Configure HAProxy"]
		role_a82d57a4 -> role_f58926a3 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_33f6c01b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_40b61532 [label="[role] Create systemd service for podman container" color="#3d8f48" id=role_40b61532 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_baf5cb20 [label="[role] Configure Nexus" color="#3d8f48" id=role_baf5cb20 tooltip="Configure Nexus"]
		role_baf5cb20 -> role_40b61532 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_9dcff747 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_17282a57 [label="[role] Create systemd service for podman container" color="#3d8f48" id=role_17282a57 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_25462d36 [label="[role] Configure Apache" color="#3d8f48" id=role_25462d36 tooltip="Configure Apache"]
		role_25462d36 -> role_17282a57 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_375db7a4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c404898f [label="[role] Create systemd service for podman container" color="#3d8f48" id=role_c404898f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_9880258e [label="[role] Configure a local container image registry" color="#3d8f48" id=role_9880258e tooltip="Configure a local container image registry"]
		role_9880258e -> role_c404898f [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_e7fccdaf labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_c3645040 [label="[role] task-create-services" color="#3d8f48" id=role_c3645040 tooltip="task-create-services"]
		role_c3645040 -> role_3c7ae089 [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_a2120064 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c3645040 -> role_f076c6db [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_bcd21552 labeltooltip="2 " tooltip="2 "]
		role_c3645040 -> role_578c7f94 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#3d8f48" fontcolor="#3d8f48" id=edge_aab51762 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c3645040 -> role_7ef1d2ec [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#3d8f48" fontcolor="#3d8f48" id=edge_64cbbdae labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c3645040 -> role_a82d57a4 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#3d8f48" fontcolor="#3d8f48" id=edge_62bc4da0 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c3645040 -> role_baf5cb20 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#3d8f48" fontcolor="#3d8f48" id=edge_70bc0c98 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c3645040 -> role_25462d36 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#3d8f48" fontcolor="#3d8f48" id=edge_b6bd5a4b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c3645040 -> role_9880258e [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#3d8f48" fontcolor="#3d8f48" id=edge_ece0d6c3 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e0e60c3e [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_e0e60c3e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_225e05b7 [label="[role] Prepare environment if needed" color="#3d8f48" id=role_225e05b7 tooltip="Prepare environment if needed"]
		role_225e05b7 -> role_e0e60c3e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_37a553e0 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_825aab72 [label="[role] Gather network and host facts for guest" color="#3d8f48" id=role_825aab72 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_424cfe83 [label="[role] Prepare services if needed" color="#3d8f48" id=role_424cfe83 tooltip="Prepare services if needed"]
		role_424cfe83 -> role_225e05b7 [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_ae9c6376 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_424cfe83 -> role_825aab72 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_350fe104 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_588e3a72 [label="[role] Create systemd service for podman container" color="#3d8f48" id=role_588e3a72 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_28dc783a [label="[role] Gather network and host facts for provision service" color="#3d8f48" id=role_28dc783a tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_93da2006 [label="[role] Setup the cluster provision container" color="#3d8f48" id=role_93da2006 tooltip="Setup the cluster provision container"]
		role_93da2006 -> role_588e3a72 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_3e270e97 labeltooltip="1 " tooltip="1 "]
		role_93da2006 -> role_28dc783a [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_e27c78b5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_7675e5ff [label="[role] Delegate to the distro role to prepare the cluster" color="#3d8f48" id=role_7675e5ff tooltip="Delegate to the distro role to prepare the cluster"]
		role_7675e5ff -> role_93da2006 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_4bb1dd03 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_36f00ef5 [label="[role] task-prepare-cluster" color="#3d8f48" id=role_36f00ef5 tooltip="task-prepare-cluster"]
		role_36f00ef5 -> role_424cfe83 [label="1 [when: not services_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_7a94bc7c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_36f00ef5 -> role_7675e5ff [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_6c3affc3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_03999829 [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_03999829 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_fb199d50 [label="[role] Prepare environment if not prepared" color="#3d8f48" id=role_fb199d50 tooltip="Prepare environment if not prepared"]
		role_fb199d50 -> role_03999829 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_29291e22 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_ed69ee6a [label="[role] task-download-images" color="#3d8f48" id=role_ed69ee6a tooltip="task-download-images"]
		role_ed69ee6a -> role_fb199d50 [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_873629e5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		task_66a0ea75 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms" color="#3d8f48" id=task_66a0ea75 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms"]
		role_ed69ee6a -> task_66a0ea75 [label="2 [when: hostvars[guest_vm].target in hypervisor]" color="#3d8f48" fontcolor="#3d8f48" id=edge_c8b5868f labeltooltip="2 [when: hostvars[guest_vm].target in hypervisor]" tooltip="2 [when: hostvars[guest_vm].target in hypervisor]"]
		task_718a9cba [label="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node" color="#3d8f48" id=task_718a9cba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node"]
		role_ed69ee6a -> task_718a9cba [label="3 " color="#3d8f48" fontcolor="#3d8f48" id=edge_6426ad4e labeltooltip="3 " tooltip="3 "]
		task_1ded408e [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images" color="#3d8f48" id=task_1ded408e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images"]
		role_ed69ee6a -> task_1ded408e [label="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" color="#3d8f48" fontcolor="#3d8f48" id=edge_cf675b18 labeltooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" tooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]"]
		task_1d641048 [label="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates" color="#3d8f48" id=task_1d641048 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates"]
		role_ed69ee6a -> task_1d641048 [label="5 " color="#3d8f48" fontcolor="#3d8f48" id=edge_3b49cebd labeltooltip="5 " tooltip="5 "]
		task_da3f600b [label="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images" color="#3d8f48" id=task_da3f600b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images"]
		role_ed69ee6a -> task_da3f600b [label="6 " color="#3d8f48" fontcolor="#3d8f48" id=edge_039548c2 labeltooltip="6 " tooltip="6 "]
		task_6ffb61e4 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images" color="#3d8f48" id=task_6ffb61e4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images"]
		role_ed69ee6a -> task_6ffb61e4 [label="7 " color="#3d8f48" fontcolor="#3d8f48" id=edge_e465596e labeltooltip="7 " tooltip="7 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6d3dcff7 [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_6d3dcff7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_4c083102 [label="[role] Prepare environment if needed" color="#3d8f48" id=role_4c083102 tooltip="Prepare environment if needed"]
		role_4c083102 -> role_6d3dcff7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_a35b1354 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_edddb1b0 [label="[role] Gather network and host facts for guest" color="#3d8f48" id=role_edddb1b0 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_205c547e [label="[role] Prepare services if needed" color="#3d8f48" id=role_205c547e tooltip="Prepare services if needed"]
		role_205c547e -> role_4c083102 [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_3e9b9952 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_205c547e -> role_edddb1b0 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_ae1ff43c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_3a37c718 [label="[role] Deploy the cluster bootstrap node" color="#3d8f48" id=role_3a37c718 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_27e73be4 [label="[role] Deploy the cluster controller nodes" color="#3d8f48" id=role_27e73be4 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_5a6286e2 [label="[role] Deploy the cluster compute nodes" color="#3d8f48" id=role_5a6286e2 tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_6882b33b [label="[role] Delegate to the distro role to deploy the cluster" color="#3d8f48" id=role_6882b33b tooltip="Delegate to the distro role to deploy the cluster"]
		role_6882b33b -> role_3a37c718 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_09e5221a labeltooltip="1 " tooltip="1 "]
		role_6882b33b -> role_27e73be4 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_0accad46 labeltooltip="2 " tooltip="2 "]
		role_6882b33b -> role_5a6286e2 [label="3 " color="#3d8f48" fontcolor="#3d8f48" id=edge_f48d19a6 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_a1b75bc4 [label="[role] task-deploy-cluster" color="#3d8f48" id=role_a1b75bc4 tooltip="task-deploy-cluster"]
		role_a1b75bc4 -> role_205c547e [label="1 [when: not services_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_5766db1a labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_a1b75bc4 -> role_6882b33b [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_c4739bb3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_bbb3e00f [label="[role] Read podman secrets if running from the container" color="#3d8f48" id=role_bbb3e00f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_e6e8be5a [label="[role] Prepare environment if needed" color="#3d8f48" id=role_e6e8be5a tooltip="Prepare environment if needed"]
		role_e6e8be5a -> role_bbb3e00f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#3d8f48" fontcolor="#3d8f48" id=edge_14078ef9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_acd0c5f0 [label="[role] Gather network and host facts for guest" color="#3d8f48" id=role_acd0c5f0 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_1ea76127 [label="[role] Prepare services if needed" color="#3d8f48" id=role_1ea76127 tooltip="Prepare services if needed"]
		role_1ea76127 -> role_e6e8be5a [label="1 [when: not environment_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_74b014b9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1ea76127 -> role_acd0c5f0 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_d2647dd6 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_47e630db [label="[role] Configure NFS" color="#3d8f48" id=role_47e630db tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_fa293097 [label="[role] Deploy the apps" color="#3d8f48" id=role_fa293097 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_4a94dfea [label="[role] Deploy KubeVirt" color="#3d8f48" id=role_4a94dfea tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_1e64efe2 [label="[role] Deploy Submariner" color="#3d8f48" id=role_1e64efe2 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_27b50c6f [label="[role] Delegate to distro role to run post-deployment tasks" color="#3d8f48" id=role_27b50c6f tooltip="Delegate to distro role to run post-deployment tasks"]
		role_27b50c6f -> role_47e630db [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#3d8f48" fontcolor="#3d8f48" id=edge_02ebeb7e labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_27b50c6f -> role_fa293097 [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_720a2c69 labeltooltip="2 " tooltip="2 "]
		role_27b50c6f -> role_4a94dfea [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#3d8f48" fontcolor="#3d8f48" id=edge_9314af1f labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_27b50c6f -> role_1e64efe2 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#3d8f48" fontcolor="#3d8f48" id=edge_5b648d56 labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_95514d2e [label="[role] task-post-deployment" color="#3d8f48" id=role_95514d2e tooltip="task-post-deployment"]
		role_95514d2e -> role_1ea76127 [label="1 [when: not services_prepared]" color="#3d8f48" fontcolor="#3d8f48" id=edge_86386b77 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_95514d2e -> role_27b50c6f [label="2 " color="#3d8f48" fontcolor="#3d8f48" id=edge_5fdded39 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_8b5a50be -> block_1b957ef6 [label=1 color="#3d8f48" fontcolor="#3d8f48" id=edge_db01d8ab labeltooltip=1 tooltip=1]
		subgraph cluster_block_1b957ef6 {
			block_1b957ef6 [label="[block] Prepare the environment" color="#3d8f48" id=block_1b957ef6 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_1b957ef6 -> role_418b3809 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_c25d7866 labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_27a59c87 [label=2 color="#3d8f48" fontcolor="#3d8f48" id=edge_72ffe563 labeltooltip=2 tooltip=2]
		subgraph cluster_block_27a59c87 {
			block_27a59c87 [label="[block] Cleanup hypervisors" color="#3d8f48" id=block_27a59c87 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_27a59c87 -> role_424d18e8 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_b28de02a labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_a7c63047 [label=3 color="#3d8f48" fontcolor="#3d8f48" id=edge_9fa971b5 labeltooltip=3 tooltip=3]
		subgraph cluster_block_a7c63047 {
			block_a7c63047 [label="[block] Run validations on cluster resources" color="#3d8f48" id=block_a7c63047 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_a7c63047 -> role_94967821 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_f8dd5571 labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_30b00c63 [label=4 color="#3d8f48" fontcolor="#3d8f48" id=edge_549b9f42 labeltooltip=4 tooltip=4]
		subgraph cluster_block_30b00c63 {
			block_30b00c63 [label="[block] Create the cluster network resources" color="#3d8f48" id=block_30b00c63 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_30b00c63 -> role_c7bcd9ea [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_d0347933 labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_b49e737d [label=5 color="#3d8f48" fontcolor="#3d8f48" id=edge_6fd66f1b labeltooltip=5 tooltip=5]
		subgraph cluster_block_b49e737d {
			block_b49e737d [label="[block] Create services the cluster will need" color="#3d8f48" id=block_b49e737d labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_b49e737d -> role_c3645040 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_eea3f7a7 labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_f7b67e64 [label=6 color="#3d8f48" fontcolor="#3d8f48" id=edge_8feec735 labeltooltip=6 tooltip=6]
		subgraph cluster_block_f7b67e64 {
			block_f7b67e64 [label="[block] Prepare to deploy the cluster" color="#3d8f48" id=block_f7b67e64 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_f7b67e64 -> role_36f00ef5 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_f8524e5f labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_9e67930f [label=7 color="#3d8f48" fontcolor="#3d8f48" id=edge_c5a01795 labeltooltip=7 tooltip=7]
		subgraph cluster_block_9e67930f {
			block_9e67930f [label="[block] Download cloud images" color="#3d8f48" id=block_9e67930f labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_9e67930f -> role_ed69ee6a [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_0c5151eb labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_01b13dd2 [label=8 color="#3d8f48" fontcolor="#3d8f48" id=edge_b8fedf71 labeltooltip=8 tooltip=8]
		subgraph cluster_block_01b13dd2 {
			block_01b13dd2 [label="[block] Deploy the cluster" color="#3d8f48" id=block_01b13dd2 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_01b13dd2 -> role_a1b75bc4 [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_bccc24b5 labeltooltip="1 " tooltip="1 "]
		}
		play_8b5a50be -> block_36944294 [label=9 color="#3d8f48" fontcolor="#3d8f48" id=edge_95796cd0 labeltooltip=9 tooltip=9]
		subgraph cluster_block_36944294 {
			block_36944294 [label="[block] Run any post-deployment tasks" color="#3d8f48" id=block_36944294 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_36944294 -> role_95514d2e [label="1 " color="#3d8f48" fontcolor="#3d8f48" id=edge_629bb107 labeltooltip="1 " tooltip="1 "]
		}
	}
}
