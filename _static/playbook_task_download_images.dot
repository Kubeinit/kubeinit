digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_e57814ec [label="Play: Initial setup (1)" color="#903c6e" fontcolor="#ffffff" id=play_e57814ec shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e57814ec [label="1 " color="#903c6e" fontcolor="#903c6e" id=edge_998d6aad labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_20146bf0 [label="[role] Read podman secrets if running from the container" color="#903c6e" id=role_20146bf0 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_528e1d6d [label="[role] task-gather-facts" color="#903c6e" id=role_528e1d6d tooltip="task-gather-facts"]
		role_528e1d6d -> role_20146bf0 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#903c6e" fontcolor="#903c6e" id=edge_d0097be8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d85e7669 [label="[role] Read podman secrets if running from the container" color="#903c6e" id=role_d85e7669 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_838e03e8 [label="[role] task-prepare-hypervisors" color="#903c6e" id=role_838e03e8 tooltip="task-prepare-hypervisors"]
		role_838e03e8 -> role_d85e7669 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#903c6e" fontcolor="#903c6e" id=edge_f745af4a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_e57814ec -> block_02d4ec2a [label=1 color="#903c6e" fontcolor="#903c6e" id=edge_e289c766 labeltooltip=1 tooltip=1]
		subgraph cluster_block_02d4ec2a {
			block_02d4ec2a [label="[block] Gather facts about the deployment environment" color="#903c6e" id=block_02d4ec2a labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_02d4ec2a -> role_528e1d6d [label="1 " color="#903c6e" fontcolor="#903c6e" id=edge_088f5617 labeltooltip="1 " tooltip="1 "]
		}
		play_e57814ec -> block_c8b845cd [label=2 color="#903c6e" fontcolor="#903c6e" id=edge_b37fdcaf labeltooltip=2 tooltip=2]
		subgraph cluster_block_c8b845cd {
			block_c8b845cd [label="[block] Prepare the hypervisors" color="#903c6e" id=block_c8b845cd labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_c8b845cd -> role_838e03e8 [label="1 " color="#903c6e" fontcolor="#903c6e" id=edge_15ffd4a2 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_b6f82096 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#08c417" fontcolor="#ffffff" id=play_b6f82096 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_b6f82096 [label="2 " color="#08c417" fontcolor="#08c417" id=edge_c9e2d26b labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_db846bba [label="[role] Provision the libvirt services on the hypervisor" color="#08c417" id=role_db846bba tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_11a59869 [label="[role] Prepare each hypervisor in the deployment" color="#08c417" id=role_11a59869 tooltip="Prepare each hypervisor in the deployment"]
		role_11a59869 -> role_db846bba [label="1 " color="#08c417" fontcolor="#08c417" id=edge_5198bde3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_b6f82096 -> block_b6aeeaad [label=1 color="#08c417" fontcolor="#08c417" id=edge_bf269381 labeltooltip=1 tooltip=1]
		subgraph cluster_block_b6aeeaad {
			block_b6aeeaad [label="[block] Prepare individual hypervisors" color="#08c417" id=block_b6aeeaad labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_b6aeeaad -> role_11a59869 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#08c417" fontcolor="#08c417" id=edge_a17669b5 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_67b4e83b [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#c70547" fontcolor="#ffffff" id=play_67b4e83b shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_67b4e83b [label="3 " color="#c70547" fontcolor="#c70547" id=edge_0b00e5ec labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_1b2f8ad4 [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_1b2f8ad4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_fc63b0c1 [label="[role] task-prepare-environment" color="#c70547" id=role_fc63b0c1 tooltip="task-prepare-environment"]
		role_fc63b0c1 -> role_1b2f8ad4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_f58f5385 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_85a5f7a7 [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_85a5f7a7 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_314b15ed [label="[role] Prepare environment if not prepared" color="#c70547" id=role_314b15ed tooltip="Prepare environment if not prepared"]
		role_314b15ed -> role_85a5f7a7 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_4b44d23c labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_434c3f2a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c70547" id=role_434c3f2a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_67510c01 [label="[role] task-cleanup-hypervisors" color="#c70547" id=role_67510c01 tooltip="task-cleanup-hypervisors"]
		role_67510c01 -> role_314b15ed [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_8f88aaa0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_67510c01 -> role_434c3f2a [label="2 " color="#c70547" fontcolor="#c70547" id=edge_c3da2a74 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5b3a8b8e [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_5b3a8b8e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_06af98ee [label="[role] Prepare environment if not prepared" color="#c70547" id=role_06af98ee tooltip="Prepare environment if not prepared"]
		role_06af98ee -> role_5b3a8b8e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_efa00b2d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_df88baa7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c70547" id=role_df88baa7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_3ab0bb7d [label="[role] Cleanup hypervisors if needed" color="#c70547" id=role_3ab0bb7d tooltip="Cleanup hypervisors if needed"]
		role_3ab0bb7d -> role_06af98ee [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_c79b1910 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3ab0bb7d -> role_df88baa7 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_a85e5fe9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_18d2a5ad [label="[role] task-run-validations" color="#c70547" id=role_18d2a5ad tooltip="task-run-validations"]
		role_18d2a5ad -> role_3ab0bb7d [label="1 [when: not hypervisors_cleaned]" color="#c70547" fontcolor="#c70547" id=edge_9f1369da labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9ee2f561 [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_9ee2f561 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_53e55b49 [label="[role] Prepare environment if not prepared" color="#c70547" id=role_53e55b49 tooltip="Prepare environment if not prepared"]
		role_53e55b49 -> role_9ee2f561 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_9c3cd975 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_95328ca1 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c70547" id=role_95328ca1 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_371a0775 [label="[role] Cleanup hypervisors if needed" color="#c70547" id=role_371a0775 tooltip="Cleanup hypervisors if needed"]
		role_371a0775 -> role_53e55b49 [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_9368deab labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_371a0775 -> role_95328ca1 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_50e19573 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_330e4c9d [label="[role] task-create-network" color="#c70547" id=role_330e4c9d tooltip="task-create-network"]
		role_330e4c9d -> role_371a0775 [label="1 [when: not hypervisors_cleaned]" color="#c70547" fontcolor="#c70547" id=edge_81a84d38 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_40a26003 [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_40a26003 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_67818e24 [label="[role] Prepare environment if not prepared" color="#c70547" id=role_67818e24 tooltip="Prepare environment if not prepared"]
		role_67818e24 -> role_40a26003 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_30d7cadb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_bd1632a7 [label="[role] Prepare podman" color="#c70547" id=role_bd1632a7 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_ec5bc80c [label="[role] Create systemd service for podman container" color="#c70547" id=role_ec5bc80c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_2674c3dc [label="[role] Configure Bind" color="#c70547" id=role_2674c3dc tooltip="Configure Bind"]
		role_2674c3dc -> role_ec5bc80c [label="1 " color="#c70547" fontcolor="#c70547" id=edge_1c114946 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_092ce937 [label="[role] Create systemd service for podman container" color="#c70547" id=role_092ce937 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_9535d8d1 [label="[role] Configure Dnsmasq" color="#c70547" id=role_9535d8d1 tooltip="Configure Dnsmasq"]
		role_9535d8d1 -> role_092ce937 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_a54917b3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f1cfc39b [label="[role] Create systemd service for podman container" color="#c70547" id=role_f1cfc39b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_df747349 [label="[role] Configure HAProxy" color="#c70547" id=role_df747349 tooltip="Configure HAProxy"]
		role_df747349 -> role_f1cfc39b [label="1 " color="#c70547" fontcolor="#c70547" id=edge_c981d760 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_611a55fc [label="[role] Create systemd service for podman container" color="#c70547" id=role_611a55fc tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_d2d75d9b [label="[role] Configure Nexus" color="#c70547" id=role_d2d75d9b tooltip="Configure Nexus"]
		role_d2d75d9b -> role_611a55fc [label="1 " color="#c70547" fontcolor="#c70547" id=edge_521e70ad labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_bc6b40cf [label="[role] Create systemd service for podman container" color="#c70547" id=role_bc6b40cf tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_92b27e3d [label="[role] Configure Apache" color="#c70547" id=role_92b27e3d tooltip="Configure Apache"]
		role_92b27e3d -> role_bc6b40cf [label="1 " color="#c70547" fontcolor="#c70547" id=edge_1fdb5cfb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_32981672 [label="[role] Create systemd service for podman container" color="#c70547" id=role_32981672 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_b5b1e7c0 [label="[role] Configure a local container image registry" color="#c70547" id=role_b5b1e7c0 tooltip="Configure a local container image registry"]
		role_b5b1e7c0 -> role_32981672 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_a6b2f514 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_2de9eefa [label="[role] task-create-services" color="#c70547" id=role_2de9eefa tooltip="task-create-services"]
		role_2de9eefa -> role_67818e24 [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_21c5cfae labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2de9eefa -> role_bd1632a7 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_f4d16522 labeltooltip="2 " tooltip="2 "]
		role_2de9eefa -> role_2674c3dc [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c70547" fontcolor="#c70547" id=edge_e6b9b224 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2de9eefa -> role_9535d8d1 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c70547" fontcolor="#c70547" id=edge_6b3914c4 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2de9eefa -> role_df747349 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c70547" fontcolor="#c70547" id=edge_59e1964e labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2de9eefa -> role_d2d75d9b [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c70547" fontcolor="#c70547" id=edge_e96bb1b6 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2de9eefa -> role_92b27e3d [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c70547" fontcolor="#c70547" id=edge_45c08d07 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2de9eefa -> role_b5b1e7c0 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c70547" fontcolor="#c70547" id=edge_15a5c82e labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c1750182 [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_c1750182 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d8a0e016 [label="[role] Prepare environment if needed" color="#c70547" id=role_d8a0e016 tooltip="Prepare environment if needed"]
		role_d8a0e016 -> role_c1750182 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_7e213737 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_1ce1ba4d [label="[role] Gather network and host facts for guest" color="#c70547" id=role_1ce1ba4d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_bd348396 [label="[role] Prepare services if needed" color="#c70547" id=role_bd348396 tooltip="Prepare services if needed"]
		role_bd348396 -> role_d8a0e016 [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_ff0b3510 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bd348396 -> role_1ce1ba4d [label="2 " color="#c70547" fontcolor="#c70547" id=edge_3c1ca3d6 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d2569b61 [label="[role] Create systemd service for podman container" color="#c70547" id=role_d2569b61 tooltip="Create systemd service for podman container"]
	}
	subgraph "Gather network and host facts for provision service" {
		role_e5988528 [label="[role] Gather network and host facts for provision service" color="#c70547" id=role_e5988528 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_981da1f9 [label="[role] Setup the cluster provision container" color="#c70547" id=role_981da1f9 tooltip="Setup the cluster provision container"]
		role_981da1f9 -> role_d2569b61 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_e08c0766 labeltooltip="1 " tooltip="1 "]
		role_981da1f9 -> role_e5988528 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_27861860 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_431ba43c [label="[role] Delegate to the distro role to prepare the cluster" color="#c70547" id=role_431ba43c tooltip="Delegate to the distro role to prepare the cluster"]
		role_431ba43c -> role_981da1f9 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_ae09eb26 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_0db71ec4 [label="[role] task-prepare-cluster" color="#c70547" id=role_0db71ec4 tooltip="task-prepare-cluster"]
		role_0db71ec4 -> role_bd348396 [label="1 [when: not services_prepared]" color="#c70547" fontcolor="#c70547" id=edge_e9e4e745 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0db71ec4 -> role_431ba43c [label="2 " color="#c70547" fontcolor="#c70547" id=edge_8b52a946 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_16dd720e [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_16dd720e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_97a4a67f [label="[role] Prepare environment if not prepared" color="#c70547" id=role_97a4a67f tooltip="Prepare environment if not prepared"]
		role_97a4a67f -> role_16dd720e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_d06ebdf8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_67464e29 [label="[role] task-download-images" color="#c70547" id=role_67464e29 tooltip="task-download-images"]
		role_67464e29 -> role_97a4a67f [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_dc2a25ee labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		task_23b210db [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms" color="#c70547" id=task_23b210db shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and guest vms"]
		role_67464e29 -> task_23b210db [label="2 [when: hostvars[guest_vm].target in hypervisor]" color="#c70547" fontcolor="#c70547" id=edge_fd60e6f1 labeltooltip="2 [when: hostvars[guest_vm].target in hypervisor]" tooltip="2 [when: hostvars[guest_vm].target in hypervisor]"]
		task_d3bc042f [label="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node" color="#c70547" id=task_d3bc042f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create new directories for config files per node"]
		role_67464e29 -> task_d3bc042f [label="3 " color="#c70547" fontcolor="#c70547" id=edge_a7f1f2de labeltooltip="3 " tooltip="3 "]
		task_61aecc24 [label="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images" color="#c70547" id=task_61aecc24 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Create tuples for hosts and cloud images"]
		role_67464e29 -> task_61aecc24 [label="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" color="#c70547" fontcolor="#c70547" id=edge_853caf06 labeltooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]" tooltip="4 [when: kubeinit_libvirt_cloud_images[kubeinit_cluster_distro] is defined]"]
		task_b4771bfe [label="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates" color="#c70547" id=task_b4771bfe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Remove duplicates"]
		role_67464e29 -> task_b4771bfe [label="5 " color="#c70547" fontcolor="#c70547" id=edge_3116607f labeltooltip="5 " tooltip="5 "]
		task_d309241c [label="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images" color="#c70547" id=task_d309241c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Download cloud images"]
		role_67464e29 -> task_d309241c [label="6 " color="#c70547" fontcolor="#c70547" id=edge_7619eff3 labeltooltip="6 " tooltip="6 "]
		task_8434c881 [label="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images" color="#c70547" id=task_8434c881 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_libvirt : Update packages in cloud images"]
		role_67464e29 -> task_8434c881 [label="7 " color="#c70547" fontcolor="#c70547" id=edge_63f2321b labeltooltip="7 " tooltip="7 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_61a388dd [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_61a388dd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_cf577553 [label="[role] Prepare environment if needed" color="#c70547" id=role_cf577553 tooltip="Prepare environment if needed"]
		role_cf577553 -> role_61a388dd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_def336a5 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_87aa9d08 [label="[role] Gather network and host facts for guest" color="#c70547" id=role_87aa9d08 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_465d4f95 [label="[role] Prepare services if needed" color="#c70547" id=role_465d4f95 tooltip="Prepare services if needed"]
		role_465d4f95 -> role_cf577553 [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_7af8c2e5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_465d4f95 -> role_87aa9d08 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_03cceaa3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster bootstrap node" {
		role_56633fb7 [label="[role] Deploy the cluster bootstrap node" color="#c70547" id=role_56633fb7 tooltip="Deploy the cluster bootstrap node"]
	}
	subgraph "Deploy the cluster controller nodes" {
		role_5f2c2c79 [label="[role] Deploy the cluster controller nodes" color="#c70547" id=role_5f2c2c79 tooltip="Deploy the cluster controller nodes"]
	}
	subgraph "Deploy the cluster compute nodes" {
		role_b3dbe7aa [label="[role] Deploy the cluster compute nodes" color="#c70547" id=role_b3dbe7aa tooltip="Deploy the cluster compute nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_5ca4018c [label="[role] Delegate to the distro role to deploy the cluster" color="#c70547" id=role_5ca4018c tooltip="Delegate to the distro role to deploy the cluster"]
		role_5ca4018c -> role_56633fb7 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_3578d037 labeltooltip="1 " tooltip="1 "]
		role_5ca4018c -> role_5f2c2c79 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_0df79df3 labeltooltip="2 " tooltip="2 "]
		role_5ca4018c -> role_b3dbe7aa [label="3 " color="#c70547" fontcolor="#c70547" id=edge_6ade649c labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-deploy-cluster" {
		role_0b2d4777 [label="[role] task-deploy-cluster" color="#c70547" id=role_0b2d4777 tooltip="task-deploy-cluster"]
		role_0b2d4777 -> role_465d4f95 [label="1 [when: not services_prepared]" color="#c70547" fontcolor="#c70547" id=edge_409065d1 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_0b2d4777 -> role_5ca4018c [label="2 " color="#c70547" fontcolor="#c70547" id=edge_5a3acec8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0954d8a9 [label="[role] Read podman secrets if running from the container" color="#c70547" id=role_0954d8a9 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_cee5e0f6 [label="[role] Prepare environment if needed" color="#c70547" id=role_cee5e0f6 tooltip="Prepare environment if needed"]
		role_cee5e0f6 -> role_0954d8a9 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c70547" fontcolor="#c70547" id=edge_fa82c955 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_bf7f1272 [label="[role] Gather network and host facts for guest" color="#c70547" id=role_bf7f1272 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_324922bb [label="[role] Prepare services if needed" color="#c70547" id=role_324922bb tooltip="Prepare services if needed"]
		role_324922bb -> role_cee5e0f6 [label="1 [when: not environment_prepared]" color="#c70547" fontcolor="#c70547" id=edge_6dea2442 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_324922bb -> role_bf7f1272 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_edcdd610 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_3ae77db6 [label="[role] Configure NFS" color="#c70547" id=role_3ae77db6 tooltip="Configure NFS"]
	}
	subgraph "Deploy the apps" {
		role_a4157696 [label="[role] Deploy the apps" color="#c70547" id=role_a4157696 tooltip="Deploy the apps"]
	}
	subgraph "Deploy KubeVirt" {
		role_fd980258 [label="[role] Deploy KubeVirt" color="#c70547" id=role_fd980258 tooltip="Deploy KubeVirt"]
	}
	subgraph "Deploy Submariner" {
		role_31efb423 [label="[role] Deploy Submariner" color="#c70547" id=role_31efb423 tooltip="Deploy Submariner"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_54937142 [label="[role] Delegate to distro role to run post-deployment tasks" color="#c70547" id=role_54937142 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_54937142 -> role_3ae77db6 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c70547" fontcolor="#c70547" id=edge_d2ddb06e labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
		role_54937142 -> role_a4157696 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_be8783fa labeltooltip="2 " tooltip="2 "]
		role_54937142 -> role_fd980258 [label="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" color="#c70547" fontcolor="#c70547" id=edge_9d6da414 labeltooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]" tooltip="3 [when: not kubeinit_okd_openshift_deploy | default(False)]"]
		role_54937142 -> role_31efb423 [label="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" color="#c70547" fontcolor="#c70547" id=edge_eaf98b3a labeltooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]" tooltip="4 [when: 'submariner' in kubeinit_fact_post_deployment_services | default(False)]"]
	}
	subgraph "task-post-deployment" {
		role_4e152bc0 [label="[role] task-post-deployment" color="#c70547" id=role_4e152bc0 tooltip="task-post-deployment"]
		role_4e152bc0 -> role_324922bb [label="1 [when: not services_prepared]" color="#c70547" fontcolor="#c70547" id=edge_e6efa190 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_4e152bc0 -> role_54937142 [label="2 " color="#c70547" fontcolor="#c70547" id=edge_d44fed13 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_67b4e83b -> block_93662ddf [label=1 color="#c70547" fontcolor="#c70547" id=edge_4b1e6d72 labeltooltip=1 tooltip=1]
		subgraph cluster_block_93662ddf {
			block_93662ddf [label="[block] Prepare the environment" color="#c70547" id=block_93662ddf labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_93662ddf -> role_fc63b0c1 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_9d8c74cc labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_e387142f [label=2 color="#c70547" fontcolor="#c70547" id=edge_6f41dde2 labeltooltip=2 tooltip=2]
		subgraph cluster_block_e387142f {
			block_e387142f [label="[block] Cleanup hypervisors" color="#c70547" id=block_e387142f labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_e387142f -> role_67510c01 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_a11dc3d7 labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_de01de84 [label=3 color="#c70547" fontcolor="#c70547" id=edge_cd86c985 labeltooltip=3 tooltip=3]
		subgraph cluster_block_de01de84 {
			block_de01de84 [label="[block] Run validations on cluster resources" color="#c70547" id=block_de01de84 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_de01de84 -> role_18d2a5ad [label="1 " color="#c70547" fontcolor="#c70547" id=edge_3260320e labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_30a33342 [label=4 color="#c70547" fontcolor="#c70547" id=edge_1d724ebb labeltooltip=4 tooltip=4]
		subgraph cluster_block_30a33342 {
			block_30a33342 [label="[block] Create the cluster network resources" color="#c70547" id=block_30a33342 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_30a33342 -> role_330e4c9d [label="1 " color="#c70547" fontcolor="#c70547" id=edge_802c4e03 labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_105ee92d [label=5 color="#c70547" fontcolor="#c70547" id=edge_82401e50 labeltooltip=5 tooltip=5]
		subgraph cluster_block_105ee92d {
			block_105ee92d [label="[block] Create services the cluster will need" color="#c70547" id=block_105ee92d labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_105ee92d -> role_2de9eefa [label="1 " color="#c70547" fontcolor="#c70547" id=edge_2d506f81 labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_330afba5 [label=6 color="#c70547" fontcolor="#c70547" id=edge_fe6c64f8 labeltooltip=6 tooltip=6]
		subgraph cluster_block_330afba5 {
			block_330afba5 [label="[block] Prepare to deploy the cluster" color="#c70547" id=block_330afba5 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_330afba5 -> role_0db71ec4 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_3853e77e labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_397bb4ad [label=7 color="#c70547" fontcolor="#c70547" id=edge_39ddd9af labeltooltip=7 tooltip=7]
		subgraph cluster_block_397bb4ad {
			block_397bb4ad [label="[block] Download cloud images" color="#c70547" id=block_397bb4ad labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_397bb4ad -> role_67464e29 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_f048b7d3 labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_e83bd472 [label=8 color="#c70547" fontcolor="#c70547" id=edge_7b2308b3 labeltooltip=8 tooltip=8]
		subgraph cluster_block_e83bd472 {
			block_e83bd472 [label="[block] Deploy the cluster" color="#c70547" id=block_e83bd472 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_e83bd472 -> role_0b2d4777 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_2541765c labeltooltip="1 " tooltip="1 "]
		}
		play_67b4e83b -> block_ee7ddb43 [label=9 color="#c70547" fontcolor="#c70547" id=edge_5758f0e0 labeltooltip=9 tooltip=9]
		subgraph cluster_block_ee7ddb43 {
			block_ee7ddb43 [label="[block] Run any post-deployment tasks" color="#c70547" id=block_ee7ddb43 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_ee7ddb43 -> role_4e152bc0 [label="1 " color="#c70547" fontcolor="#c70547" id=edge_15782ac6 labeltooltip="1 " tooltip="1 "]
		}
	}
}
