digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_213b3e95 [label="Play: Initial setup (1)" color="#745958" fontcolor="#ffffff" id=play_213b3e95 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_213b3e95 [label="1 " color="#745958" fontcolor="#745958" id=edge_70953720 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_0571a90b [label="[role] Read podman secrets if running from the container" color="#745958" id=role_0571a90b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_336bdfff [label="[role] task-gather-facts" color="#745958" id=role_336bdfff tooltip="task-gather-facts"]
		role_336bdfff -> role_0571a90b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#745958" fontcolor="#745958" id=edge_9eae0fbd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6de8636f [label="[role] Read podman secrets if running from the container" color="#745958" id=role_6de8636f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_337d1652 [label="[role] task-prepare-hypervisors" color="#745958" id=role_337d1652 tooltip="task-prepare-hypervisors"]
		role_337d1652 -> role_6de8636f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#745958" fontcolor="#745958" id=edge_7b6210ba labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_213b3e95 -> block_5a1d019f [label=1 color="#745958" fontcolor="#745958" id=edge_2fb6f7b9 labeltooltip=1 tooltip=1]
		subgraph cluster_block_5a1d019f {
			block_5a1d019f [label="[block] Gather facts about the deployment environment" color="#745958" id=block_5a1d019f labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_5a1d019f -> role_336bdfff [label="1 " color="#745958" fontcolor="#745958" id=edge_f0b8431f labeltooltip="1 " tooltip="1 "]
		}
		play_213b3e95 -> block_7ef60024 [label=2 color="#745958" fontcolor="#745958" id=edge_dfc738dd labeltooltip=2 tooltip=2]
		subgraph cluster_block_7ef60024 {
			block_7ef60024 [label="[block] Prepare the hypervisors" color="#745958" id=block_7ef60024 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_7ef60024 -> role_337d1652 [label="1 " color="#745958" fontcolor="#745958" id=edge_83c77c8a labeltooltip="1 " tooltip="1 "]
		}
	}
	play_85adbab6 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#349864" fontcolor="#ffffff" id=play_85adbab6 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_85adbab6 [label="2 " color="#349864" fontcolor="#349864" id=edge_5e1372fd labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_7f57859b [label="[role] Provision the libvirt services on the hypervisor" color="#349864" id=role_7f57859b tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_b3d3b928 [label="[role] Prepare each hypervisor in the deployment" color="#349864" id=role_b3d3b928 tooltip="Prepare each hypervisor in the deployment"]
		role_b3d3b928 -> role_7f57859b [label="1 " color="#349864" fontcolor="#349864" id=edge_bda56b31 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_85adbab6 -> block_0de16207 [label=1 color="#349864" fontcolor="#349864" id=edge_dc8e4e9c labeltooltip=1 tooltip=1]
		subgraph cluster_block_0de16207 {
			block_0de16207 [label="[block] Prepare individual hypervisors" color="#349864" id=block_0de16207 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_0de16207 -> role_b3d3b928 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#349864" fontcolor="#349864" id=edge_17a83e28 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_27ce7e56 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#6b4686" fontcolor="#ffffff" id=play_27ce7e56 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_27ce7e56 [label="3 " color="#6b4686" fontcolor="#6b4686" id=edge_215e6259 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_5748c7a3 [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_5748c7a3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_030085ae [label="[role] task-prepare-environment" color="#6b4686" id=role_030085ae tooltip="task-prepare-environment"]
		role_030085ae -> role_5748c7a3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_ab32fd6a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c6ee4a0d [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_c6ee4a0d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_57413b40 [label="[role] Prepare environment if not prepared" color="#6b4686" id=role_57413b40 tooltip="Prepare environment if not prepared"]
		role_57413b40 -> role_c6ee4a0d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_ce831b1d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_589482fd [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#6b4686" id=role_589482fd tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_0e1c3f96 [label="[role] task-cleanup-hypervisors" color="#6b4686" id=role_0e1c3f96 tooltip="task-cleanup-hypervisors"]
		role_0e1c3f96 -> role_57413b40 [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_c2fe4d79 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0e1c3f96 -> role_589482fd [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_58d4d365 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_58103ccd [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_58103ccd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1dc7d3a9 [label="[role] Prepare environment if not prepared" color="#6b4686" id=role_1dc7d3a9 tooltip="Prepare environment if not prepared"]
		role_1dc7d3a9 -> role_58103ccd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_afcfe7ef labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7288402c [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#6b4686" id=role_7288402c tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_8bc33fe1 [label="[role] Cleanup hypervisors if needed" color="#6b4686" id=role_8bc33fe1 tooltip="Cleanup hypervisors if needed"]
		role_8bc33fe1 -> role_1dc7d3a9 [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_fa80580d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8bc33fe1 -> role_7288402c [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_2a1b0f2f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_372cfb6b [label="[role] task-run-validations" color="#6b4686" id=role_372cfb6b tooltip="task-run-validations"]
		role_372cfb6b -> role_8bc33fe1 [label="1 [when: not hypervisors_cleaned]" color="#6b4686" fontcolor="#6b4686" id=edge_9023bd9c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_376acf19 [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_376acf19 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_e7fe9536 [label="[role] Prepare environment if not prepared" color="#6b4686" id=role_e7fe9536 tooltip="Prepare environment if not prepared"]
		role_e7fe9536 -> role_376acf19 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_25d39abb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_90c26e3b [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#6b4686" id=role_90c26e3b tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_f965d1be [label="[role] Cleanup hypervisors if needed" color="#6b4686" id=role_f965d1be tooltip="Cleanup hypervisors if needed"]
		role_f965d1be -> role_e7fe9536 [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_ec4dc220 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f965d1be -> role_90c26e3b [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_d93165de labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_72579089 [label="[role] task-create-network" color="#6b4686" id=role_72579089 tooltip="task-create-network"]
		role_72579089 -> role_f965d1be [label="1 [when: not hypervisors_cleaned]" color="#6b4686" fontcolor="#6b4686" id=edge_9e3a38cb labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e9351755 [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_e9351755 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_02b3bb18 [label="[role] Prepare environment if not prepared" color="#6b4686" id=role_02b3bb18 tooltip="Prepare environment if not prepared"]
		role_02b3bb18 -> role_e9351755 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_edd0be13 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_8493765e [label="[role] Prepare podman" color="#6b4686" id=role_8493765e tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_3b3e1473 [label="[role] Create systemd service for podman container" color="#6b4686" id=role_3b3e1473 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_eb6b8cea [label="[role] Configure Bind" color="#6b4686" id=role_eb6b8cea tooltip="Configure Bind"]
		role_eb6b8cea -> role_3b3e1473 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_e5abab0f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1051b593 [label="[role] Create systemd service for podman container" color="#6b4686" id=role_1051b593 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_a328a4ec [label="[role] Configure Dnsmasq" color="#6b4686" id=role_a328a4ec tooltip="Configure Dnsmasq"]
		role_a328a4ec -> role_1051b593 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_0708f607 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e660df6b [label="[role] Create systemd service for podman container" color="#6b4686" id=role_e660df6b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_e4300067 [label="[role] Configure HAProxy" color="#6b4686" id=role_e4300067 tooltip="Configure HAProxy"]
		role_e4300067 -> role_e660df6b [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_3fcec03e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_599a3098 [label="[role] Create systemd service for podman container" color="#6b4686" id=role_599a3098 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_f6d34b06 [label="[role] Configure Nexus" color="#6b4686" id=role_f6d34b06 tooltip="Configure Nexus"]
		role_f6d34b06 -> role_599a3098 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_64791f80 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3820d2d5 [label="[role] Create systemd service for podman container" color="#6b4686" id=role_3820d2d5 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_f5863e07 [label="[role] Configure Apache" color="#6b4686" id=role_f5863e07 tooltip="Configure Apache"]
		role_f5863e07 -> role_3820d2d5 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_87282b2f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_88eaa859 [label="[role] Create systemd service for podman container" color="#6b4686" id=role_88eaa859 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_c725498c [label="[role] Configure a local container image registry" color="#6b4686" id=role_c725498c tooltip="Configure a local container image registry"]
		role_c725498c -> role_88eaa859 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_6c135c5a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_24ba090b [label="[role] task-create-services" color="#6b4686" id=role_24ba090b tooltip="task-create-services"]
		role_24ba090b -> role_02b3bb18 [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_4ed9e3ef labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_24ba090b -> role_8493765e [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_933ab704 labeltooltip="2 " tooltip="2 "]
		role_24ba090b -> role_eb6b8cea [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#6b4686" fontcolor="#6b4686" id=edge_edfc706a labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24ba090b -> role_a328a4ec [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#6b4686" fontcolor="#6b4686" id=edge_bb979c92 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24ba090b -> role_e4300067 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#6b4686" fontcolor="#6b4686" id=edge_cde7f107 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24ba090b -> role_f6d34b06 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#6b4686" fontcolor="#6b4686" id=edge_1de8f1f9 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24ba090b -> role_f5863e07 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#6b4686" fontcolor="#6b4686" id=edge_8535d566 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_24ba090b -> role_c725498c [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#6b4686" fontcolor="#6b4686" id=edge_aa4e6e56 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_293ad50f [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_293ad50f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_76639435 [label="[role] Prepare environment if needed" color="#6b4686" id=role_76639435 tooltip="Prepare environment if needed"]
		role_76639435 -> role_293ad50f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_88d91435 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_9a307408 [label="[role] Gather network and host facts for guest" color="#6b4686" id=role_9a307408 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f654cce1 [label="[role] Prepare services if needed" color="#6b4686" id=role_f654cce1 tooltip="Prepare services if needed"]
		role_f654cce1 -> role_76639435 [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_1b63555d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f654cce1 -> role_9a307408 [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_b37c3c7b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0a799867 [label="[role] Create systemd service for podman container" color="#6b4686" id=role_0a799867 tooltip="Create systemd service for podman container"]
		task_d7536331 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#6b4686" id=task_d7536331 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_0a799867 -> task_d7536331 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_9fbf2239 labeltooltip="1 " tooltip="1 "]
		task_c503b720 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#6b4686" id=task_c503b720 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_0a799867 -> task_c503b720 [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_58691ffd labeltooltip="2 " tooltip="2 "]
		task_1fc93eab [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#6b4686" id=task_1fc93eab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_0a799867 -> task_1fc93eab [label="3 " color="#6b4686" fontcolor="#6b4686" id=edge_9bcc6a17 labeltooltip="3 " tooltip="3 "]
		task_9dae9ab6 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#6b4686" id=task_9dae9ab6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_0a799867 -> task_9dae9ab6 [label="4 " color="#6b4686" fontcolor="#6b4686" id=edge_9f46aeed labeltooltip="4 " tooltip="4 "]
		task_cfb78546 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#6b4686" id=task_cfb78546 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_0a799867 -> task_cfb78546 [label="5 " color="#6b4686" fontcolor="#6b4686" id=edge_49efc392 labeltooltip="5 " tooltip="5 "]
		task_88539c5a [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#6b4686" id=task_88539c5a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_0a799867 -> task_88539c5a [label="6 " color="#6b4686" fontcolor="#6b4686" id=edge_097cdae9 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_3549b57e [label="[role] Gather network and host facts for provision service" color="#6b4686" id=role_3549b57e tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_99a6cce0 [label="[role] Setup the cluster provision container" color="#6b4686" id=role_99a6cce0 tooltip="Setup the cluster provision container"]
		task_0840c8ec [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#6b4686" id=task_0840c8ec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_99a6cce0 -> task_0840c8ec [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_06a06182 labeltooltip="1 " tooltip="1 "]
		task_ab6d62fb [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#6b4686" id=task_ab6d62fb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_99a6cce0 -> task_ab6d62fb [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_a605e873 labeltooltip="2 " tooltip="2 "]
		task_f851a466 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#6b4686" id=task_f851a466 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_99a6cce0 -> task_f851a466 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#6b4686" fontcolor="#6b4686" id=edge_74931aba labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_1cec0cb9 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#6b4686" id=task_1cec0cb9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_99a6cce0 -> task_1cec0cb9 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#6b4686" fontcolor="#6b4686" id=edge_49cbfd0a labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_f38f6084 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#6b4686" id=task_f38f6084 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_99a6cce0 -> task_f38f6084 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#6b4686" fontcolor="#6b4686" id=edge_05dd4e48 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_b0bbcddd [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#6b4686" id=task_b0bbcddd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_99a6cce0 -> task_b0bbcddd [label="6 [when: kubeinit_deployment_os == 'debian']" color="#6b4686" fontcolor="#6b4686" id=edge_1c0be605 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_cae8dd19 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#6b4686" id=task_cae8dd19 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_99a6cce0 -> task_cae8dd19 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#6b4686" fontcolor="#6b4686" id=edge_00cd4cb8 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_5f2d85ea [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#6b4686" id=task_5f2d85ea shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_99a6cce0 -> task_5f2d85ea [label="8 [when: kubeinit_deployment_os == 'debian']" color="#6b4686" fontcolor="#6b4686" id=edge_f6d907fd labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_7be5e5da [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#6b4686" id=task_7be5e5da shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_99a6cce0 -> task_7be5e5da [label="9 [when: kubeinit_deployment_os == 'debian']" color="#6b4686" fontcolor="#6b4686" id=edge_caf6afc1 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_e78a510d [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#6b4686" id=task_e78a510d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_99a6cce0 -> task_e78a510d [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#6b4686" fontcolor="#6b4686" id=edge_249538c1 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_54f2b19b [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#6b4686" id=task_54f2b19b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_99a6cce0 -> task_54f2b19b [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#6b4686" fontcolor="#6b4686" id=edge_bb67524b labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_ab9fd1fa [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#6b4686" id=task_ab9fd1fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_99a6cce0 -> task_ab9fd1fa [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#6b4686" fontcolor="#6b4686" id=edge_0468df27 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_24719da0 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#6b4686" id=task_24719da0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_99a6cce0 -> task_24719da0 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#6b4686" fontcolor="#6b4686" id=edge_815b6f59 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_0f4ee209 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#6b4686" id=task_0f4ee209 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_99a6cce0 -> task_0f4ee209 [label="14 " color="#6b4686" fontcolor="#6b4686" id=edge_55ab9429 labeltooltip="14 " tooltip="14 "]
		task_41967153 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#6b4686" id=task_41967153 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_99a6cce0 -> task_41967153 [label="15 " color="#6b4686" fontcolor="#6b4686" id=edge_bac3a569 labeltooltip="15 " tooltip="15 "]
		task_c7149574 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#6b4686" id=task_c7149574 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_99a6cce0 -> task_c7149574 [label="16 " color="#6b4686" fontcolor="#6b4686" id=edge_451b795f labeltooltip="16 " tooltip="16 "]
		task_463b020d [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#6b4686" id=task_463b020d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_99a6cce0 -> task_463b020d [label="17 " color="#6b4686" fontcolor="#6b4686" id=edge_9a17fb12 labeltooltip="17 " tooltip="17 "]
		task_b8759474 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#6b4686" id=task_b8759474 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_99a6cce0 -> task_b8759474 [label="18 " color="#6b4686" fontcolor="#6b4686" id=edge_f118b606 labeltooltip="18 " tooltip="18 "]
		task_6ccf9f14 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#6b4686" id=task_6ccf9f14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_99a6cce0 -> task_6ccf9f14 [label="19 " color="#6b4686" fontcolor="#6b4686" id=edge_00494e4f labeltooltip="19 " tooltip="19 "]
		task_75321974 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#6b4686" id=task_75321974 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_99a6cce0 -> task_75321974 [label="20 " color="#6b4686" fontcolor="#6b4686" id=edge_fcd59f68 labeltooltip="20 " tooltip="20 "]
		task_698238dd [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#6b4686" id=task_698238dd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_99a6cce0 -> task_698238dd [label="21 " color="#6b4686" fontcolor="#6b4686" id=edge_ace2e5d0 labeltooltip="21 " tooltip="21 "]
		task_1bef253c [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#6b4686" id=task_1bef253c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_99a6cce0 -> task_1bef253c [label="22 " color="#6b4686" fontcolor="#6b4686" id=edge_1c37636a labeltooltip="22 " tooltip="22 "]
		role_99a6cce0 -> role_0a799867 [label="23 " color="#6b4686" fontcolor="#6b4686" id=edge_4d64c7c7 labeltooltip="23 " tooltip="23 "]
		task_8e2a1d9b [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#6b4686" id=task_8e2a1d9b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_99a6cce0 -> task_8e2a1d9b [label="24 " color="#6b4686" fontcolor="#6b4686" id=edge_2b439171 labeltooltip="24 " tooltip="24 "]
		task_42c4ab1f [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#6b4686" id=task_42c4ab1f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_99a6cce0 -> task_42c4ab1f [label="25 " color="#6b4686" fontcolor="#6b4686" id=edge_fc370932 labeltooltip="25 " tooltip="25 "]
		task_3f62cf0c [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#6b4686" id=task_3f62cf0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_99a6cce0 -> task_3f62cf0c [label="26 " color="#6b4686" fontcolor="#6b4686" id=edge_638654b6 labeltooltip="26 " tooltip="26 "]
		task_701a20b0 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#6b4686" id=task_701a20b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_99a6cce0 -> task_701a20b0 [label="27 " color="#6b4686" fontcolor="#6b4686" id=edge_73ef5525 labeltooltip="27 " tooltip="27 "]
		task_a8dca757 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#6b4686" id=task_a8dca757 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_99a6cce0 -> task_a8dca757 [label="28 " color="#6b4686" fontcolor="#6b4686" id=edge_d93fa16d labeltooltip="28 " tooltip="28 "]
		task_88a0cf2a [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#6b4686" id=task_88a0cf2a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_99a6cce0 -> task_88a0cf2a [label="29 " color="#6b4686" fontcolor="#6b4686" id=edge_6f7146ee labeltooltip="29 " tooltip="29 "]
		task_97bd948b [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#6b4686" id=task_97bd948b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_99a6cce0 -> task_97bd948b [label="30 " color="#6b4686" fontcolor="#6b4686" id=edge_6423cf01 labeltooltip="30 " tooltip="30 "]
		task_d26a3425 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#6b4686" id=task_d26a3425 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_99a6cce0 -> task_d26a3425 [label="31 " color="#6b4686" fontcolor="#6b4686" id=edge_919581a7 labeltooltip="31 " tooltip="31 "]
		task_863e6b6e [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#6b4686" id=task_863e6b6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_99a6cce0 -> task_863e6b6e [label="32 " color="#6b4686" fontcolor="#6b4686" id=edge_1251bc1f labeltooltip="32 " tooltip="32 "]
		task_33f508ab [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#6b4686" id=task_33f508ab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_99a6cce0 -> task_33f508ab [label="33 " color="#6b4686" fontcolor="#6b4686" id=edge_9d252226 labeltooltip="33 " tooltip="33 "]
		task_466adb94 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#6b4686" id=task_466adb94 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_99a6cce0 -> task_466adb94 [label="34 " color="#6b4686" fontcolor="#6b4686" id=edge_b018c5be labeltooltip="34 " tooltip="34 "]
		task_ebf1b418 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#6b4686" id=task_ebf1b418 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_99a6cce0 -> task_ebf1b418 [label="35 " color="#6b4686" fontcolor="#6b4686" id=edge_258fe003 labeltooltip="35 " tooltip="35 "]
		task_4fe05e2f [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#6b4686" id=task_4fe05e2f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_99a6cce0 -> task_4fe05e2f [label="36 " color="#6b4686" fontcolor="#6b4686" id=edge_262893be labeltooltip="36 " tooltip="36 "]
		task_e0d7f29d [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#6b4686" id=task_e0d7f29d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_99a6cce0 -> task_e0d7f29d [label="37 " color="#6b4686" fontcolor="#6b4686" id=edge_5ed87e38 labeltooltip="37 " tooltip="37 "]
		task_5c8dd14f [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#6b4686" id=task_5c8dd14f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_99a6cce0 -> task_5c8dd14f [label="38 " color="#6b4686" fontcolor="#6b4686" id=edge_7523e6db labeltooltip="38 " tooltip="38 "]
		task_36c5ff20 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#6b4686" id=task_36c5ff20 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_99a6cce0 -> task_36c5ff20 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#6b4686" fontcolor="#6b4686" id=edge_f48b9c2c labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_ed9c967c [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#6b4686" id=task_ed9c967c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_99a6cce0 -> task_ed9c967c [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#6b4686" fontcolor="#6b4686" id=edge_5e8fd232 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_48131397 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#6b4686" id=task_48131397 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_99a6cce0 -> task_48131397 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#6b4686" fontcolor="#6b4686" id=edge_81d11167 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_fbbd112b [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#6b4686" id=task_fbbd112b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_99a6cce0 -> task_fbbd112b [label="42 [when: kubeinit_deployment_os == 'centos']" color="#6b4686" fontcolor="#6b4686" id=edge_e09b36a9 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_30d5d352 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#6b4686" id=task_30d5d352 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_99a6cce0 -> task_30d5d352 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#6b4686" fontcolor="#6b4686" id=edge_74a090d4 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_8742817d [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#6b4686" id=task_8742817d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_99a6cce0 -> task_8742817d [label="44 " color="#6b4686" fontcolor="#6b4686" id=edge_35fea331 labeltooltip="44 " tooltip="44 "]
		task_161587f3 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#6b4686" id=task_161587f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_99a6cce0 -> task_161587f3 [label="45 " color="#6b4686" fontcolor="#6b4686" id=edge_c254a45b labeltooltip="45 " tooltip="45 "]
		task_91adad92 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#6b4686" id=task_91adad92 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_99a6cce0 -> task_91adad92 [label="46 " color="#6b4686" fontcolor="#6b4686" id=edge_1f6e1397 labeltooltip="46 " tooltip="46 "]
		task_728519af [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#6b4686" id=task_728519af shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_99a6cce0 -> task_728519af [label="47 " color="#6b4686" fontcolor="#6b4686" id=edge_21a1de0b labeltooltip="47 " tooltip="47 "]
		task_87b5f7dc [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#6b4686" id=task_87b5f7dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_99a6cce0 -> task_87b5f7dc [label="48 " color="#6b4686" fontcolor="#6b4686" id=edge_ef7971e3 labeltooltip="48 " tooltip="48 "]
		task_d35bb744 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#6b4686" id=task_d35bb744 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_99a6cce0 -> task_d35bb744 [label="49 " color="#6b4686" fontcolor="#6b4686" id=edge_cd5c1074 labeltooltip="49 " tooltip="49 "]
		task_c6dee19a [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#6b4686" id=task_c6dee19a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_99a6cce0 -> task_c6dee19a [label="50 " color="#6b4686" fontcolor="#6b4686" id=edge_e08dd081 labeltooltip="50 " tooltip="50 "]
		task_0693e246 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#6b4686" id=task_0693e246 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_99a6cce0 -> task_0693e246 [label="51 " color="#6b4686" fontcolor="#6b4686" id=edge_b8a61f3f labeltooltip="51 " tooltip="51 "]
		task_30051c81 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#6b4686" id=task_30051c81 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_99a6cce0 -> task_30051c81 [label="52 " color="#6b4686" fontcolor="#6b4686" id=edge_9b9fd088 labeltooltip="52 " tooltip="52 "]
		role_99a6cce0 -> role_3549b57e [label="53 " color="#6b4686" fontcolor="#6b4686" id=edge_77028829 labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_5f154ba9 [label="[role] Delegate to the distro role to prepare the cluster" color="#6b4686" id=role_5f154ba9 tooltip="Delegate to the distro role to prepare the cluster"]
		role_5f154ba9 -> role_99a6cce0 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_55dae444 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_14def87e [label="[role] task-prepare-cluster" color="#6b4686" id=role_14def87e tooltip="task-prepare-cluster"]
		role_14def87e -> role_f654cce1 [label="1 [when: not services_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_fe0e0584 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_14def87e -> role_5f154ba9 [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_ad4c87f3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_f8492cc5 [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_f8492cc5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_25482b8e [label="[role] Prepare environment if not prepared" color="#6b4686" id=role_25482b8e tooltip="Prepare environment if not prepared"]
		role_25482b8e -> role_f8492cc5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_7df8a0fa labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_355d3a76 [label="[role] task-download-images" color="#6b4686" id=role_355d3a76 tooltip="task-download-images"]
		role_355d3a76 -> role_25482b8e [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_e2a891bf labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_afd7b98f [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_afd7b98f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_6a53a4f3 [label="[role] Prepare environment if needed" color="#6b4686" id=role_6a53a4f3 tooltip="Prepare environment if needed"]
		role_6a53a4f3 -> role_afd7b98f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_85a24112 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_14efc20b [label="[role] Gather network and host facts for guest" color="#6b4686" id=role_14efc20b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_b43ef9ed [label="[role] Prepare services if needed" color="#6b4686" id=role_b43ef9ed tooltip="Prepare services if needed"]
		role_b43ef9ed -> role_6a53a4f3 [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_45cd7faa labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b43ef9ed -> role_14efc20b [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_25d59a25 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_e21fcec0 [label="[role] Deploy the cluster nodes" color="#6b4686" id=role_e21fcec0 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_f164dd6c [label="[role] Delegate to the distro role to deploy the cluster" color="#6b4686" id=role_f164dd6c tooltip="Delegate to the distro role to deploy the cluster"]
		role_f164dd6c -> role_e21fcec0 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#6b4686" fontcolor="#6b4686" id=edge_7cd0c598 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_affdff38 [label="[role] task-deploy-cluster" color="#6b4686" id=role_affdff38 tooltip="task-deploy-cluster"]
		role_affdff38 -> role_b43ef9ed [label="1 [when: not services_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_9344a7a7 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_affdff38 -> role_f164dd6c [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_be5c215a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_2fbb0d95 [label="[role] Read podman secrets if running from the container" color="#6b4686" id=role_2fbb0d95 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_5aa0df8c [label="[role] Prepare environment if needed" color="#6b4686" id=role_5aa0df8c tooltip="Prepare environment if needed"]
		role_5aa0df8c -> role_2fbb0d95 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6b4686" fontcolor="#6b4686" id=edge_f3920b04 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_b41ff109 [label="[role] Gather network and host facts for guest" color="#6b4686" id=role_b41ff109 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_9b3e0f4f [label="[role] Prepare services if needed" color="#6b4686" id=role_9b3e0f4f tooltip="Prepare services if needed"]
		role_9b3e0f4f -> role_5aa0df8c [label="1 [when: not environment_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_2000ddf3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9b3e0f4f -> role_b41ff109 [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_53f8ade0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_d45d2d1f [label="[role] Deploy the apps" color="#6b4686" id=role_d45d2d1f tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_23261280 [label="[role] Configure NFS" color="#6b4686" id=role_23261280 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_027c00f2 [label="[role] Delegate to distro role to run post-deployment tasks" color="#6b4686" id=role_027c00f2 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_027c00f2 -> role_d45d2d1f [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_ab7d5d1f labeltooltip="1 " tooltip="1 "]
		role_027c00f2 -> role_23261280 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#6b4686" fontcolor="#6b4686" id=edge_3c02e5cb labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_4fc99aef [label="[role] task-post-deployment" color="#6b4686" id=role_4fc99aef tooltip="task-post-deployment"]
		role_4fc99aef -> role_9b3e0f4f [label="1 [when: not services_prepared]" color="#6b4686" fontcolor="#6b4686" id=edge_c64880bc labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_4fc99aef -> role_027c00f2 [label="2 " color="#6b4686" fontcolor="#6b4686" id=edge_25eac034 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_27ce7e56 -> block_970993fd [label=1 color="#6b4686" fontcolor="#6b4686" id=edge_24887516 labeltooltip=1 tooltip=1]
		subgraph cluster_block_970993fd {
			block_970993fd [label="[block] Prepare the environment" color="#6b4686" id=block_970993fd labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_970993fd -> role_030085ae [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_8a1de5d2 labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_030f5152 [label=2 color="#6b4686" fontcolor="#6b4686" id=edge_797dceff labeltooltip=2 tooltip=2]
		subgraph cluster_block_030f5152 {
			block_030f5152 [label="[block] Cleanup hypervisors" color="#6b4686" id=block_030f5152 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_030f5152 -> role_0e1c3f96 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_44bc6534 labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_58ef2ce9 [label=3 color="#6b4686" fontcolor="#6b4686" id=edge_c53b8a9c labeltooltip=3 tooltip=3]
		subgraph cluster_block_58ef2ce9 {
			block_58ef2ce9 [label="[block] Run validations on cluster resources" color="#6b4686" id=block_58ef2ce9 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_58ef2ce9 -> role_372cfb6b [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_8ec958c0 labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_70853c56 [label=4 color="#6b4686" fontcolor="#6b4686" id=edge_1f1ad4df labeltooltip=4 tooltip=4]
		subgraph cluster_block_70853c56 {
			block_70853c56 [label="[block] Create the cluster network resources" color="#6b4686" id=block_70853c56 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_70853c56 -> role_72579089 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_51d3c75e labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_a7347c17 [label=5 color="#6b4686" fontcolor="#6b4686" id=edge_87cce698 labeltooltip=5 tooltip=5]
		subgraph cluster_block_a7347c17 {
			block_a7347c17 [label="[block] Create services the cluster will need" color="#6b4686" id=block_a7347c17 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_a7347c17 -> role_24ba090b [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_e1bc5fe8 labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_79f506d7 [label=6 color="#6b4686" fontcolor="#6b4686" id=edge_730eb1b5 labeltooltip=6 tooltip=6]
		subgraph cluster_block_79f506d7 {
			block_79f506d7 [label="[block] Prepare to deploy the cluster" color="#6b4686" id=block_79f506d7 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_79f506d7 -> role_14def87e [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_486e25cc labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_cdd2c1f8 [label=7 color="#6b4686" fontcolor="#6b4686" id=edge_ea5377dd labeltooltip=7 tooltip=7]
		subgraph cluster_block_cdd2c1f8 {
			block_cdd2c1f8 [label="[block] Download cloud images" color="#6b4686" id=block_cdd2c1f8 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_cdd2c1f8 -> role_355d3a76 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_1278d52b labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_eeaca252 [label=8 color="#6b4686" fontcolor="#6b4686" id=edge_0333c970 labeltooltip=8 tooltip=8]
		subgraph cluster_block_eeaca252 {
			block_eeaca252 [label="[block] Deploy the cluster" color="#6b4686" id=block_eeaca252 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_eeaca252 -> role_affdff38 [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_1f0fb3e8 labeltooltip="1 " tooltip="1 "]
		}
		play_27ce7e56 -> block_90a951c6 [label=9 color="#6b4686" fontcolor="#6b4686" id=edge_ea0a4c03 labeltooltip=9 tooltip=9]
		subgraph cluster_block_90a951c6 {
			block_90a951c6 [label="[block] Run any post-deployment tasks" color="#6b4686" id=block_90a951c6 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_90a951c6 -> role_4fc99aef [label="1 " color="#6b4686" fontcolor="#6b4686" id=edge_36f86063 labeltooltip="1 " tooltip="1 "]
		}
	}
}
