digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_3c873034 style=dotted]
	play_48ce6e4f [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#435189" fontcolor="#ffffff" id=play_48ce6e4f shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_48ce6e4f [label="1 " color="#435189" fontcolor="#435189" id=edge_fdc9a3d6 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_8f0a5237 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#435189" id=role_8f0a5237 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_bd3e37e8 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#435189" id=role_bd3e37e8 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d66b0b2f [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#435189" id=role_d66b0b2f tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_33fdfb84 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#435189" id=role_33fdfb84 tooltip="task-gather-facts"]
		role_33fdfb84 -> role_8f0a5237 [label="1 " color="#435189" fontcolor="#435189" id=edge_bca3a018 labeltooltip="1 " tooltip="1 "]
		role_33fdfb84 -> role_bd3e37e8 [label="2 " color="#435189" fontcolor="#435189" id=edge_30411292 labeltooltip="2 " tooltip="2 "]
		role_33fdfb84 -> role_d66b0b2f [label="3 " color="#435189" fontcolor="#435189" id=edge_27f5849a labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_48ce6e4f -> block_7c437cf5 [label=1 color="#435189" fontcolor="#435189" id=edge_564fd3df labeltooltip=1 tooltip=1]
		subgraph cluster_block_7c437cf5 {
			block_7c437cf5 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#435189" id=block_7c437cf5 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_7c437cf5 -> role_33fdfb84 [label="1 " color="#435189" fontcolor="#435189" id=edge_c051a56f labeltooltip="1 " tooltip="1 "]
		}
	}
	play_44cc544b [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#639a32" fontcolor="#ffffff" id=play_44cc544b shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_44cc544b [label="2 " color="#639a32" fontcolor="#639a32" id=edge_de762045 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_90b5c28f [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#639a32" id=role_90b5c28f tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_44cc544b -> block_a3bf859f [label=1 color="#639a32" fontcolor="#639a32" id=edge_bd1b8508 labeltooltip=1 tooltip=1]
		subgraph cluster_block_a3bf859f {
			block_a3bf859f [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#639a32" id=block_a3bf859f labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_a3bf859f -> role_90b5c28f [label="1 " color="#639a32" fontcolor="#639a32" id=edge_f44f8a69 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_c6d4326d [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3ab715" fontcolor="#ffffff" id=play_c6d4326d shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_c6d4326d [label="3 " color="#3ab715" fontcolor="#3ab715" id=edge_c3f3e82d labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_3d64b4ce [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3ab715" id=role_3d64b4ce tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_7cf3644c [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3ab715" id=role_7cf3644c tooltip="Gather facts to prepare the cluster hypervisors"]
		role_7cf3644c -> role_3d64b4ce [label="1 " color="#3ab715" fontcolor="#3ab715" id=edge_15869f7b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_fe65f9d5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#3ab715" id=role_fe65f9d5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_610f827c [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3ab715" id=role_610f827c tooltip="task-prepare-hypervisors"]
		role_610f827c -> role_fe65f9d5 [label="1 " color="#3ab715" fontcolor="#3ab715" id=edge_1c84bf42 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_c6d4326d -> block_7a5d7770 [label=1 color="#3ab715" fontcolor="#3ab715" id=edge_e1aa6818 labeltooltip=1 tooltip=1]
		subgraph cluster_block_7a5d7770 {
			block_7a5d7770 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3ab715" id=block_7a5d7770 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_7a5d7770 -> role_7cf3644c [label="1 " color="#3ab715" fontcolor="#3ab715" id=edge_e7d3bb10 labeltooltip="1 " tooltip="1 "]
		}
		play_c6d4326d -> block_20749626 [label=2 color="#3ab715" fontcolor="#3ab715" id=edge_d7f62d31 labeltooltip=2 tooltip=2]
		subgraph cluster_block_20749626 {
			block_20749626 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3ab715" id=block_20749626 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_20749626 -> role_610f827c [label="1 " color="#3ab715" fontcolor="#3ab715" id=edge_3a71be1a labeltooltip="1 " tooltip="1 "]
		}
	}
	play_444b43cd [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8c4076" fontcolor="#ffffff" id=play_444b43cd shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_444b43cd [label="4 " color="#8c4076" fontcolor="#8c4076" id=edge_28c74712 labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_b34c0056 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#8c4076" id=role_b34c0056 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_fa1ee8ec [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8c4076" id=role_fa1ee8ec tooltip="Prepare each hypervisor in the deployment"]
		role_fa1ee8ec -> role_b34c0056 [label="1 " color="#8c4076" fontcolor="#8c4076" id=edge_85149f61 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_444b43cd -> block_a9b712c7 [label=1 color="#8c4076" fontcolor="#8c4076" id=edge_5c93d026 labeltooltip=1 tooltip=1]
		subgraph cluster_block_a9b712c7 {
			block_a9b712c7 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8c4076" id=block_a9b712c7 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_a9b712c7 -> role_fa1ee8ec [label="1 " color="#8c4076" fontcolor="#8c4076" id=edge_6c6854e1 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_bded6eb1 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" fontcolor="#ffffff" id=play_bded6eb1 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_bded6eb1 [label="5 " color="#16b6ae" fontcolor="#16b6ae" id=edge_97965976 labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_8eb0834e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_8eb0834e tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_c104ab92 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_c104ab92 tooltip="task-prepare-environment"]
		role_c104ab92 -> role_8eb0834e [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_51567285 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_fb981df5 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_fb981df5 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c81aa8f6 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16b6ae" id=role_c81aa8f6 tooltip="Prepare environment if not prepared"]
		role_c81aa8f6 -> role_fb981df5 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_74faf14d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_2646ff94 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16b6ae" id=role_2646ff94 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_b3d2a2c7 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_b3d2a2c7 tooltip="task-cleanup-hypervisors"]
		role_b3d2a2c7 -> role_c81aa8f6 [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_39fd5174 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b3d2a2c7 -> role_2646ff94 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_38ae1a35 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_88401786 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_88401786 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_60e41977 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16b6ae" id=role_60e41977 tooltip="Prepare environment if not prepared"]
		role_60e41977 -> role_88401786 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_ad58d852 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_9392a115 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16b6ae" id=role_9392a115 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_fcd90600 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#16b6ae" id=role_fcd90600 tooltip="Cleanup hypervisors if needed"]
		role_fcd90600 -> role_60e41977 [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_a1fb3060 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_fcd90600 -> role_9392a115 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_02f4a3d3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_4b26acd9 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_4b26acd9 tooltip="task-run-validations"]
		role_4b26acd9 -> role_fcd90600 [label="1 [when: not hypervisors_cleaned]" color="#16b6ae" fontcolor="#16b6ae" id=edge_e5865479 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_ce2e5661 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_ce2e5661 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ce26fc88 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16b6ae" id=role_ce26fc88 tooltip="Prepare environment if not prepared"]
		role_ce26fc88 -> role_ce2e5661 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_72491e6b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_138f1256 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#16b6ae" id=role_138f1256 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_022e3864 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#16b6ae" id=role_022e3864 tooltip="Cleanup hypervisors if needed"]
		role_022e3864 -> role_ce26fc88 [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_137d3ae3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_022e3864 -> role_138f1256 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_ffd88d17 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_28bb4a91 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_28bb4a91 tooltip="task-create-network"]
		role_28bb4a91 -> role_022e3864 [label="1 [when: not hypervisors_cleaned]" color="#16b6ae" fontcolor="#16b6ae" id=edge_0cb3b29c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_20de17d8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_20de17d8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_8a894bb1 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#16b6ae" id=role_8a894bb1 tooltip="Prepare environment if not prepared"]
		role_8a894bb1 -> role_20de17d8 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_fcec9379 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_7b8d80b9 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#16b6ae" id=role_7b8d80b9 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_1e0331ed [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#16b6ae" id=role_1e0331ed tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_e2112fc8 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16b6ae" id=role_e2112fc8 tooltip="Configure Bind"]
		role_e2112fc8 -> role_1e0331ed [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_446fe007 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d60db86b [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#16b6ae" id=role_d60db86b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_caa52fbb [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16b6ae" id=role_caa52fbb tooltip="Configure Dnsmasq"]
		role_caa52fbb -> role_d60db86b [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_0eef6071 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_49af3bee [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#16b6ae" id=role_49af3bee tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_83f097a3 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16b6ae" id=role_83f097a3 tooltip="Configure HAProxy"]
		role_83f097a3 -> role_49af3bee [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_b56f9b81 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5667882f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#16b6ae" id=role_5667882f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_df43936b [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16b6ae" id=role_df43936b tooltip="Configure Nexus"]
		role_df43936b -> role_5667882f [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_f0a2f200 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_42f5a964 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#16b6ae" id=role_42f5a964 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_40edba17 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16b6ae" id=role_40edba17 tooltip="Configure Apache"]
		role_40edba17 -> role_42f5a964 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_7e9d86e4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_fb3a19ff [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#16b6ae" id=role_fb3a19ff tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_27fcc4a0 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#16b6ae" id=role_27fcc4a0 tooltip="Configure a local container image registry"]
		role_27fcc4a0 -> role_fb3a19ff [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_4a58a674 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_013c2780 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_013c2780 tooltip="task-create-services"]
		role_013c2780 -> role_8a894bb1 [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_63b591b4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_013c2780 -> role_7b8d80b9 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_bee9bebb labeltooltip="2 " tooltip="2 "]
		role_013c2780 -> role_e2112fc8 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#16b6ae" fontcolor="#16b6ae" id=edge_dfd9a481 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_013c2780 -> role_caa52fbb [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#16b6ae" fontcolor="#16b6ae" id=edge_36051245 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_013c2780 -> role_83f097a3 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#16b6ae" fontcolor="#16b6ae" id=edge_34ef6322 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_013c2780 -> role_df43936b [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#16b6ae" fontcolor="#16b6ae" id=edge_8e5005e8 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_013c2780 -> role_40edba17 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#16b6ae" fontcolor="#16b6ae" id=edge_8ff66412 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_013c2780 -> role_27fcc4a0 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#16b6ae" fontcolor="#16b6ae" id=edge_d8b78f56 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_e35e34b8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_e35e34b8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_c0c16754 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16b6ae" id=role_c0c16754 tooltip="Prepare environment if needed"]
		role_c0c16754 -> role_e35e34b8 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_f79e10f2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_ed481d8d [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16b6ae" id=role_ed481d8d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d32308e7 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#16b6ae" id=role_d32308e7 tooltip="Prepare services if needed"]
		role_d32308e7 -> role_c0c16754 [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_fcf7a26f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d32308e7 -> role_ed481d8d [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_f17d5f55 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8b36407e [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=role_8b36407e tooltip="Create systemd service for podman container"]
		task_070b5c83 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#16b6ae" id=task_070b5c83 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_8b36407e -> task_070b5c83 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_a978d4ad labeltooltip="1 " tooltip="1 "]
		task_684e51f0 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#16b6ae" id=task_684e51f0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_8b36407e -> task_684e51f0 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_22a97105 labeltooltip="2 " tooltip="2 "]
		task_cafa0357 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#16b6ae" id=task_cafa0357 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_8b36407e -> task_cafa0357 [label="3 " color="#16b6ae" fontcolor="#16b6ae" id=edge_3293ced8 labeltooltip="3 " tooltip="3 "]
		task_b12610f7 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#16b6ae" id=task_b12610f7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_8b36407e -> task_b12610f7 [label="4 " color="#16b6ae" fontcolor="#16b6ae" id=edge_2846f775 labeltooltip="4 " tooltip="4 "]
		task_59c57062 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#16b6ae" id=task_59c57062 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_8b36407e -> task_59c57062 [label="5 " color="#16b6ae" fontcolor="#16b6ae" id=edge_e0818a11 labeltooltip="5 " tooltip="5 "]
		task_214911a6 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#16b6ae" id=task_214911a6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_8b36407e -> task_214911a6 [label="6 " color="#16b6ae" fontcolor="#16b6ae" id=edge_c39f644b labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_53338a68 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=role_53338a68 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_106d639d [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/prepare_cluster.yml" color="#16b6ae" id=role_106d639d tooltip="Setup the cluster provision container"]
		task_6355f47b [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_6355f47b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_106d639d -> task_6355f47b [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_49602ee5 labeltooltip="1 " tooltip="1 "]
		task_d783ca86 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_d783ca86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_106d639d -> task_d783ca86 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_2a826467 labeltooltip="2 " tooltip="2 "]
		task_59a3e92f [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_59a3e92f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_106d639d -> task_59a3e92f [label="3 [when: kubeinit_deployment_os == 'centos']" color="#16b6ae" fontcolor="#16b6ae" id=edge_eef5a0dd labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_895d109c [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_895d109c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_106d639d -> task_895d109c [label="4 [when: kubeinit_deployment_os == 'centos']" color="#16b6ae" fontcolor="#16b6ae" id=edge_c204a4e7 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_a94f1245 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_a94f1245 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_106d639d -> task_a94f1245 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#16b6ae" fontcolor="#16b6ae" id=edge_0756d5c8 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_b3fe814a [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_b3fe814a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_106d639d -> task_b3fe814a [label="6 [when: kubeinit_deployment_os == 'debian']" color="#16b6ae" fontcolor="#16b6ae" id=edge_d5095178 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_cd4bf60a [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_cd4bf60a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_106d639d -> task_cd4bf60a [label="7 [when: kubeinit_deployment_os == 'debian']" color="#16b6ae" fontcolor="#16b6ae" id=edge_b36e4d3a labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_c76cff62 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c76cff62 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_106d639d -> task_c76cff62 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#16b6ae" fontcolor="#16b6ae" id=edge_410b58bd labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_9eb81385 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_9eb81385 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_106d639d -> task_9eb81385 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#16b6ae" fontcolor="#16b6ae" id=edge_106d9327 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_ca4cef88 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_ca4cef88 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_106d639d -> task_ca4cef88 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#16b6ae" fontcolor="#16b6ae" id=edge_6fd4ab36 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_e3b4513c [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_e3b4513c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_106d639d -> task_e3b4513c [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#16b6ae" fontcolor="#16b6ae" id=edge_51e52820 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_f927d32b [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_f927d32b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_106d639d -> task_f927d32b [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#16b6ae" fontcolor="#16b6ae" id=edge_2c1a6e8c labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_563b49c8 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_563b49c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_106d639d -> task_563b49c8 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#16b6ae" fontcolor="#16b6ae" id=edge_bd41719c labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_1b54bd69 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_1b54bd69 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_106d639d -> task_1b54bd69 [label="14 " color="#16b6ae" fontcolor="#16b6ae" id=edge_1a0df96c labeltooltip="14 " tooltip="14 "]
		task_45c6984a [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_45c6984a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_106d639d -> task_45c6984a [label="15 " color="#16b6ae" fontcolor="#16b6ae" id=edge_148f5254 labeltooltip="15 " tooltip="15 "]
		task_c0c6e046 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c0c6e046 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_106d639d -> task_c0c6e046 [label="16 " color="#16b6ae" fontcolor="#16b6ae" id=edge_c4a6ef7f labeltooltip="16 " tooltip="16 "]
		task_453660b0 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_453660b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_106d639d -> task_453660b0 [label="17 " color="#16b6ae" fontcolor="#16b6ae" id=edge_3c3d753a labeltooltip="17 " tooltip="17 "]
		task_815b754b [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_815b754b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_106d639d -> task_815b754b [label="18 " color="#16b6ae" fontcolor="#16b6ae" id=edge_d487f456 labeltooltip="18 " tooltip="18 "]
		task_d428111c [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_d428111c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_106d639d -> task_d428111c [label="19 " color="#16b6ae" fontcolor="#16b6ae" id=edge_be8df081 labeltooltip="19 " tooltip="19 "]
		task_4e9c6b3c [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_4e9c6b3c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_106d639d -> task_4e9c6b3c [label="20 " color="#16b6ae" fontcolor="#16b6ae" id=edge_57e091ec labeltooltip="20 " tooltip="20 "]
		task_9fdfb971 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_9fdfb971 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_106d639d -> task_9fdfb971 [label="21 " color="#16b6ae" fontcolor="#16b6ae" id=edge_fd3443e3 labeltooltip="21 " tooltip="21 "]
		task_670a3345 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_670a3345 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_106d639d -> task_670a3345 [label="22 " color="#16b6ae" fontcolor="#16b6ae" id=edge_603e94c9 labeltooltip="22 " tooltip="22 "]
		role_106d639d -> role_8b36407e [label="23 " color="#16b6ae" fontcolor="#16b6ae" id=edge_5d027c8f labeltooltip="23 " tooltip="23 "]
		task_77159e12 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_77159e12 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_106d639d -> task_77159e12 [label="24 " color="#16b6ae" fontcolor="#16b6ae" id=edge_2399eda0 labeltooltip="24 " tooltip="24 "]
		task_c090d55f [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c090d55f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_106d639d -> task_c090d55f [label="25 " color="#16b6ae" fontcolor="#16b6ae" id=edge_cbee1269 labeltooltip="25 " tooltip="25 "]
		task_c7cdf7e3 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c7cdf7e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_106d639d -> task_c7cdf7e3 [label="26 " color="#16b6ae" fontcolor="#16b6ae" id=edge_bfce2f3c labeltooltip="26 " tooltip="26 "]
		task_a70eebb3 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_a70eebb3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_106d639d -> task_a70eebb3 [label="27 " color="#16b6ae" fontcolor="#16b6ae" id=edge_28688422 labeltooltip="27 " tooltip="27 "]
		task_827a3476 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_827a3476 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_106d639d -> task_827a3476 [label="28 " color="#16b6ae" fontcolor="#16b6ae" id=edge_669ad50e labeltooltip="28 " tooltip="28 "]
		task_c20a483a [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c20a483a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_106d639d -> task_c20a483a [label="29 " color="#16b6ae" fontcolor="#16b6ae" id=edge_2067bf01 labeltooltip="29 " tooltip="29 "]
		task_c728c436 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c728c436 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_106d639d -> task_c728c436 [label="30 " color="#16b6ae" fontcolor="#16b6ae" id=edge_a08b5446 labeltooltip="30 " tooltip="30 "]
		task_095754eb [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_095754eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_106d639d -> task_095754eb [label="31 " color="#16b6ae" fontcolor="#16b6ae" id=edge_bbcc3893 labeltooltip="31 " tooltip="31 "]
		task_15b5840a [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_15b5840a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_106d639d -> task_15b5840a [label="32 " color="#16b6ae" fontcolor="#16b6ae" id=edge_4febf233 labeltooltip="32 " tooltip="32 "]
		task_e12168c8 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_e12168c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_106d639d -> task_e12168c8 [label="33 " color="#16b6ae" fontcolor="#16b6ae" id=edge_8115472c labeltooltip="33 " tooltip="33 "]
		task_df7d592f [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_df7d592f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_106d639d -> task_df7d592f [label="34 " color="#16b6ae" fontcolor="#16b6ae" id=edge_e2d34835 labeltooltip="34 " tooltip="34 "]
		task_b204d63e [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_b204d63e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_106d639d -> task_b204d63e [label="35 " color="#16b6ae" fontcolor="#16b6ae" id=edge_2861c99c labeltooltip="35 " tooltip="35 "]
		task_ac1e8c8a [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_ac1e8c8a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_106d639d -> task_ac1e8c8a [label="36 " color="#16b6ae" fontcolor="#16b6ae" id=edge_5a102633 labeltooltip="36 " tooltip="36 "]
		task_c4ba6be6 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c4ba6be6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_106d639d -> task_c4ba6be6 [label="37 " color="#16b6ae" fontcolor="#16b6ae" id=edge_6df80211 labeltooltip="37 " tooltip="37 "]
		task_758a4922 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_758a4922 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_106d639d -> task_758a4922 [label="38 " color="#16b6ae" fontcolor="#16b6ae" id=edge_2c58ce4e labeltooltip="38 " tooltip="38 "]
		task_e1ed8dc3 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_e1ed8dc3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_106d639d -> task_e1ed8dc3 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#16b6ae" fontcolor="#16b6ae" id=edge_b1a14859 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_47026e1a [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_47026e1a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_106d639d -> task_47026e1a [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#16b6ae" fontcolor="#16b6ae" id=edge_ee3d99a6 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_3a486bda [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_3a486bda shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_106d639d -> task_3a486bda [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#16b6ae" fontcolor="#16b6ae" id=edge_a147d21c labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_c48a4dc2 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c48a4dc2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_106d639d -> task_c48a4dc2 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#16b6ae" fontcolor="#16b6ae" id=edge_88b28c67 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_8b829278 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_8b829278 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_106d639d -> task_8b829278 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#16b6ae" fontcolor="#16b6ae" id=edge_e82614b9 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_455b684f [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_455b684f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_106d639d -> task_455b684f [label="44 " color="#16b6ae" fontcolor="#16b6ae" id=edge_7af90649 labeltooltip="44 " tooltip="44 "]
		task_b6e9fabe [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_b6e9fabe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_106d639d -> task_b6e9fabe [label="45 " color="#16b6ae" fontcolor="#16b6ae" id=edge_19d1fbe1 labeltooltip="45 " tooltip="45 "]
		task_b6361609 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_b6361609 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_106d639d -> task_b6361609 [label="46 " color="#16b6ae" fontcolor="#16b6ae" id=edge_8abeb93b labeltooltip="46 " tooltip="46 "]
		task_a4240034 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_a4240034 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_106d639d -> task_a4240034 [label="47 " color="#16b6ae" fontcolor="#16b6ae" id=edge_608ff26d labeltooltip="47 " tooltip="47 "]
		task_e8c465b3 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_e8c465b3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_106d639d -> task_e8c465b3 [label="48 " color="#16b6ae" fontcolor="#16b6ae" id=edge_02e0ee26 labeltooltip="48 " tooltip="48 "]
		task_a2b4ac02 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_a2b4ac02 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
		role_106d639d -> task_a2b4ac02 [label="49 " color="#16b6ae" fontcolor="#16b6ae" id=edge_01778793 labeltooltip="49 " tooltip="49 "]
		task_2af83d2d [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_2af83d2d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_106d639d -> task_2af83d2d [label="50 " color="#16b6ae" fontcolor="#16b6ae" id=edge_857af1f7 labeltooltip="50 " tooltip="50 "]
		task_3b84d6f5 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_3b84d6f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_106d639d -> task_3b84d6f5 [label="51 " color="#16b6ae" fontcolor="#16b6ae" id=edge_4f3c4c12 labeltooltip="51 " tooltip="51 "]
		task_c54414f8 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c54414f8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_106d639d -> task_c54414f8 [label="52 " color="#16b6ae" fontcolor="#16b6ae" id=edge_206d87de labeltooltip="52 " tooltip="52 "]
		task_c8626f8f [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#16b6ae" id=task_c8626f8f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_106d639d -> task_c8626f8f [label="53 " color="#16b6ae" fontcolor="#16b6ae" id=edge_0e2f8dfc labeltooltip="53 " tooltip="53 "]
		role_106d639d -> role_53338a68 [label="54 " color="#16b6ae" fontcolor="#16b6ae" id=edge_58faf2c7 labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_ad00d37c [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#16b6ae" id=role_ad00d37c tooltip="Delegate to the distro role to prepare the cluster"]
		role_ad00d37c -> role_106d639d [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_cc0b16bf labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_6ecec507 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_6ecec507 tooltip="task-prepare-cluster"]
		role_6ecec507 -> role_d32308e7 [label="1 [when: not services_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_c0185415 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_6ecec507 -> role_ad00d37c [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_31e74275 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_c0020861 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_c0020861 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f88813be [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#16b6ae" id=role_f88813be tooltip="Prepare environment if not prepared"]
		role_f88813be -> role_c0020861 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_70cb62fd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_297f88d6 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_297f88d6 tooltip="task-download-images"]
		role_297f88d6 -> role_f88813be [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_a89f103e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_e6e17193 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_e6e17193 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_26a716ac [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16b6ae" id=role_26a716ac tooltip="Prepare environment if needed"]
		role_26a716ac -> role_e6e17193 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_4d84718f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_866fd283 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16b6ae" id=role_866fd283 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_204fe023 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#16b6ae" id=role_204fe023 tooltip="Prepare services if needed"]
		role_204fe023 -> role_26a716ac [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_74793e71 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_204fe023 -> role_866fd283 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_7d26ee7c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_f23bac07 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/main.yml" color="#16b6ae" id=role_f23bac07 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_fc5122c9 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#16b6ae" id=role_fc5122c9 tooltip="Delegate to the distro role to deploy the cluster"]
		role_fc5122c9 -> role_f23bac07 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#16b6ae" fontcolor="#16b6ae" id=edge_d25ffcd2 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_c84d25ea [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_c84d25ea tooltip="task-deploy-cluster"]
		role_c84d25ea -> role_204fe023 [label="1 [when: not services_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_03b1272c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c84d25ea -> role_fc5122c9 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_681c3537 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_7be3d32c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#16b6ae" id=role_7be3d32c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_2f31404c [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16b6ae" id=role_2f31404c tooltip="Prepare environment if needed"]
		role_2f31404c -> role_7be3d32c [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_65345830 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_9965bf85 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#16b6ae" id=role_9965bf85 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7e3e533a [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#16b6ae" id=role_7e3e533a tooltip="Prepare services if needed"]
		role_7e3e533a -> role_2f31404c [label="1 [when: not environment_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_6ca6638e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7e3e533a -> role_9965bf85 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_99d84bf7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_aa3862bc [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/post_deployment_tasks.yml" color="#16b6ae" id=role_aa3862bc tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_17dcf7b2 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/post_deployment_tasks.yml" color="#16b6ae" id=role_17dcf7b2 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_f55352c9 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#16b6ae" id=role_f55352c9 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_f55352c9 -> role_aa3862bc [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_6c00ef7a labeltooltip="1 " tooltip="1 "]
		role_f55352c9 -> role_17dcf7b2 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#16b6ae" fontcolor="#16b6ae" id=edge_f00b7450 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_a39c32c4 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=role_a39c32c4 tooltip="task-post-deployment"]
		role_a39c32c4 -> role_7e3e533a [label="1 [when: not services_prepared]" color="#16b6ae" fontcolor="#16b6ae" id=edge_c6c74b12 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_a39c32c4 -> role_f55352c9 [label="2 " color="#16b6ae" fontcolor="#16b6ae" id=edge_7e461c7c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_bded6eb1 -> block_a84df68a [label=1 color="#16b6ae" fontcolor="#16b6ae" id=edge_3a57bdea labeltooltip=1 tooltip=1]
		subgraph cluster_block_a84df68a {
			block_a84df68a [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_a84df68a labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_a84df68a -> role_c104ab92 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_47683a78 labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_b18e329f [label=2 color="#16b6ae" fontcolor="#16b6ae" id=edge_1930ced7 labeltooltip=2 tooltip=2]
		subgraph cluster_block_b18e329f {
			block_b18e329f [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_b18e329f labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_b18e329f -> role_b3d2a2c7 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_f6cd8b73 labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_b759a392 [label=3 color="#16b6ae" fontcolor="#16b6ae" id=edge_9421231c labeltooltip=3 tooltip=3]
		subgraph cluster_block_b759a392 {
			block_b759a392 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_b759a392 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_b759a392 -> role_4b26acd9 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_253129a4 labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_f5bf14b0 [label=4 color="#16b6ae" fontcolor="#16b6ae" id=edge_92b855eb labeltooltip=4 tooltip=4]
		subgraph cluster_block_f5bf14b0 {
			block_f5bf14b0 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_f5bf14b0 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_f5bf14b0 -> role_28bb4a91 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_ec034447 labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_1faa5b40 [label=5 color="#16b6ae" fontcolor="#16b6ae" id=edge_b46ee6af labeltooltip=5 tooltip=5]
		subgraph cluster_block_1faa5b40 {
			block_1faa5b40 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_1faa5b40 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_1faa5b40 -> role_013c2780 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_5d513c4b labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_a579aa82 [label=6 color="#16b6ae" fontcolor="#16b6ae" id=edge_123b6c54 labeltooltip=6 tooltip=6]
		subgraph cluster_block_a579aa82 {
			block_a579aa82 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_a579aa82 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_a579aa82 -> role_6ecec507 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_5cfb2698 labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_235f3873 [label=7 color="#16b6ae" fontcolor="#16b6ae" id=edge_01191453 labeltooltip=7 tooltip=7]
		subgraph cluster_block_235f3873 {
			block_235f3873 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_235f3873 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_235f3873 -> role_297f88d6 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_b80130d1 labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_90c2b85f [label=8 color="#16b6ae" fontcolor="#16b6ae" id=edge_c984942b labeltooltip=8 tooltip=8]
		subgraph cluster_block_90c2b85f {
			block_90c2b85f [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_90c2b85f labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_90c2b85f -> role_c84d25ea [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_710f8a11 labeltooltip="1 " tooltip="1 "]
		}
		play_bded6eb1 -> block_5c211481 [label=9 color="#16b6ae" fontcolor="#16b6ae" id=edge_e6b3a980 labeltooltip=9 tooltip=9]
		subgraph cluster_block_5c211481 {
			block_5c211481 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#16b6ae" id=block_5c211481 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_5c211481 -> role_a39c32c4 [label="1 " color="#16b6ae" fontcolor="#16b6ae" id=edge_c49b147f labeltooltip="1 " tooltip="1 "]
		}
	}
}
