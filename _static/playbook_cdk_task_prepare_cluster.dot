digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_b47994ba style=dotted]
	play_515a313c [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#68517b" fontcolor="#ffffff" id=play_515a313c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_515a313c [label="1 " color="#68517b" fontcolor="#68517b" id=edge_14a2a7b6 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_aa9ee966 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#68517b" id=role_aa9ee966 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_87ee1311 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#68517b" id=role_87ee1311 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2efa9ea8 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#68517b" id=role_2efa9ea8 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_e3fc78ca [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#68517b" id=role_e3fc78ca tooltip="task-gather-facts"]
		role_e3fc78ca -> role_aa9ee966 [label="1 " color="#68517b" fontcolor="#68517b" id=edge_2577c684 labeltooltip="1 " tooltip="1 "]
		role_e3fc78ca -> role_87ee1311 [label="2 " color="#68517b" fontcolor="#68517b" id=edge_21275bec labeltooltip="2 " tooltip="2 "]
		role_e3fc78ca -> role_2efa9ea8 [label="3 " color="#68517b" fontcolor="#68517b" id=edge_54e777cd labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_515a313c -> block_28950f10 [label=1 color="#68517b" fontcolor="#68517b" id=edge_5059459d labeltooltip=1 tooltip=1]
		subgraph cluster_block_28950f10 {
			block_28950f10 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#68517b" id=block_28950f10 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_28950f10 -> role_e3fc78ca [label="1 " color="#68517b" fontcolor="#68517b" id=edge_01b22613 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ec264d69 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5eb319" fontcolor="#ffffff" id=play_ec264d69 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_ec264d69 [label="2 " color="#5eb319" fontcolor="#5eb319" id=edge_f0f2cc80 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_ead98b63 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5eb319" id=role_ead98b63 tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_ec264d69 -> block_70c03292 [label=1 color="#5eb319" fontcolor="#5eb319" id=edge_e5c3f42e labeltooltip=1 tooltip=1]
		subgraph cluster_block_70c03292 {
			block_70c03292 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5eb319" id=block_70c03292 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_70c03292 -> role_ead98b63 [label="1 " color="#5eb319" fontcolor="#5eb319" id=edge_a15a36f2 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_77ab146b [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528745" fontcolor="#ffffff" id=play_77ab146b shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_77ab146b [label="3 " color="#528745" fontcolor="#528745" id=edge_0dec7fae labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_a3992e73 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#528745" id=role_a3992e73 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_a43a33d8 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528745" id=role_a43a33d8 tooltip="Gather facts to prepare the cluster hypervisors"]
		role_a43a33d8 -> role_a3992e73 [label="1 " color="#528745" fontcolor="#528745" id=edge_a36afde6 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_3b5f1dee [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#528745" id=role_3b5f1dee tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_ac409dc2 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528745" id=role_ac409dc2 tooltip="task-prepare-hypervisors"]
		role_ac409dc2 -> role_3b5f1dee [label="1 " color="#528745" fontcolor="#528745" id=edge_0bb94909 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_77ab146b -> block_a46fe4fb [label=1 color="#528745" fontcolor="#528745" id=edge_98d01f0d labeltooltip=1 tooltip=1]
		subgraph cluster_block_a46fe4fb {
			block_a46fe4fb [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528745" id=block_a46fe4fb labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_a46fe4fb -> role_a43a33d8 [label="1 " color="#528745" fontcolor="#528745" id=edge_65cdff75 labeltooltip="1 " tooltip="1 "]
		}
		play_77ab146b -> block_5a04c74c [label=2 color="#528745" fontcolor="#528745" id=edge_2d8ca098 labeltooltip=2 tooltip=2]
		subgraph cluster_block_5a04c74c {
			block_5a04c74c [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#528745" id=block_5a04c74c labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_5a04c74c -> role_ac409dc2 [label="1 " color="#528745" fontcolor="#528745" id=edge_7ea619af labeltooltip="1 " tooltip="1 "]
		}
	}
	play_fe4108c9 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#493f8d" fontcolor="#ffffff" id=play_fe4108c9 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_fe4108c9 [label="4 " color="#493f8d" fontcolor="#493f8d" id=edge_d281de42 labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_064dd4db [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#493f8d" id=role_064dd4db tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_5979205b [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#493f8d" id=role_5979205b tooltip="Prepare each hypervisor in the deployment"]
		role_5979205b -> role_064dd4db [label="1 " color="#493f8d" fontcolor="#493f8d" id=edge_bc8a02bb labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_fe4108c9 -> block_ec0b14e1 [label=1 color="#493f8d" fontcolor="#493f8d" id=edge_9dae6b08 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ec0b14e1 {
			block_ec0b14e1 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#493f8d" id=block_ec0b14e1 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_ec0b14e1 -> role_5979205b [label="1 " color="#493f8d" fontcolor="#493f8d" id=edge_7ceabfab labeltooltip="1 " tooltip="1 "]
		}
	}
	play_bbd77e9f [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" fontcolor="#ffffff" id=play_bbd77e9f shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_bbd77e9f [label="5 " color="#579438" fontcolor="#579438" id=edge_dadfc17e labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_35ef9b6b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_35ef9b6b tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_30e08271 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_30e08271 tooltip="task-prepare-environment"]
		role_30e08271 -> role_35ef9b6b [label="1 " color="#579438" fontcolor="#579438" id=edge_0697eeb8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a3ea205b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_a3ea205b tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_8cf4bb18 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#579438" id=role_8cf4bb18 tooltip="Prepare environment if not prepared"]
		role_8cf4bb18 -> role_a3ea205b [label="1 " color="#579438" fontcolor="#579438" id=edge_47a2a7dc labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_c113d772 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#579438" id=role_c113d772 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_b6af4c2c [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_b6af4c2c tooltip="task-cleanup-hypervisors"]
		role_b6af4c2c -> role_8cf4bb18 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_64e9ed71 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b6af4c2c -> role_c113d772 [label="2 " color="#579438" fontcolor="#579438" id=edge_cb1a71ad labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_f740a0a7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_f740a0a7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ccd1dc96 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#579438" id=role_ccd1dc96 tooltip="Prepare environment if not prepared"]
		role_ccd1dc96 -> role_f740a0a7 [label="1 " color="#579438" fontcolor="#579438" id=edge_c2ac4d03 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_b34ea48d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#579438" id=role_b34ea48d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_41df7d3b [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#579438" id=role_41df7d3b tooltip="Cleanup hypervisors if needed"]
		role_41df7d3b -> role_ccd1dc96 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_be7b82cd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_41df7d3b -> role_b34ea48d [label="2 " color="#579438" fontcolor="#579438" id=edge_57a7cb09 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_ccd55fe2 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_ccd55fe2 tooltip="task-run-validations"]
		role_ccd55fe2 -> role_41df7d3b [label="1 [when: not hypervisors_cleaned]" color="#579438" fontcolor="#579438" id=edge_15c58f16 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_3656fa75 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_3656fa75 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_5f8b7378 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#579438" id=role_5f8b7378 tooltip="Prepare environment if not prepared"]
		role_5f8b7378 -> role_3656fa75 [label="1 " color="#579438" fontcolor="#579438" id=edge_6d221d40 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_cf52e9cd [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#579438" id=role_cf52e9cd tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e2d3d3d3 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#579438" id=role_e2d3d3d3 tooltip="Cleanup hypervisors if needed"]
		role_e2d3d3d3 -> role_5f8b7378 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_32160dd8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e2d3d3d3 -> role_cf52e9cd [label="2 " color="#579438" fontcolor="#579438" id=edge_d76bfcdc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_9c07adbc [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_9c07adbc tooltip="task-create-network"]
		role_9c07adbc -> role_e2d3d3d3 [label="1 [when: not hypervisors_cleaned]" color="#579438" fontcolor="#579438" id=edge_c7685269 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_626242ec [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_626242ec tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_27e3bdd4 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#579438" id=role_27e3bdd4 tooltip="Prepare environment if not prepared"]
		role_27e3bdd4 -> role_626242ec [label="1 " color="#579438" fontcolor="#579438" id=edge_174d9303 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_0c2c4438 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#579438" id=role_0c2c4438 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_4ee34b0f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#579438" id=role_4ee34b0f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_29f43365 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#579438" id=role_29f43365 tooltip="Configure Bind"]
		role_29f43365 -> role_4ee34b0f [label="1 " color="#579438" fontcolor="#579438" id=edge_5c8039d5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_0486fcc3 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#579438" id=role_0486fcc3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_7473a504 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#579438" id=role_7473a504 tooltip="Configure Dnsmasq"]
		role_7473a504 -> role_0486fcc3 [label="1 " color="#579438" fontcolor="#579438" id=edge_17cf07d1 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_b75c0652 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#579438" id=role_b75c0652 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_1dc54352 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#579438" id=role_1dc54352 tooltip="Configure HAProxy"]
		role_1dc54352 -> role_b75c0652 [label="1 " color="#579438" fontcolor="#579438" id=edge_74a8453a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_96639c3f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#579438" id=role_96639c3f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_e7f2f17d [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#579438" id=role_e7f2f17d tooltip="Configure Nexus"]
		role_e7f2f17d -> role_96639c3f [label="1 " color="#579438" fontcolor="#579438" id=edge_5e6b78cf labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_079d1b4a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#579438" id=role_079d1b4a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_f1637be1 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#579438" id=role_f1637be1 tooltip="Configure Apache"]
		role_f1637be1 -> role_079d1b4a [label="1 " color="#579438" fontcolor="#579438" id=edge_f04b7545 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_491e4f18 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#579438" id=role_491e4f18 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_b1b64446 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#579438" id=role_b1b64446 tooltip="Configure a local container image registry"]
		role_b1b64446 -> role_491e4f18 [label="1 " color="#579438" fontcolor="#579438" id=edge_103149c5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_d59bbcdc [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_d59bbcdc tooltip="task-create-services"]
		role_d59bbcdc -> role_27e3bdd4 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_6a368789 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d59bbcdc -> role_0c2c4438 [label="2 " color="#579438" fontcolor="#579438" id=edge_b3e4259b labeltooltip="2 " tooltip="2 "]
		role_d59bbcdc -> role_29f43365 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#579438" fontcolor="#579438" id=edge_19741879 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d59bbcdc -> role_7473a504 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#579438" fontcolor="#579438" id=edge_2871eae1 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d59bbcdc -> role_1dc54352 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#579438" fontcolor="#579438" id=edge_18ce17a5 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d59bbcdc -> role_e7f2f17d [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#579438" fontcolor="#579438" id=edge_cc5f2e17 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d59bbcdc -> role_f1637be1 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#579438" fontcolor="#579438" id=edge_1ec166b1 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_d59bbcdc -> role_b1b64446 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#579438" fontcolor="#579438" id=edge_8932f602 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_47e0adc8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_47e0adc8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_8d912369 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#579438" id=role_8d912369 tooltip="Prepare environment if needed"]
		role_8d912369 -> role_47e0adc8 [label="1 " color="#579438" fontcolor="#579438" id=edge_7da8156d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_2949089d [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#579438" id=role_2949089d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_10cf25fb [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#579438" id=role_10cf25fb tooltip="Prepare services if needed"]
		role_10cf25fb -> role_8d912369 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_05510dc6 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_10cf25fb -> role_2949089d [label="2 " color="#579438" fontcolor="#579438" id=edge_2b9b09e5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2f033575 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=role_2f033575 tooltip="Create systemd service for podman container"]
		task_5b559355 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#579438" id=task_5b559355 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_2f033575 -> task_5b559355 [label="1 " color="#579438" fontcolor="#579438" id=edge_bd9c11ae labeltooltip="1 " tooltip="1 "]
		task_64425a7b [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#579438" id=task_64425a7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_2f033575 -> task_64425a7b [label="2 " color="#579438" fontcolor="#579438" id=edge_8e052fc0 labeltooltip="2 " tooltip="2 "]
		task_2417ef6b [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#579438" id=task_2417ef6b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_2f033575 -> task_2417ef6b [label="3 " color="#579438" fontcolor="#579438" id=edge_72f949bd labeltooltip="3 " tooltip="3 "]
		task_b96b60ab [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#579438" id=task_b96b60ab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_2f033575 -> task_b96b60ab [label="4 " color="#579438" fontcolor="#579438" id=edge_a84ec145 labeltooltip="4 " tooltip="4 "]
		task_2f4574b9 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#579438" id=task_2f4574b9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_2f033575 -> task_2f4574b9 [label="5 " color="#579438" fontcolor="#579438" id=edge_bee0c5fa labeltooltip="5 " tooltip="5 "]
		task_6abbf457 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#579438" id=task_6abbf457 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_2f033575 -> task_6abbf457 [label="6 " color="#579438" fontcolor="#579438" id=edge_2cbb643f labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_6a672275 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=role_6a672275 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_4879d26e [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/prepare_cluster.yml" color="#579438" id=role_4879d26e tooltip="Setup the cluster provision container"]
		task_e1b9d5f6 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_e1b9d5f6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_4879d26e -> task_e1b9d5f6 [label="1 " color="#579438" fontcolor="#579438" id=edge_d23eece8 labeltooltip="1 " tooltip="1 "]
		task_22c40607 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_22c40607 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_4879d26e -> task_22c40607 [label="2 " color="#579438" fontcolor="#579438" id=edge_e0975459 labeltooltip="2 " tooltip="2 "]
		task_cc913463 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_cc913463 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_4879d26e -> task_cc913463 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#579438" fontcolor="#579438" id=edge_f556cd2f labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_d1215d11 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_d1215d11 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_4879d26e -> task_d1215d11 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#579438" fontcolor="#579438" id=edge_0e1d5b6b labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_1385469d [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_1385469d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_4879d26e -> task_1385469d [label="5 [when: kubeinit_deployment_os == 'centos']" color="#579438" fontcolor="#579438" id=edge_d5e14d6b labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_58f868ff [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_58f868ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_4879d26e -> task_58f868ff [label="6 [when: kubeinit_deployment_os == 'debian']" color="#579438" fontcolor="#579438" id=edge_e63adea9 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_9684fd27 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_9684fd27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_4879d26e -> task_9684fd27 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#579438" fontcolor="#579438" id=edge_770dd20e labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_bbd0dda3 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_bbd0dda3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_4879d26e -> task_bbd0dda3 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#579438" fontcolor="#579438" id=edge_93545d3f labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_dbf30787 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_dbf30787 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_4879d26e -> task_dbf30787 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#579438" fontcolor="#579438" id=edge_319fcd4e labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_f80047bb [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_f80047bb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_4879d26e -> task_f80047bb [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#579438" fontcolor="#579438" id=edge_4bc0e73f labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_c1b3b0e9 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_c1b3b0e9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_4879d26e -> task_c1b3b0e9 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#579438" fontcolor="#579438" id=edge_e3e5bd1e labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_20513901 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_20513901 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_4879d26e -> task_20513901 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#579438" fontcolor="#579438" id=edge_5895ddde labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_26d92a41 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_26d92a41 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_4879d26e -> task_26d92a41 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#579438" fontcolor="#579438" id=edge_149e6872 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_961eb8b4 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_961eb8b4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_4879d26e -> task_961eb8b4 [label="14 " color="#579438" fontcolor="#579438" id=edge_9334ffce labeltooltip="14 " tooltip="14 "]
		task_1f0c492f [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_1f0c492f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_4879d26e -> task_1f0c492f [label="15 " color="#579438" fontcolor="#579438" id=edge_dff479fa labeltooltip="15 " tooltip="15 "]
		task_61bb6c6e [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_61bb6c6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_4879d26e -> task_61bb6c6e [label="16 " color="#579438" fontcolor="#579438" id=edge_9f75ad58 labeltooltip="16 " tooltip="16 "]
		task_f9308fb1 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_f9308fb1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_4879d26e -> task_f9308fb1 [label="17 " color="#579438" fontcolor="#579438" id=edge_ff58dc92 labeltooltip="17 " tooltip="17 "]
		task_68fee92a [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_68fee92a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_4879d26e -> task_68fee92a [label="18 " color="#579438" fontcolor="#579438" id=edge_2f29bcea labeltooltip="18 " tooltip="18 "]
		task_2c0e9bbf [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_2c0e9bbf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_4879d26e -> task_2c0e9bbf [label="19 " color="#579438" fontcolor="#579438" id=edge_3e4acd99 labeltooltip="19 " tooltip="19 "]
		task_934a7f6e [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_934a7f6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_4879d26e -> task_934a7f6e [label="20 " color="#579438" fontcolor="#579438" id=edge_4d5bde26 labeltooltip="20 " tooltip="20 "]
		task_04351dc1 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_04351dc1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_4879d26e -> task_04351dc1 [label="21 " color="#579438" fontcolor="#579438" id=edge_5044580d labeltooltip="21 " tooltip="21 "]
		task_a8c2e710 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_a8c2e710 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_4879d26e -> task_a8c2e710 [label="22 " color="#579438" fontcolor="#579438" id=edge_a8daac68 labeltooltip="22 " tooltip="22 "]
		role_4879d26e -> role_2f033575 [label="23 " color="#579438" fontcolor="#579438" id=edge_cc4c3d8e labeltooltip="23 " tooltip="23 "]
		task_6350d8ae [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_6350d8ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_4879d26e -> task_6350d8ae [label="24 " color="#579438" fontcolor="#579438" id=edge_f62bf27d labeltooltip="24 " tooltip="24 "]
		task_967f656e [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_967f656e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_4879d26e -> task_967f656e [label="25 " color="#579438" fontcolor="#579438" id=edge_b443ad9a labeltooltip="25 " tooltip="25 "]
		task_2960bc71 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_2960bc71 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_4879d26e -> task_2960bc71 [label="26 " color="#579438" fontcolor="#579438" id=edge_b257d698 labeltooltip="26 " tooltip="26 "]
		task_fb5af319 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_fb5af319 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_4879d26e -> task_fb5af319 [label="27 " color="#579438" fontcolor="#579438" id=edge_d32bda77 labeltooltip="27 " tooltip="27 "]
		task_0e77d914 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_0e77d914 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_4879d26e -> task_0e77d914 [label="28 " color="#579438" fontcolor="#579438" id=edge_db6c602a labeltooltip="28 " tooltip="28 "]
		task_d95f7e91 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_d95f7e91 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_4879d26e -> task_d95f7e91 [label="29 " color="#579438" fontcolor="#579438" id=edge_7a75beb8 labeltooltip="29 " tooltip="29 "]
		task_2bfc70da [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_2bfc70da shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_4879d26e -> task_2bfc70da [label="30 " color="#579438" fontcolor="#579438" id=edge_972c5a6a labeltooltip="30 " tooltip="30 "]
		task_aa49649b [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_aa49649b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_4879d26e -> task_aa49649b [label="31 " color="#579438" fontcolor="#579438" id=edge_1ff92e6c labeltooltip="31 " tooltip="31 "]
		task_95f72087 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_95f72087 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_4879d26e -> task_95f72087 [label="32 " color="#579438" fontcolor="#579438" id=edge_192c0f0c labeltooltip="32 " tooltip="32 "]
		task_ff81e75f [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_ff81e75f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_4879d26e -> task_ff81e75f [label="33 " color="#579438" fontcolor="#579438" id=edge_ecb877ad labeltooltip="33 " tooltip="33 "]
		task_9f5ecd21 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_9f5ecd21 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_4879d26e -> task_9f5ecd21 [label="34 " color="#579438" fontcolor="#579438" id=edge_592e1d44 labeltooltip="34 " tooltip="34 "]
		task_7e33702f [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_7e33702f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_4879d26e -> task_7e33702f [label="35 " color="#579438" fontcolor="#579438" id=edge_c408febc labeltooltip="35 " tooltip="35 "]
		task_3de6ecd3 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_3de6ecd3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_4879d26e -> task_3de6ecd3 [label="36 " color="#579438" fontcolor="#579438" id=edge_ef52e1f6 labeltooltip="36 " tooltip="36 "]
		task_b4339f92 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_b4339f92 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_4879d26e -> task_b4339f92 [label="37 " color="#579438" fontcolor="#579438" id=edge_93c3307b labeltooltip="37 " tooltip="37 "]
		task_28ea5997 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_28ea5997 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_4879d26e -> task_28ea5997 [label="38 " color="#579438" fontcolor="#579438" id=edge_1ca40b26 labeltooltip="38 " tooltip="38 "]
		task_1a829a7d [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_1a829a7d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_4879d26e -> task_1a829a7d [label="39 [when: kubeinit_deployment_os == 'centos']" color="#579438" fontcolor="#579438" id=edge_de7a66c6 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_634a9145 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_634a9145 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_4879d26e -> task_634a9145 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#579438" fontcolor="#579438" id=edge_8e785ac9 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_344c85fe [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_344c85fe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_4879d26e -> task_344c85fe [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#579438" fontcolor="#579438" id=edge_b30189a8 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_5f743665 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_5f743665 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_4879d26e -> task_5f743665 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#579438" fontcolor="#579438" id=edge_94427680 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_eeb2afec [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_eeb2afec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_4879d26e -> task_eeb2afec [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#579438" fontcolor="#579438" id=edge_6fdf3256 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_649bb5de [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_649bb5de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_4879d26e -> task_649bb5de [label="44 " color="#579438" fontcolor="#579438" id=edge_288909ba labeltooltip="44 " tooltip="44 "]
		task_f355ec75 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_f355ec75 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_4879d26e -> task_f355ec75 [label="45 " color="#579438" fontcolor="#579438" id=edge_ad0be5a8 labeltooltip="45 " tooltip="45 "]
		task_45c15307 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_45c15307 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_4879d26e -> task_45c15307 [label="46 " color="#579438" fontcolor="#579438" id=edge_b60d1176 labeltooltip="46 " tooltip="46 "]
		task_43f9d98f [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_43f9d98f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_4879d26e -> task_43f9d98f [label="47 " color="#579438" fontcolor="#579438" id=edge_5509b20f labeltooltip="47 " tooltip="47 "]
		task_729e5368 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_729e5368 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_4879d26e -> task_729e5368 [label="48 " color="#579438" fontcolor="#579438" id=edge_f81dc3fd labeltooltip="48 " tooltip="48 "]
		task_b71f9484 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_b71f9484 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
		role_4879d26e -> task_b71f9484 [label="49 " color="#579438" fontcolor="#579438" id=edge_691dcd3f labeltooltip="49 " tooltip="49 "]
		task_5af57832 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_5af57832 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_4879d26e -> task_5af57832 [label="50 " color="#579438" fontcolor="#579438" id=edge_f233be5a labeltooltip="50 " tooltip="50 "]
		task_8bfe7c16 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_8bfe7c16 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_4879d26e -> task_8bfe7c16 [label="51 " color="#579438" fontcolor="#579438" id=edge_9056df3e labeltooltip="51 " tooltip="51 "]
		task_711c4f6d [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_711c4f6d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_4879d26e -> task_711c4f6d [label="52 " color="#579438" fontcolor="#579438" id=edge_b89000ec labeltooltip="52 " tooltip="52 "]
		task_3b1a4d78 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#579438" id=task_3b1a4d78 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_4879d26e -> task_3b1a4d78 [label="53 " color="#579438" fontcolor="#579438" id=edge_02901ae3 labeltooltip="53 " tooltip="53 "]
		role_4879d26e -> role_6a672275 [label="54 " color="#579438" fontcolor="#579438" id=edge_471a263d labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_c7e5e5b6 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#579438" id=role_c7e5e5b6 tooltip="Delegate to the distro role to prepare the cluster"]
		role_c7e5e5b6 -> role_4879d26e [label="1 " color="#579438" fontcolor="#579438" id=edge_837a58c7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_494b727d [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_494b727d tooltip="task-prepare-cluster"]
		role_494b727d -> role_10cf25fb [label="1 [when: not services_prepared]" color="#579438" fontcolor="#579438" id=edge_316bb1ec labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_494b727d -> role_c7e5e5b6 [label="2 " color="#579438" fontcolor="#579438" id=edge_a174f391 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_a6292acc [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_a6292acc tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_62d5bd76 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#579438" id=role_62d5bd76 tooltip="Prepare environment if not prepared"]
		role_62d5bd76 -> role_a6292acc [label="1 " color="#579438" fontcolor="#579438" id=edge_25a46710 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_ffa92774 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_ffa92774 tooltip="task-download-images"]
		role_ffa92774 -> role_62d5bd76 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_b8c89b1f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_15a14442 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_15a14442 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_cbd9f469 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#579438" id=role_cbd9f469 tooltip="Prepare environment if needed"]
		role_cbd9f469 -> role_15a14442 [label="1 " color="#579438" fontcolor="#579438" id=edge_8dfa15c3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_53ee2316 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#579438" id=role_53ee2316 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_bfc0355b [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#579438" id=role_bfc0355b tooltip="Prepare services if needed"]
		role_bfc0355b -> role_cbd9f469 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_e31addc8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bfc0355b -> role_53ee2316 [label="2 " color="#579438" fontcolor="#579438" id=edge_72db728f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_40d31035 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/main.yml" color="#579438" id=role_40d31035 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_e6f447ab [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#579438" id=role_e6f447ab tooltip="Delegate to the distro role to deploy the cluster"]
		role_e6f447ab -> role_40d31035 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#579438" fontcolor="#579438" id=edge_5fff7335 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_f6e77b53 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_f6e77b53 tooltip="task-deploy-cluster"]
		role_f6e77b53 -> role_bfc0355b [label="1 [when: not services_prepared]" color="#579438" fontcolor="#579438" id=edge_9ac808a3 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f6e77b53 -> role_e6f447ab [label="2 " color="#579438" fontcolor="#579438" id=edge_1dea5235 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_5d32f7cf [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#579438" id=role_5d32f7cf tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_d01ff740 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#579438" id=role_d01ff740 tooltip="Prepare environment if needed"]
		role_d01ff740 -> role_5d32f7cf [label="1 " color="#579438" fontcolor="#579438" id=edge_e079bca2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_ebeb376d [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#579438" id=role_ebeb376d tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_5cb2db16 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#579438" id=role_5cb2db16 tooltip="Prepare services if needed"]
		role_5cb2db16 -> role_d01ff740 [label="1 [when: not environment_prepared]" color="#579438" fontcolor="#579438" id=edge_47492bb2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5cb2db16 -> role_ebeb376d [label="2 " color="#579438" fontcolor="#579438" id=edge_356dc05a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_e841286c [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/post_deployment_tasks.yml" color="#579438" id=role_e841286c tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_4d2898e6 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/post_deployment_tasks.yml" color="#579438" id=role_4d2898e6 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_98008fef [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#579438" id=role_98008fef tooltip="Delegate to distro role to run post-deployment tasks"]
		role_98008fef -> role_e841286c [label="1 " color="#579438" fontcolor="#579438" id=edge_be3226cf labeltooltip="1 " tooltip="1 "]
		role_98008fef -> role_4d2898e6 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#579438" fontcolor="#579438" id=edge_6f340271 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_6ff77698 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=role_6ff77698 tooltip="task-post-deployment"]
		role_6ff77698 -> role_5cb2db16 [label="1 [when: not services_prepared]" color="#579438" fontcolor="#579438" id=edge_28e57b01 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_6ff77698 -> role_98008fef [label="2 " color="#579438" fontcolor="#579438" id=edge_1fc8c634 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_bbd77e9f -> block_41e461b5 [label=1 color="#579438" fontcolor="#579438" id=edge_de6dd246 labeltooltip=1 tooltip=1]
		subgraph cluster_block_41e461b5 {
			block_41e461b5 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_41e461b5 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_41e461b5 -> role_30e08271 [label="1 " color="#579438" fontcolor="#579438" id=edge_11f7484b labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_194e9e15 [label=2 color="#579438" fontcolor="#579438" id=edge_f0688630 labeltooltip=2 tooltip=2]
		subgraph cluster_block_194e9e15 {
			block_194e9e15 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_194e9e15 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_194e9e15 -> role_b6af4c2c [label="1 " color="#579438" fontcolor="#579438" id=edge_91d6130f labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_6d5b928d [label=3 color="#579438" fontcolor="#579438" id=edge_aff2f1d3 labeltooltip=3 tooltip=3]
		subgraph cluster_block_6d5b928d {
			block_6d5b928d [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_6d5b928d labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_6d5b928d -> role_ccd55fe2 [label="1 " color="#579438" fontcolor="#579438" id=edge_ade6797a labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_c9e5bbd3 [label=4 color="#579438" fontcolor="#579438" id=edge_a29418d2 labeltooltip=4 tooltip=4]
		subgraph cluster_block_c9e5bbd3 {
			block_c9e5bbd3 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_c9e5bbd3 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_c9e5bbd3 -> role_9c07adbc [label="1 " color="#579438" fontcolor="#579438" id=edge_e33906c3 labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_6fa2b621 [label=5 color="#579438" fontcolor="#579438" id=edge_5493ba59 labeltooltip=5 tooltip=5]
		subgraph cluster_block_6fa2b621 {
			block_6fa2b621 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_6fa2b621 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_6fa2b621 -> role_d59bbcdc [label="1 " color="#579438" fontcolor="#579438" id=edge_68839a48 labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_00595778 [label=6 color="#579438" fontcolor="#579438" id=edge_f72821e7 labeltooltip=6 tooltip=6]
		subgraph cluster_block_00595778 {
			block_00595778 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_00595778 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_00595778 -> role_494b727d [label="1 " color="#579438" fontcolor="#579438" id=edge_bbbd4061 labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_1b875496 [label=7 color="#579438" fontcolor="#579438" id=edge_967054ed labeltooltip=7 tooltip=7]
		subgraph cluster_block_1b875496 {
			block_1b875496 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_1b875496 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_1b875496 -> role_ffa92774 [label="1 " color="#579438" fontcolor="#579438" id=edge_97926d8a labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_94f01977 [label=8 color="#579438" fontcolor="#579438" id=edge_8d92d5eb labeltooltip=8 tooltip=8]
		subgraph cluster_block_94f01977 {
			block_94f01977 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_94f01977 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_94f01977 -> role_f6e77b53 [label="1 " color="#579438" fontcolor="#579438" id=edge_da103c3a labeltooltip="1 " tooltip="1 "]
		}
		play_bbd77e9f -> block_17260b6d [label=9 color="#579438" fontcolor="#579438" id=edge_f3a044fd labeltooltip=9 tooltip=9]
		subgraph cluster_block_17260b6d {
			block_17260b6d [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#579438" id=block_17260b6d labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_17260b6d -> role_6ff77698 [label="1 " color="#579438" fontcolor="#579438" id=edge_7c27f36d labeltooltip="1 " tooltip="1 "]
		}
	}
}
