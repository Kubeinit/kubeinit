digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_05aea147 style=dotted]
	play_8e19a7df [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#97353c" fontcolor="#ffffff" id=play_8e19a7df shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_8e19a7df [label="1 " color="#97353c" fontcolor="#97353c" id=edge_9086992d labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_ffc9b306 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#97353c" id=role_ffc9b306 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6fb07cbd [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#97353c" id=role_6fb07cbd tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_6819257a [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#97353c" id=role_6819257a tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_909740f2 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#97353c" id=role_909740f2 tooltip="task-gather-facts"]
		role_909740f2 -> role_ffc9b306 [label="1 " color="#97353c" fontcolor="#97353c" id=edge_1ae606bf labeltooltip="1 " tooltip="1 "]
		role_909740f2 -> role_6fb07cbd [label="2 " color="#97353c" fontcolor="#97353c" id=edge_8bc53f01 labeltooltip="2 " tooltip="2 "]
		role_909740f2 -> role_6819257a [label="3 " color="#97353c" fontcolor="#97353c" id=edge_e3d381a3 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_8e19a7df -> block_a1088e47 [label=1 color="#97353c" fontcolor="#97353c" id=edge_c43016cf labeltooltip=1 tooltip=1]
		subgraph cluster_block_a1088e47 {
			block_a1088e47 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#97353c" id=block_a1088e47 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_a1088e47 -> role_909740f2 [label="1 " color="#97353c" fontcolor="#97353c" id=edge_e9bd171e labeltooltip="1 " tooltip="1 "]
		}
	}
	play_2b0cb935 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28bf0d" fontcolor="#ffffff" id=play_2b0cb935 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_2b0cb935 [label="2 " color="#28bf0d" fontcolor="#28bf0d" id=edge_e35fdb37 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_d0417972 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28bf0d" id=role_d0417972 tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_2b0cb935 -> block_5b707b91 [label=1 color="#28bf0d" fontcolor="#28bf0d" id=edge_bf3dd9b3 labeltooltip=1 tooltip=1]
		subgraph cluster_block_5b707b91 {
			block_5b707b91 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#28bf0d" id=block_5b707b91 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_5b707b91 -> role_d0417972 [label="1 " color="#28bf0d" fontcolor="#28bf0d" id=edge_464eae99 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ce6ad7af [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5e9537" fontcolor="#ffffff" id=play_ce6ad7af shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_ce6ad7af [label="3 " color="#5e9537" fontcolor="#5e9537" id=edge_16f6b407 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_9b3f958c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5e9537" id=role_9b3f958c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_3857f96f [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5e9537" id=role_3857f96f tooltip="Gather facts to prepare the cluster hypervisors"]
		role_3857f96f -> role_9b3f958c [label="1 " color="#5e9537" fontcolor="#5e9537" id=edge_c34fd200 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_0b9e5954 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#5e9537" id=role_0b9e5954 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_1660e367 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5e9537" id=role_1660e367 tooltip="task-prepare-hypervisors"]
		role_1660e367 -> role_0b9e5954 [label="1 " color="#5e9537" fontcolor="#5e9537" id=edge_4a3980f3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_ce6ad7af -> block_cefbe08d [label=1 color="#5e9537" fontcolor="#5e9537" id=edge_2fc5f65b labeltooltip=1 tooltip=1]
		subgraph cluster_block_cefbe08d {
			block_cefbe08d [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5e9537" id=block_cefbe08d labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_cefbe08d -> role_3857f96f [label="1 " color="#5e9537" fontcolor="#5e9537" id=edge_da631d71 labeltooltip="1 " tooltip="1 "]
		}
		play_ce6ad7af -> block_aca8e133 [label=2 color="#5e9537" fontcolor="#5e9537" id=edge_008180cb labeltooltip=2 tooltip=2]
		subgraph cluster_block_aca8e133 {
			block_aca8e133 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#5e9537" id=block_aca8e133 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_aca8e133 -> role_1660e367 [label="1 " color="#5e9537" fontcolor="#5e9537" id=edge_a956ce40 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_2579e399 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#547870" fontcolor="#ffffff" id=play_2579e399 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_2579e399 [label="4 " color="#547870" fontcolor="#547870" id=edge_26c2763d labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_0f56ec0c [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#547870" id=role_0f56ec0c tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_956c059b [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#547870" id=role_956c059b tooltip="Prepare each hypervisor in the deployment"]
		role_956c059b -> role_0f56ec0c [label="1 " color="#547870" fontcolor="#547870" id=edge_c8f6434c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_2579e399 -> block_7c864b29 [label=1 color="#547870" fontcolor="#547870" id=edge_37424d4e labeltooltip=1 tooltip=1]
		subgraph cluster_block_7c864b29 {
			block_7c864b29 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#547870" id=block_7c864b29 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_7c864b29 -> role_956c059b [label="1 " color="#547870" fontcolor="#547870" id=edge_b569c9b8 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_e73021e5 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" fontcolor="#ffffff" id=play_e73021e5 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e73021e5 [label="5 " color="#cb5d01" fontcolor="#cb5d01" id=edge_fa6d0c5e labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_86920c5a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_86920c5a tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_144bbb32 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_144bbb32 tooltip="task-prepare-environment"]
		role_144bbb32 -> role_86920c5a [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_cca491de labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_8802b99e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_8802b99e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_97d5aac5 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#cb5d01" id=role_97d5aac5 tooltip="Prepare environment if not prepared"]
		role_97d5aac5 -> role_8802b99e [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_1bda91ac labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_e05238c7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#cb5d01" id=role_e05238c7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_5d708a29 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_5d708a29 tooltip="task-cleanup-hypervisors"]
		role_5d708a29 -> role_97d5aac5 [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_6768768d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5d708a29 -> role_e05238c7 [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_8c399682 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_57524b80 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_57524b80 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_7040a8f1 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#cb5d01" id=role_7040a8f1 tooltip="Prepare environment if not prepared"]
		role_7040a8f1 -> role_57524b80 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_3c5f782a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7cbb86a7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#cb5d01" id=role_7cbb86a7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_0bc3923b [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#cb5d01" id=role_0bc3923b tooltip="Cleanup hypervisors if needed"]
		role_0bc3923b -> role_7040a8f1 [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_c9041481 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0bc3923b -> role_7cbb86a7 [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_51dcfc88 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_dcdedf3c [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_dcdedf3c tooltip="task-run-validations"]
		role_dcdedf3c -> role_0bc3923b [label="1 [when: not hypervisors_cleaned]" color="#cb5d01" fontcolor="#cb5d01" id=edge_8f6d56d9 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_def63ceb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_def63ceb tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9e4f070a [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#cb5d01" id=role_9e4f070a tooltip="Prepare environment if not prepared"]
		role_9e4f070a -> role_def63ceb [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_60653449 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_fec848be [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#cb5d01" id=role_fec848be tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_7d1e1a81 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#cb5d01" id=role_7d1e1a81 tooltip="Cleanup hypervisors if needed"]
		role_7d1e1a81 -> role_9e4f070a [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_875b63e8 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7d1e1a81 -> role_fec848be [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_539c2aaa labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_7b98b945 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_7b98b945 tooltip="task-create-network"]
		role_7b98b945 -> role_7d1e1a81 [label="1 [when: not hypervisors_cleaned]" color="#cb5d01" fontcolor="#cb5d01" id=edge_cdda951c labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_b8fb591e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_b8fb591e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f3aec51c [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#cb5d01" id=role_f3aec51c tooltip="Prepare environment if not prepared"]
		role_f3aec51c -> role_b8fb591e [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_b3d0b23f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_908f9354 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#cb5d01" id=role_908f9354 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_9fda352d [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#cb5d01" id=role_9fda352d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_1002b539 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#cb5d01" id=role_1002b539 tooltip="Configure Bind"]
		role_1002b539 -> role_9fda352d [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_2900a4cd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8aee8dd7 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#cb5d01" id=role_8aee8dd7 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_97dae5b8 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#cb5d01" id=role_97dae5b8 tooltip="Configure Dnsmasq"]
		role_97dae5b8 -> role_8aee8dd7 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_aea98261 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_432ea121 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#cb5d01" id=role_432ea121 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_a8c078fa [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#cb5d01" id=role_a8c078fa tooltip="Configure HAProxy"]
		role_a8c078fa -> role_432ea121 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_6707db62 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_baabbc8d [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#cb5d01" id=role_baabbc8d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_83fff094 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#cb5d01" id=role_83fff094 tooltip="Configure Nexus"]
		role_83fff094 -> role_baabbc8d [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_85512909 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_24bec76f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#cb5d01" id=role_24bec76f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_ccecf3c3 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#cb5d01" id=role_ccecf3c3 tooltip="Configure Apache"]
		role_ccecf3c3 -> role_24bec76f [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_43b27b26 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2c641c51 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#cb5d01" id=role_2c641c51 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_e720a9d9 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#cb5d01" id=role_e720a9d9 tooltip="Configure a local container image registry"]
		role_e720a9d9 -> role_2c641c51 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_1b93ec22 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_c249c043 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_c249c043 tooltip="task-create-services"]
		role_c249c043 -> role_f3aec51c [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_e1bbd8cf labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c249c043 -> role_908f9354 [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_699fbdc4 labeltooltip="2 " tooltip="2 "]
		role_c249c043 -> role_1002b539 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#cb5d01" fontcolor="#cb5d01" id=edge_caedee75 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c249c043 -> role_97dae5b8 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#cb5d01" fontcolor="#cb5d01" id=edge_58ef8c68 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c249c043 -> role_a8c078fa [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#cb5d01" fontcolor="#cb5d01" id=edge_b6a5f7e5 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c249c043 -> role_83fff094 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#cb5d01" fontcolor="#cb5d01" id=edge_b8fb7b70 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c249c043 -> role_ccecf3c3 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#cb5d01" fontcolor="#cb5d01" id=edge_6f87593e labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_c249c043 -> role_e720a9d9 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#cb5d01" fontcolor="#cb5d01" id=edge_e3377cc4 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_5736242a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_5736242a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_14db363f [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#cb5d01" id=role_14db363f tooltip="Prepare environment if needed"]
		role_14db363f -> role_5736242a [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_57a4f51a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_1443d08b [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#cb5d01" id=role_1443d08b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_eb22f260 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#cb5d01" id=role_eb22f260 tooltip="Prepare services if needed"]
		role_eb22f260 -> role_14db363f [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_e78f5ee5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_eb22f260 -> role_1443d08b [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_6a7c0920 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7ef15ccc [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=role_7ef15ccc tooltip="Create systemd service for podman container"]
		task_2ab25a51 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#cb5d01" id=task_2ab25a51 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_7ef15ccc -> task_2ab25a51 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_cdf57611 labeltooltip="1 " tooltip="1 "]
		task_f9385aac [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#cb5d01" id=task_f9385aac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_7ef15ccc -> task_f9385aac [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_a39a1ca6 labeltooltip="2 " tooltip="2 "]
		task_c1dff238 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#cb5d01" id=task_c1dff238 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_7ef15ccc -> task_c1dff238 [label="3 " color="#cb5d01" fontcolor="#cb5d01" id=edge_57c355e6 labeltooltip="3 " tooltip="3 "]
		task_7a719ef2 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#cb5d01" id=task_7a719ef2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_7ef15ccc -> task_7a719ef2 [label="4 " color="#cb5d01" fontcolor="#cb5d01" id=edge_c9db1783 labeltooltip="4 " tooltip="4 "]
		task_ac1d9c9b [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#cb5d01" id=task_ac1d9c9b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_7ef15ccc -> task_ac1d9c9b [label="5 " color="#cb5d01" fontcolor="#cb5d01" id=edge_a4669ce7 labeltooltip="5 " tooltip="5 "]
		task_b077e0db [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#cb5d01" id=task_b077e0db shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_7ef15ccc -> task_b077e0db [label="6 " color="#cb5d01" fontcolor="#cb5d01" id=edge_1a36a3ca labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_529e58d2 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=role_529e58d2 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_9c58fe2c [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/prepare_cluster.yml" color="#cb5d01" id=role_9c58fe2c tooltip="Setup the cluster provision container"]
		task_c3b7ea6f [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_c3b7ea6f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_9c58fe2c -> task_c3b7ea6f [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_0c12ce70 labeltooltip="1 " tooltip="1 "]
		task_d8a7505e [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_d8a7505e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_9c58fe2c -> task_d8a7505e [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_f2558a6a labeltooltip="2 " tooltip="2 "]
		task_0d171c5e [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_0d171c5e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_9c58fe2c -> task_0d171c5e [label="3 [when: kubeinit_deployment_os == 'centos']" color="#cb5d01" fontcolor="#cb5d01" id=edge_cf74f5b3 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_0ef8dccb [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_0ef8dccb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_9c58fe2c -> task_0ef8dccb [label="4 [when: kubeinit_deployment_os == 'centos']" color="#cb5d01" fontcolor="#cb5d01" id=edge_9b923a7f labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_a02351cc [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_a02351cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_9c58fe2c -> task_a02351cc [label="5 [when: kubeinit_deployment_os == 'centos']" color="#cb5d01" fontcolor="#cb5d01" id=edge_dc0f55b5 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_55bf10ff [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_55bf10ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_9c58fe2c -> task_55bf10ff [label="6 [when: kubeinit_deployment_os == 'debian']" color="#cb5d01" fontcolor="#cb5d01" id=edge_d6d46eb1 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_6e20ad98 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_6e20ad98 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_9c58fe2c -> task_6e20ad98 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#cb5d01" fontcolor="#cb5d01" id=edge_452d55ab labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_f9ab9aec [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_f9ab9aec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_9c58fe2c -> task_f9ab9aec [label="8 [when: kubeinit_deployment_os == 'debian']" color="#cb5d01" fontcolor="#cb5d01" id=edge_8c2200e1 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_05883bcc [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_05883bcc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_9c58fe2c -> task_05883bcc [label="9 [when: kubeinit_deployment_os == 'debian']" color="#cb5d01" fontcolor="#cb5d01" id=edge_b99e953a labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_53fa5298 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_53fa5298 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_9c58fe2c -> task_53fa5298 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#cb5d01" fontcolor="#cb5d01" id=edge_351eafec labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_3ca9d12e [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_3ca9d12e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_9c58fe2c -> task_3ca9d12e [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#cb5d01" fontcolor="#cb5d01" id=edge_9b98b912 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_2cfaa191 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_2cfaa191 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_9c58fe2c -> task_2cfaa191 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#cb5d01" fontcolor="#cb5d01" id=edge_9602b0fb labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_682c961b [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_682c961b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_9c58fe2c -> task_682c961b [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#cb5d01" fontcolor="#cb5d01" id=edge_d362d81a labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_edd9d6b8 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_edd9d6b8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_9c58fe2c -> task_edd9d6b8 [label="14 " color="#cb5d01" fontcolor="#cb5d01" id=edge_28c31825 labeltooltip="14 " tooltip="14 "]
		task_9baf0c1f [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_9baf0c1f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_9c58fe2c -> task_9baf0c1f [label="15 " color="#cb5d01" fontcolor="#cb5d01" id=edge_8a266e50 labeltooltip="15 " tooltip="15 "]
		task_fdf7ac9a [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_fdf7ac9a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_9c58fe2c -> task_fdf7ac9a [label="16 " color="#cb5d01" fontcolor="#cb5d01" id=edge_f95b2e53 labeltooltip="16 " tooltip="16 "]
		task_41e15e53 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_41e15e53 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_9c58fe2c -> task_41e15e53 [label="17 " color="#cb5d01" fontcolor="#cb5d01" id=edge_8f64a810 labeltooltip="17 " tooltip="17 "]
		task_4fd4dc51 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_4fd4dc51 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_9c58fe2c -> task_4fd4dc51 [label="18 " color="#cb5d01" fontcolor="#cb5d01" id=edge_175347a8 labeltooltip="18 " tooltip="18 "]
		task_44777559 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_44777559 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_9c58fe2c -> task_44777559 [label="19 " color="#cb5d01" fontcolor="#cb5d01" id=edge_72e37e1a labeltooltip="19 " tooltip="19 "]
		task_7c10fd75 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_7c10fd75 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_9c58fe2c -> task_7c10fd75 [label="20 " color="#cb5d01" fontcolor="#cb5d01" id=edge_dd284b50 labeltooltip="20 " tooltip="20 "]
		task_68cc2626 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_68cc2626 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_9c58fe2c -> task_68cc2626 [label="21 " color="#cb5d01" fontcolor="#cb5d01" id=edge_ccdb90ba labeltooltip="21 " tooltip="21 "]
		task_fe072ff3 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_fe072ff3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_9c58fe2c -> task_fe072ff3 [label="22 " color="#cb5d01" fontcolor="#cb5d01" id=edge_4815143d labeltooltip="22 " tooltip="22 "]
		role_9c58fe2c -> role_7ef15ccc [label="23 " color="#cb5d01" fontcolor="#cb5d01" id=edge_51935260 labeltooltip="23 " tooltip="23 "]
		task_b07eea6f [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_b07eea6f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_9c58fe2c -> task_b07eea6f [label="24 " color="#cb5d01" fontcolor="#cb5d01" id=edge_d63a0b96 labeltooltip="24 " tooltip="24 "]
		task_41a58c58 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_41a58c58 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_9c58fe2c -> task_41a58c58 [label="25 " color="#cb5d01" fontcolor="#cb5d01" id=edge_2c7bcc69 labeltooltip="25 " tooltip="25 "]
		task_4e0da824 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_4e0da824 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_9c58fe2c -> task_4e0da824 [label="26 " color="#cb5d01" fontcolor="#cb5d01" id=edge_868761cd labeltooltip="26 " tooltip="26 "]
		task_8c8f17a6 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_8c8f17a6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_9c58fe2c -> task_8c8f17a6 [label="27 " color="#cb5d01" fontcolor="#cb5d01" id=edge_bce75bc6 labeltooltip="27 " tooltip="27 "]
		task_527318f6 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_527318f6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_9c58fe2c -> task_527318f6 [label="28 " color="#cb5d01" fontcolor="#cb5d01" id=edge_d16b7c50 labeltooltip="28 " tooltip="28 "]
		task_81911b10 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_81911b10 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_9c58fe2c -> task_81911b10 [label="29 " color="#cb5d01" fontcolor="#cb5d01" id=edge_4f8662a0 labeltooltip="29 " tooltip="29 "]
		task_af40ca20 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_af40ca20 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_9c58fe2c -> task_af40ca20 [label="30 " color="#cb5d01" fontcolor="#cb5d01" id=edge_4d7fe874 labeltooltip="30 " tooltip="30 "]
		task_77b07eb9 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_77b07eb9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_9c58fe2c -> task_77b07eb9 [label="31 " color="#cb5d01" fontcolor="#cb5d01" id=edge_17a10fdf labeltooltip="31 " tooltip="31 "]
		task_3394d310 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_3394d310 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_9c58fe2c -> task_3394d310 [label="32 " color="#cb5d01" fontcolor="#cb5d01" id=edge_c0f349a6 labeltooltip="32 " tooltip="32 "]
		task_a7808971 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_a7808971 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_9c58fe2c -> task_a7808971 [label="33 " color="#cb5d01" fontcolor="#cb5d01" id=edge_de4b089c labeltooltip="33 " tooltip="33 "]
		task_a2d71018 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_a2d71018 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_9c58fe2c -> task_a2d71018 [label="34 " color="#cb5d01" fontcolor="#cb5d01" id=edge_3ce69feb labeltooltip="34 " tooltip="34 "]
		task_fc45fd18 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_fc45fd18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_9c58fe2c -> task_fc45fd18 [label="35 " color="#cb5d01" fontcolor="#cb5d01" id=edge_99ac0bd9 labeltooltip="35 " tooltip="35 "]
		task_95b0ed0c [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_95b0ed0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_9c58fe2c -> task_95b0ed0c [label="36 " color="#cb5d01" fontcolor="#cb5d01" id=edge_e0be1442 labeltooltip="36 " tooltip="36 "]
		task_adf0c19a [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_adf0c19a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_9c58fe2c -> task_adf0c19a [label="37 " color="#cb5d01" fontcolor="#cb5d01" id=edge_a345a95b labeltooltip="37 " tooltip="37 "]
		task_80a53a6f [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_80a53a6f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_9c58fe2c -> task_80a53a6f [label="38 " color="#cb5d01" fontcolor="#cb5d01" id=edge_f142cc25 labeltooltip="38 " tooltip="38 "]
		task_a7d583f1 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_a7d583f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_9c58fe2c -> task_a7d583f1 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#cb5d01" fontcolor="#cb5d01" id=edge_7f938f54 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_1490f76f [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_1490f76f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_9c58fe2c -> task_1490f76f [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#cb5d01" fontcolor="#cb5d01" id=edge_a00fee91 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_36ba3145 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_36ba3145 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_9c58fe2c -> task_36ba3145 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#cb5d01" fontcolor="#cb5d01" id=edge_59d7a151 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_16527273 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_16527273 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_9c58fe2c -> task_16527273 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#cb5d01" fontcolor="#cb5d01" id=edge_0195a0ce labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_e516aa9e [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_e516aa9e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_9c58fe2c -> task_e516aa9e [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#cb5d01" fontcolor="#cb5d01" id=edge_9153364d labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_b5f976cc [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_b5f976cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_9c58fe2c -> task_b5f976cc [label="44 " color="#cb5d01" fontcolor="#cb5d01" id=edge_f9fccc56 labeltooltip="44 " tooltip="44 "]
		task_1d22140f [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_1d22140f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_9c58fe2c -> task_1d22140f [label="45 " color="#cb5d01" fontcolor="#cb5d01" id=edge_4e14ec92 labeltooltip="45 " tooltip="45 "]
		task_7aaaae81 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_7aaaae81 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_9c58fe2c -> task_7aaaae81 [label="46 " color="#cb5d01" fontcolor="#cb5d01" id=edge_0847c572 labeltooltip="46 " tooltip="46 "]
		task_c776f743 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_c776f743 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_9c58fe2c -> task_c776f743 [label="47 " color="#cb5d01" fontcolor="#cb5d01" id=edge_e7694a36 labeltooltip="47 " tooltip="47 "]
		task_059ca7e8 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_059ca7e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_9c58fe2c -> task_059ca7e8 [label="48 " color="#cb5d01" fontcolor="#cb5d01" id=edge_986c23e6 labeltooltip="48 " tooltip="48 "]
		task_6a76e3f3 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_6a76e3f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
		role_9c58fe2c -> task_6a76e3f3 [label="49 " color="#cb5d01" fontcolor="#cb5d01" id=edge_d362af6a labeltooltip="49 " tooltip="49 "]
		task_415180be [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_415180be shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_9c58fe2c -> task_415180be [label="50 " color="#cb5d01" fontcolor="#cb5d01" id=edge_fd083156 labeltooltip="50 " tooltip="50 "]
		task_ae043fe6 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_ae043fe6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_9c58fe2c -> task_ae043fe6 [label="51 " color="#cb5d01" fontcolor="#cb5d01" id=edge_20bcbbb9 labeltooltip="51 " tooltip="51 "]
		task_ac44efbf [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_ac44efbf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_9c58fe2c -> task_ac44efbf [label="52 " color="#cb5d01" fontcolor="#cb5d01" id=edge_cbe887bd labeltooltip="52 " tooltip="52 "]
		task_ed1a76de [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#cb5d01" id=task_ed1a76de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_9c58fe2c -> task_ed1a76de [label="53 " color="#cb5d01" fontcolor="#cb5d01" id=edge_3de8e7bd labeltooltip="53 " tooltip="53 "]
		role_9c58fe2c -> role_529e58d2 [label="54 " color="#cb5d01" fontcolor="#cb5d01" id=edge_936da3ae labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_6bbb4557 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#cb5d01" id=role_6bbb4557 tooltip="Delegate to the distro role to prepare the cluster"]
		role_6bbb4557 -> role_9c58fe2c [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_3ad48568 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_ecbe1d6c [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_ecbe1d6c tooltip="task-prepare-cluster"]
		role_ecbe1d6c -> role_eb22f260 [label="1 [when: not services_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_53b89603 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_ecbe1d6c -> role_6bbb4557 [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_93304c17 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e68cd915 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_e68cd915 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_91726318 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#cb5d01" id=role_91726318 tooltip="Prepare environment if not prepared"]
		role_91726318 -> role_e68cd915 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_01226c74 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_4f06f751 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_4f06f751 tooltip="task-download-images"]
		role_4f06f751 -> role_91726318 [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_ada852f9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_118fea40 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_118fea40 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_9bdc4736 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#cb5d01" id=role_9bdc4736 tooltip="Prepare environment if needed"]
		role_9bdc4736 -> role_118fea40 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_b278ac53 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_b847de86 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#cb5d01" id=role_b847de86 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_5ebcce8f [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#cb5d01" id=role_5ebcce8f tooltip="Prepare services if needed"]
		role_5ebcce8f -> role_9bdc4736 [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_cee7089c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5ebcce8f -> role_b847de86 [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_096fb5dd labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_a99fb912 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/main.yml" color="#cb5d01" id=role_a99fb912 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_90328519 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#cb5d01" id=role_90328519 tooltip="Delegate to the distro role to deploy the cluster"]
		role_90328519 -> role_a99fb912 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#cb5d01" fontcolor="#cb5d01" id=edge_8ea8d3b1 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_07029eb6 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_07029eb6 tooltip="task-deploy-cluster"]
		role_07029eb6 -> role_5ebcce8f [label="1 [when: not services_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_1053d95f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_07029eb6 -> role_90328519 [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_89bd99eb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_2aaa1630 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#cb5d01" id=role_2aaa1630 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_5136d4c8 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#cb5d01" id=role_5136d4c8 tooltip="Prepare environment if needed"]
		role_5136d4c8 -> role_2aaa1630 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_15a93ffa labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_b87169bd [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#cb5d01" id=role_b87169bd tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_4fcf3f40 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#cb5d01" id=role_4fcf3f40 tooltip="Prepare services if needed"]
		role_4fcf3f40 -> role_5136d4c8 [label="1 [when: not environment_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_4b7a4797 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4fcf3f40 -> role_b87169bd [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_7367e432 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_554f5adf [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/post_deployment_tasks.yml" color="#cb5d01" id=role_554f5adf tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_c7ececee [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_cdk/tasks/post_deployment_tasks.yml" color="#cb5d01" id=role_c7ececee tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_88f28ef2 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#cb5d01" id=role_88f28ef2 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_88f28ef2 -> role_554f5adf [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_27b5a201 labeltooltip="1 " tooltip="1 "]
		role_88f28ef2 -> role_c7ececee [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#cb5d01" fontcolor="#cb5d01" id=edge_c5dbcc5b labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_79f3c4c0 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=role_79f3c4c0 tooltip="task-post-deployment"]
		role_79f3c4c0 -> role_4fcf3f40 [label="1 [when: not services_prepared]" color="#cb5d01" fontcolor="#cb5d01" id=edge_be47b8e4 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_79f3c4c0 -> role_88f28ef2 [label="2 " color="#cb5d01" fontcolor="#cb5d01" id=edge_35a081d1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_e73021e5 -> block_923658c2 [label=1 color="#cb5d01" fontcolor="#cb5d01" id=edge_4c39b58b labeltooltip=1 tooltip=1]
		subgraph cluster_block_923658c2 {
			block_923658c2 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_923658c2 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_923658c2 -> role_144bbb32 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_cf5a985d labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_d6602dc0 [label=2 color="#cb5d01" fontcolor="#cb5d01" id=edge_fc031767 labeltooltip=2 tooltip=2]
		subgraph cluster_block_d6602dc0 {
			block_d6602dc0 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_d6602dc0 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_d6602dc0 -> role_5d708a29 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_9c0a9c92 labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_c674da07 [label=3 color="#cb5d01" fontcolor="#cb5d01" id=edge_0d5982be labeltooltip=3 tooltip=3]
		subgraph cluster_block_c674da07 {
			block_c674da07 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_c674da07 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_c674da07 -> role_dcdedf3c [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_26c5dad8 labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_026b815a [label=4 color="#cb5d01" fontcolor="#cb5d01" id=edge_f887255c labeltooltip=4 tooltip=4]
		subgraph cluster_block_026b815a {
			block_026b815a [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_026b815a labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_026b815a -> role_7b98b945 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_2e6639d9 labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_6c5eb346 [label=5 color="#cb5d01" fontcolor="#cb5d01" id=edge_0bf7daa6 labeltooltip=5 tooltip=5]
		subgraph cluster_block_6c5eb346 {
			block_6c5eb346 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_6c5eb346 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_6c5eb346 -> role_c249c043 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_817fadef labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_618c1a89 [label=6 color="#cb5d01" fontcolor="#cb5d01" id=edge_27565537 labeltooltip=6 tooltip=6]
		subgraph cluster_block_618c1a89 {
			block_618c1a89 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_618c1a89 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_618c1a89 -> role_ecbe1d6c [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_d8d77e6e labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_8c1ea7ff [label=7 color="#cb5d01" fontcolor="#cb5d01" id=edge_68448706 labeltooltip=7 tooltip=7]
		subgraph cluster_block_8c1ea7ff {
			block_8c1ea7ff [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_8c1ea7ff labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_8c1ea7ff -> role_4f06f751 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_7e413cdc labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_8500976b [label=8 color="#cb5d01" fontcolor="#cb5d01" id=edge_3e630215 labeltooltip=8 tooltip=8]
		subgraph cluster_block_8500976b {
			block_8500976b [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_8500976b labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_8500976b -> role_07029eb6 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_adf5e0f1 labeltooltip="1 " tooltip="1 "]
		}
		play_e73021e5 -> block_a859ca38 [label=9 color="#cb5d01" fontcolor="#cb5d01" id=edge_77513684 labeltooltip=9 tooltip=9]
		subgraph cluster_block_a859ca38 {
			block_a859ca38 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#cb5d01" id=block_a859ca38 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_a859ca38 -> role_79f3c4c0 [label="1 " color="#cb5d01" fontcolor="#cb5d01" id=edge_1834739b labeltooltip="1 " tooltip="1 "]
		}
	}
}
