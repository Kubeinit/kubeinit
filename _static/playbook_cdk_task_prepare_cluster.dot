digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_e8acb71a [label="Play: Initial setup (1)" color="#59527a" fontcolor="#ffffff" id=play_e8acb71a shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e8acb71a [label="1 " color="#59527a" fontcolor="#59527a" id=edge_04ae79e9 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_85c085fc [label="[role] Read podman secrets if running from the container" color="#59527a" id=role_85c085fc tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_94cef62d [label="[role] task-gather-facts" color="#59527a" id=role_94cef62d tooltip="task-gather-facts"]
		role_94cef62d -> role_85c085fc [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#59527a" fontcolor="#59527a" id=edge_5eecfd73 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_99d5c5dd [label="[role] Read podman secrets if running from the container" color="#59527a" id=role_99d5c5dd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_8ceea29d [label="[role] task-prepare-hypervisors" color="#59527a" id=role_8ceea29d tooltip="task-prepare-hypervisors"]
		role_8ceea29d -> role_99d5c5dd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#59527a" fontcolor="#59527a" id=edge_d8c82029 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_e8acb71a -> block_34f27c77 [label=1 color="#59527a" fontcolor="#59527a" id=edge_5ed94fa2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_34f27c77 {
			block_34f27c77 [label="[block] Gather facts about the deployment environment" color="#59527a" id=block_34f27c77 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_34f27c77 -> role_94cef62d [label="1 " color="#59527a" fontcolor="#59527a" id=edge_db95bc30 labeltooltip="1 " tooltip="1 "]
		}
		play_e8acb71a -> block_07ed4324 [label=2 color="#59527a" fontcolor="#59527a" id=edge_5781eea0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_07ed4324 {
			block_07ed4324 [label="[block] Prepare the hypervisors" color="#59527a" id=block_07ed4324 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_07ed4324 -> role_8ceea29d [label="1 " color="#59527a" fontcolor="#59527a" id=edge_f6cc3fe9 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_34bfaa2c [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#07c54b" fontcolor="#ffffff" id=play_34bfaa2c shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_34bfaa2c [label="2 " color="#07c54b" fontcolor="#07c54b" id=edge_0a5e6252 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_d6852730 [label="[role] Provision the libvirt services on the hypervisor" color="#07c54b" id=role_d6852730 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_37b4a822 [label="[role] Prepare each hypervisor in the deployment" color="#07c54b" id=role_37b4a822 tooltip="Prepare each hypervisor in the deployment"]
		role_37b4a822 -> role_d6852730 [label="1 " color="#07c54b" fontcolor="#07c54b" id=edge_d224082a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_34bfaa2c -> block_7f827567 [label=1 color="#07c54b" fontcolor="#07c54b" id=edge_8710c0f6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_7f827567 {
			block_7f827567 [label="[block] Prepare individual hypervisors" color="#07c54b" id=block_7f827567 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_7f827567 -> role_37b4a822 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#07c54b" fontcolor="#07c54b" id=edge_b2012b34 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_af6c6b44 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#c9038b" fontcolor="#ffffff" id=play_af6c6b44 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_af6c6b44 [label="3 " color="#c9038b" fontcolor="#c9038b" id=edge_c3f3e25e labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_37390d2e [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_37390d2e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_90fa77bb [label="[role] task-prepare-environment" color="#c9038b" id=role_90fa77bb tooltip="task-prepare-environment"]
		role_90fa77bb -> role_37390d2e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_22d18e8d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_6ac1695d [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_6ac1695d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_6205f753 [label="[role] Prepare environment if not prepared" color="#c9038b" id=role_6205f753 tooltip="Prepare environment if not prepared"]
		role_6205f753 -> role_6ac1695d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_e0bcb2d9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_aeb2d9cd [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c9038b" id=role_aeb2d9cd tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_a46d7058 [label="[role] task-cleanup-hypervisors" color="#c9038b" id=role_a46d7058 tooltip="task-cleanup-hypervisors"]
		role_a46d7058 -> role_6205f753 [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_0cc5b506 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a46d7058 -> role_aeb2d9cd [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_3ece6f90 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a3939759 [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_a3939759 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d9c60e5e [label="[role] Prepare environment if not prepared" color="#c9038b" id=role_d9c60e5e tooltip="Prepare environment if not prepared"]
		role_d9c60e5e -> role_a3939759 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_a1fd4cf3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_27f74be9 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c9038b" id=role_27f74be9 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e98f654a [label="[role] Cleanup hypervisors if needed" color="#c9038b" id=role_e98f654a tooltip="Cleanup hypervisors if needed"]
		role_e98f654a -> role_d9c60e5e [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_9669085c labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e98f654a -> role_27f74be9 [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_de8b7333 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_d861fd20 [label="[role] task-run-validations" color="#c9038b" id=role_d861fd20 tooltip="task-run-validations"]
		role_d861fd20 -> role_e98f654a [label="1 [when: not hypervisors_cleaned]" color="#c9038b" fontcolor="#c9038b" id=edge_3f388830 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_8753cb2b [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_8753cb2b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_11c1c342 [label="[role] Prepare environment if not prepared" color="#c9038b" id=role_11c1c342 tooltip="Prepare environment if not prepared"]
		role_11c1c342 -> role_8753cb2b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_dcea5d7b labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_5ddd9bc1 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#c9038b" id=role_5ddd9bc1 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_5e28c09a [label="[role] Cleanup hypervisors if needed" color="#c9038b" id=role_5e28c09a tooltip="Cleanup hypervisors if needed"]
		role_5e28c09a -> role_11c1c342 [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_d017c93f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_5e28c09a -> role_5ddd9bc1 [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_60d4c4f6 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_61317350 [label="[role] task-create-network" color="#c9038b" id=role_61317350 tooltip="task-create-network"]
		role_61317350 -> role_5e28c09a [label="1 [when: not hypervisors_cleaned]" color="#c9038b" fontcolor="#c9038b" id=edge_e0d0697d labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_cddbc033 [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_cddbc033 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_843cee05 [label="[role] Prepare environment if not prepared" color="#c9038b" id=role_843cee05 tooltip="Prepare environment if not prepared"]
		role_843cee05 -> role_cddbc033 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_19054285 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_7d4770b9 [label="[role] Prepare podman" color="#c9038b" id=role_7d4770b9 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_8b667b24 [label="[role] Create systemd service for podman container" color="#c9038b" id=role_8b667b24 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_4481ee04 [label="[role] Configure Bind" color="#c9038b" id=role_4481ee04 tooltip="Configure Bind"]
		role_4481ee04 -> role_8b667b24 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_4c59a0f2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_9cd488ee [label="[role] Create systemd service for podman container" color="#c9038b" id=role_9cd488ee tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_2404c897 [label="[role] Configure Dnsmasq" color="#c9038b" id=role_2404c897 tooltip="Configure Dnsmasq"]
		role_2404c897 -> role_9cd488ee [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_92769777 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7915685e [label="[role] Create systemd service for podman container" color="#c9038b" id=role_7915685e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_b7b61ef8 [label="[role] Configure HAProxy" color="#c9038b" id=role_b7b61ef8 tooltip="Configure HAProxy"]
		role_b7b61ef8 -> role_7915685e [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_cb78e465 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_cafef977 [label="[role] Create systemd service for podman container" color="#c9038b" id=role_cafef977 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_2f4d854b [label="[role] Configure Nexus" color="#c9038b" id=role_2f4d854b tooltip="Configure Nexus"]
		role_2f4d854b -> role_cafef977 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_6e447ded labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_9b9634dd [label="[role] Create systemd service for podman container" color="#c9038b" id=role_9b9634dd tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_63d225cb [label="[role] Configure Apache" color="#c9038b" id=role_63d225cb tooltip="Configure Apache"]
		role_63d225cb -> role_9b9634dd [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_f562800a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_3e86bbdf [label="[role] Create systemd service for podman container" color="#c9038b" id=role_3e86bbdf tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_c14e3bfc [label="[role] Configure a local container image registry" color="#c9038b" id=role_c14e3bfc tooltip="Configure a local container image registry"]
		role_c14e3bfc -> role_3e86bbdf [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_0a752f1c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_3c91cd4d [label="[role] task-create-services" color="#c9038b" id=role_3c91cd4d tooltip="task-create-services"]
		role_3c91cd4d -> role_843cee05 [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_6baf8f7a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3c91cd4d -> role_7d4770b9 [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_9471d062 labeltooltip="2 " tooltip="2 "]
		role_3c91cd4d -> role_4481ee04 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c9038b" fontcolor="#c9038b" id=edge_2fd60490 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3c91cd4d -> role_2404c897 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c9038b" fontcolor="#c9038b" id=edge_b24af7c3 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3c91cd4d -> role_b7b61ef8 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c9038b" fontcolor="#c9038b" id=edge_8ce53206 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3c91cd4d -> role_2f4d854b [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c9038b" fontcolor="#c9038b" id=edge_519d42eb labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3c91cd4d -> role_63d225cb [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c9038b" fontcolor="#c9038b" id=edge_eeb60259 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_3c91cd4d -> role_c14e3bfc [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c9038b" fontcolor="#c9038b" id=edge_df0be862 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e5e3a44b [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_e5e3a44b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_a711c076 [label="[role] Prepare environment if needed" color="#c9038b" id=role_a711c076 tooltip="Prepare environment if needed"]
		role_a711c076 -> role_e5e3a44b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_77e9ff1e labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_e992951e [label="[role] Gather network and host facts for guest" color="#c9038b" id=role_e992951e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_0e2b7358 [label="[role] Prepare services if needed" color="#c9038b" id=role_0e2b7358 tooltip="Prepare services if needed"]
		role_0e2b7358 -> role_a711c076 [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_b86a7ae3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0e2b7358 -> role_e992951e [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_2b7976de labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f9f79404 [label="[role] Create systemd service for podman container" color="#c9038b" id=role_f9f79404 tooltip="Create systemd service for podman container"]
		task_cd39e658 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#c9038b" id=task_cd39e658 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_f9f79404 -> task_cd39e658 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_8ab2af3e labeltooltip="1 " tooltip="1 "]
		task_205d893d [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#c9038b" id=task_205d893d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_f9f79404 -> task_205d893d [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_ea5c8f35 labeltooltip="2 " tooltip="2 "]
		task_faa43059 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#c9038b" id=task_faa43059 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_f9f79404 -> task_faa43059 [label="3 " color="#c9038b" fontcolor="#c9038b" id=edge_2feae91c labeltooltip="3 " tooltip="3 "]
		task_145ed7c5 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#c9038b" id=task_145ed7c5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_f9f79404 -> task_145ed7c5 [label="4 " color="#c9038b" fontcolor="#c9038b" id=edge_ab1855bd labeltooltip="4 " tooltip="4 "]
		task_df65b920 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#c9038b" id=task_df65b920 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_f9f79404 -> task_df65b920 [label="5 " color="#c9038b" fontcolor="#c9038b" id=edge_a747030b labeltooltip="5 " tooltip="5 "]
		task_301b86af [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#c9038b" id=task_301b86af shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_f9f79404 -> task_301b86af [label="6 " color="#c9038b" fontcolor="#c9038b" id=edge_d97087a1 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_b4432d7b [label="[role] Gather network and host facts for provision service" color="#c9038b" id=role_b4432d7b tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_da38cc1d [label="[role] Setup the cluster provision container" color="#c9038b" id=role_da38cc1d tooltip="Setup the cluster provision container"]
		task_be903e0b [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#c9038b" id=task_be903e0b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_da38cc1d -> task_be903e0b [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_7fb84418 labeltooltip="1 " tooltip="1 "]
		task_8dc65b99 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#c9038b" id=task_8dc65b99 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_da38cc1d -> task_8dc65b99 [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_f75f32d3 labeltooltip="2 " tooltip="2 "]
		task_b3ff3862 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#c9038b" id=task_b3ff3862 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_da38cc1d -> task_b3ff3862 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#c9038b" fontcolor="#c9038b" id=edge_20a32a3f labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_67c78f25 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#c9038b" id=task_67c78f25 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_da38cc1d -> task_67c78f25 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#c9038b" fontcolor="#c9038b" id=edge_df42ca97 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_91bd52c9 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#c9038b" id=task_91bd52c9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_da38cc1d -> task_91bd52c9 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#c9038b" fontcolor="#c9038b" id=edge_794564ab labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_18e39732 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#c9038b" id=task_18e39732 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_da38cc1d -> task_18e39732 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#c9038b" fontcolor="#c9038b" id=edge_c8d7001e labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_7135b223 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#c9038b" id=task_7135b223 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_da38cc1d -> task_7135b223 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#c9038b" fontcolor="#c9038b" id=edge_9e6f55b6 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_e41bb13c [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#c9038b" id=task_e41bb13c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_da38cc1d -> task_e41bb13c [label="8 [when: kubeinit_deployment_os == 'debian']" color="#c9038b" fontcolor="#c9038b" id=edge_1353d72d labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_555e00ac [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#c9038b" id=task_555e00ac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_da38cc1d -> task_555e00ac [label="9 [when: kubeinit_deployment_os == 'debian']" color="#c9038b" fontcolor="#c9038b" id=edge_b33a365b labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_7b5893a8 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#c9038b" id=task_7b5893a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_da38cc1d -> task_7b5893a8 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#c9038b" fontcolor="#c9038b" id=edge_0a8e8163 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_92fd73c4 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#c9038b" id=task_92fd73c4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_da38cc1d -> task_92fd73c4 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#c9038b" fontcolor="#c9038b" id=edge_d652506e labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_53e2e5c6 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#c9038b" id=task_53e2e5c6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_da38cc1d -> task_53e2e5c6 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#c9038b" fontcolor="#c9038b" id=edge_69f1c8a1 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_1108f2f8 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#c9038b" id=task_1108f2f8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_da38cc1d -> task_1108f2f8 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#c9038b" fontcolor="#c9038b" id=edge_b266f615 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_ae2082ab [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#c9038b" id=task_ae2082ab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_da38cc1d -> task_ae2082ab [label="14 " color="#c9038b" fontcolor="#c9038b" id=edge_02472bb1 labeltooltip="14 " tooltip="14 "]
		task_ca21308d [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#c9038b" id=task_ca21308d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_da38cc1d -> task_ca21308d [label="15 " color="#c9038b" fontcolor="#c9038b" id=edge_4fb95751 labeltooltip="15 " tooltip="15 "]
		task_ab2cc107 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#c9038b" id=task_ab2cc107 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_da38cc1d -> task_ab2cc107 [label="16 " color="#c9038b" fontcolor="#c9038b" id=edge_3734eec0 labeltooltip="16 " tooltip="16 "]
		task_ba2fb5e8 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#c9038b" id=task_ba2fb5e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_da38cc1d -> task_ba2fb5e8 [label="17 " color="#c9038b" fontcolor="#c9038b" id=edge_f12609fc labeltooltip="17 " tooltip="17 "]
		task_ee0c6f22 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#c9038b" id=task_ee0c6f22 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_da38cc1d -> task_ee0c6f22 [label="18 " color="#c9038b" fontcolor="#c9038b" id=edge_98a72f20 labeltooltip="18 " tooltip="18 "]
		task_54d21352 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#c9038b" id=task_54d21352 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_da38cc1d -> task_54d21352 [label="19 " color="#c9038b" fontcolor="#c9038b" id=edge_4d78b9d0 labeltooltip="19 " tooltip="19 "]
		task_f482a00d [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#c9038b" id=task_f482a00d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_da38cc1d -> task_f482a00d [label="20 " color="#c9038b" fontcolor="#c9038b" id=edge_2e656027 labeltooltip="20 " tooltip="20 "]
		task_6a81b7e0 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#c9038b" id=task_6a81b7e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_da38cc1d -> task_6a81b7e0 [label="21 " color="#c9038b" fontcolor="#c9038b" id=edge_94a38bc6 labeltooltip="21 " tooltip="21 "]
		task_cf744372 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#c9038b" id=task_cf744372 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_da38cc1d -> task_cf744372 [label="22 " color="#c9038b" fontcolor="#c9038b" id=edge_60fc861b labeltooltip="22 " tooltip="22 "]
		role_da38cc1d -> role_f9f79404 [label="23 " color="#c9038b" fontcolor="#c9038b" id=edge_f661ab2a labeltooltip="23 " tooltip="23 "]
		task_4ce164c5 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#c9038b" id=task_4ce164c5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_da38cc1d -> task_4ce164c5 [label="24 " color="#c9038b" fontcolor="#c9038b" id=edge_29c95266 labeltooltip="24 " tooltip="24 "]
		task_25bb9782 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#c9038b" id=task_25bb9782 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_da38cc1d -> task_25bb9782 [label="25 " color="#c9038b" fontcolor="#c9038b" id=edge_5346503e labeltooltip="25 " tooltip="25 "]
		task_388c3030 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#c9038b" id=task_388c3030 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_da38cc1d -> task_388c3030 [label="26 " color="#c9038b" fontcolor="#c9038b" id=edge_d3457211 labeltooltip="26 " tooltip="26 "]
		task_cc6ad4fa [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#c9038b" id=task_cc6ad4fa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_da38cc1d -> task_cc6ad4fa [label="27 " color="#c9038b" fontcolor="#c9038b" id=edge_b0fd7e22 labeltooltip="27 " tooltip="27 "]
		task_4eb0bd52 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#c9038b" id=task_4eb0bd52 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_da38cc1d -> task_4eb0bd52 [label="28 " color="#c9038b" fontcolor="#c9038b" id=edge_d1c80ab5 labeltooltip="28 " tooltip="28 "]
		task_07cb2adf [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#c9038b" id=task_07cb2adf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_da38cc1d -> task_07cb2adf [label="29 " color="#c9038b" fontcolor="#c9038b" id=edge_958ebee5 labeltooltip="29 " tooltip="29 "]
		task_05d1f841 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#c9038b" id=task_05d1f841 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_da38cc1d -> task_05d1f841 [label="30 " color="#c9038b" fontcolor="#c9038b" id=edge_08bf19aa labeltooltip="30 " tooltip="30 "]
		task_9c708bd1 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#c9038b" id=task_9c708bd1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_da38cc1d -> task_9c708bd1 [label="31 " color="#c9038b" fontcolor="#c9038b" id=edge_e2156ee6 labeltooltip="31 " tooltip="31 "]
		task_54b187eb [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#c9038b" id=task_54b187eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_da38cc1d -> task_54b187eb [label="32 " color="#c9038b" fontcolor="#c9038b" id=edge_12c1140f labeltooltip="32 " tooltip="32 "]
		task_0e987c87 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#c9038b" id=task_0e987c87 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_da38cc1d -> task_0e987c87 [label="33 " color="#c9038b" fontcolor="#c9038b" id=edge_a61d1578 labeltooltip="33 " tooltip="33 "]
		task_022ffb7b [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#c9038b" id=task_022ffb7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_da38cc1d -> task_022ffb7b [label="34 " color="#c9038b" fontcolor="#c9038b" id=edge_eb5137ac labeltooltip="34 " tooltip="34 "]
		task_67586835 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#c9038b" id=task_67586835 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_da38cc1d -> task_67586835 [label="35 " color="#c9038b" fontcolor="#c9038b" id=edge_9e8bec59 labeltooltip="35 " tooltip="35 "]
		task_6f3bfc2b [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#c9038b" id=task_6f3bfc2b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_da38cc1d -> task_6f3bfc2b [label="36 " color="#c9038b" fontcolor="#c9038b" id=edge_0a2bbec4 labeltooltip="36 " tooltip="36 "]
		task_3310e3d4 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#c9038b" id=task_3310e3d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_da38cc1d -> task_3310e3d4 [label="37 " color="#c9038b" fontcolor="#c9038b" id=edge_b7b1aa7d labeltooltip="37 " tooltip="37 "]
		task_81276b7a [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#c9038b" id=task_81276b7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_da38cc1d -> task_81276b7a [label="38 " color="#c9038b" fontcolor="#c9038b" id=edge_b3bd6566 labeltooltip="38 " tooltip="38 "]
		task_aa3aec19 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#c9038b" id=task_aa3aec19 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_da38cc1d -> task_aa3aec19 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#c9038b" fontcolor="#c9038b" id=edge_6fdac14c labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_25db086c [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#c9038b" id=task_25db086c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_da38cc1d -> task_25db086c [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#c9038b" fontcolor="#c9038b" id=edge_9945994e labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_256ff499 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#c9038b" id=task_256ff499 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_da38cc1d -> task_256ff499 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#c9038b" fontcolor="#c9038b" id=edge_0d80382f labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_ef11022f [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#c9038b" id=task_ef11022f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_da38cc1d -> task_ef11022f [label="42 [when: kubeinit_deployment_os == 'centos']" color="#c9038b" fontcolor="#c9038b" id=edge_1412669f labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_19e59593 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#c9038b" id=task_19e59593 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_da38cc1d -> task_19e59593 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#c9038b" fontcolor="#c9038b" id=edge_a933b248 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_b12a07d9 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#c9038b" id=task_b12a07d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_da38cc1d -> task_b12a07d9 [label="44 " color="#c9038b" fontcolor="#c9038b" id=edge_cea8a801 labeltooltip="44 " tooltip="44 "]
		task_6d0a4758 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#c9038b" id=task_6d0a4758 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_da38cc1d -> task_6d0a4758 [label="45 " color="#c9038b" fontcolor="#c9038b" id=edge_0658d94a labeltooltip="45 " tooltip="45 "]
		task_cd494988 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#c9038b" id=task_cd494988 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_da38cc1d -> task_cd494988 [label="46 " color="#c9038b" fontcolor="#c9038b" id=edge_14fb94db labeltooltip="46 " tooltip="46 "]
		task_e7666cd7 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#c9038b" id=task_e7666cd7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_da38cc1d -> task_e7666cd7 [label="47 " color="#c9038b" fontcolor="#c9038b" id=edge_e1cdce1f labeltooltip="47 " tooltip="47 "]
		task_d825a9a0 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#c9038b" id=task_d825a9a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_da38cc1d -> task_d825a9a0 [label="48 " color="#c9038b" fontcolor="#c9038b" id=edge_50c0a23e labeltooltip="48 " tooltip="48 "]
		task_7097ca7b [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#c9038b" id=task_7097ca7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_da38cc1d -> task_7097ca7b [label="49 " color="#c9038b" fontcolor="#c9038b" id=edge_5f830be0 labeltooltip="49 " tooltip="49 "]
		task_29d7a2f1 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#c9038b" id=task_29d7a2f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_da38cc1d -> task_29d7a2f1 [label="50 " color="#c9038b" fontcolor="#c9038b" id=edge_661de1fe labeltooltip="50 " tooltip="50 "]
		task_df8ddb11 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#c9038b" id=task_df8ddb11 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_da38cc1d -> task_df8ddb11 [label="51 " color="#c9038b" fontcolor="#c9038b" id=edge_6973c2d4 labeltooltip="51 " tooltip="51 "]
		task_a87e9d81 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#c9038b" id=task_a87e9d81 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_da38cc1d -> task_a87e9d81 [label="52 " color="#c9038b" fontcolor="#c9038b" id=edge_fb32cd96 labeltooltip="52 " tooltip="52 "]
		role_da38cc1d -> role_b4432d7b [label="53 " color="#c9038b" fontcolor="#c9038b" id=edge_6f455d0d labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_63ba8646 [label="[role] Delegate to the distro role to prepare the cluster" color="#c9038b" id=role_63ba8646 tooltip="Delegate to the distro role to prepare the cluster"]
		role_63ba8646 -> role_da38cc1d [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_97086739 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-prepare-cluster" {
		role_8d593d2d [label="[role] task-prepare-cluster" color="#c9038b" id=role_8d593d2d tooltip="task-prepare-cluster"]
		role_8d593d2d -> role_0e2b7358 [label="1 [when: not services_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_c108ec1d labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_8d593d2d -> role_63ba8646 [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_bc45255a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_87e8f38c [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_87e8f38c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ad2a2ae6 [label="[role] Prepare environment if not prepared" color="#c9038b" id=role_ad2a2ae6 tooltip="Prepare environment if not prepared"]
		role_ad2a2ae6 -> role_87e8f38c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_6ac3db5e labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_3c5c61a2 [label="[role] task-download-images" color="#c9038b" id=role_3c5c61a2 tooltip="task-download-images"]
		role_3c5c61a2 -> role_ad2a2ae6 [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_f12f771e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0e333992 [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_0e333992 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_7597e912 [label="[role] Prepare environment if needed" color="#c9038b" id=role_7597e912 tooltip="Prepare environment if needed"]
		role_7597e912 -> role_0e333992 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_e78ec80d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_b709355a [label="[role] Gather network and host facts for guest" color="#c9038b" id=role_b709355a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_55a75539 [label="[role] Prepare services if needed" color="#c9038b" id=role_55a75539 tooltip="Prepare services if needed"]
		role_55a75539 -> role_7597e912 [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_8bc2143a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_55a75539 -> role_b709355a [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_f00969a2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_28f02412 [label="[role] Deploy the cluster nodes" color="#c9038b" id=role_28f02412 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_a4a95420 [label="[role] Delegate to the distro role to deploy the cluster" color="#c9038b" id=role_a4a95420 tooltip="Delegate to the distro role to deploy the cluster"]
		role_a4a95420 -> role_28f02412 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#c9038b" fontcolor="#c9038b" id=edge_f594d9f6 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_038d2dba [label="[role] task-deploy-cluster" color="#c9038b" id=role_038d2dba tooltip="task-deploy-cluster"]
		role_038d2dba -> role_55a75539 [label="1 [when: not services_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_cb3330b8 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_038d2dba -> role_a4a95420 [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_c0a483b5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_c9fe6983 [label="[role] Read podman secrets if running from the container" color="#c9038b" id=role_c9fe6983 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d56f5710 [label="[role] Prepare environment if needed" color="#c9038b" id=role_d56f5710 tooltip="Prepare environment if needed"]
		role_d56f5710 -> role_c9fe6983 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#c9038b" fontcolor="#c9038b" id=edge_fe2e7912 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_60669d8e [label="[role] Gather network and host facts for guest" color="#c9038b" id=role_60669d8e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_b6255cde [label="[role] Prepare services if needed" color="#c9038b" id=role_b6255cde tooltip="Prepare services if needed"]
		role_b6255cde -> role_d56f5710 [label="1 [when: not environment_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_09ea2208 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_b6255cde -> role_60669d8e [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_541970d5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_e06963a5 [label="[role] Deploy the apps" color="#c9038b" id=role_e06963a5 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_5335830d [label="[role] Configure NFS" color="#c9038b" id=role_5335830d tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_710141c2 [label="[role] Delegate to distro role to run post-deployment tasks" color="#c9038b" id=role_710141c2 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_710141c2 -> role_e06963a5 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_bd9dfa9b labeltooltip="1 " tooltip="1 "]
		role_710141c2 -> role_5335830d [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c9038b" fontcolor="#c9038b" id=edge_f7c0b1a6 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_194d41c5 [label="[role] task-post-deployment" color="#c9038b" id=role_194d41c5 tooltip="task-post-deployment"]
		role_194d41c5 -> role_b6255cde [label="1 [when: not services_prepared]" color="#c9038b" fontcolor="#c9038b" id=edge_87430d04 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_194d41c5 -> role_710141c2 [label="2 " color="#c9038b" fontcolor="#c9038b" id=edge_d4f20121 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_af6c6b44 -> block_3ade79c2 [label=1 color="#c9038b" fontcolor="#c9038b" id=edge_d5c2af40 labeltooltip=1 tooltip=1]
		subgraph cluster_block_3ade79c2 {
			block_3ade79c2 [label="[block] Prepare the environment" color="#c9038b" id=block_3ade79c2 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_3ade79c2 -> role_90fa77bb [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_cc4be71b labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_76f39881 [label=2 color="#c9038b" fontcolor="#c9038b" id=edge_7eae4278 labeltooltip=2 tooltip=2]
		subgraph cluster_block_76f39881 {
			block_76f39881 [label="[block] Cleanup hypervisors" color="#c9038b" id=block_76f39881 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_76f39881 -> role_a46d7058 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_c1386dee labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_df7ef037 [label=3 color="#c9038b" fontcolor="#c9038b" id=edge_055e3360 labeltooltip=3 tooltip=3]
		subgraph cluster_block_df7ef037 {
			block_df7ef037 [label="[block] Run validations on cluster resources" color="#c9038b" id=block_df7ef037 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_df7ef037 -> role_d861fd20 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_21a9ea72 labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_bcef7626 [label=4 color="#c9038b" fontcolor="#c9038b" id=edge_f0f9db34 labeltooltip=4 tooltip=4]
		subgraph cluster_block_bcef7626 {
			block_bcef7626 [label="[block] Create the cluster network resources" color="#c9038b" id=block_bcef7626 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_bcef7626 -> role_61317350 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_7a542259 labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_48b26910 [label=5 color="#c9038b" fontcolor="#c9038b" id=edge_562c2e87 labeltooltip=5 tooltip=5]
		subgraph cluster_block_48b26910 {
			block_48b26910 [label="[block] Create services the cluster will need" color="#c9038b" id=block_48b26910 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_48b26910 -> role_3c91cd4d [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_887a0b60 labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_cf220dd6 [label=6 color="#c9038b" fontcolor="#c9038b" id=edge_4a6f4745 labeltooltip=6 tooltip=6]
		subgraph cluster_block_cf220dd6 {
			block_cf220dd6 [label="[block] Prepare to deploy the cluster" color="#c9038b" id=block_cf220dd6 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_cf220dd6 -> role_8d593d2d [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_ff8f140a labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_c963e14b [label=7 color="#c9038b" fontcolor="#c9038b" id=edge_845fc5ba labeltooltip=7 tooltip=7]
		subgraph cluster_block_c963e14b {
			block_c963e14b [label="[block] Download cloud images" color="#c9038b" id=block_c963e14b labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_c963e14b -> role_3c5c61a2 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_56026655 labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_ab5431bd [label=8 color="#c9038b" fontcolor="#c9038b" id=edge_ca6881ab labeltooltip=8 tooltip=8]
		subgraph cluster_block_ab5431bd {
			block_ab5431bd [label="[block] Deploy the cluster" color="#c9038b" id=block_ab5431bd labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_ab5431bd -> role_038d2dba [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_d0d6a349 labeltooltip="1 " tooltip="1 "]
		}
		play_af6c6b44 -> block_abce7f54 [label=9 color="#c9038b" fontcolor="#c9038b" id=edge_5bdcf005 labeltooltip=9 tooltip=9]
		subgraph cluster_block_abce7f54 {
			block_abce7f54 [label="[block] Run any post-deployment tasks" color="#c9038b" id=block_abce7f54 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_abce7f54 -> role_194d41c5 [label="1 " color="#c9038b" fontcolor="#c9038b" id=edge_8643e076 labeltooltip="1 " tooltip="1 "]
		}
	}
}
