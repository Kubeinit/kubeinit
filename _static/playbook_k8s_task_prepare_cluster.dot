digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_529cea3c style=dotted]
	play_de9fd7b1 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8007c5" fontcolor="#ffffff" id=play_de9fd7b1 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_de9fd7b1 [label="1 " color="#8007c5" fontcolor="#8007c5" id=edge_9c53a872 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_1edf1de4 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8007c5" id=role_1edf1de4 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_039d3079 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8007c5" id=role_039d3079 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_117227e6 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#8007c5" id=role_117227e6 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_0b704fa6 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8007c5" id=role_0b704fa6 tooltip="task-gather-facts"]
		role_0b704fa6 -> role_1edf1de4 [label="1 " color="#8007c5" fontcolor="#8007c5" id=edge_e773daa3 labeltooltip="1 " tooltip="1 "]
		role_0b704fa6 -> role_039d3079 [label="2 " color="#8007c5" fontcolor="#8007c5" id=edge_52721c9a labeltooltip="2 " tooltip="2 "]
		role_0b704fa6 -> role_117227e6 [label="3 " color="#8007c5" fontcolor="#8007c5" id=edge_d2cdf0f6 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_de9fd7b1 -> block_7befc1ce [label=1 color="#8007c5" fontcolor="#8007c5" id=edge_dd455d0e labeltooltip=1 tooltip=1]
		subgraph cluster_block_7befc1ce {
			block_7befc1ce [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#8007c5" id=block_7befc1ce labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_7befc1ce -> role_0b704fa6 [label="1 " color="#8007c5" fontcolor="#8007c5" id=edge_ceaa58aa labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ea5a4454 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#280ebe" fontcolor="#ffffff" id=play_ea5a4454 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_ea5a4454 [label="2 " color="#280ebe" fontcolor="#280ebe" id=edge_7fb38dc3 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_f93ca389 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#280ebe" id=role_f93ca389 tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_ea5a4454 -> block_984ccb75 [label=1 color="#280ebe" fontcolor="#280ebe" id=edge_5e2a31fa labeltooltip=1 tooltip=1]
		subgraph cluster_block_984ccb75 {
			block_984ccb75 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#280ebe" id=block_984ccb75 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_984ccb75 -> role_f93ca389 [label="1 " color="#280ebe" fontcolor="#280ebe" id=edge_22e3d856 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_ca89848b [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#739d2f" fontcolor="#ffffff" id=play_ca89848b shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_ca89848b [label="3 " color="#739d2f" fontcolor="#739d2f" id=edge_3235a21c labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_2b9effbc [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#739d2f" id=role_2b9effbc tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_1647c85f [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#739d2f" id=role_1647c85f tooltip="Gather facts to prepare the cluster hypervisors"]
		role_1647c85f -> role_2b9effbc [label="1 " color="#739d2f" fontcolor="#739d2f" id=edge_368574e2 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_155974eb [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#739d2f" id=role_155974eb tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_4eb14048 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#739d2f" id=role_4eb14048 tooltip="task-prepare-hypervisors"]
		role_4eb14048 -> role_155974eb [label="1 " color="#739d2f" fontcolor="#739d2f" id=edge_7d48f5a6 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_ca89848b -> block_2769c3e3 [label=1 color="#739d2f" fontcolor="#739d2f" id=edge_81c29f0d labeltooltip=1 tooltip=1]
		subgraph cluster_block_2769c3e3 {
			block_2769c3e3 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#739d2f" id=block_2769c3e3 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_2769c3e3 -> role_1647c85f [label="1 " color="#739d2f" fontcolor="#739d2f" id=edge_7c922786 labeltooltip="1 " tooltip="1 "]
		}
		play_ca89848b -> block_6eba2a64 [label=2 color="#739d2f" fontcolor="#739d2f" id=edge_7203a883 labeltooltip=2 tooltip=2]
		subgraph cluster_block_6eba2a64 {
			block_6eba2a64 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#739d2f" id=block_6eba2a64 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_6eba2a64 -> role_4eb14048 [label="1 " color="#739d2f" fontcolor="#739d2f" id=edge_8847547e labeltooltip="1 " tooltip="1 "]
		}
	}
	play_047fe4fd [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bd0f8e" fontcolor="#ffffff" id=play_047fe4fd shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_047fe4fd [label="4 " color="#bd0f8e" fontcolor="#bd0f8e" id=edge_9d06adca labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_0ab82835 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#bd0f8e" id=role_0ab82835 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_d45a4add [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bd0f8e" id=role_d45a4add tooltip="Prepare each hypervisor in the deployment"]
		role_d45a4add -> role_0ab82835 [label="1 " color="#bd0f8e" fontcolor="#bd0f8e" id=edge_9c67cd20 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_047fe4fd -> block_baca4f0c [label=1 color="#bd0f8e" fontcolor="#bd0f8e" id=edge_91c861bc labeltooltip=1 tooltip=1]
		subgraph cluster_block_baca4f0c {
			block_baca4f0c [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#bd0f8e" id=block_baca4f0c labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_baca4f0c -> role_d45a4add [label="1 " color="#bd0f8e" fontcolor="#bd0f8e" id=edge_657edbdf labeltooltip="1 " tooltip="1 "]
		}
	}
	play_c83613ae [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" fontcolor="#ffffff" id=play_c83613ae shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_c83613ae [label="5 " color="#973562" fontcolor="#973562" id=edge_26e37f1c labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_af5697e9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_af5697e9 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_69369b0d [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_69369b0d tooltip="task-prepare-environment"]
		role_69369b0d -> role_af5697e9 [label="1 " color="#973562" fontcolor="#973562" id=edge_564ad996 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e60ad339 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_e60ad339 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_93303020 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#973562" id=role_93303020 tooltip="Prepare environment if not prepared"]
		role_93303020 -> role_e60ad339 [label="1 " color="#973562" fontcolor="#973562" id=edge_6ab5d88d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_24d886d1 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#973562" id=role_24d886d1 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_20fb71d3 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_20fb71d3 tooltip="task-cleanup-hypervisors"]
		role_20fb71d3 -> role_93303020 [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_31bbaeb2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_20fb71d3 -> role_24d886d1 [label="2 " color="#973562" fontcolor="#973562" id=edge_211654fb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_767ed706 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_767ed706 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_fd98d292 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#973562" id=role_fd98d292 tooltip="Prepare environment if not prepared"]
		role_fd98d292 -> role_767ed706 [label="1 " color="#973562" fontcolor="#973562" id=edge_1fe9752d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_65569c1e [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#973562" id=role_65569c1e tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_4ad48933 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#973562" id=role_4ad48933 tooltip="Cleanup hypervisors if needed"]
		role_4ad48933 -> role_fd98d292 [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_e117f9bb labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4ad48933 -> role_65569c1e [label="2 " color="#973562" fontcolor="#973562" id=edge_6f0b93fd labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_ea5f060a [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_ea5f060a tooltip="task-run-validations"]
		role_ea5f060a -> role_4ad48933 [label="1 [when: not hypervisors_cleaned]" color="#973562" fontcolor="#973562" id=edge_b7af25e6 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_13349793 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_13349793 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_55d43950 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#973562" id=role_55d43950 tooltip="Prepare environment if not prepared"]
		role_55d43950 -> role_13349793 [label="1 " color="#973562" fontcolor="#973562" id=edge_476c6424 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_9128700f [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#973562" id=role_9128700f tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_bfd1df29 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#973562" id=role_bfd1df29 tooltip="Cleanup hypervisors if needed"]
		role_bfd1df29 -> role_55d43950 [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_070399fb labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bfd1df29 -> role_9128700f [label="2 " color="#973562" fontcolor="#973562" id=edge_86d6bcc4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_64b41618 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_64b41618 tooltip="task-create-network"]
		role_64b41618 -> role_bfd1df29 [label="1 [when: not hypervisors_cleaned]" color="#973562" fontcolor="#973562" id=edge_50e0cb5e labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_5615379f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_5615379f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_ebeb6786 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#973562" id=role_ebeb6786 tooltip="Prepare environment if not prepared"]
		role_ebeb6786 -> role_5615379f [label="1 " color="#973562" fontcolor="#973562" id=edge_9b57509d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_a21dc1eb [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#973562" id=role_a21dc1eb tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_b598b454 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#973562" id=role_b598b454 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_16d4ca25 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#973562" id=role_16d4ca25 tooltip="Configure Bind"]
		role_16d4ca25 -> role_b598b454 [label="1 " color="#973562" fontcolor="#973562" id=edge_121c0c72 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c79d32ce [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#973562" id=role_c79d32ce tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_5ba9ad90 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#973562" id=role_5ba9ad90 tooltip="Configure Dnsmasq"]
		role_5ba9ad90 -> role_c79d32ce [label="1 " color="#973562" fontcolor="#973562" id=edge_83b6ab94 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8c2f5adc [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#973562" id=role_8c2f5adc tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_692a1e51 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#973562" id=role_692a1e51 tooltip="Configure HAProxy"]
		role_692a1e51 -> role_8c2f5adc [label="1 " color="#973562" fontcolor="#973562" id=edge_b7515c9a labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f1f71803 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#973562" id=role_f1f71803 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_c7527a2f [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#973562" id=role_c7527a2f tooltip="Configure Nexus"]
		role_c7527a2f -> role_f1f71803 [label="1 " color="#973562" fontcolor="#973562" id=edge_7eb187d8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6209ebb0 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#973562" id=role_6209ebb0 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_597d61ba [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#973562" id=role_597d61ba tooltip="Configure Apache"]
		role_597d61ba -> role_6209ebb0 [label="1 " color="#973562" fontcolor="#973562" id=edge_4e25ad89 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2e05dd5b [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#973562" id=role_2e05dd5b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_60930721 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#973562" id=role_60930721 tooltip="Configure a local container image registry"]
		role_60930721 -> role_2e05dd5b [label="1 " color="#973562" fontcolor="#973562" id=edge_f66a29b0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_01f50f44 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_01f50f44 tooltip="task-create-services"]
		role_01f50f44 -> role_ebeb6786 [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_6a38aedd labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_01f50f44 -> role_a21dc1eb [label="2 " color="#973562" fontcolor="#973562" id=edge_29ae205a labeltooltip="2 " tooltip="2 "]
		role_01f50f44 -> role_16d4ca25 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#973562" fontcolor="#973562" id=edge_a7ce9b8e labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_01f50f44 -> role_5ba9ad90 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#973562" fontcolor="#973562" id=edge_aac39124 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_01f50f44 -> role_692a1e51 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#973562" fontcolor="#973562" id=edge_643ce355 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_01f50f44 -> role_c7527a2f [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#973562" fontcolor="#973562" id=edge_92cb2b89 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_01f50f44 -> role_597d61ba [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#973562" fontcolor="#973562" id=edge_b5191d7a labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_01f50f44 -> role_60930721 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#973562" fontcolor="#973562" id=edge_9c694e0a labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_22b8ca68 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_22b8ca68 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_126f97e4 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#973562" id=role_126f97e4 tooltip="Prepare environment if needed"]
		role_126f97e4 -> role_22b8ca68 [label="1 " color="#973562" fontcolor="#973562" id=edge_828d5dbe labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_4411ca80 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#973562" id=role_4411ca80 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_1182a7a2 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#973562" id=role_1182a7a2 tooltip="Prepare services if needed"]
		role_1182a7a2 -> role_126f97e4 [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_23c75311 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_1182a7a2 -> role_4411ca80 [label="2 " color="#973562" fontcolor="#973562" id=edge_def18c1f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_de1b40bd [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=role_de1b40bd tooltip="Create systemd service for podman container"]
		task_73ba9a7d [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#973562" id=task_73ba9a7d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_de1b40bd -> task_73ba9a7d [label="1 " color="#973562" fontcolor="#973562" id=edge_53c434b5 labeltooltip="1 " tooltip="1 "]
		task_d5016ffe [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#973562" id=task_d5016ffe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_de1b40bd -> task_d5016ffe [label="2 " color="#973562" fontcolor="#973562" id=edge_aa0911b1 labeltooltip="2 " tooltip="2 "]
		task_b9888642 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#973562" id=task_b9888642 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_de1b40bd -> task_b9888642 [label="3 " color="#973562" fontcolor="#973562" id=edge_04020842 labeltooltip="3 " tooltip="3 "]
		task_65a11797 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#973562" id=task_65a11797 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_de1b40bd -> task_65a11797 [label="4 " color="#973562" fontcolor="#973562" id=edge_e40c02aa labeltooltip="4 " tooltip="4 "]
		task_19ec0aeb [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#973562" id=task_19ec0aeb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_de1b40bd -> task_19ec0aeb [label="5 " color="#973562" fontcolor="#973562" id=edge_1408536a labeltooltip="5 " tooltip="5 "]
		task_37d5cdf8 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#973562" id=task_37d5cdf8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_de1b40bd -> task_37d5cdf8 [label="6 " color="#973562" fontcolor="#973562" id=edge_5c5f6289 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_30153820 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=role_30153820 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_e565f41d [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#973562" id=role_e565f41d tooltip="Setup the cluster provision container"]
		task_8497d512 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_8497d512 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_e565f41d -> task_8497d512 [label="1 " color="#973562" fontcolor="#973562" id=edge_20502d12 labeltooltip="1 " tooltip="1 "]
		task_17e059a3 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_17e059a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_e565f41d -> task_17e059a3 [label="2 " color="#973562" fontcolor="#973562" id=edge_92f200e8 labeltooltip="2 " tooltip="2 "]
		task_e0ec3eda [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_e0ec3eda shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_e565f41d -> task_e0ec3eda [label="3 [when: kubeinit_deployment_os == 'centos']" color="#973562" fontcolor="#973562" id=edge_5a4feb8e labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_4cf61afa [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_4cf61afa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_e565f41d -> task_4cf61afa [label="4 [when: kubeinit_deployment_os == 'centos']" color="#973562" fontcolor="#973562" id=edge_111d3ee7 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_51ac44db [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_51ac44db shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_e565f41d -> task_51ac44db [label="5 [when: kubeinit_deployment_os == 'centos']" color="#973562" fontcolor="#973562" id=edge_559e7223 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_035ee795 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_035ee795 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_e565f41d -> task_035ee795 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#973562" fontcolor="#973562" id=edge_edcd7008 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_29b2a02e [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_29b2a02e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_e565f41d -> task_29b2a02e [label="7 [when: kubeinit_deployment_os == 'debian']" color="#973562" fontcolor="#973562" id=edge_380fb04b labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_b3fe338f [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_b3fe338f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_e565f41d -> task_b3fe338f [label="8 [when: kubeinit_deployment_os == 'debian']" color="#973562" fontcolor="#973562" id=edge_1f112ae4 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_ce9d0d8c [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_ce9d0d8c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_e565f41d -> task_ce9d0d8c [label="9 [when: kubeinit_deployment_os == 'debian']" color="#973562" fontcolor="#973562" id=edge_7639a677 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_1993ae36 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_1993ae36 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_e565f41d -> task_1993ae36 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#973562" fontcolor="#973562" id=edge_c25443cb labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_f4c2467f [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_f4c2467f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_e565f41d -> task_f4c2467f [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#973562" fontcolor="#973562" id=edge_508d576f labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_6e29f85e [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_6e29f85e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_e565f41d -> task_6e29f85e [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#973562" fontcolor="#973562" id=edge_b07d0b16 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_1d95e708 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_1d95e708 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_e565f41d -> task_1d95e708 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#973562" fontcolor="#973562" id=edge_70b36932 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_ec4032b0 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_ec4032b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_e565f41d -> task_ec4032b0 [label="14 " color="#973562" fontcolor="#973562" id=edge_d8bd6db1 labeltooltip="14 " tooltip="14 "]
		task_5aae4bc0 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_5aae4bc0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_e565f41d -> task_5aae4bc0 [label="15 " color="#973562" fontcolor="#973562" id=edge_5ebd5a6e labeltooltip="15 " tooltip="15 "]
		task_2e475063 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_2e475063 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_e565f41d -> task_2e475063 [label="16 " color="#973562" fontcolor="#973562" id=edge_8ba2d99a labeltooltip="16 " tooltip="16 "]
		task_346b1c4b [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_346b1c4b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_e565f41d -> task_346b1c4b [label="17 " color="#973562" fontcolor="#973562" id=edge_d44c2661 labeltooltip="17 " tooltip="17 "]
		task_8315fc3f [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_8315fc3f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_e565f41d -> task_8315fc3f [label="18 " color="#973562" fontcolor="#973562" id=edge_1d3b617e labeltooltip="18 " tooltip="18 "]
		task_146c7096 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_146c7096 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_e565f41d -> task_146c7096 [label="19 " color="#973562" fontcolor="#973562" id=edge_66b2e604 labeltooltip="19 " tooltip="19 "]
		task_ae2b44e3 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_ae2b44e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_e565f41d -> task_ae2b44e3 [label="20 " color="#973562" fontcolor="#973562" id=edge_48456733 labeltooltip="20 " tooltip="20 "]
		task_d4096d34 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_d4096d34 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_e565f41d -> task_d4096d34 [label="21 " color="#973562" fontcolor="#973562" id=edge_26619fa6 labeltooltip="21 " tooltip="21 "]
		task_0d0396a1 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_0d0396a1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_e565f41d -> task_0d0396a1 [label="22 " color="#973562" fontcolor="#973562" id=edge_609a7335 labeltooltip="22 " tooltip="22 "]
		role_e565f41d -> role_de1b40bd [label="23 " color="#973562" fontcolor="#973562" id=edge_530ad8d9 labeltooltip="23 " tooltip="23 "]
		task_53c5efac [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_53c5efac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_e565f41d -> task_53c5efac [label="24 " color="#973562" fontcolor="#973562" id=edge_9cb67197 labeltooltip="24 " tooltip="24 "]
		task_6c70420c [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_6c70420c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_e565f41d -> task_6c70420c [label="25 " color="#973562" fontcolor="#973562" id=edge_813b39fa labeltooltip="25 " tooltip="25 "]
		task_fe40f831 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_fe40f831 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_e565f41d -> task_fe40f831 [label="26 " color="#973562" fontcolor="#973562" id=edge_10f4df7b labeltooltip="26 " tooltip="26 "]
		task_27939b05 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_27939b05 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_e565f41d -> task_27939b05 [label="27 " color="#973562" fontcolor="#973562" id=edge_f761fa51 labeltooltip="27 " tooltip="27 "]
		task_2bf72940 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_2bf72940 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_e565f41d -> task_2bf72940 [label="28 " color="#973562" fontcolor="#973562" id=edge_1a513930 labeltooltip="28 " tooltip="28 "]
		task_432848ca [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_432848ca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_e565f41d -> task_432848ca [label="29 " color="#973562" fontcolor="#973562" id=edge_172c043c labeltooltip="29 " tooltip="29 "]
		task_fcefbf61 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_fcefbf61 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_e565f41d -> task_fcefbf61 [label="30 " color="#973562" fontcolor="#973562" id=edge_738bbbb6 labeltooltip="30 " tooltip="30 "]
		task_a15fbc84 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_a15fbc84 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_e565f41d -> task_a15fbc84 [label="31 " color="#973562" fontcolor="#973562" id=edge_d919e466 labeltooltip="31 " tooltip="31 "]
		task_09636ded [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_09636ded shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_e565f41d -> task_09636ded [label="32 " color="#973562" fontcolor="#973562" id=edge_50fe720f labeltooltip="32 " tooltip="32 "]
		task_36b42a36 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_36b42a36 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_e565f41d -> task_36b42a36 [label="33 " color="#973562" fontcolor="#973562" id=edge_c842ed46 labeltooltip="33 " tooltip="33 "]
		task_3d6e9af2 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_3d6e9af2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_e565f41d -> task_3d6e9af2 [label="34 " color="#973562" fontcolor="#973562" id=edge_f8eadc44 labeltooltip="34 " tooltip="34 "]
		task_b5ea3427 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_b5ea3427 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_e565f41d -> task_b5ea3427 [label="35 " color="#973562" fontcolor="#973562" id=edge_6876717d labeltooltip="35 " tooltip="35 "]
		task_a9db3685 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_a9db3685 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_e565f41d -> task_a9db3685 [label="36 " color="#973562" fontcolor="#973562" id=edge_5018fccc labeltooltip="36 " tooltip="36 "]
		task_4e19a8a5 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_4e19a8a5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_e565f41d -> task_4e19a8a5 [label="37 " color="#973562" fontcolor="#973562" id=edge_d1625674 labeltooltip="37 " tooltip="37 "]
		task_5d2d848a [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_5d2d848a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_e565f41d -> task_5d2d848a [label="38 " color="#973562" fontcolor="#973562" id=edge_9e07ced8 labeltooltip="38 " tooltip="38 "]
		task_6693404d [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_6693404d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_e565f41d -> task_6693404d [label="39 [when: kubeinit_deployment_os == 'centos']" color="#973562" fontcolor="#973562" id=edge_72c8b4ad labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_4e96d5bb [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_4e96d5bb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_e565f41d -> task_4e96d5bb [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#973562" fontcolor="#973562" id=edge_2ac2c5b8 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_5f94e0f8 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_5f94e0f8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_e565f41d -> task_5f94e0f8 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#973562" fontcolor="#973562" id=edge_2a59fb03 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_3c89bde9 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_3c89bde9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_e565f41d -> task_3c89bde9 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#973562" fontcolor="#973562" id=edge_7fbc6de2 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_08e02a1e [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_08e02a1e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_e565f41d -> task_08e02a1e [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#973562" fontcolor="#973562" id=edge_96f8797e labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_273e88b0 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_273e88b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_e565f41d -> task_273e88b0 [label="44 " color="#973562" fontcolor="#973562" id=edge_6b8c2dac labeltooltip="44 " tooltip="44 "]
		task_5843a33d [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_5843a33d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_e565f41d -> task_5843a33d [label="45 " color="#973562" fontcolor="#973562" id=edge_860ed205 labeltooltip="45 " tooltip="45 "]
		task_080e17cc [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_080e17cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_e565f41d -> task_080e17cc [label="46 " color="#973562" fontcolor="#973562" id=edge_d307ec81 labeltooltip="46 " tooltip="46 "]
		task_74934ef2 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_74934ef2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_e565f41d -> task_74934ef2 [label="47 " color="#973562" fontcolor="#973562" id=edge_fb998571 labeltooltip="47 " tooltip="47 "]
		task_f1d481a7 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_f1d481a7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_e565f41d -> task_f1d481a7 [label="48 " color="#973562" fontcolor="#973562" id=edge_640c6afa labeltooltip="48 " tooltip="48 "]
		task_f53c8e52 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_f53c8e52 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_e565f41d -> task_f53c8e52 [label="49 " color="#973562" fontcolor="#973562" id=edge_24847767 labeltooltip="49 " tooltip="49 "]
		task_64a06303 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_64a06303 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_e565f41d -> task_64a06303 [label="50 " color="#973562" fontcolor="#973562" id=edge_ad1525ae labeltooltip="50 " tooltip="50 "]
		task_60475cda [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_60475cda shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_e565f41d -> task_60475cda [label="51 " color="#973562" fontcolor="#973562" id=edge_77a7a447 labeltooltip="51 " tooltip="51 "]
		task_aa450ef7 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_aa450ef7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_e565f41d -> task_aa450ef7 [label="52 " color="#973562" fontcolor="#973562" id=edge_66d0d854 labeltooltip="52 " tooltip="52 "]
		task_67d0bd72 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#973562" id=task_67d0bd72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_e565f41d -> task_67d0bd72 [label="53 " color="#973562" fontcolor="#973562" id=edge_1ca6dcf3 labeltooltip="53 " tooltip="53 "]
		role_e565f41d -> role_30153820 [label="54 " color="#973562" fontcolor="#973562" id=edge_9f50ba8d labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_838ecdf3 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#973562" id=role_838ecdf3 tooltip="Delegate to the distro role to prepare the cluster"]
		role_838ecdf3 -> role_e565f41d [label="1 " color="#973562" fontcolor="#973562" id=edge_a408eecc labeltooltip="1 " tooltip="1 "]
		task_b1a99fb5 [label="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#973562" id=task_b1a99fb5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it"]
		role_838ecdf3 -> task_b1a99fb5 [label="2 " color="#973562" fontcolor="#973562" id=edge_018bdffc labeltooltip="2 " tooltip="2 "]
		task_4dddff03 [label="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#973562" id=task_4dddff03 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes"]
		role_838ecdf3 -> task_4dddff03 [label="3 " color="#973562" fontcolor="#973562" id=edge_abdef2ea labeltooltip="3 " tooltip="3 "]
		task_9225e8ff [label="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#973562" id=task_9225e8ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file."]
		role_838ecdf3 -> task_9225e8ff [label="4 " color="#973562" fontcolor="#973562" id=edge_8b1f0664 labeltooltip="4 " tooltip="4 "]
		task_ed7c6fe4 [label="kubeinit.kubeinit.kubeinit_k8s : Install requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#973562" id=task_ed7c6fe4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install requirements"]
		role_838ecdf3 -> task_ed7c6fe4 [label="5 " color="#973562" fontcolor="#973562" id=edge_f60ce8eb labeltooltip="5 " tooltip="5 "]
		task_dede0432 [label="kubeinit.kubeinit.kubeinit_k8s : Install common requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#973562" id=task_dede0432 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install common requirements"]
		role_838ecdf3 -> task_dede0432 [label="6 [when: kubeinit_k8s_common_dependencies is defined]" color="#973562" fontcolor="#973562" id=edge_43464684 labeltooltip="6 [when: kubeinit_k8s_common_dependencies is defined]" tooltip="6 [when: kubeinit_k8s_common_dependencies is defined]"]
	}
	subgraph "task-prepare-cluster" {
		role_3247f627 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_3247f627 tooltip="task-prepare-cluster"]
		role_3247f627 -> role_1182a7a2 [label="1 [when: not services_prepared]" color="#973562" fontcolor="#973562" id=edge_6d40084d labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_3247f627 -> role_838ecdf3 [label="2 " color="#973562" fontcolor="#973562" id=edge_dfca3bb9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_3b446d6b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_3b446d6b tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_06de386c [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#973562" id=role_06de386c tooltip="Prepare environment if not prepared"]
		role_06de386c -> role_3b446d6b [label="1 " color="#973562" fontcolor="#973562" id=edge_dfdf0be8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_178e6c52 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_178e6c52 tooltip="task-download-images"]
		role_178e6c52 -> role_06de386c [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_94f484be labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_90b5926f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_90b5926f tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_f2794739 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#973562" id=role_f2794739 tooltip="Prepare environment if needed"]
		role_f2794739 -> role_90b5926f [label="1 " color="#973562" fontcolor="#973562" id=edge_f09ccf23 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_667415d7 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#973562" id=role_667415d7 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_c314d10c [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#973562" id=role_c314d10c tooltip="Prepare services if needed"]
		role_c314d10c -> role_f2794739 [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_e57f4780 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c314d10c -> role_667415d7 [label="2 " color="#973562" fontcolor="#973562" id=edge_df81d12c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_c66e4c0a [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#973562" id=role_c66e4c0a tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_6919d6db [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#973562" id=role_6919d6db tooltip="Delegate to the distro role to deploy the cluster"]
		role_6919d6db -> role_c66e4c0a [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#973562" fontcolor="#973562" id=edge_17fab40e labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_837e84d6 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_837e84d6 tooltip="task-deploy-cluster"]
		role_837e84d6 -> role_c314d10c [label="1 [when: not services_prepared]" color="#973562" fontcolor="#973562" id=edge_3f69bb7e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_837e84d6 -> role_6919d6db [label="2 " color="#973562" fontcolor="#973562" id=edge_f9da9104 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_be800bfe [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#973562" id=role_be800bfe tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_80356256 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#973562" id=role_80356256 tooltip="Prepare environment if needed"]
		role_80356256 -> role_be800bfe [label="1 " color="#973562" fontcolor="#973562" id=edge_943a3eff labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_94f96616 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#973562" id=role_94f96616 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_9794332c [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#973562" id=role_9794332c tooltip="Prepare services if needed"]
		role_9794332c -> role_80356256 [label="1 [when: not environment_prepared]" color="#973562" fontcolor="#973562" id=edge_3ece2df3 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9794332c -> role_94f96616 [label="2 " color="#973562" fontcolor="#973562" id=edge_4c354e43 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_c777ae83 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#973562" id=role_c777ae83 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_18e11623 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#973562" id=role_18e11623 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_4c677b2b [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#973562" id=role_4c677b2b tooltip="Delegate to distro role to run post-deployment tasks"]
		role_4c677b2b -> role_c777ae83 [label="1 " color="#973562" fontcolor="#973562" id=edge_cbbb7fdd labeltooltip="1 " tooltip="1 "]
		role_4c677b2b -> role_18e11623 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#973562" fontcolor="#973562" id=edge_e22b842e labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_c5f23621 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=role_c5f23621 tooltip="task-post-deployment"]
		role_c5f23621 -> role_9794332c [label="1 [when: not services_prepared]" color="#973562" fontcolor="#973562" id=edge_176cdefc labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_c5f23621 -> role_4c677b2b [label="2 " color="#973562" fontcolor="#973562" id=edge_2e873945 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_c83613ae -> block_23196975 [label=1 color="#973562" fontcolor="#973562" id=edge_2ac38696 labeltooltip=1 tooltip=1]
		subgraph cluster_block_23196975 {
			block_23196975 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_23196975 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_23196975 -> role_69369b0d [label="1 " color="#973562" fontcolor="#973562" id=edge_81eb22be labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_e21c1c73 [label=2 color="#973562" fontcolor="#973562" id=edge_35733c5c labeltooltip=2 tooltip=2]
		subgraph cluster_block_e21c1c73 {
			block_e21c1c73 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_e21c1c73 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_e21c1c73 -> role_20fb71d3 [label="1 " color="#973562" fontcolor="#973562" id=edge_39bcb2eb labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_061f95b3 [label=3 color="#973562" fontcolor="#973562" id=edge_c15d963c labeltooltip=3 tooltip=3]
		subgraph cluster_block_061f95b3 {
			block_061f95b3 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_061f95b3 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_061f95b3 -> role_ea5f060a [label="1 " color="#973562" fontcolor="#973562" id=edge_e061b2aa labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_3771ebae [label=4 color="#973562" fontcolor="#973562" id=edge_c4fd32c9 labeltooltip=4 tooltip=4]
		subgraph cluster_block_3771ebae {
			block_3771ebae [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_3771ebae labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_3771ebae -> role_64b41618 [label="1 " color="#973562" fontcolor="#973562" id=edge_9ded02da labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_b47b6369 [label=5 color="#973562" fontcolor="#973562" id=edge_8a5e61cc labeltooltip=5 tooltip=5]
		subgraph cluster_block_b47b6369 {
			block_b47b6369 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_b47b6369 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_b47b6369 -> role_01f50f44 [label="1 " color="#973562" fontcolor="#973562" id=edge_cdaaaf17 labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_f5cabb86 [label=6 color="#973562" fontcolor="#973562" id=edge_2795cc20 labeltooltip=6 tooltip=6]
		subgraph cluster_block_f5cabb86 {
			block_f5cabb86 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_f5cabb86 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_f5cabb86 -> role_3247f627 [label="1 " color="#973562" fontcolor="#973562" id=edge_282a657b labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_072a99d6 [label=7 color="#973562" fontcolor="#973562" id=edge_64b60d8b labeltooltip=7 tooltip=7]
		subgraph cluster_block_072a99d6 {
			block_072a99d6 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_072a99d6 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_072a99d6 -> role_178e6c52 [label="1 " color="#973562" fontcolor="#973562" id=edge_8dde7fb0 labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_12622ddc [label=8 color="#973562" fontcolor="#973562" id=edge_0d1e74c8 labeltooltip=8 tooltip=8]
		subgraph cluster_block_12622ddc {
			block_12622ddc [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_12622ddc labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_12622ddc -> role_837e84d6 [label="1 " color="#973562" fontcolor="#973562" id=edge_3e2ed03a labeltooltip="1 " tooltip="1 "]
		}
		play_c83613ae -> block_05fbc999 [label=9 color="#973562" fontcolor="#973562" id=edge_a2b579ac labeltooltip=9 tooltip=9]
		subgraph cluster_block_05fbc999 {
			block_05fbc999 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#973562" id=block_05fbc999 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_05fbc999 -> role_c5f23621 [label="1 " color="#973562" fontcolor="#973562" id=edge_eab44208 labeltooltip="1 " tooltip="1 "]
		}
	}
}
