digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_e979d745 [label="Play: Initial setup (1)" color="#6f1eae" fontcolor="#ffffff" id=play_e979d745 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e979d745 [label="1 " color="#6f1eae" fontcolor="#6f1eae" id=edge_72578861 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_4cb7f29c [label="[role] Read podman secrets if running from the container" color="#6f1eae" id=role_4cb7f29c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_166dda87 [label="[role] task-gather-facts" color="#6f1eae" id=role_166dda87 tooltip="task-gather-facts"]
		role_166dda87 -> role_4cb7f29c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6f1eae" fontcolor="#6f1eae" id=edge_6caed2e6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1152e0c1 [label="[role] Read podman secrets if running from the container" color="#6f1eae" id=role_1152e0c1 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_5ba44399 [label="[role] task-prepare-hypervisors" color="#6f1eae" id=role_5ba44399 tooltip="task-prepare-hypervisors"]
		role_5ba44399 -> role_1152e0c1 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#6f1eae" fontcolor="#6f1eae" id=edge_f359ce35 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_e979d745 -> block_2045a093 [label=1 color="#6f1eae" fontcolor="#6f1eae" id=edge_9f74130d labeltooltip=1 tooltip=1]
		subgraph cluster_block_2045a093 {
			block_2045a093 [label="[block] Gather facts about the deployment environment" color="#6f1eae" id=block_2045a093 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_2045a093 -> role_166dda87 [label="1 " color="#6f1eae" fontcolor="#6f1eae" id=edge_902e0312 labeltooltip="1 " tooltip="1 "]
		}
		play_e979d745 -> block_06bc21e1 [label=2 color="#6f1eae" fontcolor="#6f1eae" id=edge_98a39fa9 labeltooltip=2 tooltip=2]
		subgraph cluster_block_06bc21e1 {
			block_06bc21e1 [label="[block] Prepare the hypervisors" color="#6f1eae" id=block_06bc21e1 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_06bc21e1 -> role_5ba44399 [label="1 " color="#6f1eae" fontcolor="#6f1eae" id=edge_6d92ce81 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_4c83660f [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#aa3122" fontcolor="#ffffff" id=play_4c83660f shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_4c83660f [label="2 " color="#aa3122" fontcolor="#aa3122" id=edge_c56e68b5 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_6f356614 [label="[role] Provision the libvirt services on the hypervisor" color="#aa3122" id=role_6f356614 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_34823ea1 [label="[role] Prepare each hypervisor in the deployment" color="#aa3122" id=role_34823ea1 tooltip="Prepare each hypervisor in the deployment"]
		role_34823ea1 -> role_6f356614 [label="1 " color="#aa3122" fontcolor="#aa3122" id=edge_b4987ee5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_4c83660f -> block_31ca910f [label=1 color="#aa3122" fontcolor="#aa3122" id=edge_57ad07fc labeltooltip=1 tooltip=1]
		subgraph cluster_block_31ca910f {
			block_31ca910f [label="[block] Prepare individual hypervisors" color="#aa3122" id=block_31ca910f labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_31ca910f -> role_34823ea1 [label="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" color="#aa3122" fontcolor="#aa3122" id=edge_005257d0 labeltooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars[kubeinit_cluster_name].hypervisors]"]
		}
	}
	play_8f8c9a94 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#a58d27" fontcolor="#ffffff" id=play_8f8c9a94 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_8f8c9a94 [label="3 " color="#a58d27" fontcolor="#a58d27" id=edge_6a08f887 labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_638cb357 [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_638cb357 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_baec2f58 [label="[role] task-prepare-environment" color="#a58d27" id=role_baec2f58 tooltip="task-prepare-environment"]
		role_baec2f58 -> role_638cb357 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_a7545682 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1315c602 [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_1315c602 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_343cd345 [label="[role] Prepare environment if not prepared" color="#a58d27" id=role_343cd345 tooltip="Prepare environment if not prepared"]
		role_343cd345 -> role_1315c602 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_c895fa97 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_2e95a9b1 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#a58d27" id=role_2e95a9b1 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_8560f1a3 [label="[role] task-cleanup-hypervisors" color="#a58d27" id=role_8560f1a3 tooltip="task-cleanup-hypervisors"]
		role_8560f1a3 -> role_343cd345 [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_46f85afe labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8560f1a3 -> role_2e95a9b1 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_bc90ff89 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_78a88151 [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_78a88151 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9874653b [label="[role] Prepare environment if not prepared" color="#a58d27" id=role_9874653b tooltip="Prepare environment if not prepared"]
		role_9874653b -> role_78a88151 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_6eb544bd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_fe6b59f3 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#a58d27" id=role_fe6b59f3 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_8236e437 [label="[role] Cleanup hypervisors if needed" color="#a58d27" id=role_8236e437 tooltip="Cleanup hypervisors if needed"]
		role_8236e437 -> role_9874653b [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_8f1134d2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8236e437 -> role_fe6b59f3 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_5ccf454b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_a5d53874 [label="[role] task-run-validations" color="#a58d27" id=role_a5d53874 tooltip="task-run-validations"]
		role_a5d53874 -> role_8236e437 [label="1 [when: not hypervisors_cleaned]" color="#a58d27" fontcolor="#a58d27" id=edge_714b7e66 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_551cc9df [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_551cc9df tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_47a90e95 [label="[role] Prepare environment if not prepared" color="#a58d27" id=role_47a90e95 tooltip="Prepare environment if not prepared"]
		role_47a90e95 -> role_551cc9df [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_75909c97 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_2dea1e0a [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#a58d27" id=role_2dea1e0a tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_178952f6 [label="[role] Cleanup hypervisors if needed" color="#a58d27" id=role_178952f6 tooltip="Cleanup hypervisors if needed"]
		role_178952f6 -> role_47a90e95 [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_1ee12e8d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_178952f6 -> role_2dea1e0a [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_25e1479f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_e7d90845 [label="[role] task-create-network" color="#a58d27" id=role_e7d90845 tooltip="task-create-network"]
		role_e7d90845 -> role_178952f6 [label="1 [when: not hypervisors_cleaned]" color="#a58d27" fontcolor="#a58d27" id=edge_d910ca23 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_a142ea3d [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_a142ea3d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_d36bd3de [label="[role] Prepare environment if not prepared" color="#a58d27" id=role_d36bd3de tooltip="Prepare environment if not prepared"]
		role_d36bd3de -> role_a142ea3d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_1899e671 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_cf84b066 [label="[role] Prepare podman" color="#a58d27" id=role_cf84b066 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_0a5ec73d [label="[role] Create systemd service for podman container" color="#a58d27" id=role_0a5ec73d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_6188e87d [label="[role] Configure Bind" color="#a58d27" id=role_6188e87d tooltip="Configure Bind"]
		role_6188e87d -> role_0a5ec73d [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_c4250d57 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c65f5860 [label="[role] Create systemd service for podman container" color="#a58d27" id=role_c65f5860 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_776ec09c [label="[role] Configure Dnsmasq" color="#a58d27" id=role_776ec09c tooltip="Configure Dnsmasq"]
		role_776ec09c -> role_c65f5860 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_8839de5f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a4890213 [label="[role] Create systemd service for podman container" color="#a58d27" id=role_a4890213 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_25e7aa4f [label="[role] Configure HAProxy" color="#a58d27" id=role_25e7aa4f tooltip="Configure HAProxy"]
		role_25e7aa4f -> role_a4890213 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_05af8b70 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_32836bf7 [label="[role] Create systemd service for podman container" color="#a58d27" id=role_32836bf7 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_6c18a3fe [label="[role] Configure Nexus" color="#a58d27" id=role_6c18a3fe tooltip="Configure Nexus"]
		role_6c18a3fe -> role_32836bf7 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_6d4e3a06 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e93259cb [label="[role] Create systemd service for podman container" color="#a58d27" id=role_e93259cb tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_86b587cd [label="[role] Configure Apache" color="#a58d27" id=role_86b587cd tooltip="Configure Apache"]
		role_86b587cd -> role_e93259cb [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_b062f1e0 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_1cfce13b [label="[role] Create systemd service for podman container" color="#a58d27" id=role_1cfce13b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_8d44c4d7 [label="[role] Configure a local container image registry" color="#a58d27" id=role_8d44c4d7 tooltip="Configure a local container image registry"]
		role_8d44c4d7 -> role_1cfce13b [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_b237c4bc labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_2cf7c7f3 [label="[role] task-create-services" color="#a58d27" id=role_2cf7c7f3 tooltip="task-create-services"]
		role_2cf7c7f3 -> role_d36bd3de [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_65af403a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2cf7c7f3 -> role_cf84b066 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_9b04f8f8 labeltooltip="2 " tooltip="2 "]
		role_2cf7c7f3 -> role_6188e87d [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#a58d27" fontcolor="#a58d27" id=edge_a7fecb20 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2cf7c7f3 -> role_776ec09c [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#a58d27" fontcolor="#a58d27" id=edge_d836c3dc labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2cf7c7f3 -> role_25e7aa4f [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#a58d27" fontcolor="#a58d27" id=edge_49ca7582 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2cf7c7f3 -> role_6c18a3fe [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#a58d27" fontcolor="#a58d27" id=edge_cff77953 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2cf7c7f3 -> role_86b587cd [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#a58d27" fontcolor="#a58d27" id=edge_130811be labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_2cf7c7f3 -> role_8d44c4d7 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#a58d27" fontcolor="#a58d27" id=edge_a206bfcb labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3557d4e3 [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_3557d4e3 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_581bfe6f [label="[role] Prepare environment if needed" color="#a58d27" id=role_581bfe6f tooltip="Prepare environment if needed"]
		role_581bfe6f -> role_3557d4e3 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_7bd2034d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_7477fe34 [label="[role] Gather network and host facts for guest" color="#a58d27" id=role_7477fe34 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_c52fad85 [label="[role] Prepare services if needed" color="#a58d27" id=role_c52fad85 tooltip="Prepare services if needed"]
		role_c52fad85 -> role_581bfe6f [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_9e06d31a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c52fad85 -> role_7477fe34 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_1cd1a4bc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4c5b2e36 [label="[role] Create systemd service for podman container" color="#a58d27" id=role_4c5b2e36 tooltip="Create systemd service for podman container"]
		task_9036b3bf [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#a58d27" id=task_9036b3bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_4c5b2e36 -> task_9036b3bf [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_c87fe45b labeltooltip="1 " tooltip="1 "]
		task_3d729c80 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#a58d27" id=task_3d729c80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_4c5b2e36 -> task_3d729c80 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_6b2f1749 labeltooltip="2 " tooltip="2 "]
		task_0caf05af [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#a58d27" id=task_0caf05af shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_4c5b2e36 -> task_0caf05af [label="3 " color="#a58d27" fontcolor="#a58d27" id=edge_7b1ca6f2 labeltooltip="3 " tooltip="3 "]
		task_6da53231 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#a58d27" id=task_6da53231 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_4c5b2e36 -> task_6da53231 [label="4 " color="#a58d27" fontcolor="#a58d27" id=edge_d338874a labeltooltip="4 " tooltip="4 "]
		task_4de38c10 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#a58d27" id=task_4de38c10 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_4c5b2e36 -> task_4de38c10 [label="5 " color="#a58d27" fontcolor="#a58d27" id=edge_c289080e labeltooltip="5 " tooltip="5 "]
		task_38959e44 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#a58d27" id=task_38959e44 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_4c5b2e36 -> task_38959e44 [label="6 " color="#a58d27" fontcolor="#a58d27" id=edge_1d33de5b labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_e369213d [label="[role] Gather network and host facts for provision service" color="#a58d27" id=role_e369213d tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_7b3df2f9 [label="[role] Setup the cluster provision container" color="#a58d27" id=role_7b3df2f9 tooltip="Setup the cluster provision container"]
		task_ebdf754a [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#a58d27" id=task_ebdf754a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_7b3df2f9 -> task_ebdf754a [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_422b372a labeltooltip="1 " tooltip="1 "]
		task_e3755e02 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#a58d27" id=task_e3755e02 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_7b3df2f9 -> task_e3755e02 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_879407e8 labeltooltip="2 " tooltip="2 "]
		task_881d0433 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#a58d27" id=task_881d0433 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_7b3df2f9 -> task_881d0433 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#a58d27" fontcolor="#a58d27" id=edge_ce5910be labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_eba8b0eb [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#a58d27" id=task_eba8b0eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_7b3df2f9 -> task_eba8b0eb [label="4 [when: kubeinit_deployment_os == 'centos']" color="#a58d27" fontcolor="#a58d27" id=edge_6f4519d6 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_7f1b9e9f [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#a58d27" id=task_7f1b9e9f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_7b3df2f9 -> task_7f1b9e9f [label="5 [when: kubeinit_deployment_os == 'centos']" color="#a58d27" fontcolor="#a58d27" id=edge_901bbac7 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_d91059d1 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#a58d27" id=task_d91059d1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_7b3df2f9 -> task_d91059d1 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#a58d27" fontcolor="#a58d27" id=edge_3a3c1ba4 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_e8f67650 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#a58d27" id=task_e8f67650 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_7b3df2f9 -> task_e8f67650 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#a58d27" fontcolor="#a58d27" id=edge_bc6a0fb9 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_21dfb01f [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#a58d27" id=task_21dfb01f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_7b3df2f9 -> task_21dfb01f [label="8 [when: kubeinit_deployment_os == 'debian']" color="#a58d27" fontcolor="#a58d27" id=edge_37926b9a labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_77dde011 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#a58d27" id=task_77dde011 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_7b3df2f9 -> task_77dde011 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#a58d27" fontcolor="#a58d27" id=edge_eef709a5 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_cd2670f5 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#a58d27" id=task_cd2670f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_7b3df2f9 -> task_cd2670f5 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#a58d27" fontcolor="#a58d27" id=edge_05e23846 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_06095a92 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#a58d27" id=task_06095a92 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_7b3df2f9 -> task_06095a92 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#a58d27" fontcolor="#a58d27" id=edge_329338b3 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_82ccf6c6 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#a58d27" id=task_82ccf6c6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_7b3df2f9 -> task_82ccf6c6 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#a58d27" fontcolor="#a58d27" id=edge_5c8928ec labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_af977751 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#a58d27" id=task_af977751 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_7b3df2f9 -> task_af977751 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#a58d27" fontcolor="#a58d27" id=edge_b3cbe212 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_939d884e [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#a58d27" id=task_939d884e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_7b3df2f9 -> task_939d884e [label="14 " color="#a58d27" fontcolor="#a58d27" id=edge_7e6c094c labeltooltip="14 " tooltip="14 "]
		task_da996818 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#a58d27" id=task_da996818 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_7b3df2f9 -> task_da996818 [label="15 " color="#a58d27" fontcolor="#a58d27" id=edge_13cde73f labeltooltip="15 " tooltip="15 "]
		task_c7d3bda4 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#a58d27" id=task_c7d3bda4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_7b3df2f9 -> task_c7d3bda4 [label="16 " color="#a58d27" fontcolor="#a58d27" id=edge_a8a6cc88 labeltooltip="16 " tooltip="16 "]
		task_28dc0fcb [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#a58d27" id=task_28dc0fcb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_7b3df2f9 -> task_28dc0fcb [label="17 " color="#a58d27" fontcolor="#a58d27" id=edge_ce63139c labeltooltip="17 " tooltip="17 "]
		task_8c7f21e8 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#a58d27" id=task_8c7f21e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_7b3df2f9 -> task_8c7f21e8 [label="18 " color="#a58d27" fontcolor="#a58d27" id=edge_349eb379 labeltooltip="18 " tooltip="18 "]
		task_d62a164c [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#a58d27" id=task_d62a164c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_7b3df2f9 -> task_d62a164c [label="19 " color="#a58d27" fontcolor="#a58d27" id=edge_44993f9d labeltooltip="19 " tooltip="19 "]
		task_2d1e6ec6 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#a58d27" id=task_2d1e6ec6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_7b3df2f9 -> task_2d1e6ec6 [label="20 " color="#a58d27" fontcolor="#a58d27" id=edge_4b469d44 labeltooltip="20 " tooltip="20 "]
		task_088fc51e [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#a58d27" id=task_088fc51e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_7b3df2f9 -> task_088fc51e [label="21 " color="#a58d27" fontcolor="#a58d27" id=edge_a7b7257c labeltooltip="21 " tooltip="21 "]
		task_136bf033 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#a58d27" id=task_136bf033 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_7b3df2f9 -> task_136bf033 [label="22 " color="#a58d27" fontcolor="#a58d27" id=edge_8d5a3acf labeltooltip="22 " tooltip="22 "]
		role_7b3df2f9 -> role_4c5b2e36 [label="23 " color="#a58d27" fontcolor="#a58d27" id=edge_e16249c1 labeltooltip="23 " tooltip="23 "]
		task_27b53091 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#a58d27" id=task_27b53091 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_7b3df2f9 -> task_27b53091 [label="24 " color="#a58d27" fontcolor="#a58d27" id=edge_33bf39f3 labeltooltip="24 " tooltip="24 "]
		task_489ff575 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#a58d27" id=task_489ff575 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_7b3df2f9 -> task_489ff575 [label="25 " color="#a58d27" fontcolor="#a58d27" id=edge_22fddf0a labeltooltip="25 " tooltip="25 "]
		task_b3e93766 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#a58d27" id=task_b3e93766 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_7b3df2f9 -> task_b3e93766 [label="26 " color="#a58d27" fontcolor="#a58d27" id=edge_0fabe551 labeltooltip="26 " tooltip="26 "]
		task_797f2174 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#a58d27" id=task_797f2174 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_7b3df2f9 -> task_797f2174 [label="27 " color="#a58d27" fontcolor="#a58d27" id=edge_fb6f5f08 labeltooltip="27 " tooltip="27 "]
		task_c33c643e [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#a58d27" id=task_c33c643e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_7b3df2f9 -> task_c33c643e [label="28 " color="#a58d27" fontcolor="#a58d27" id=edge_bb1f5517 labeltooltip="28 " tooltip="28 "]
		task_beeb99ee [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#a58d27" id=task_beeb99ee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_7b3df2f9 -> task_beeb99ee [label="29 " color="#a58d27" fontcolor="#a58d27" id=edge_7de60839 labeltooltip="29 " tooltip="29 "]
		task_2287982d [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#a58d27" id=task_2287982d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_7b3df2f9 -> task_2287982d [label="30 " color="#a58d27" fontcolor="#a58d27" id=edge_45cc2f1d labeltooltip="30 " tooltip="30 "]
		task_c381ebc6 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#a58d27" id=task_c381ebc6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_7b3df2f9 -> task_c381ebc6 [label="31 " color="#a58d27" fontcolor="#a58d27" id=edge_703ed674 labeltooltip="31 " tooltip="31 "]
		task_cc3b1fcd [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#a58d27" id=task_cc3b1fcd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_7b3df2f9 -> task_cc3b1fcd [label="32 " color="#a58d27" fontcolor="#a58d27" id=edge_79ed644d labeltooltip="32 " tooltip="32 "]
		task_38a2d70e [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#a58d27" id=task_38a2d70e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_7b3df2f9 -> task_38a2d70e [label="33 " color="#a58d27" fontcolor="#a58d27" id=edge_b5f9f870 labeltooltip="33 " tooltip="33 "]
		task_15089376 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#a58d27" id=task_15089376 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_7b3df2f9 -> task_15089376 [label="34 " color="#a58d27" fontcolor="#a58d27" id=edge_82990524 labeltooltip="34 " tooltip="34 "]
		task_9b6bb367 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#a58d27" id=task_9b6bb367 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_7b3df2f9 -> task_9b6bb367 [label="35 " color="#a58d27" fontcolor="#a58d27" id=edge_15ed9305 labeltooltip="35 " tooltip="35 "]
		task_8073ed5c [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#a58d27" id=task_8073ed5c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_7b3df2f9 -> task_8073ed5c [label="36 " color="#a58d27" fontcolor="#a58d27" id=edge_a376e562 labeltooltip="36 " tooltip="36 "]
		task_5f35f75e [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#a58d27" id=task_5f35f75e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_7b3df2f9 -> task_5f35f75e [label="37 " color="#a58d27" fontcolor="#a58d27" id=edge_e8dc2f88 labeltooltip="37 " tooltip="37 "]
		task_5376faa7 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#a58d27" id=task_5376faa7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_7b3df2f9 -> task_5376faa7 [label="38 " color="#a58d27" fontcolor="#a58d27" id=edge_1500759f labeltooltip="38 " tooltip="38 "]
		task_8e7e2ca3 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#a58d27" id=task_8e7e2ca3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_7b3df2f9 -> task_8e7e2ca3 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#a58d27" fontcolor="#a58d27" id=edge_05ad8a0b labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_abfd125c [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#a58d27" id=task_abfd125c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_7b3df2f9 -> task_abfd125c [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#a58d27" fontcolor="#a58d27" id=edge_259c8506 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_e0eeccd9 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#a58d27" id=task_e0eeccd9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_7b3df2f9 -> task_e0eeccd9 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#a58d27" fontcolor="#a58d27" id=edge_075ae178 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_35ade337 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#a58d27" id=task_35ade337 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_7b3df2f9 -> task_35ade337 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#a58d27" fontcolor="#a58d27" id=edge_eb6548d4 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_60b4c66c [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#a58d27" id=task_60b4c66c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_7b3df2f9 -> task_60b4c66c [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#a58d27" fontcolor="#a58d27" id=edge_2dcbd9b1 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_effe1302 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#a58d27" id=task_effe1302 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_7b3df2f9 -> task_effe1302 [label="44 " color="#a58d27" fontcolor="#a58d27" id=edge_39397ba2 labeltooltip="44 " tooltip="44 "]
		task_ff9a05de [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#a58d27" id=task_ff9a05de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_7b3df2f9 -> task_ff9a05de [label="45 " color="#a58d27" fontcolor="#a58d27" id=edge_c70575b1 labeltooltip="45 " tooltip="45 "]
		task_6a96777f [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#a58d27" id=task_6a96777f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_7b3df2f9 -> task_6a96777f [label="46 " color="#a58d27" fontcolor="#a58d27" id=edge_4f3f87c6 labeltooltip="46 " tooltip="46 "]
		task_58372f31 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#a58d27" id=task_58372f31 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_7b3df2f9 -> task_58372f31 [label="47 " color="#a58d27" fontcolor="#a58d27" id=edge_d887f34d labeltooltip="47 " tooltip="47 "]
		task_1523ce51 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#a58d27" id=task_1523ce51 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_7b3df2f9 -> task_1523ce51 [label="48 " color="#a58d27" fontcolor="#a58d27" id=edge_99ccbcd4 labeltooltip="48 " tooltip="48 "]
		task_f93854c5 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#a58d27" id=task_f93854c5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_7b3df2f9 -> task_f93854c5 [label="49 " color="#a58d27" fontcolor="#a58d27" id=edge_dec0362c labeltooltip="49 " tooltip="49 "]
		task_c2db48a4 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#a58d27" id=task_c2db48a4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_7b3df2f9 -> task_c2db48a4 [label="50 " color="#a58d27" fontcolor="#a58d27" id=edge_e216d1ff labeltooltip="50 " tooltip="50 "]
		task_e5267e72 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#a58d27" id=task_e5267e72 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_7b3df2f9 -> task_e5267e72 [label="51 " color="#a58d27" fontcolor="#a58d27" id=edge_12310710 labeltooltip="51 " tooltip="51 "]
		task_47c961e6 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#a58d27" id=task_47c961e6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_7b3df2f9 -> task_47c961e6 [label="52 " color="#a58d27" fontcolor="#a58d27" id=edge_09d7cdd9 labeltooltip="52 " tooltip="52 "]
		task_78b7f736 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" color="#a58d27" id=task_78b7f736 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_7b3df2f9 -> task_78b7f736 [label="53 " color="#a58d27" fontcolor="#a58d27" id=edge_10085e19 labeltooltip="53 " tooltip="53 "]
		role_7b3df2f9 -> role_e369213d [label="54 " color="#a58d27" fontcolor="#a58d27" id=edge_54f96649 labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_150f0845 [label="[role] Delegate to the distro role to prepare the cluster" color="#a58d27" id=role_150f0845 tooltip="Delegate to the distro role to prepare the cluster"]
		role_150f0845 -> role_7b3df2f9 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_b68d66aa labeltooltip="1 " tooltip="1 "]
		task_02d50384 [label="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it" color="#a58d27" id=task_02d50384 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it"]
		role_150f0845 -> task_02d50384 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_38360612 labeltooltip="2 " tooltip="2 "]
		task_2d873d43 [label="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes" color="#a58d27" id=task_2d873d43 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes"]
		role_150f0845 -> task_2d873d43 [label="3 " color="#a58d27" fontcolor="#a58d27" id=edge_2b21b50d labeltooltip="3 " tooltip="3 "]
		task_1b35bcc0 [label="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file." color="#a58d27" id=task_1b35bcc0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file."]
		role_150f0845 -> task_1b35bcc0 [label="4 " color="#a58d27" fontcolor="#a58d27" id=edge_84896856 labeltooltip="4 " tooltip="4 "]
		task_28dc4bde [label="kubeinit.kubeinit.kubeinit_k8s : Install requirements" color="#a58d27" id=task_28dc4bde shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install requirements"]
		role_150f0845 -> task_28dc4bde [label="5 " color="#a58d27" fontcolor="#a58d27" id=edge_be636412 labeltooltip="5 " tooltip="5 "]
		task_13ac0746 [label="kubeinit.kubeinit.kubeinit_k8s : Install common requirements" color="#a58d27" id=task_13ac0746 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install common requirements"]
		role_150f0845 -> task_13ac0746 [label="6 [when: kubeinit_k8s_common_dependencies is defined]" color="#a58d27" fontcolor="#a58d27" id=edge_30436938 labeltooltip="6 [when: kubeinit_k8s_common_dependencies is defined]" tooltip="6 [when: kubeinit_k8s_common_dependencies is defined]"]
	}
	subgraph "task-prepare-cluster" {
		role_1125a20c [label="[role] task-prepare-cluster" color="#a58d27" id=role_1125a20c tooltip="task-prepare-cluster"]
		role_1125a20c -> role_c52fad85 [label="1 [when: not services_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_53abb517 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_1125a20c -> role_150f0845 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_670f05a7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_1ccbdd50 [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_1ccbdd50 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_81eceb98 [label="[role] Prepare environment if not prepared" color="#a58d27" id=role_81eceb98 tooltip="Prepare environment if not prepared"]
		role_81eceb98 -> role_1ccbdd50 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_96ac2ce9 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_b787011f [label="[role] task-download-images" color="#a58d27" id=role_b787011f tooltip="task-download-images"]
		role_b787011f -> role_81eceb98 [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_2840fbff labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3f4873c4 [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_3f4873c4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d94f5236 [label="[role] Prepare environment if needed" color="#a58d27" id=role_d94f5236 tooltip="Prepare environment if needed"]
		role_d94f5236 -> role_3f4873c4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_c4dd206a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_6c15c021 [label="[role] Gather network and host facts for guest" color="#a58d27" id=role_6c15c021 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_0e270f75 [label="[role] Prepare services if needed" color="#a58d27" id=role_0e270f75 tooltip="Prepare services if needed"]
		role_0e270f75 -> role_d94f5236 [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_3f2c620e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0e270f75 -> role_6c15c021 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_4659e1e2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_68b2127a [label="[role] Deploy the cluster nodes" color="#a58d27" id=role_68b2127a tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_2a144f29 [label="[role] Delegate to the distro role to deploy the cluster" color="#a58d27" id=role_2a144f29 tooltip="Delegate to the distro role to deploy the cluster"]
		role_2a144f29 -> role_68b2127a [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#a58d27" fontcolor="#a58d27" id=edge_cad3692e labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_70c6cb7d [label="[role] task-deploy-cluster" color="#a58d27" id=role_70c6cb7d tooltip="task-deploy-cluster"]
		role_70c6cb7d -> role_0e270f75 [label="1 [when: not services_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_f2b2e958 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_70c6cb7d -> role_2a144f29 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_254fb3a7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b18fdd0b [label="[role] Read podman secrets if running from the container" color="#a58d27" id=role_b18fdd0b tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_cfc8e143 [label="[role] Prepare environment if needed" color="#a58d27" id=role_cfc8e143 tooltip="Prepare environment if needed"]
		role_cfc8e143 -> role_b18fdd0b [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a58d27" fontcolor="#a58d27" id=edge_feaabdb6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_f7527823 [label="[role] Gather network and host facts for guest" color="#a58d27" id=role_f7527823 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_e0514224 [label="[role] Prepare services if needed" color="#a58d27" id=role_e0514224 tooltip="Prepare services if needed"]
		role_e0514224 -> role_cfc8e143 [label="1 [when: not environment_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_9fe06f45 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e0514224 -> role_f7527823 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_a793595c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_5e25a59f [label="[role] Deploy the apps" color="#a58d27" id=role_5e25a59f tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_b75f0e5d [label="[role] Configure NFS" color="#a58d27" id=role_b75f0e5d tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_f81d9044 [label="[role] Delegate to distro role to run post-deployment tasks" color="#a58d27" id=role_f81d9044 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_f81d9044 -> role_5e25a59f [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_99b48377 labeltooltip="1 " tooltip="1 "]
		role_f81d9044 -> role_b75f0e5d [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#a58d27" fontcolor="#a58d27" id=edge_6dde94b2 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_d23c9d88 [label="[role] task-post-deployment" color="#a58d27" id=role_d23c9d88 tooltip="task-post-deployment"]
		role_d23c9d88 -> role_e0514224 [label="1 [when: not services_prepared]" color="#a58d27" fontcolor="#a58d27" id=edge_3f937399 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_d23c9d88 -> role_f81d9044 [label="2 " color="#a58d27" fontcolor="#a58d27" id=edge_7e7fc0aa labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_8f8c9a94 -> block_14808b5a [label=1 color="#a58d27" fontcolor="#a58d27" id=edge_a64dddb5 labeltooltip=1 tooltip=1]
		subgraph cluster_block_14808b5a {
			block_14808b5a [label="[block] Prepare the environment" color="#a58d27" id=block_14808b5a labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_14808b5a -> role_baec2f58 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_d3f4d935 labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_7253b776 [label=2 color="#a58d27" fontcolor="#a58d27" id=edge_76a39337 labeltooltip=2 tooltip=2]
		subgraph cluster_block_7253b776 {
			block_7253b776 [label="[block] Cleanup hypervisors" color="#a58d27" id=block_7253b776 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_7253b776 -> role_8560f1a3 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_18313945 labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_b9c6bbd8 [label=3 color="#a58d27" fontcolor="#a58d27" id=edge_3ab1d0bd labeltooltip=3 tooltip=3]
		subgraph cluster_block_b9c6bbd8 {
			block_b9c6bbd8 [label="[block] Run validations on cluster resources" color="#a58d27" id=block_b9c6bbd8 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_b9c6bbd8 -> role_a5d53874 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_174f45c6 labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_870c1323 [label=4 color="#a58d27" fontcolor="#a58d27" id=edge_c478b52b labeltooltip=4 tooltip=4]
		subgraph cluster_block_870c1323 {
			block_870c1323 [label="[block] Create the cluster network resources" color="#a58d27" id=block_870c1323 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_870c1323 -> role_e7d90845 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_e9473ee1 labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_e7fda7f7 [label=5 color="#a58d27" fontcolor="#a58d27" id=edge_b2a96e23 labeltooltip=5 tooltip=5]
		subgraph cluster_block_e7fda7f7 {
			block_e7fda7f7 [label="[block] Create services the cluster will need" color="#a58d27" id=block_e7fda7f7 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_e7fda7f7 -> role_2cf7c7f3 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_a0c554af labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_8b972394 [label=6 color="#a58d27" fontcolor="#a58d27" id=edge_be21d6ff labeltooltip=6 tooltip=6]
		subgraph cluster_block_8b972394 {
			block_8b972394 [label="[block] Prepare to deploy the cluster" color="#a58d27" id=block_8b972394 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_8b972394 -> role_1125a20c [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_ff6a3f75 labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_6dd7b1a2 [label=7 color="#a58d27" fontcolor="#a58d27" id=edge_1dc92d67 labeltooltip=7 tooltip=7]
		subgraph cluster_block_6dd7b1a2 {
			block_6dd7b1a2 [label="[block] Download cloud images" color="#a58d27" id=block_6dd7b1a2 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_6dd7b1a2 -> role_b787011f [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_5c3e10c0 labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_92d8f6a3 [label=8 color="#a58d27" fontcolor="#a58d27" id=edge_500021fd labeltooltip=8 tooltip=8]
		subgraph cluster_block_92d8f6a3 {
			block_92d8f6a3 [label="[block] Deploy the cluster" color="#a58d27" id=block_92d8f6a3 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_92d8f6a3 -> role_70c6cb7d [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_f85e670e labeltooltip="1 " tooltip="1 "]
		}
		play_8f8c9a94 -> block_9a0e51eb [label=9 color="#a58d27" fontcolor="#a58d27" id=edge_3ad802c1 labeltooltip=9 tooltip=9]
		subgraph cluster_block_9a0e51eb {
			block_9a0e51eb [label="[block] Run any post-deployment tasks" color="#a58d27" id=block_9a0e51eb labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_9a0e51eb -> role_d23c9d88 [label="1 " color="#a58d27" fontcolor="#a58d27" id=edge_3683addc labeltooltip="1 " tooltip="1 "]
		}
	}
}
