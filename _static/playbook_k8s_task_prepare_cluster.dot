digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_db2238cf [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#5b804c" fontcolor="#ffffff" id=play_db2238cf shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_db2238cf [label="1 " color="#5b804c" fontcolor="#5b804c" id=edge_a8119284 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_de5388c1 [label="[role] Gather kubeinit secrets" color="#5b804c" id=role_de5388c1 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_02150967 [label="[role] Gather additional facts from localhost for kubeinit" color="#5b804c" id=role_02150967 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_057bf502 [label="[role] Create ssh config file from template" color="#5b804c" id=role_057bf502 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_49bb7a95 [label="[role] task-gather-facts" color="#5b804c" id=role_49bb7a95 tooltip="task-gather-facts"]
		role_49bb7a95 -> role_de5388c1 [label="1 " color="#5b804c" fontcolor="#5b804c" id=edge_ed795194 labeltooltip="1 " tooltip="1 "]
		role_49bb7a95 -> role_02150967 [label="2 " color="#5b804c" fontcolor="#5b804c" id=edge_7741b84e labeltooltip="2 " tooltip="2 "]
		role_49bb7a95 -> role_057bf502 [label="3 " color="#5b804c" fontcolor="#5b804c" id=edge_7b502b65 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_fd9ab104 [label="[role] Gather kubeinit secrets" color="#5b804c" id=role_fd9ab104 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_a4915e20 [label="[role] Gather additional facts from localhost for kubeinit" color="#5b804c" id=role_a4915e20 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_2580aab6 [label="[role] Create ssh config file from template" color="#5b804c" id=role_2580aab6 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_775f2fb5 [label="[role] task-prepare-hypervisors" color="#5b804c" id=role_775f2fb5 tooltip="task-prepare-hypervisors"]
		role_775f2fb5 -> role_fd9ab104 [label="1 " color="#5b804c" fontcolor="#5b804c" id=edge_c407262c labeltooltip="1 " tooltip="1 "]
		role_775f2fb5 -> role_a4915e20 [label="2 " color="#5b804c" fontcolor="#5b804c" id=edge_7d1da794 labeltooltip="2 " tooltip="2 "]
		role_775f2fb5 -> role_2580aab6 [label="3 " color="#5b804c" fontcolor="#5b804c" id=edge_4fa0b458 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_db2238cf -> block_cdc8883d [label=1 color="#5b804c" fontcolor="#5b804c" id=edge_f2a3c8f2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_cdc8883d {
			block_cdc8883d [label="[block] Gather facts about the deployment environment" color="#5b804c" id=block_cdc8883d labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_cdc8883d -> role_49bb7a95 [label="1 " color="#5b804c" fontcolor="#5b804c" id=edge_ae25c934 labeltooltip="1 " tooltip="1 "]
		}
		play_db2238cf -> block_60569d4f [label=2 color="#5b804c" fontcolor="#5b804c" id=edge_89f71af3 labeltooltip=2 tooltip=2]
		subgraph cluster_block_60569d4f {
			block_60569d4f [label="[block] Prepare the hypervisors" color="#5b804c" id=block_60569d4f labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_60569d4f -> role_775f2fb5 [label="1 " color="#5b804c" fontcolor="#5b804c" id=edge_c202885a labeltooltip="1 " tooltip="1 "]
		}
	}
	play_f8ba3dc3 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#501daf" fontcolor="#ffffff" id=play_f8ba3dc3 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_f8ba3dc3 [label="2 " color="#501daf" fontcolor="#501daf" id=edge_1ea04e35 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_7f2ae6fc [label="[role] Provision the libvirt services on the hypervisor" color="#501daf" id=role_7f2ae6fc tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_837bc3eb [label="[role] Prepare each hypervisor in the deployment" color="#501daf" id=role_837bc3eb tooltip="Prepare each hypervisor in the deployment"]
		role_837bc3eb -> role_7f2ae6fc [label="1 " color="#501daf" fontcolor="#501daf" id=edge_8843c7b4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_f8ba3dc3 -> block_83d582ec [label=1 color="#501daf" fontcolor="#501daf" id=edge_a98b5236 labeltooltip=1 tooltip=1]
		subgraph cluster_block_83d582ec {
			block_83d582ec [label="[block] Prepare individual hypervisors" color="#501daf" id=block_83d582ec labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_83d582ec -> role_837bc3eb [label="1 " color="#501daf" fontcolor="#501daf" id=edge_0e54e006 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_42dbb846 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#886444" fontcolor="#ffffff" id=play_42dbb846 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_42dbb846 [label="3 " color="#886444" fontcolor="#886444" id=edge_64253ae0 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_09327014 [label="[role] Gather kubeinit secrets" color="#886444" id=role_09327014 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_372aa371 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_372aa371 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_0f177a40 [label="[role] Create ssh config file from template" color="#886444" id=role_0f177a40 tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_af1c4c32 [label="[role] task-prepare-environment" color="#886444" id=role_af1c4c32 tooltip="task-prepare-environment"]
		role_af1c4c32 -> role_09327014 [label="1 " color="#886444" fontcolor="#886444" id=edge_a236c21d labeltooltip="1 " tooltip="1 "]
		role_af1c4c32 -> role_372aa371 [label="2 " color="#886444" fontcolor="#886444" id=edge_10d1ab78 labeltooltip="2 " tooltip="2 "]
		role_af1c4c32 -> role_0f177a40 [label="3 " color="#886444" fontcolor="#886444" id=edge_d0d3f67d labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e808b773 [label="[role] Gather kubeinit secrets" color="#886444" id=role_e808b773 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_b683d158 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_b683d158 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_98efe15a [label="[role] Create ssh config file from template" color="#886444" id=role_98efe15a tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_83fc0655 [label="[role] Prepare environment if not prepared" color="#886444" id=role_83fc0655 tooltip="Prepare environment if not prepared"]
		role_83fc0655 -> role_e808b773 [label="1 " color="#886444" fontcolor="#886444" id=edge_41df0d92 labeltooltip="1 " tooltip="1 "]
		role_83fc0655 -> role_b683d158 [label="2 " color="#886444" fontcolor="#886444" id=edge_24e2fcff labeltooltip="2 " tooltip="2 "]
		role_83fc0655 -> role_98efe15a [label="3 " color="#886444" fontcolor="#886444" id=edge_65920189 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_a8f38d37 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#886444" id=role_a8f38d37 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_3782b209 [label="[role] task-cleanup-hypervisors" color="#886444" id=role_3782b209 tooltip="task-cleanup-hypervisors"]
		role_3782b209 -> role_83fc0655 [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_8c84e56a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_3782b209 -> role_a8f38d37 [label="2 " color="#886444" fontcolor="#886444" id=edge_5116336c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_9c445f2a [label="[role] Gather kubeinit secrets" color="#886444" id=role_9c445f2a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_595d5813 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_595d5813 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_42f5fed3 [label="[role] Create ssh config file from template" color="#886444" id=role_42f5fed3 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1d1ee2f8 [label="[role] Prepare environment if not prepared" color="#886444" id=role_1d1ee2f8 tooltip="Prepare environment if not prepared"]
		role_1d1ee2f8 -> role_9c445f2a [label="1 " color="#886444" fontcolor="#886444" id=edge_f29bca38 labeltooltip="1 " tooltip="1 "]
		role_1d1ee2f8 -> role_595d5813 [label="2 " color="#886444" fontcolor="#886444" id=edge_7c9134e5 labeltooltip="2 " tooltip="2 "]
		role_1d1ee2f8 -> role_42f5fed3 [label="3 " color="#886444" fontcolor="#886444" id=edge_f8f5fe61 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_222370d9 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#886444" id=role_222370d9 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e3983c3c [label="[role] Cleanup hypervisors if needed" color="#886444" id=role_e3983c3c tooltip="Cleanup hypervisors if needed"]
		role_e3983c3c -> role_1d1ee2f8 [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_4a743575 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e3983c3c -> role_222370d9 [label="2 " color="#886444" fontcolor="#886444" id=edge_b9eae365 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_a75d6de5 [label="[role] task-run-validations" color="#886444" id=role_a75d6de5 tooltip="task-run-validations"]
		role_a75d6de5 -> role_e3983c3c [label="1 [when: not hypervisors_cleaned]" color="#886444" fontcolor="#886444" id=edge_3a93e349 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_08f6b472 [label="[role] Gather kubeinit secrets" color="#886444" id=role_08f6b472 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_e33f2a09 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_e33f2a09 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_618ba8d6 [label="[role] Create ssh config file from template" color="#886444" id=role_618ba8d6 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_cc7b4693 [label="[role] Prepare environment if not prepared" color="#886444" id=role_cc7b4693 tooltip="Prepare environment if not prepared"]
		role_cc7b4693 -> role_08f6b472 [label="1 " color="#886444" fontcolor="#886444" id=edge_b6ddae8c labeltooltip="1 " tooltip="1 "]
		role_cc7b4693 -> role_e33f2a09 [label="2 " color="#886444" fontcolor="#886444" id=edge_7c6242d1 labeltooltip="2 " tooltip="2 "]
		role_cc7b4693 -> role_618ba8d6 [label="3 " color="#886444" fontcolor="#886444" id=edge_ae02ebe7 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_7a41bf31 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#886444" id=role_7a41bf31 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_8912ac03 [label="[role] Cleanup hypervisors if needed" color="#886444" id=role_8912ac03 tooltip="Cleanup hypervisors if needed"]
		role_8912ac03 -> role_cc7b4693 [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_c9448c31 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_8912ac03 -> role_7a41bf31 [label="2 " color="#886444" fontcolor="#886444" id=edge_32fd7945 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_71e65ad3 [label="[role] task-create-network" color="#886444" id=role_71e65ad3 tooltip="task-create-network"]
		role_71e65ad3 -> role_8912ac03 [label="1 [when: not hypervisors_cleaned]" color="#886444" fontcolor="#886444" id=edge_2b3c7d65 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_17820fa8 [label="[role] Gather kubeinit secrets" color="#886444" id=role_17820fa8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_9c069944 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_9c069944 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_05604c95 [label="[role] Create ssh config file from template" color="#886444" id=role_05604c95 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_153a92cb [label="[role] Prepare environment if not prepared" color="#886444" id=role_153a92cb tooltip="Prepare environment if not prepared"]
		role_153a92cb -> role_17820fa8 [label="1 " color="#886444" fontcolor="#886444" id=edge_fdebfaa9 labeltooltip="1 " tooltip="1 "]
		role_153a92cb -> role_9c069944 [label="2 " color="#886444" fontcolor="#886444" id=edge_7ca03fb0 labeltooltip="2 " tooltip="2 "]
		role_153a92cb -> role_05604c95 [label="3 " color="#886444" fontcolor="#886444" id=edge_f057dd0b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_dca3e2f4 [label="[role] Prepare podman" color="#886444" id=role_dca3e2f4 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_bd17fa43 [label="[role] Create systemd service for podman container" color="#886444" id=role_bd17fa43 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_e14f461d [label="[role] Configure Bind" color="#886444" id=role_e14f461d tooltip="Configure Bind"]
		role_e14f461d -> role_bd17fa43 [label="1 " color="#886444" fontcolor="#886444" id=edge_9682ec81 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7ab76c6d [label="[role] Create systemd service for podman container" color="#886444" id=role_7ab76c6d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_1d4106c3 [label="[role] Configure Dnsmasq" color="#886444" id=role_1d4106c3 tooltip="Configure Dnsmasq"]
		role_1d4106c3 -> role_7ab76c6d [label="1 " color="#886444" fontcolor="#886444" id=edge_94c4e20e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d6868e98 [label="[role] Create systemd service for podman container" color="#886444" id=role_d6868e98 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_4d62b125 [label="[role] Configure HAProxy" color="#886444" id=role_4d62b125 tooltip="Configure HAProxy"]
		role_4d62b125 -> role_d6868e98 [label="1 " color="#886444" fontcolor="#886444" id=edge_f764783d labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ac52b21c [label="[role] Create systemd service for podman container" color="#886444" id=role_ac52b21c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_372fddd9 [label="[role] Configure Nexus" color="#886444" id=role_372fddd9 tooltip="Configure Nexus"]
		role_372fddd9 -> role_ac52b21c [label="1 " color="#886444" fontcolor="#886444" id=edge_bf0bbf50 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_4ca951b8 [label="[role] Create systemd service for podman container" color="#886444" id=role_4ca951b8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_4fbc8d00 [label="[role] Configure Apache" color="#886444" id=role_4fbc8d00 tooltip="Configure Apache"]
		role_4fbc8d00 -> role_4ca951b8 [label="1 " color="#886444" fontcolor="#886444" id=edge_8a47623f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6548da0b [label="[role] Create systemd service for podman container" color="#886444" id=role_6548da0b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_4c1c7edb [label="[role] Configure a local container image registry" color="#886444" id=role_4c1c7edb tooltip="Configure a local container image registry"]
		role_4c1c7edb -> role_6548da0b [label="1 " color="#886444" fontcolor="#886444" id=edge_caebfc0b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_f607f530 [label="[role] task-create-services" color="#886444" id=role_f607f530 tooltip="task-create-services"]
		role_f607f530 -> role_153a92cb [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_f2dcdf31 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f607f530 -> role_dca3e2f4 [label="2 " color="#886444" fontcolor="#886444" id=edge_334d79f7 labeltooltip="2 " tooltip="2 "]
		role_f607f530 -> role_e14f461d [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#886444" fontcolor="#886444" id=edge_af5c9eaf labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f607f530 -> role_1d4106c3 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#886444" fontcolor="#886444" id=edge_3ae61012 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f607f530 -> role_4d62b125 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#886444" fontcolor="#886444" id=edge_cfbbd8cc labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f607f530 -> role_372fddd9 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#886444" fontcolor="#886444" id=edge_47ed849e labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f607f530 -> role_4fbc8d00 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#886444" fontcolor="#886444" id=edge_8acaab27 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f607f530 -> role_4c1c7edb [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#886444" fontcolor="#886444" id=edge_8b961e3d labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_411e771e [label="[role] Gather kubeinit secrets" color="#886444" id=role_411e771e tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_6e0fce72 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_6e0fce72 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_a22602f0 [label="[role] Create ssh config file from template" color="#886444" id=role_a22602f0 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_62df0954 [label="[role] Prepare environment if needed" color="#886444" id=role_62df0954 tooltip="Prepare environment if needed"]
		role_62df0954 -> role_411e771e [label="1 " color="#886444" fontcolor="#886444" id=edge_db1fbadb labeltooltip="1 " tooltip="1 "]
		role_62df0954 -> role_6e0fce72 [label="2 " color="#886444" fontcolor="#886444" id=edge_2907b6fe labeltooltip="2 " tooltip="2 "]
		role_62df0954 -> role_a22602f0 [label="3 " color="#886444" fontcolor="#886444" id=edge_9ccbc6f3 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_2009bf92 [label="[role] Gather network and host facts for guest" color="#886444" id=role_2009bf92 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_c177e4ff [label="[role] Prepare services if needed" color="#886444" id=role_c177e4ff tooltip="Prepare services if needed"]
		role_c177e4ff -> role_62df0954 [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_fd8d8fe4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c177e4ff -> role_2009bf92 [label="2 " color="#886444" fontcolor="#886444" id=edge_70309690 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e0383ffc [label="[role] Create systemd service for podman container" color="#886444" id=role_e0383ffc tooltip="Create systemd service for podman container"]
		task_9d104115 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#886444" id=task_9d104115 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_e0383ffc -> task_9d104115 [label="1 " color="#886444" fontcolor="#886444" id=edge_da096ede labeltooltip="1 " tooltip="1 "]
		task_c8f308a2 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#886444" id=task_c8f308a2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_e0383ffc -> task_c8f308a2 [label="2 " color="#886444" fontcolor="#886444" id=edge_e0474019 labeltooltip="2 " tooltip="2 "]
		task_6282487d [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#886444" id=task_6282487d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_e0383ffc -> task_6282487d [label="3 " color="#886444" fontcolor="#886444" id=edge_9018d55f labeltooltip="3 " tooltip="3 "]
		task_41d2d3d4 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#886444" id=task_41d2d3d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_e0383ffc -> task_41d2d3d4 [label="4 " color="#886444" fontcolor="#886444" id=edge_e4e3bbf5 labeltooltip="4 " tooltip="4 "]
		task_38a43cbb [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#886444" id=task_38a43cbb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_e0383ffc -> task_38a43cbb [label="5 " color="#886444" fontcolor="#886444" id=edge_d382e09a labeltooltip="5 " tooltip="5 "]
		task_f663c21e [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#886444" id=task_f663c21e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_e0383ffc -> task_f663c21e [label="6 " color="#886444" fontcolor="#886444" id=edge_63625e1d labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_c6080742 [label="[role] Gather network and host facts for provision service" color="#886444" id=role_c6080742 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_c40fff5c [label="[role] Setup the cluster provision container" color="#886444" id=role_c40fff5c tooltip="Setup the cluster provision container"]
		task_fd83e878 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#886444" id=task_fd83e878 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_c40fff5c -> task_fd83e878 [label="1 " color="#886444" fontcolor="#886444" id=edge_ebfa3994 labeltooltip="1 " tooltip="1 "]
		task_2241c5d3 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#886444" id=task_2241c5d3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_c40fff5c -> task_2241c5d3 [label="2 " color="#886444" fontcolor="#886444" id=edge_6819450a labeltooltip="2 " tooltip="2 "]
		task_68c74fbf [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#886444" id=task_68c74fbf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_c40fff5c -> task_68c74fbf [label="3 [when: kubeinit_deployment_os == 'centos']" color="#886444" fontcolor="#886444" id=edge_a5f13c38 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_7ff9ac06 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#886444" id=task_7ff9ac06 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_c40fff5c -> task_7ff9ac06 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#886444" fontcolor="#886444" id=edge_84c5b290 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_68336c8f [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#886444" id=task_68336c8f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_c40fff5c -> task_68336c8f [label="5 [when: kubeinit_deployment_os == 'centos']" color="#886444" fontcolor="#886444" id=edge_44aa1895 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_665edcb3 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#886444" id=task_665edcb3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_c40fff5c -> task_665edcb3 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#886444" fontcolor="#886444" id=edge_3d81e62e labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_092e6be3 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#886444" id=task_092e6be3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_c40fff5c -> task_092e6be3 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#886444" fontcolor="#886444" id=edge_7d845ffd labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_a6f49901 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#886444" id=task_a6f49901 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_c40fff5c -> task_a6f49901 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#886444" fontcolor="#886444" id=edge_891936f2 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_7dc292dc [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#886444" id=task_7dc292dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_c40fff5c -> task_7dc292dc [label="9 [when: kubeinit_deployment_os == 'debian']" color="#886444" fontcolor="#886444" id=edge_fad8de2c labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_394054c0 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#886444" id=task_394054c0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_c40fff5c -> task_394054c0 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#886444" fontcolor="#886444" id=edge_d332ce9a labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_d59ac45c [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#886444" id=task_d59ac45c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_c40fff5c -> task_d59ac45c [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#886444" fontcolor="#886444" id=edge_3feabf8f labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_b263c81d [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#886444" id=task_b263c81d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_c40fff5c -> task_b263c81d [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#886444" fontcolor="#886444" id=edge_9469e039 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_1b56e456 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#886444" id=task_1b56e456 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_c40fff5c -> task_1b56e456 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#886444" fontcolor="#886444" id=edge_c12cba23 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_671000fb [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#886444" id=task_671000fb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_c40fff5c -> task_671000fb [label="14 " color="#886444" fontcolor="#886444" id=edge_c76c996d labeltooltip="14 " tooltip="14 "]
		task_2e1c6cfc [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#886444" id=task_2e1c6cfc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_c40fff5c -> task_2e1c6cfc [label="15 " color="#886444" fontcolor="#886444" id=edge_387a3820 labeltooltip="15 " tooltip="15 "]
		task_4c8f07cc [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#886444" id=task_4c8f07cc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_c40fff5c -> task_4c8f07cc [label="16 " color="#886444" fontcolor="#886444" id=edge_e0845a42 labeltooltip="16 " tooltip="16 "]
		task_0326e9b1 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#886444" id=task_0326e9b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_c40fff5c -> task_0326e9b1 [label="17 " color="#886444" fontcolor="#886444" id=edge_39b6a0d8 labeltooltip="17 " tooltip="17 "]
		task_33fde78c [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#886444" id=task_33fde78c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_c40fff5c -> task_33fde78c [label="18 " color="#886444" fontcolor="#886444" id=edge_81bf432d labeltooltip="18 " tooltip="18 "]
		task_089d64cb [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#886444" id=task_089d64cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_c40fff5c -> task_089d64cb [label="19 " color="#886444" fontcolor="#886444" id=edge_4bd35b56 labeltooltip="19 " tooltip="19 "]
		task_e81a34ac [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#886444" id=task_e81a34ac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_c40fff5c -> task_e81a34ac [label="20 " color="#886444" fontcolor="#886444" id=edge_4fafef8e labeltooltip="20 " tooltip="20 "]
		task_ecc51568 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#886444" id=task_ecc51568 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_c40fff5c -> task_ecc51568 [label="21 " color="#886444" fontcolor="#886444" id=edge_f0eb1214 labeltooltip="21 " tooltip="21 "]
		task_718067c8 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#886444" id=task_718067c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_c40fff5c -> task_718067c8 [label="22 " color="#886444" fontcolor="#886444" id=edge_df11724a labeltooltip="22 " tooltip="22 "]
		role_c40fff5c -> role_e0383ffc [label="23 " color="#886444" fontcolor="#886444" id=edge_d51d0f9f labeltooltip="23 " tooltip="23 "]
		task_5d09a972 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#886444" id=task_5d09a972 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_c40fff5c -> task_5d09a972 [label="24 " color="#886444" fontcolor="#886444" id=edge_c609289c labeltooltip="24 " tooltip="24 "]
		task_8f6757bf [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#886444" id=task_8f6757bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_c40fff5c -> task_8f6757bf [label="25 " color="#886444" fontcolor="#886444" id=edge_f6053d6a labeltooltip="25 " tooltip="25 "]
		task_266014c1 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#886444" id=task_266014c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_c40fff5c -> task_266014c1 [label="26 " color="#886444" fontcolor="#886444" id=edge_9fc6fa52 labeltooltip="26 " tooltip="26 "]
		task_6fb6d573 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#886444" id=task_6fb6d573 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_c40fff5c -> task_6fb6d573 [label="27 " color="#886444" fontcolor="#886444" id=edge_c2f61ada labeltooltip="27 " tooltip="27 "]
		task_1c95d038 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#886444" id=task_1c95d038 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_c40fff5c -> task_1c95d038 [label="28 " color="#886444" fontcolor="#886444" id=edge_48ae2a9f labeltooltip="28 " tooltip="28 "]
		task_87ab5971 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#886444" id=task_87ab5971 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_c40fff5c -> task_87ab5971 [label="29 " color="#886444" fontcolor="#886444" id=edge_544c32b7 labeltooltip="29 " tooltip="29 "]
		task_627e758d [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#886444" id=task_627e758d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_c40fff5c -> task_627e758d [label="30 " color="#886444" fontcolor="#886444" id=edge_9cbdcbb6 labeltooltip="30 " tooltip="30 "]
		task_2a42499a [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#886444" id=task_2a42499a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_c40fff5c -> task_2a42499a [label="31 " color="#886444" fontcolor="#886444" id=edge_3583ce61 labeltooltip="31 " tooltip="31 "]
		task_4050660a [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#886444" id=task_4050660a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_c40fff5c -> task_4050660a [label="32 " color="#886444" fontcolor="#886444" id=edge_00627ecf labeltooltip="32 " tooltip="32 "]
		task_e3bb0a86 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#886444" id=task_e3bb0a86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_c40fff5c -> task_e3bb0a86 [label="33 " color="#886444" fontcolor="#886444" id=edge_669dc1c8 labeltooltip="33 " tooltip="33 "]
		task_df0338e7 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#886444" id=task_df0338e7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_c40fff5c -> task_df0338e7 [label="34 " color="#886444" fontcolor="#886444" id=edge_2720ac93 labeltooltip="34 " tooltip="34 "]
		task_03bbba43 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#886444" id=task_03bbba43 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_c40fff5c -> task_03bbba43 [label="35 " color="#886444" fontcolor="#886444" id=edge_c9066a94 labeltooltip="35 " tooltip="35 "]
		task_6ebe6cbb [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#886444" id=task_6ebe6cbb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_c40fff5c -> task_6ebe6cbb [label="36 " color="#886444" fontcolor="#886444" id=edge_e56d9558 labeltooltip="36 " tooltip="36 "]
		task_9e419f0a [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#886444" id=task_9e419f0a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_c40fff5c -> task_9e419f0a [label="37 " color="#886444" fontcolor="#886444" id=edge_e212314c labeltooltip="37 " tooltip="37 "]
		task_25b9c379 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#886444" id=task_25b9c379 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_c40fff5c -> task_25b9c379 [label="38 " color="#886444" fontcolor="#886444" id=edge_94467b51 labeltooltip="38 " tooltip="38 "]
		task_6b429d4e [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#886444" id=task_6b429d4e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_c40fff5c -> task_6b429d4e [label="39 [when: kubeinit_deployment_os == 'centos']" color="#886444" fontcolor="#886444" id=edge_9d25420a labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_fefe93aa [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#886444" id=task_fefe93aa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_c40fff5c -> task_fefe93aa [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#886444" fontcolor="#886444" id=edge_1fd639bb labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_11a5fc0c [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#886444" id=task_11a5fc0c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_c40fff5c -> task_11a5fc0c [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#886444" fontcolor="#886444" id=edge_2a31bb5b labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_22646638 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#886444" id=task_22646638 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_c40fff5c -> task_22646638 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#886444" fontcolor="#886444" id=edge_674ad876 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_f8e6d898 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#886444" id=task_f8e6d898 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_c40fff5c -> task_f8e6d898 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#886444" fontcolor="#886444" id=edge_b8a1c8b0 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_12ea8778 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#886444" id=task_12ea8778 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_c40fff5c -> task_12ea8778 [label="44 " color="#886444" fontcolor="#886444" id=edge_1dd6c76d labeltooltip="44 " tooltip="44 "]
		task_f13868ff [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#886444" id=task_f13868ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_c40fff5c -> task_f13868ff [label="45 " color="#886444" fontcolor="#886444" id=edge_db0fdb83 labeltooltip="45 " tooltip="45 "]
		task_fffff2b6 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#886444" id=task_fffff2b6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_c40fff5c -> task_fffff2b6 [label="46 " color="#886444" fontcolor="#886444" id=edge_6913f35e labeltooltip="46 " tooltip="46 "]
		task_64da1ade [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#886444" id=task_64da1ade shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_c40fff5c -> task_64da1ade [label="47 " color="#886444" fontcolor="#886444" id=edge_774f3484 labeltooltip="47 " tooltip="47 "]
		task_3b863ccb [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#886444" id=task_3b863ccb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_c40fff5c -> task_3b863ccb [label="48 " color="#886444" fontcolor="#886444" id=edge_918f413a labeltooltip="48 " tooltip="48 "]
		task_cc546b2c [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#886444" id=task_cc546b2c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_c40fff5c -> task_cc546b2c [label="49 " color="#886444" fontcolor="#886444" id=edge_ebbd0092 labeltooltip="49 " tooltip="49 "]
		task_52d2b8e0 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#886444" id=task_52d2b8e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_c40fff5c -> task_52d2b8e0 [label="50 " color="#886444" fontcolor="#886444" id=edge_913a07dd labeltooltip="50 " tooltip="50 "]
		task_0985f68e [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#886444" id=task_0985f68e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_c40fff5c -> task_0985f68e [label="51 " color="#886444" fontcolor="#886444" id=edge_74ccd75a labeltooltip="51 " tooltip="51 "]
		task_6308280d [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#886444" id=task_6308280d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_c40fff5c -> task_6308280d [label="52 " color="#886444" fontcolor="#886444" id=edge_38f33f3c labeltooltip="52 " tooltip="52 "]
		task_9c3c7e08 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" color="#886444" id=task_9c3c7e08 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_c40fff5c -> task_9c3c7e08 [label="53 " color="#886444" fontcolor="#886444" id=edge_677a50e0 labeltooltip="53 " tooltip="53 "]
		role_c40fff5c -> role_c6080742 [label="54 " color="#886444" fontcolor="#886444" id=edge_140fffbe labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_a0752f5a [label="[role] Delegate to the distro role to prepare the cluster" color="#886444" id=role_a0752f5a tooltip="Delegate to the distro role to prepare the cluster"]
		role_a0752f5a -> role_c40fff5c [label="1 " color="#886444" fontcolor="#886444" id=edge_9e9c6d98 labeltooltip="1 " tooltip="1 "]
		task_97014d79 [label="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it" color="#886444" id=task_97014d79 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it"]
		role_a0752f5a -> task_97014d79 [label="2 " color="#886444" fontcolor="#886444" id=edge_da40d652 labeltooltip="2 " tooltip="2 "]
		task_d55800ff [label="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes" color="#886444" id=task_d55800ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes"]
		role_a0752f5a -> task_d55800ff [label="3 " color="#886444" fontcolor="#886444" id=edge_95c0cf4d labeltooltip="3 " tooltip="3 "]
		task_5c5ea1e9 [label="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file." color="#886444" id=task_5c5ea1e9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file."]
		role_a0752f5a -> task_5c5ea1e9 [label="4 " color="#886444" fontcolor="#886444" id=edge_6619f704 labeltooltip="4 " tooltip="4 "]
		task_6d24d026 [label="kubeinit.kubeinit.kubeinit_k8s : Install requirements" color="#886444" id=task_6d24d026 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install requirements"]
		role_a0752f5a -> task_6d24d026 [label="5 " color="#886444" fontcolor="#886444" id=edge_84137fa9 labeltooltip="5 " tooltip="5 "]
		task_67c3ca8e [label="kubeinit.kubeinit.kubeinit_k8s : Install common requirements" color="#886444" id=task_67c3ca8e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install common requirements"]
		role_a0752f5a -> task_67c3ca8e [label="6 [when: kubeinit_k8s_common_dependencies is defined]" color="#886444" fontcolor="#886444" id=edge_3946b041 labeltooltip="6 [when: kubeinit_k8s_common_dependencies is defined]" tooltip="6 [when: kubeinit_k8s_common_dependencies is defined]"]
	}
	subgraph "task-prepare-cluster" {
		role_1d5b74ee [label="[role] task-prepare-cluster" color="#886444" id=role_1d5b74ee tooltip="task-prepare-cluster"]
		role_1d5b74ee -> role_c177e4ff [label="1 [when: not services_prepared]" color="#886444" fontcolor="#886444" id=edge_4e1389b0 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_1d5b74ee -> role_a0752f5a [label="2 " color="#886444" fontcolor="#886444" id=edge_d2d8861b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_e3eb9de2 [label="[role] Gather kubeinit secrets" color="#886444" id=role_e3eb9de2 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_dcde2534 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_dcde2534 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_30cb3e36 [label="[role] Create ssh config file from template" color="#886444" id=role_30cb3e36 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_11febed7 [label="[role] Prepare environment if not prepared" color="#886444" id=role_11febed7 tooltip="Prepare environment if not prepared"]
		role_11febed7 -> role_e3eb9de2 [label="1 " color="#886444" fontcolor="#886444" id=edge_85e5ecb6 labeltooltip="1 " tooltip="1 "]
		role_11febed7 -> role_dcde2534 [label="2 " color="#886444" fontcolor="#886444" id=edge_cd44f1ba labeltooltip="2 " tooltip="2 "]
		role_11febed7 -> role_30cb3e36 [label="3 " color="#886444" fontcolor="#886444" id=edge_72d595c9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_679f2498 [label="[role] task-download-images" color="#886444" id=role_679f2498 tooltip="task-download-images"]
		role_679f2498 -> role_11febed7 [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_2c58c3f0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_a2193ebc [label="[role] Gather kubeinit secrets" color="#886444" id=role_a2193ebc tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_80d0e5f8 [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_80d0e5f8 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_e61e8197 [label="[role] Create ssh config file from template" color="#886444" id=role_e61e8197 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_c78ea8ad [label="[role] Prepare environment if needed" color="#886444" id=role_c78ea8ad tooltip="Prepare environment if needed"]
		role_c78ea8ad -> role_a2193ebc [label="1 " color="#886444" fontcolor="#886444" id=edge_53e9f787 labeltooltip="1 " tooltip="1 "]
		role_c78ea8ad -> role_80d0e5f8 [label="2 " color="#886444" fontcolor="#886444" id=edge_37c3ef63 labeltooltip="2 " tooltip="2 "]
		role_c78ea8ad -> role_e61e8197 [label="3 " color="#886444" fontcolor="#886444" id=edge_f30a85d9 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_56c2c301 [label="[role] Gather network and host facts for guest" color="#886444" id=role_56c2c301 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7a4e2fd8 [label="[role] Prepare services if needed" color="#886444" id=role_7a4e2fd8 tooltip="Prepare services if needed"]
		role_7a4e2fd8 -> role_c78ea8ad [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_99260625 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7a4e2fd8 -> role_56c2c301 [label="2 " color="#886444" fontcolor="#886444" id=edge_cc5ec2a3 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_c7bdd903 [label="[role] Deploy the cluster nodes" color="#886444" id=role_c7bdd903 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_f04f4345 [label="[role] Delegate to the distro role to deploy the cluster" color="#886444" id=role_f04f4345 tooltip="Delegate to the distro role to deploy the cluster"]
		role_f04f4345 -> role_c7bdd903 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#886444" fontcolor="#886444" id=edge_a7d38c8d labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_d514505d [label="[role] task-deploy-cluster" color="#886444" id=role_d514505d tooltip="task-deploy-cluster"]
		role_d514505d -> role_7a4e2fd8 [label="1 [when: not services_prepared]" color="#886444" fontcolor="#886444" id=edge_c0407171 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_d514505d -> role_f04f4345 [label="2 " color="#886444" fontcolor="#886444" id=edge_3116ddb4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_cb31d50d [label="[role] Gather kubeinit secrets" color="#886444" id=role_cb31d50d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_29d65a3d [label="[role] Gather additional facts from localhost for kubeinit" color="#886444" id=role_29d65a3d tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_37109b61 [label="[role] Create ssh config file from template" color="#886444" id=role_37109b61 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_cc215dbc [label="[role] Prepare environment if needed" color="#886444" id=role_cc215dbc tooltip="Prepare environment if needed"]
		role_cc215dbc -> role_cb31d50d [label="1 " color="#886444" fontcolor="#886444" id=edge_3e385acd labeltooltip="1 " tooltip="1 "]
		role_cc215dbc -> role_29d65a3d [label="2 " color="#886444" fontcolor="#886444" id=edge_806b6b52 labeltooltip="2 " tooltip="2 "]
		role_cc215dbc -> role_37109b61 [label="3 " color="#886444" fontcolor="#886444" id=edge_4ad01862 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_db71ed46 [label="[role] Gather network and host facts for guest" color="#886444" id=role_db71ed46 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_392ebf53 [label="[role] Prepare services if needed" color="#886444" id=role_392ebf53 tooltip="Prepare services if needed"]
		role_392ebf53 -> role_cc215dbc [label="1 [when: not environment_prepared]" color="#886444" fontcolor="#886444" id=edge_4a15131a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_392ebf53 -> role_db71ed46 [label="2 " color="#886444" fontcolor="#886444" id=edge_8e9c8e9c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_2bde1b6c [label="[role] Deploy the apps" color="#886444" id=role_2bde1b6c tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_e15d5999 [label="[role] Configure NFS" color="#886444" id=role_e15d5999 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_ba24e596 [label="[role] Delegate to distro role to run post-deployment tasks" color="#886444" id=role_ba24e596 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_ba24e596 -> role_2bde1b6c [label="1 " color="#886444" fontcolor="#886444" id=edge_10189707 labeltooltip="1 " tooltip="1 "]
		role_ba24e596 -> role_e15d5999 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#886444" fontcolor="#886444" id=edge_1986f6f4 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_cc9042f8 [label="[role] task-post-deployment" color="#886444" id=role_cc9042f8 tooltip="task-post-deployment"]
		role_cc9042f8 -> role_392ebf53 [label="1 [when: not services_prepared]" color="#886444" fontcolor="#886444" id=edge_56e42489 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_cc9042f8 -> role_ba24e596 [label="2 " color="#886444" fontcolor="#886444" id=edge_8ae27897 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_42dbb846 -> block_712b44a1 [label=1 color="#886444" fontcolor="#886444" id=edge_c0d88a8a labeltooltip=1 tooltip=1]
		subgraph cluster_block_712b44a1 {
			block_712b44a1 [label="[block] Prepare the environment" color="#886444" id=block_712b44a1 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_712b44a1 -> role_af1c4c32 [label="1 " color="#886444" fontcolor="#886444" id=edge_7ec9c50e labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_f6d1a21d [label=2 color="#886444" fontcolor="#886444" id=edge_285a8be0 labeltooltip=2 tooltip=2]
		subgraph cluster_block_f6d1a21d {
			block_f6d1a21d [label="[block] Cleanup hypervisors" color="#886444" id=block_f6d1a21d labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_f6d1a21d -> role_3782b209 [label="1 " color="#886444" fontcolor="#886444" id=edge_bf5c6c73 labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_1201e733 [label=3 color="#886444" fontcolor="#886444" id=edge_f55fcb0d labeltooltip=3 tooltip=3]
		subgraph cluster_block_1201e733 {
			block_1201e733 [label="[block] Run validations on cluster resources" color="#886444" id=block_1201e733 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_1201e733 -> role_a75d6de5 [label="1 " color="#886444" fontcolor="#886444" id=edge_8742d1d3 labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_871ff2fb [label=4 color="#886444" fontcolor="#886444" id=edge_5f30f9e0 labeltooltip=4 tooltip=4]
		subgraph cluster_block_871ff2fb {
			block_871ff2fb [label="[block] Create the cluster network resources" color="#886444" id=block_871ff2fb labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_871ff2fb -> role_71e65ad3 [label="1 " color="#886444" fontcolor="#886444" id=edge_3198d4d4 labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_39202cc1 [label=5 color="#886444" fontcolor="#886444" id=edge_8d5debae labeltooltip=5 tooltip=5]
		subgraph cluster_block_39202cc1 {
			block_39202cc1 [label="[block] Create services the cluster will need" color="#886444" id=block_39202cc1 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_39202cc1 -> role_f607f530 [label="1 " color="#886444" fontcolor="#886444" id=edge_a2241d16 labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_19e9a814 [label=6 color="#886444" fontcolor="#886444" id=edge_31c5786d labeltooltip=6 tooltip=6]
		subgraph cluster_block_19e9a814 {
			block_19e9a814 [label="[block] Prepare to deploy the cluster" color="#886444" id=block_19e9a814 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_19e9a814 -> role_1d5b74ee [label="1 " color="#886444" fontcolor="#886444" id=edge_4bd52813 labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_2b3e5746 [label=7 color="#886444" fontcolor="#886444" id=edge_83f13b08 labeltooltip=7 tooltip=7]
		subgraph cluster_block_2b3e5746 {
			block_2b3e5746 [label="[block] Download cloud images" color="#886444" id=block_2b3e5746 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_2b3e5746 -> role_679f2498 [label="1 " color="#886444" fontcolor="#886444" id=edge_b6fcfc28 labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_6c354a7c [label=8 color="#886444" fontcolor="#886444" id=edge_f02efa98 labeltooltip=8 tooltip=8]
		subgraph cluster_block_6c354a7c {
			block_6c354a7c [label="[block] Deploy the cluster" color="#886444" id=block_6c354a7c labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_6c354a7c -> role_d514505d [label="1 " color="#886444" fontcolor="#886444" id=edge_5191e05c labeltooltip="1 " tooltip="1 "]
		}
		play_42dbb846 -> block_25a54662 [label=9 color="#886444" fontcolor="#886444" id=edge_b8e6d84f labeltooltip=9 tooltip=9]
		subgraph cluster_block_25a54662 {
			block_25a54662 [label="[block] Run any post-deployment tasks" color="#886444" id=block_25a54662 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_25a54662 -> role_cc9042f8 [label="1 " color="#886444" fontcolor="#886444" id=edge_b4795add labeltooltip="1 " tooltip="1 "]
		}
	}
}
