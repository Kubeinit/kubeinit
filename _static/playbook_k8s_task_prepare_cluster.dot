digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_cd72dd1d [label="Play: Initial setup (1)" color="#a8242f" fontcolor="#ffffff" id=play_cd72dd1d shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_cd72dd1d [label="1 " color="#a8242f" fontcolor="#a8242f" id=edge_e5494b4c labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_4c863072 [label="[role] Read podman secrets if running from the container" color="#a8242f" id=role_4c863072 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_996cd3c1 [label="[role] task-gather-facts" color="#a8242f" id=role_996cd3c1 tooltip="task-gather-facts"]
		role_996cd3c1 -> role_4c863072 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a8242f" fontcolor="#a8242f" id=edge_4c3a2a74 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_df6a55a6 [label="[role] Read podman secrets if running from the container" color="#a8242f" id=role_df6a55a6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_aa57c25c [label="[role] task-prepare-hypervisors" color="#a8242f" id=role_aa57c25c tooltip="task-prepare-hypervisors"]
		role_aa57c25c -> role_df6a55a6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a8242f" fontcolor="#a8242f" id=edge_1b8b46d5 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_cd72dd1d -> block_5d47b219 [label=1 color="#a8242f" fontcolor="#a8242f" id=edge_23fa756b labeltooltip=1 tooltip=1]
		subgraph cluster_block_5d47b219 {
			block_5d47b219 [label="[block] Gather facts about the deployment environment" color="#a8242f" id=block_5d47b219 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_5d47b219 -> role_996cd3c1 [label="1 " color="#a8242f" fontcolor="#a8242f" id=edge_129ba6f7 labeltooltip="1 " tooltip="1 "]
		}
		play_cd72dd1d -> block_2583bb77 [label=2 color="#a8242f" fontcolor="#a8242f" id=edge_6d9fb2d3 labeltooltip=2 tooltip=2]
		subgraph cluster_block_2583bb77 {
			block_2583bb77 [label="[block] Prepare the hypervisors" color="#a8242f" id=block_2583bb77 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_2583bb77 -> role_aa57c25c [label="1 " color="#a8242f" fontcolor="#a8242f" id=edge_402207d4 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_feddc369 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#16b688" fontcolor="#ffffff" id=play_feddc369 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_feddc369 [label="2 " color="#16b688" fontcolor="#16b688" id=edge_90c556c8 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_76df6952 [label="[role] Provision the libvirt services on the hypervisor" color="#16b688" id=role_76df6952 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_e875c70d [label="[role] Prepare each hypervisor in the deployment" color="#16b688" id=role_e875c70d tooltip="Prepare each hypervisor in the deployment"]
		role_e875c70d -> role_76df6952 [label="1 " color="#16b688" fontcolor="#16b688" id=edge_b70e9249 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_feddc369 -> block_c9def1d1 [label=1 color="#16b688" fontcolor="#16b688" id=edge_898e855c labeltooltip=1 tooltip=1]
		subgraph cluster_block_c9def1d1 {
			block_c9def1d1 [label="[block] Prepare individual hypervisors" color="#16b688" id=block_c9def1d1 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_c9def1d1 -> role_e875c70d [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#16b688" fontcolor="#16b688" id=edge_5705e38c labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_e5cd2549 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#585676" fontcolor="#ffffff" id=play_e5cd2549 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e5cd2549 [label="3 " color="#585676" fontcolor="#585676" id=edge_40b9675b labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_09ffed68 [label="[role] Read podman secrets if running from the container" color="#585676" id=role_09ffed68 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_1dac5af7 [label="[role] task-prepare-environment" color="#585676" id=role_1dac5af7 tooltip="task-prepare-environment"]
		role_1dac5af7 -> role_09ffed68 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_00ee27f6 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e422db43 [label="[role] Read podman secrets if running from the container" color="#585676" id=role_e422db43 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9ac5c891 [label="[role] Prepare environment if not prepared" color="#585676" id=role_9ac5c891 tooltip="Prepare environment if not prepared"]
		role_9ac5c891 -> role_e422db43 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_61288c1a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_e82562cb [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#585676" id=role_e82562cb tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_ae0a4874 [label="[role] task-cleanup-hypervisors" color="#585676" id=role_ae0a4874 tooltip="task-cleanup-hypervisors"]
		role_ae0a4874 -> role_9ac5c891 [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_6000e327 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_ae0a4874 -> role_e82562cb [label="2 " color="#585676" fontcolor="#585676" id=edge_14b9bda5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_38413271 [label="[role] Read podman secrets if running from the container" color="#585676" id=role_38413271 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_466ea123 [label="[role] Prepare environment if not prepared" color="#585676" id=role_466ea123 tooltip="Prepare environment if not prepared"]
		role_466ea123 -> role_38413271 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_a0779a1b labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_0356725d [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#585676" id=role_0356725d tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_9fa0a54f [label="[role] Cleanup hypervisors if needed" color="#585676" id=role_9fa0a54f tooltip="Cleanup hypervisors if needed"]
		role_9fa0a54f -> role_466ea123 [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_c0a2416a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9fa0a54f -> role_0356725d [label="2 " color="#585676" fontcolor="#585676" id=edge_14e7b94d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_3637f26f [label="[role] task-run-validations" color="#585676" id=role_3637f26f tooltip="task-run-validations"]
		role_3637f26f -> role_9fa0a54f [label="1 [when: not hypervisors_cleaned]" color="#585676" fontcolor="#585676" id=edge_800a7792 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_0943946f [label="[role] Read podman secrets if running from the container" color="#585676" id=role_0943946f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_4c39bb1d [label="[role] Prepare environment if not prepared" color="#585676" id=role_4c39bb1d tooltip="Prepare environment if not prepared"]
		role_4c39bb1d -> role_0943946f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_c3d75216 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_77233151 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#585676" id=role_77233151 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_59049aa9 [label="[role] Cleanup hypervisors if needed" color="#585676" id=role_59049aa9 tooltip="Cleanup hypervisors if needed"]
		role_59049aa9 -> role_4c39bb1d [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_a4effac4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_59049aa9 -> role_77233151 [label="2 " color="#585676" fontcolor="#585676" id=edge_52ed7f1d labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_bf058005 [label="[role] task-create-network" color="#585676" id=role_bf058005 tooltip="task-create-network"]
		role_bf058005 -> role_59049aa9 [label="1 [when: not hypervisors_cleaned]" color="#585676" fontcolor="#585676" id=edge_cb07a8a3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9ef3e3b5 [label="[role] Read podman secrets if running from the container" color="#585676" id=role_9ef3e3b5 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c9456f36 [label="[role] Prepare environment if not prepared" color="#585676" id=role_c9456f36 tooltip="Prepare environment if not prepared"]
		role_c9456f36 -> role_9ef3e3b5 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_3e6d04be labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_6694da4c [label="[role] Prepare podman" color="#585676" id=role_6694da4c tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_777805ca [label="[role] Create systemd service for podman container" color="#585676" id=role_777805ca tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_699c957e [label="[role] Configure Bind" color="#585676" id=role_699c957e tooltip="Configure Bind"]
		role_699c957e -> role_777805ca [label="1 " color="#585676" fontcolor="#585676" id=edge_8608d432 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_7207a491 [label="[role] Create systemd service for podman container" color="#585676" id=role_7207a491 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_0eb9e709 [label="[role] Configure Dnsmasq" color="#585676" id=role_0eb9e709 tooltip="Configure Dnsmasq"]
		role_0eb9e709 -> role_7207a491 [label="1 " color="#585676" fontcolor="#585676" id=edge_a1163501 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_e81bb6d6 [label="[role] Create systemd service for podman container" color="#585676" id=role_e81bb6d6 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_b479b0e4 [label="[role] Configure HAProxy" color="#585676" id=role_b479b0e4 tooltip="Configure HAProxy"]
		role_b479b0e4 -> role_e81bb6d6 [label="1 " color="#585676" fontcolor="#585676" id=edge_6f49cf39 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d16acc83 [label="[role] Create systemd service for podman container" color="#585676" id=role_d16acc83 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_49b815fb [label="[role] Configure Nexus" color="#585676" id=role_49b815fb tooltip="Configure Nexus"]
		role_49b815fb -> role_d16acc83 [label="1 " color="#585676" fontcolor="#585676" id=edge_4e15fc1c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2cf8337c [label="[role] Create systemd service for podman container" color="#585676" id=role_2cf8337c tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_8fd2a431 [label="[role] Configure Apache" color="#585676" id=role_8fd2a431 tooltip="Configure Apache"]
		role_8fd2a431 -> role_2cf8337c [label="1 " color="#585676" fontcolor="#585676" id=edge_f3a41fd4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ef04ecea [label="[role] Create systemd service for podman container" color="#585676" id=role_ef04ecea tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_9e0ca873 [label="[role] Configure a local container image registry" color="#585676" id=role_9e0ca873 tooltip="Configure a local container image registry"]
		role_9e0ca873 -> role_ef04ecea [label="1 " color="#585676" fontcolor="#585676" id=edge_c5b51afe labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_7a157bcd [label="[role] task-create-services" color="#585676" id=role_7a157bcd tooltip="task-create-services"]
		role_7a157bcd -> role_c9456f36 [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_94b56787 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7a157bcd -> role_6694da4c [label="2 " color="#585676" fontcolor="#585676" id=edge_8c44c129 labeltooltip="2 " tooltip="2 "]
		role_7a157bcd -> role_699c957e [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#585676" fontcolor="#585676" id=edge_047129ce labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7a157bcd -> role_0eb9e709 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#585676" fontcolor="#585676" id=edge_68476da8 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7a157bcd -> role_b479b0e4 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#585676" fontcolor="#585676" id=edge_71a7054b labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7a157bcd -> role_49b815fb [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#585676" fontcolor="#585676" id=edge_c00f8d44 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7a157bcd -> role_8fd2a431 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#585676" fontcolor="#585676" id=edge_f127d96f labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_7a157bcd -> role_9e0ca873 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#585676" fontcolor="#585676" id=edge_9d3063e6 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_522902b4 [label="[role] Read podman secrets if running from the container" color="#585676" id=role_522902b4 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_7228bc8c [label="[role] Prepare environment if needed" color="#585676" id=role_7228bc8c tooltip="Prepare environment if needed"]
		role_7228bc8c -> role_522902b4 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_cb9e2836 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_232a7e7a [label="[role] Gather network and host facts for guest" color="#585676" id=role_232a7e7a tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f1c9aeb8 [label="[role] Prepare services if needed" color="#585676" id=role_f1c9aeb8 tooltip="Prepare services if needed"]
		role_f1c9aeb8 -> role_7228bc8c [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_1114816f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f1c9aeb8 -> role_232a7e7a [label="2 " color="#585676" fontcolor="#585676" id=edge_9a815a71 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ca862a5b [label="[role] Create systemd service for podman container" color="#585676" id=role_ca862a5b tooltip="Create systemd service for podman container"]
		task_c65a7d6b [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#585676" id=task_c65a7d6b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_ca862a5b -> task_c65a7d6b [label="1 " color="#585676" fontcolor="#585676" id=edge_284bf04b labeltooltip="1 " tooltip="1 "]
		task_1008f7fb [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#585676" id=task_1008f7fb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_ca862a5b -> task_1008f7fb [label="2 " color="#585676" fontcolor="#585676" id=edge_7aa611c1 labeltooltip="2 " tooltip="2 "]
		task_41746ea1 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#585676" id=task_41746ea1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_ca862a5b -> task_41746ea1 [label="3 " color="#585676" fontcolor="#585676" id=edge_4df3065e labeltooltip="3 " tooltip="3 "]
		task_11649efe [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#585676" id=task_11649efe shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_ca862a5b -> task_11649efe [label="4 " color="#585676" fontcolor="#585676" id=edge_d719f854 labeltooltip="4 " tooltip="4 "]
		task_8dc61751 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#585676" id=task_8dc61751 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_ca862a5b -> task_8dc61751 [label="5 " color="#585676" fontcolor="#585676" id=edge_d4f38c9c labeltooltip="5 " tooltip="5 "]
		task_6b3867ec [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#585676" id=task_6b3867ec shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_ca862a5b -> task_6b3867ec [label="6 " color="#585676" fontcolor="#585676" id=edge_0424d589 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_1c1e1d95 [label="[role] Gather network and host facts for provision service" color="#585676" id=role_1c1e1d95 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_1a711811 [label="[role] Setup the cluster provision container" color="#585676" id=role_1a711811 tooltip="Setup the cluster provision container"]
		task_55449bb2 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#585676" id=task_55449bb2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_1a711811 -> task_55449bb2 [label="1 " color="#585676" fontcolor="#585676" id=edge_d1d47363 labeltooltip="1 " tooltip="1 "]
		task_08847288 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#585676" id=task_08847288 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_1a711811 -> task_08847288 [label="2 " color="#585676" fontcolor="#585676" id=edge_c22484b9 labeltooltip="2 " tooltip="2 "]
		task_b20bd781 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#585676" id=task_b20bd781 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_1a711811 -> task_b20bd781 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#585676" fontcolor="#585676" id=edge_c838f1db labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_d2f1914b [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#585676" id=task_d2f1914b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_1a711811 -> task_d2f1914b [label="4 [when: kubeinit_deployment_os == 'centos']" color="#585676" fontcolor="#585676" id=edge_4e0be350 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_0c0383f1 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#585676" id=task_0c0383f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_1a711811 -> task_0c0383f1 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#585676" fontcolor="#585676" id=edge_e1097504 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_cfce95ef [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#585676" id=task_cfce95ef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_1a711811 -> task_cfce95ef [label="6 [when: kubeinit_deployment_os == 'debian']" color="#585676" fontcolor="#585676" id=edge_c0bfb2e9 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_cff63873 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#585676" id=task_cff63873 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_1a711811 -> task_cff63873 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#585676" fontcolor="#585676" id=edge_a7912c6c labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_8533802c [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#585676" id=task_8533802c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_1a711811 -> task_8533802c [label="8 [when: kubeinit_deployment_os == 'debian']" color="#585676" fontcolor="#585676" id=edge_87810b0b labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_31bad5de [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#585676" id=task_31bad5de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_1a711811 -> task_31bad5de [label="9 [when: kubeinit_deployment_os == 'debian']" color="#585676" fontcolor="#585676" id=edge_9b6640f8 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_f65e1016 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#585676" id=task_f65e1016 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_1a711811 -> task_f65e1016 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#585676" fontcolor="#585676" id=edge_8b769b08 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_f69c29a5 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#585676" id=task_f69c29a5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_1a711811 -> task_f69c29a5 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#585676" fontcolor="#585676" id=edge_a3bb3329 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_d3e7bdd6 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#585676" id=task_d3e7bdd6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_1a711811 -> task_d3e7bdd6 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#585676" fontcolor="#585676" id=edge_5f8ae6c4 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_fe936bff [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#585676" id=task_fe936bff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_1a711811 -> task_fe936bff [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#585676" fontcolor="#585676" id=edge_5a36e25f labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_69a5e671 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#585676" id=task_69a5e671 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_1a711811 -> task_69a5e671 [label="14 " color="#585676" fontcolor="#585676" id=edge_1088a3f5 labeltooltip="14 " tooltip="14 "]
		task_f5032c0a [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#585676" id=task_f5032c0a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_1a711811 -> task_f5032c0a [label="15 " color="#585676" fontcolor="#585676" id=edge_7f60d6dd labeltooltip="15 " tooltip="15 "]
		task_dc5c44f2 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#585676" id=task_dc5c44f2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_1a711811 -> task_dc5c44f2 [label="16 " color="#585676" fontcolor="#585676" id=edge_3a1f4084 labeltooltip="16 " tooltip="16 "]
		task_9fd21e73 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#585676" id=task_9fd21e73 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_1a711811 -> task_9fd21e73 [label="17 " color="#585676" fontcolor="#585676" id=edge_fbd9eb63 labeltooltip="17 " tooltip="17 "]
		task_3d0a4ae1 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#585676" id=task_3d0a4ae1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_1a711811 -> task_3d0a4ae1 [label="18 " color="#585676" fontcolor="#585676" id=edge_fdfbd55d labeltooltip="18 " tooltip="18 "]
		task_ffde1b14 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#585676" id=task_ffde1b14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_1a711811 -> task_ffde1b14 [label="19 " color="#585676" fontcolor="#585676" id=edge_f56870fd labeltooltip="19 " tooltip="19 "]
		task_45513d5b [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#585676" id=task_45513d5b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_1a711811 -> task_45513d5b [label="20 " color="#585676" fontcolor="#585676" id=edge_aa2d7b8b labeltooltip="20 " tooltip="20 "]
		task_e4ed2e99 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#585676" id=task_e4ed2e99 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_1a711811 -> task_e4ed2e99 [label="21 " color="#585676" fontcolor="#585676" id=edge_eb202870 labeltooltip="21 " tooltip="21 "]
		task_5beefbab [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#585676" id=task_5beefbab shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_1a711811 -> task_5beefbab [label="22 " color="#585676" fontcolor="#585676" id=edge_952a6be2 labeltooltip="22 " tooltip="22 "]
		role_1a711811 -> role_ca862a5b [label="23 " color="#585676" fontcolor="#585676" id=edge_85f15ef8 labeltooltip="23 " tooltip="23 "]
		task_b63b5bb9 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#585676" id=task_b63b5bb9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_1a711811 -> task_b63b5bb9 [label="24 " color="#585676" fontcolor="#585676" id=edge_6f7fed86 labeltooltip="24 " tooltip="24 "]
		task_e7849163 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#585676" id=task_e7849163 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_1a711811 -> task_e7849163 [label="25 " color="#585676" fontcolor="#585676" id=edge_3b9d9964 labeltooltip="25 " tooltip="25 "]
		task_58239c20 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#585676" id=task_58239c20 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_1a711811 -> task_58239c20 [label="26 " color="#585676" fontcolor="#585676" id=edge_b4695567 labeltooltip="26 " tooltip="26 "]
		task_1da4f395 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#585676" id=task_1da4f395 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_1a711811 -> task_1da4f395 [label="27 " color="#585676" fontcolor="#585676" id=edge_42b54e10 labeltooltip="27 " tooltip="27 "]
		task_0dbf5f6c [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#585676" id=task_0dbf5f6c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_1a711811 -> task_0dbf5f6c [label="28 " color="#585676" fontcolor="#585676" id=edge_3b5ce16e labeltooltip="28 " tooltip="28 "]
		task_f10d09e6 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#585676" id=task_f10d09e6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_1a711811 -> task_f10d09e6 [label="29 " color="#585676" fontcolor="#585676" id=edge_ccb31a5e labeltooltip="29 " tooltip="29 "]
		task_81f9dc75 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#585676" id=task_81f9dc75 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_1a711811 -> task_81f9dc75 [label="30 " color="#585676" fontcolor="#585676" id=edge_b057adee labeltooltip="30 " tooltip="30 "]
		task_b6dce5ce [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#585676" id=task_b6dce5ce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_1a711811 -> task_b6dce5ce [label="31 " color="#585676" fontcolor="#585676" id=edge_a888bd5d labeltooltip="31 " tooltip="31 "]
		task_dbe070f1 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#585676" id=task_dbe070f1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_1a711811 -> task_dbe070f1 [label="32 " color="#585676" fontcolor="#585676" id=edge_8c08df4f labeltooltip="32 " tooltip="32 "]
		task_98fae8c7 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#585676" id=task_98fae8c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_1a711811 -> task_98fae8c7 [label="33 " color="#585676" fontcolor="#585676" id=edge_ea213a48 labeltooltip="33 " tooltip="33 "]
		task_47c66077 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#585676" id=task_47c66077 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_1a711811 -> task_47c66077 [label="34 " color="#585676" fontcolor="#585676" id=edge_c5f5d91f labeltooltip="34 " tooltip="34 "]
		task_dde27e5f [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#585676" id=task_dde27e5f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_1a711811 -> task_dde27e5f [label="35 " color="#585676" fontcolor="#585676" id=edge_9a93d341 labeltooltip="35 " tooltip="35 "]
		task_07cd908c [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#585676" id=task_07cd908c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_1a711811 -> task_07cd908c [label="36 " color="#585676" fontcolor="#585676" id=edge_cfdbe387 labeltooltip="36 " tooltip="36 "]
		task_65ad7ec1 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#585676" id=task_65ad7ec1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_1a711811 -> task_65ad7ec1 [label="37 " color="#585676" fontcolor="#585676" id=edge_2f1e4bcf labeltooltip="37 " tooltip="37 "]
		task_931489b8 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#585676" id=task_931489b8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_1a711811 -> task_931489b8 [label="38 " color="#585676" fontcolor="#585676" id=edge_3294b210 labeltooltip="38 " tooltip="38 "]
		task_2d7f4075 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#585676" id=task_2d7f4075 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_1a711811 -> task_2d7f4075 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#585676" fontcolor="#585676" id=edge_0f7eb344 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_0cab420a [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#585676" id=task_0cab420a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_1a711811 -> task_0cab420a [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#585676" fontcolor="#585676" id=edge_3c07bb24 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_3edef631 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#585676" id=task_3edef631 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_1a711811 -> task_3edef631 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#585676" fontcolor="#585676" id=edge_4c99868a labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_fc0c5953 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#585676" id=task_fc0c5953 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_1a711811 -> task_fc0c5953 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#585676" fontcolor="#585676" id=edge_30e9c1d8 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_702465d5 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#585676" id=task_702465d5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_1a711811 -> task_702465d5 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#585676" fontcolor="#585676" id=edge_5447bb6a labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_fab638ce [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#585676" id=task_fab638ce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_1a711811 -> task_fab638ce [label="44 " color="#585676" fontcolor="#585676" id=edge_ec5e7fde labeltooltip="44 " tooltip="44 "]
		task_e7350bc5 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#585676" id=task_e7350bc5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_1a711811 -> task_e7350bc5 [label="45 " color="#585676" fontcolor="#585676" id=edge_a5f35083 labeltooltip="45 " tooltip="45 "]
		task_ff4fe98f [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#585676" id=task_ff4fe98f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_1a711811 -> task_ff4fe98f [label="46 " color="#585676" fontcolor="#585676" id=edge_022245d9 labeltooltip="46 " tooltip="46 "]
		task_e1591c4b [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#585676" id=task_e1591c4b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_1a711811 -> task_e1591c4b [label="47 " color="#585676" fontcolor="#585676" id=edge_cd3317b2 labeltooltip="47 " tooltip="47 "]
		task_83c4fb80 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#585676" id=task_83c4fb80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_1a711811 -> task_83c4fb80 [label="48 " color="#585676" fontcolor="#585676" id=edge_449ccf2f labeltooltip="48 " tooltip="48 "]
		task_47b4ab4d [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#585676" id=task_47b4ab4d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_1a711811 -> task_47b4ab4d [label="49 " color="#585676" fontcolor="#585676" id=edge_02b4ae49 labeltooltip="49 " tooltip="49 "]
		task_13a905f5 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#585676" id=task_13a905f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_1a711811 -> task_13a905f5 [label="50 " color="#585676" fontcolor="#585676" id=edge_83d4404d labeltooltip="50 " tooltip="50 "]
		task_1643698f [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#585676" id=task_1643698f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_1a711811 -> task_1643698f [label="51 " color="#585676" fontcolor="#585676" id=edge_8016a268 labeltooltip="51 " tooltip="51 "]
		task_7abaa6f9 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#585676" id=task_7abaa6f9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_1a711811 -> task_7abaa6f9 [label="52 " color="#585676" fontcolor="#585676" id=edge_f8c37f80 labeltooltip="52 " tooltip="52 "]
		role_1a711811 -> role_1c1e1d95 [label="53 " color="#585676" fontcolor="#585676" id=edge_ef741bdc labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_43e1b403 [label="[role] Delegate to the distro role to prepare the cluster" color="#585676" id=role_43e1b403 tooltip="Delegate to the distro role to prepare the cluster"]
		role_43e1b403 -> role_1a711811 [label="1 " color="#585676" fontcolor="#585676" id=edge_523e560b labeltooltip="1 " tooltip="1 "]
		task_c68c1b6e [label="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it" color="#585676" id=task_c68c1b6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it"]
		role_43e1b403 -> task_c68c1b6e [label="2 " color="#585676" fontcolor="#585676" id=edge_9587faa7 labeltooltip="2 " tooltip="2 "]
		task_dbdedfcb [label="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes" color="#585676" id=task_dbdedfcb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes"]
		role_43e1b403 -> task_dbdedfcb [label="3 " color="#585676" fontcolor="#585676" id=edge_02ec2a66 labeltooltip="3 " tooltip="3 "]
		task_378f3ca7 [label="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file." color="#585676" id=task_378f3ca7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file."]
		role_43e1b403 -> task_378f3ca7 [label="4 " color="#585676" fontcolor="#585676" id=edge_6362e54e labeltooltip="4 " tooltip="4 "]
		task_ef4f3a54 [label="kubeinit.kubeinit.kubeinit_k8s : Install requirements" color="#585676" id=task_ef4f3a54 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install requirements"]
		role_43e1b403 -> task_ef4f3a54 [label="5 " color="#585676" fontcolor="#585676" id=edge_1833ae69 labeltooltip="5 " tooltip="5 "]
		task_39a93fd8 [label="kubeinit.kubeinit.kubeinit_k8s : Install common requirements" color="#585676" id=task_39a93fd8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install common requirements"]
		role_43e1b403 -> task_39a93fd8 [label="6 [when: kubeinit_k8s_common_dependencies is defined]" color="#585676" fontcolor="#585676" id=edge_885272e6 labeltooltip="6 [when: kubeinit_k8s_common_dependencies is defined]" tooltip="6 [when: kubeinit_k8s_common_dependencies is defined]"]
	}
	subgraph "task-prepare-cluster" {
		role_2a2c49aa [label="[role] task-prepare-cluster" color="#585676" id=role_2a2c49aa tooltip="task-prepare-cluster"]
		role_2a2c49aa -> role_f1c9aeb8 [label="1 [when: not services_prepared]" color="#585676" fontcolor="#585676" id=edge_94b3fd7e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_2a2c49aa -> role_43e1b403 [label="2 " color="#585676" fontcolor="#585676" id=edge_2f0c2214 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b77621d0 [label="[role] Read podman secrets if running from the container" color="#585676" id=role_b77621d0 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_1222c10d [label="[role] Prepare environment if not prepared" color="#585676" id=role_1222c10d tooltip="Prepare environment if not prepared"]
		role_1222c10d -> role_b77621d0 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_e8f0bd2d labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_8cf735fe [label="[role] task-download-images" color="#585676" id=role_8cf735fe tooltip="task-download-images"]
		role_8cf735fe -> role_1222c10d [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_4ccd569a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_01f4ecff [label="[role] Read podman secrets if running from the container" color="#585676" id=role_01f4ecff tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_c8e91b52 [label="[role] Prepare environment if needed" color="#585676" id=role_c8e91b52 tooltip="Prepare environment if needed"]
		role_c8e91b52 -> role_01f4ecff [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_b54da893 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_04807f38 [label="[role] Gather network and host facts for guest" color="#585676" id=role_04807f38 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_2104e304 [label="[role] Prepare services if needed" color="#585676" id=role_2104e304 tooltip="Prepare services if needed"]
		role_2104e304 -> role_c8e91b52 [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_a538ec35 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_2104e304 -> role_04807f38 [label="2 " color="#585676" fontcolor="#585676" id=edge_f02bbaf2 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_1a50d41c [label="[role] Deploy the cluster nodes" color="#585676" id=role_1a50d41c tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_a698e2bb [label="[role] Delegate to the distro role to deploy the cluster" color="#585676" id=role_a698e2bb tooltip="Delegate to the distro role to deploy the cluster"]
		role_a698e2bb -> role_1a50d41c [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#585676" fontcolor="#585676" id=edge_03a4f427 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_63e1a3e0 [label="[role] task-deploy-cluster" color="#585676" id=role_63e1a3e0 tooltip="task-deploy-cluster"]
		role_63e1a3e0 -> role_2104e304 [label="1 [when: not services_prepared]" color="#585676" fontcolor="#585676" id=edge_8320d37b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_63e1a3e0 -> role_a698e2bb [label="2 " color="#585676" fontcolor="#585676" id=edge_a801cde5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_997a66dd [label="[role] Read podman secrets if running from the container" color="#585676" id=role_997a66dd tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_6c5212ff [label="[role] Prepare environment if needed" color="#585676" id=role_6c5212ff tooltip="Prepare environment if needed"]
		role_6c5212ff -> role_997a66dd [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#585676" fontcolor="#585676" id=edge_ab348e6c labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_277447da [label="[role] Gather network and host facts for guest" color="#585676" id=role_277447da tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_9eb3d8c2 [label="[role] Prepare services if needed" color="#585676" id=role_9eb3d8c2 tooltip="Prepare services if needed"]
		role_9eb3d8c2 -> role_6c5212ff [label="1 [when: not environment_prepared]" color="#585676" fontcolor="#585676" id=edge_ac95286f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_9eb3d8c2 -> role_277447da [label="2 " color="#585676" fontcolor="#585676" id=edge_5ea231f4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_14558a3b [label="[role] Deploy the apps" color="#585676" id=role_14558a3b tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_0df4b6ef [label="[role] Configure NFS" color="#585676" id=role_0df4b6ef tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_6aadc7a9 [label="[role] Delegate to distro role to run post-deployment tasks" color="#585676" id=role_6aadc7a9 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_6aadc7a9 -> role_14558a3b [label="1 " color="#585676" fontcolor="#585676" id=edge_ca5151db labeltooltip="1 " tooltip="1 "]
		role_6aadc7a9 -> role_0df4b6ef [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#585676" fontcolor="#585676" id=edge_956eea65 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_b442ba35 [label="[role] task-post-deployment" color="#585676" id=role_b442ba35 tooltip="task-post-deployment"]
		role_b442ba35 -> role_9eb3d8c2 [label="1 [when: not services_prepared]" color="#585676" fontcolor="#585676" id=edge_58ed44eb labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b442ba35 -> role_6aadc7a9 [label="2 " color="#585676" fontcolor="#585676" id=edge_48108bf6 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_e5cd2549 -> block_15b58c54 [label=1 color="#585676" fontcolor="#585676" id=edge_9b649622 labeltooltip=1 tooltip=1]
		subgraph cluster_block_15b58c54 {
			block_15b58c54 [label="[block] Prepare the environment" color="#585676" id=block_15b58c54 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_15b58c54 -> role_1dac5af7 [label="1 " color="#585676" fontcolor="#585676" id=edge_232adecb labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_a90c45bf [label=2 color="#585676" fontcolor="#585676" id=edge_6cff02f9 labeltooltip=2 tooltip=2]
		subgraph cluster_block_a90c45bf {
			block_a90c45bf [label="[block] Cleanup hypervisors" color="#585676" id=block_a90c45bf labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_a90c45bf -> role_ae0a4874 [label="1 " color="#585676" fontcolor="#585676" id=edge_22177bd3 labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_1dc1a766 [label=3 color="#585676" fontcolor="#585676" id=edge_ed28241d labeltooltip=3 tooltip=3]
		subgraph cluster_block_1dc1a766 {
			block_1dc1a766 [label="[block] Run validations on cluster resources" color="#585676" id=block_1dc1a766 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_1dc1a766 -> role_3637f26f [label="1 " color="#585676" fontcolor="#585676" id=edge_d87848e7 labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_1763139b [label=4 color="#585676" fontcolor="#585676" id=edge_f6dc328e labeltooltip=4 tooltip=4]
		subgraph cluster_block_1763139b {
			block_1763139b [label="[block] Create the cluster network resources" color="#585676" id=block_1763139b labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_1763139b -> role_bf058005 [label="1 " color="#585676" fontcolor="#585676" id=edge_16241ee6 labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_f624bd0d [label=5 color="#585676" fontcolor="#585676" id=edge_3975857a labeltooltip=5 tooltip=5]
		subgraph cluster_block_f624bd0d {
			block_f624bd0d [label="[block] Create services the cluster will need" color="#585676" id=block_f624bd0d labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_f624bd0d -> role_7a157bcd [label="1 " color="#585676" fontcolor="#585676" id=edge_c1b25f53 labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_060568a9 [label=6 color="#585676" fontcolor="#585676" id=edge_59dcd6a1 labeltooltip=6 tooltip=6]
		subgraph cluster_block_060568a9 {
			block_060568a9 [label="[block] Prepare to deploy the cluster" color="#585676" id=block_060568a9 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_060568a9 -> role_2a2c49aa [label="1 " color="#585676" fontcolor="#585676" id=edge_bf239098 labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_c7bc2cc1 [label=7 color="#585676" fontcolor="#585676" id=edge_73d4e7cd labeltooltip=7 tooltip=7]
		subgraph cluster_block_c7bc2cc1 {
			block_c7bc2cc1 [label="[block] Download cloud images" color="#585676" id=block_c7bc2cc1 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_c7bc2cc1 -> role_8cf735fe [label="1 " color="#585676" fontcolor="#585676" id=edge_e0b4ed29 labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_39eeff14 [label=8 color="#585676" fontcolor="#585676" id=edge_3db15e32 labeltooltip=8 tooltip=8]
		subgraph cluster_block_39eeff14 {
			block_39eeff14 [label="[block] Deploy the cluster" color="#585676" id=block_39eeff14 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_39eeff14 -> role_63e1a3e0 [label="1 " color="#585676" fontcolor="#585676" id=edge_7f82d8c4 labeltooltip="1 " tooltip="1 "]
		}
		play_e5cd2549 -> block_ab07d04f [label=9 color="#585676" fontcolor="#585676" id=edge_b0c400b3 labeltooltip=9 tooltip=9]
		subgraph cluster_block_ab07d04f {
			block_ab07d04f [label="[block] Run any post-deployment tasks" color="#585676" id=block_ab07d04f labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_ab07d04f -> role_b442ba35 [label="1 " color="#585676" fontcolor="#585676" id=edge_c66fadd5 labeltooltip="1 " tooltip="1 "]
		}
	}
}
