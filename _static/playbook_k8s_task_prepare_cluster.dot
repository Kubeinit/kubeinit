digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_e0478baf style=dotted]
	play_a5efd92c [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#2ba193" fontcolor="#ffffff" id=play_a5efd92c shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_a5efd92c [label="1 " color="#2ba193" fontcolor="#2ba193" id=edge_57fa8051 labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_80a8a258 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#2ba193" id=role_80a8a258 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_49946d42 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#2ba193" id=role_49946d42 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_95d540ad [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#2ba193" id=role_95d540ad tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_e4d0e881 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#2ba193" id=role_e4d0e881 tooltip="task-gather-facts"]
		role_e4d0e881 -> role_80a8a258 [label="1 " color="#2ba193" fontcolor="#2ba193" id=edge_f9f47abe labeltooltip="1 " tooltip="1 "]
		role_e4d0e881 -> role_49946d42 [label="2 " color="#2ba193" fontcolor="#2ba193" id=edge_e7f9ba82 labeltooltip="2 " tooltip="2 "]
		role_e4d0e881 -> role_95d540ad [label="3 " color="#2ba193" fontcolor="#2ba193" id=edge_473adc67 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_a5efd92c -> block_fe1d9d86 [label=1 color="#2ba193" fontcolor="#2ba193" id=edge_6d482de6 labeltooltip=1 tooltip=1]
		subgraph cluster_block_fe1d9d86 {
			block_fe1d9d86 [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#2ba193" id=block_fe1d9d86 labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_fe1d9d86 -> role_e4d0e881 [label="1 " color="#2ba193" fontcolor="#2ba193" id=edge_b0b36efd labeltooltip="1 " tooltip="1 "]
		}
	}
	play_714cbfbc [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#049cc8" fontcolor="#ffffff" id=play_714cbfbc shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
	"kubeinit/playbook.yml" -> play_714cbfbc [label="2 " color="#049cc8" fontcolor="#049cc8" id=edge_6e25e103 labeltooltip="2 " tooltip="2 "]
	subgraph "Gather facts from each hypervisor in the deployment" {
		role_448e6ac0 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#049cc8" id=role_448e6ac0 tooltip="Gather facts from each hypervisor in the deployment"]
	}
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_714cbfbc -> block_52bfda65 [label=1 color="#049cc8" fontcolor="#049cc8" id=edge_00cbbe05 labeltooltip=1 tooltip=1]
		subgraph cluster_block_52bfda65 {
			block_52bfda65 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#049cc8" id=block_52bfda65 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_52bfda65 -> role_448e6ac0 [label="1 " color="#049cc8" fontcolor="#049cc8" id=edge_4e81eb09 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_7e209c18 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465786" fontcolor="#ffffff" id=play_7e209c18 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_7e209c18 [label="3 " color="#465786" fontcolor="#465786" id=edge_47d3376c labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_68a0327c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465786" id=role_68a0327c tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather facts to prepare the cluster hypervisors" {
		role_ba366147 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465786" id=role_ba366147 tooltip="Gather facts to prepare the cluster hypervisors"]
		role_ba366147 -> role_68a0327c [label="1 " color="#465786" fontcolor="#465786" id=edge_5338db5f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_4cabe39c [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#465786" id=role_4cabe39c tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-hypervisors" {
		role_8aa87f29 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465786" id=role_8aa87f29 tooltip="task-prepare-hypervisors"]
		role_8aa87f29 -> role_4cabe39c [label="1 " color="#465786" fontcolor="#465786" id=edge_6c33e9a8 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_7e209c18 -> block_066a32f5 [label=1 color="#465786" fontcolor="#465786" id=edge_c666ac69 labeltooltip=1 tooltip=1]
		subgraph cluster_block_066a32f5 {
			block_066a32f5 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465786" id=block_066a32f5 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_066a32f5 -> role_ba366147 [label="1 " color="#465786" fontcolor="#465786" id=edge_5faea08c labeltooltip="1 " tooltip="1 "]
		}
		play_7e209c18 -> block_c3624ab3 [label=2 color="#465786" fontcolor="#465786" id=edge_7b2a96b3 labeltooltip=2 tooltip=2]
		subgraph cluster_block_c3624ab3 {
			block_c3624ab3 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#465786" id=block_c3624ab3 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_c3624ab3 -> role_8aa87f29 [label="1 " color="#465786" fontcolor="#465786" id=edge_780375c3 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_81ba24d4 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3009c3" fontcolor="#ffffff" id=play_81ba24d4 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_81ba24d4 [label="4 " color="#3009c3" fontcolor="#3009c3" id=edge_57298a05 labeltooltip="4 " tooltip="4 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_af2c66dc [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#3009c3" id=role_af2c66dc tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_9d58773f [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3009c3" id=role_9d58773f tooltip="Prepare each hypervisor in the deployment"]
		role_9d58773f -> role_af2c66dc [label="1 " color="#3009c3" fontcolor="#3009c3" id=edge_f7ee78ea labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_81ba24d4 -> block_f7320ffb [label=1 color="#3009c3" fontcolor="#3009c3" id=edge_0c331ee2 labeltooltip=1 tooltip=1]
		subgraph cluster_block_f7320ffb {
			block_f7320ffb [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3009c3" id=block_f7320ffb labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_f7320ffb -> role_9d58773f [label="1 " color="#3009c3" fontcolor="#3009c3" id=edge_e96042d1 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_1c296373 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" fontcolor="#ffffff" id=play_1c296373 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_1c296373 [label="5 " color="#b3bc10" fontcolor="#b3bc10" id=edge_5d3b805e labeltooltip="5 " tooltip="5 "]
	subgraph "Gather kubeinit secrets" {
		role_d9c26439 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_d9c26439 tooltip="Gather kubeinit secrets"]
	}
	subgraph "task-prepare-environment" {
		role_3ad5ee44 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_3ad5ee44 tooltip="task-prepare-environment"]
		role_3ad5ee44 -> role_d9c26439 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_e7396649 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_21c6df20 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_21c6df20 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_372fa5eb [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#b3bc10" id=role_372fa5eb tooltip="Prepare environment if not prepared"]
		role_372fa5eb -> role_21c6df20 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_387e7e9e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_a9d57004 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#b3bc10" id=role_a9d57004 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_befb005e [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_befb005e tooltip="task-cleanup-hypervisors"]
		role_befb005e -> role_372fa5eb [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_f47b9bf4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_befb005e -> role_a9d57004 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_649df998 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_b0096685 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_b0096685 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_fbb67e03 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#b3bc10" id=role_fbb67e03 tooltip="Prepare environment if not prepared"]
		role_fbb67e03 -> role_b0096685 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_167e5a59 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_68c4f7ce [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#b3bc10" id=role_68c4f7ce tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_6108d12b [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#b3bc10" id=role_6108d12b tooltip="Cleanup hypervisors if needed"]
		role_6108d12b -> role_fbb67e03 [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_6ba599d9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_6108d12b -> role_68c4f7ce [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_3e6f92a1 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_2ee2fefc [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_2ee2fefc tooltip="task-run-validations"]
		role_2ee2fefc -> role_6108d12b [label="1 [when: not hypervisors_cleaned]" color="#b3bc10" fontcolor="#b3bc10" id=edge_129f6173 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_21dc2bd8 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_21dc2bd8 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_531077b8 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#b3bc10" id=role_531077b8 tooltip="Prepare environment if not prepared"]
		role_531077b8 -> role_21dc2bd8 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_4a94f724 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_42eebb14 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#b3bc10" id=role_42eebb14 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_d8d8e2db [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#b3bc10" id=role_d8d8e2db tooltip="Cleanup hypervisors if needed"]
		role_d8d8e2db -> role_531077b8 [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_97f50d9f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d8d8e2db -> role_42eebb14 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_77309402 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_f316c109 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_f316c109 tooltip="task-create-network"]
		role_f316c109 -> role_d8d8e2db [label="1 [when: not hypervisors_cleaned]" color="#b3bc10" fontcolor="#b3bc10" id=edge_2535d271 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_ca2916e3 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_ca2916e3 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_84a062ce [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#b3bc10" id=role_84a062ce tooltip="Prepare environment if not prepared"]
		role_84a062ce -> role_ca2916e3 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_faed736c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Prepare podman" {
		role_8bf88144 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#b3bc10" id=role_8bf88144 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_86ba0188 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#b3bc10" id=role_86ba0188 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_09f0ca3d [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#b3bc10" id=role_09f0ca3d tooltip="Configure Bind"]
		role_09f0ca3d -> role_86ba0188 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_c2802069 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_5e46ef6b [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#b3bc10" id=role_5e46ef6b tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_eb61a76c [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#b3bc10" id=role_eb61a76c tooltip="Configure Dnsmasq"]
		role_eb61a76c -> role_5e46ef6b [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_f0dd8cfe labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c3e291f1 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#b3bc10" id=role_c3e291f1 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_c5bab9cb [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#b3bc10" id=role_c5bab9cb tooltip="Configure HAProxy"]
		role_c5bab9cb -> role_c3e291f1 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_71da84d5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_d2dba137 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#b3bc10" id=role_d2dba137 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_bc78479c [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#b3bc10" id=role_bc78479c tooltip="Configure Nexus"]
		role_bc78479c -> role_d2dba137 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_ec383ad7 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8a65e465 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#b3bc10" id=role_8a65e465 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_c8dbc8fc [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#b3bc10" id=role_c8dbc8fc tooltip="Configure Apache"]
		role_c8dbc8fc -> role_8a65e465 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_5327465b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6b6e30a2 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#b3bc10" id=role_6b6e30a2 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_bd7f076e [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#b3bc10" id=role_bd7f076e tooltip="Configure a local container image registry"]
		role_bd7f076e -> role_6b6e30a2 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_0fb37de4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_fe52d63f [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_fe52d63f tooltip="task-create-services"]
		role_fe52d63f -> role_84a062ce [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_7f747c85 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_fe52d63f -> role_8bf88144 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_05f33fbf labeltooltip="2 " tooltip="2 "]
		role_fe52d63f -> role_09f0ca3d [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#b3bc10" fontcolor="#b3bc10" id=edge_781c512f labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_fe52d63f -> role_eb61a76c [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#b3bc10" fontcolor="#b3bc10" id=edge_d6b76b63 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_fe52d63f -> role_c5bab9cb [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#b3bc10" fontcolor="#b3bc10" id=edge_2da3d6ee labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_fe52d63f -> role_bc78479c [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#b3bc10" fontcolor="#b3bc10" id=edge_41f50aca labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_fe52d63f -> role_c8dbc8fc [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#b3bc10" fontcolor="#b3bc10" id=edge_e49abb79 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_fe52d63f -> role_bd7f076e [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#b3bc10" fontcolor="#b3bc10" id=edge_4977e440 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_8fcee80a [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_8fcee80a tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_e3676a51 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#b3bc10" id=role_e3676a51 tooltip="Prepare environment if needed"]
		role_e3676a51 -> role_8fcee80a [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_efe00202 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_ea204c9c [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#b3bc10" id=role_ea204c9c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_116f35bf [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#b3bc10" id=role_116f35bf tooltip="Prepare services if needed"]
		role_116f35bf -> role_e3676a51 [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_73d45998 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_116f35bf -> role_ea204c9c [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_8ca924e4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c34b9e7f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=role_c34b9e7f tooltip="Create systemd service for podman container"]
		task_7dcb159e [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#b3bc10" id=task_7dcb159e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_c34b9e7f -> task_7dcb159e [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_923609d7 labeltooltip="1 " tooltip="1 "]
		task_c47515a4 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#b3bc10" id=task_c47515a4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_c34b9e7f -> task_c47515a4 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_efcf6e83 labeltooltip="2 " tooltip="2 "]
		task_06883de5 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#b3bc10" id=task_06883de5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_c34b9e7f -> task_06883de5 [label="3 " color="#b3bc10" fontcolor="#b3bc10" id=edge_22a35267 labeltooltip="3 " tooltip="3 "]
		task_7930a033 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#b3bc10" id=task_7930a033 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_c34b9e7f -> task_7930a033 [label="4 " color="#b3bc10" fontcolor="#b3bc10" id=edge_2c8e4eef labeltooltip="4 " tooltip="4 "]
		task_c0018ad4 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#b3bc10" id=task_c0018ad4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_c34b9e7f -> task_c0018ad4 [label="5 " color="#b3bc10" fontcolor="#b3bc10" id=edge_da74f8c8 labeltooltip="5 " tooltip="5 "]
		task_a4341ba6 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#b3bc10" id=task_a4341ba6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_c34b9e7f -> task_a4341ba6 [label="6 " color="#b3bc10" fontcolor="#b3bc10" id=edge_3430322c labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_7d30e7d4 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=role_7d30e7d4 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_3504e7c4 [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#b3bc10" id=role_3504e7c4 tooltip="Setup the cluster provision container"]
		task_abfb059e [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_abfb059e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_3504e7c4 -> task_abfb059e [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_d073bd13 labeltooltip="1 " tooltip="1 "]
		task_77104c4b [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_77104c4b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_3504e7c4 -> task_77104c4b [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_999eb8c8 labeltooltip="2 " tooltip="2 "]
		task_45f40981 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_45f40981 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_3504e7c4 -> task_45f40981 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#b3bc10" fontcolor="#b3bc10" id=edge_7d416f9e labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_eed49664 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_eed49664 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_3504e7c4 -> task_eed49664 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#b3bc10" fontcolor="#b3bc10" id=edge_0e9cd0bc labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_51aa98e0 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_51aa98e0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_3504e7c4 -> task_51aa98e0 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#b3bc10" fontcolor="#b3bc10" id=edge_b7d576ab labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_c733827a [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_c733827a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_3504e7c4 -> task_c733827a [label="6 [when: kubeinit_deployment_os == 'debian']" color="#b3bc10" fontcolor="#b3bc10" id=edge_e2840814 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_47dc6114 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_47dc6114 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_3504e7c4 -> task_47dc6114 [label="7 [when: kubeinit_deployment_os == 'debian']" color="#b3bc10" fontcolor="#b3bc10" id=edge_c926d0b1 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_3a10479f [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_3a10479f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_3504e7c4 -> task_3a10479f [label="8 [when: kubeinit_deployment_os == 'debian']" color="#b3bc10" fontcolor="#b3bc10" id=edge_bfd4e26a labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_b4d59220 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_b4d59220 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_3504e7c4 -> task_b4d59220 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#b3bc10" fontcolor="#b3bc10" id=edge_7714346f labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_4c852925 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_4c852925 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_3504e7c4 -> task_4c852925 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#b3bc10" fontcolor="#b3bc10" id=edge_f19bb67c labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_cbd47f98 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_cbd47f98 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_3504e7c4 -> task_cbd47f98 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#b3bc10" fontcolor="#b3bc10" id=edge_893b2d0b labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_8542656e [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_8542656e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_3504e7c4 -> task_8542656e [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#b3bc10" fontcolor="#b3bc10" id=edge_21946ab0 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_678807b2 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_678807b2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_3504e7c4 -> task_678807b2 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#b3bc10" fontcolor="#b3bc10" id=edge_b7a95db3 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_7d4a4512 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_7d4a4512 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_3504e7c4 -> task_7d4a4512 [label="14 " color="#b3bc10" fontcolor="#b3bc10" id=edge_400f918f labeltooltip="14 " tooltip="14 "]
		task_44b5af86 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_44b5af86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_3504e7c4 -> task_44b5af86 [label="15 " color="#b3bc10" fontcolor="#b3bc10" id=edge_903d7dec labeltooltip="15 " tooltip="15 "]
		task_e053a242 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_e053a242 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_3504e7c4 -> task_e053a242 [label="16 " color="#b3bc10" fontcolor="#b3bc10" id=edge_7f995e00 labeltooltip="16 " tooltip="16 "]
		task_696c92f4 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_696c92f4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_3504e7c4 -> task_696c92f4 [label="17 " color="#b3bc10" fontcolor="#b3bc10" id=edge_f6ed6e5e labeltooltip="17 " tooltip="17 "]
		task_69372576 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_69372576 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_3504e7c4 -> task_69372576 [label="18 " color="#b3bc10" fontcolor="#b3bc10" id=edge_06070fbc labeltooltip="18 " tooltip="18 "]
		task_2bd78b93 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_2bd78b93 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_3504e7c4 -> task_2bd78b93 [label="19 " color="#b3bc10" fontcolor="#b3bc10" id=edge_cc2e23b8 labeltooltip="19 " tooltip="19 "]
		task_60d12eb7 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_60d12eb7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_3504e7c4 -> task_60d12eb7 [label="20 " color="#b3bc10" fontcolor="#b3bc10" id=edge_10396b3d labeltooltip="20 " tooltip="20 "]
		task_bdc3d066 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_bdc3d066 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_3504e7c4 -> task_bdc3d066 [label="21 " color="#b3bc10" fontcolor="#b3bc10" id=edge_0e77e846 labeltooltip="21 " tooltip="21 "]
		task_93acf156 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_93acf156 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_3504e7c4 -> task_93acf156 [label="22 " color="#b3bc10" fontcolor="#b3bc10" id=edge_1d3efd1e labeltooltip="22 " tooltip="22 "]
		role_3504e7c4 -> role_c34b9e7f [label="23 " color="#b3bc10" fontcolor="#b3bc10" id=edge_5dc57aba labeltooltip="23 " tooltip="23 "]
		task_1a56a77d [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_1a56a77d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_3504e7c4 -> task_1a56a77d [label="24 " color="#b3bc10" fontcolor="#b3bc10" id=edge_e16444d4 labeltooltip="24 " tooltip="24 "]
		task_e086ed67 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_e086ed67 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_3504e7c4 -> task_e086ed67 [label="25 " color="#b3bc10" fontcolor="#b3bc10" id=edge_89d64f23 labeltooltip="25 " tooltip="25 "]
		task_31c74ae7 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_31c74ae7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_3504e7c4 -> task_31c74ae7 [label="26 " color="#b3bc10" fontcolor="#b3bc10" id=edge_f8f5e91c labeltooltip="26 " tooltip="26 "]
		task_a51245da [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_a51245da shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_3504e7c4 -> task_a51245da [label="27 " color="#b3bc10" fontcolor="#b3bc10" id=edge_82bab3c5 labeltooltip="27 " tooltip="27 "]
		task_d3a6ed54 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_d3a6ed54 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_3504e7c4 -> task_d3a6ed54 [label="28 " color="#b3bc10" fontcolor="#b3bc10" id=edge_feb6b4fc labeltooltip="28 " tooltip="28 "]
		task_a027a391 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_a027a391 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_3504e7c4 -> task_a027a391 [label="29 " color="#b3bc10" fontcolor="#b3bc10" id=edge_bea970e9 labeltooltip="29 " tooltip="29 "]
		task_66742855 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_66742855 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_3504e7c4 -> task_66742855 [label="30 " color="#b3bc10" fontcolor="#b3bc10" id=edge_ede456b8 labeltooltip="30 " tooltip="30 "]
		task_15e55a94 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_15e55a94 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_3504e7c4 -> task_15e55a94 [label="31 " color="#b3bc10" fontcolor="#b3bc10" id=edge_f142f396 labeltooltip="31 " tooltip="31 "]
		task_a9425c16 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_a9425c16 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_3504e7c4 -> task_a9425c16 [label="32 " color="#b3bc10" fontcolor="#b3bc10" id=edge_82e30a9d labeltooltip="32 " tooltip="32 "]
		task_1eea12ee [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_1eea12ee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_3504e7c4 -> task_1eea12ee [label="33 " color="#b3bc10" fontcolor="#b3bc10" id=edge_4fa45b0d labeltooltip="33 " tooltip="33 "]
		task_98f015f5 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_98f015f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_3504e7c4 -> task_98f015f5 [label="34 " color="#b3bc10" fontcolor="#b3bc10" id=edge_e6670270 labeltooltip="34 " tooltip="34 "]
		task_4ae68cb2 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_4ae68cb2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_3504e7c4 -> task_4ae68cb2 [label="35 " color="#b3bc10" fontcolor="#b3bc10" id=edge_a141d654 labeltooltip="35 " tooltip="35 "]
		task_570ec5ce [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_570ec5ce shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_3504e7c4 -> task_570ec5ce [label="36 " color="#b3bc10" fontcolor="#b3bc10" id=edge_538ece79 labeltooltip="36 " tooltip="36 "]
		task_e75a620e [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_e75a620e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_3504e7c4 -> task_e75a620e [label="37 " color="#b3bc10" fontcolor="#b3bc10" id=edge_fc12589a labeltooltip="37 " tooltip="37 "]
		task_9ef5c2ae [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_9ef5c2ae shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_3504e7c4 -> task_9ef5c2ae [label="38 " color="#b3bc10" fontcolor="#b3bc10" id=edge_29f75d74 labeltooltip="38 " tooltip="38 "]
		task_23e14931 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_23e14931 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_3504e7c4 -> task_23e14931 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#b3bc10" fontcolor="#b3bc10" id=edge_9c038b3c labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_f75d4b3e [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_f75d4b3e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_3504e7c4 -> task_f75d4b3e [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#b3bc10" fontcolor="#b3bc10" id=edge_b73422a1 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_5fba2fc2 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_5fba2fc2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_3504e7c4 -> task_5fba2fc2 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#b3bc10" fontcolor="#b3bc10" id=edge_25762e0d labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_bf8df131 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_bf8df131 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_3504e7c4 -> task_bf8df131 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#b3bc10" fontcolor="#b3bc10" id=edge_6e90120e labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_7ec7ac9c [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_7ec7ac9c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_3504e7c4 -> task_7ec7ac9c [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#b3bc10" fontcolor="#b3bc10" id=edge_2aa1f56d labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_72021bdf [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_72021bdf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_3504e7c4 -> task_72021bdf [label="44 " color="#b3bc10" fontcolor="#b3bc10" id=edge_a2051de7 labeltooltip="44 " tooltip="44 "]
		task_e073ca2f [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_e073ca2f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_3504e7c4 -> task_e073ca2f [label="45 " color="#b3bc10" fontcolor="#b3bc10" id=edge_e844dde5 labeltooltip="45 " tooltip="45 "]
		task_26309f71 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_26309f71 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_3504e7c4 -> task_26309f71 [label="46 " color="#b3bc10" fontcolor="#b3bc10" id=edge_e811e8d0 labeltooltip="46 " tooltip="46 "]
		task_5c249d94 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_5c249d94 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_3504e7c4 -> task_5c249d94 [label="47 " color="#b3bc10" fontcolor="#b3bc10" id=edge_5d66bbfe labeltooltip="47 " tooltip="47 "]
		task_b12a9276 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_b12a9276 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_3504e7c4 -> task_b12a9276 [label="48 " color="#b3bc10" fontcolor="#b3bc10" id=edge_ea657394 labeltooltip="48 " tooltip="48 "]
		task_3cd9ef14 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_3cd9ef14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
		role_3504e7c4 -> task_3cd9ef14 [label="49 " color="#b3bc10" fontcolor="#b3bc10" id=edge_e4c00ebb labeltooltip="49 " tooltip="49 "]
		task_53b56ef5 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_53b56ef5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_3504e7c4 -> task_53b56ef5 [label="50 " color="#b3bc10" fontcolor="#b3bc10" id=edge_f38c8f51 labeltooltip="50 " tooltip="50 "]
		task_15b17e86 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_15b17e86 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_3504e7c4 -> task_15b17e86 [label="51 " color="#b3bc10" fontcolor="#b3bc10" id=edge_78e96c20 labeltooltip="51 " tooltip="51 "]
		task_5ff86934 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_5ff86934 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_3504e7c4 -> task_5ff86934 [label="52 " color="#b3bc10" fontcolor="#b3bc10" id=edge_1791ff9b labeltooltip="52 " tooltip="52 "]
		task_1d90a818 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#b3bc10" id=task_1d90a818 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_3504e7c4 -> task_1d90a818 [label="53 " color="#b3bc10" fontcolor="#b3bc10" id=edge_c2736b67 labeltooltip="53 " tooltip="53 "]
		role_3504e7c4 -> role_7d30e7d4 [label="54 " color="#b3bc10" fontcolor="#b3bc10" id=edge_562f1263 labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_81037486 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#b3bc10" id=role_81037486 tooltip="Delegate to the distro role to prepare the cluster"]
		role_81037486 -> role_3504e7c4 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_9b9736a6 labeltooltip="1 " tooltip="1 "]
		task_dbc49512 [label="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#b3bc10" id=task_dbc49512 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it"]
		role_81037486 -> task_dbc49512 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_7405cbfc labeltooltip="2 " tooltip="2 "]
		task_293f767a [label="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#b3bc10" id=task_293f767a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes"]
		role_81037486 -> task_293f767a [label="3 " color="#b3bc10" fontcolor="#b3bc10" id=edge_6dee0209 labeltooltip="3 " tooltip="3 "]
		task_fe3ecec8 [label="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#b3bc10" id=task_fe3ecec8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file."]
		role_81037486 -> task_fe3ecec8 [label="4 " color="#b3bc10" fontcolor="#b3bc10" id=edge_6db27e11 labeltooltip="4 " tooltip="4 "]
		task_90c7fc41 [label="kubeinit.kubeinit.kubeinit_k8s : Install requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#b3bc10" id=task_90c7fc41 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install requirements"]
		role_81037486 -> task_90c7fc41 [label="5 " color="#b3bc10" fontcolor="#b3bc10" id=edge_d17dabeb labeltooltip="5 " tooltip="5 "]
		task_32399227 [label="kubeinit.kubeinit.kubeinit_k8s : Install common requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#b3bc10" id=task_32399227 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install common requirements"]
		role_81037486 -> task_32399227 [label="6 [when: kubeinit_k8s_common_dependencies is defined]" color="#b3bc10" fontcolor="#b3bc10" id=edge_a3c0aa47 labeltooltip="6 [when: kubeinit_k8s_common_dependencies is defined]" tooltip="6 [when: kubeinit_k8s_common_dependencies is defined]"]
	}
	subgraph "task-prepare-cluster" {
		role_4c6b7bf1 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_4c6b7bf1 tooltip="task-prepare-cluster"]
		role_4c6b7bf1 -> role_116f35bf [label="1 [when: not services_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_8061dab0 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_4c6b7bf1 -> role_81037486 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_1caff02e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_96f0a436 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_96f0a436 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9e309871 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#b3bc10" id=role_9e309871 tooltip="Prepare environment if not prepared"]
		role_9e309871 -> role_96f0a436 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_696edf95 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-download-images" {
		role_a4afffe3 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_a4afffe3 tooltip="task-download-images"]
		role_a4afffe3 -> role_9e309871 [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_2e83d5de labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_6bdcaddc [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_6bdcaddc tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_01b960ac [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#b3bc10" id=role_01b960ac tooltip="Prepare environment if needed"]
		role_01b960ac -> role_6bdcaddc [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_a8295dcc labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_81506a4e [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#b3bc10" id=role_81506a4e tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d2b4dde6 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#b3bc10" id=role_d2b4dde6 tooltip="Prepare services if needed"]
		role_d2b4dde6 -> role_01b960ac [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_5ba5db0f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d2b4dde6 -> role_81506a4e [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_dc302822 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_a7590466 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#b3bc10" id=role_a7590466 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_e73924fd [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#b3bc10" id=role_e73924fd tooltip="Delegate to the distro role to deploy the cluster"]
		role_e73924fd -> role_a7590466 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#b3bc10" fontcolor="#b3bc10" id=edge_cde38fd2 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_17efe89d [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_17efe89d tooltip="task-deploy-cluster"]
		role_17efe89d -> role_d2b4dde6 [label="1 [when: not services_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_7d994de5 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_17efe89d -> role_e73924fd [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_81b34e0a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_bf94e326 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#b3bc10" id=role_bf94e326 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Prepare environment if needed" {
		role_0bc9c0c5 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#b3bc10" id=role_0bc9c0c5 tooltip="Prepare environment if needed"]
		role_0bc9c0c5 -> role_bf94e326 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_7b2d3ab5 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_9f4e9f55 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#b3bc10" id=role_9f4e9f55 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_4949b0c1 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#b3bc10" id=role_4949b0c1 tooltip="Prepare services if needed"]
		role_4949b0c1 -> role_0bc9c0c5 [label="1 [when: not environment_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_4e0f62d7 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4949b0c1 -> role_9f4e9f55 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_418eb85c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_49bc90a9 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#b3bc10" id=role_49bc90a9 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_c09c7ec7 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#b3bc10" id=role_c09c7ec7 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_456a1c58 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#b3bc10" id=role_456a1c58 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_456a1c58 -> role_49bc90a9 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_484d8f18 labeltooltip="1 " tooltip="1 "]
		role_456a1c58 -> role_c09c7ec7 [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#b3bc10" fontcolor="#b3bc10" id=edge_51dffe78 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_cf626684 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=role_cf626684 tooltip="task-post-deployment"]
		role_cf626684 -> role_4949b0c1 [label="1 [when: not services_prepared]" color="#b3bc10" fontcolor="#b3bc10" id=edge_f1bdf622 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_cf626684 -> role_456a1c58 [label="2 " color="#b3bc10" fontcolor="#b3bc10" id=edge_574ba4e9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_1c296373 -> block_8bdb1a54 [label=1 color="#b3bc10" fontcolor="#b3bc10" id=edge_48120c9f labeltooltip=1 tooltip=1]
		subgraph cluster_block_8bdb1a54 {
			block_8bdb1a54 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_8bdb1a54 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_8bdb1a54 -> role_3ad5ee44 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_39ddc8d1 labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_5e59e983 [label=2 color="#b3bc10" fontcolor="#b3bc10" id=edge_e4677107 labeltooltip=2 tooltip=2]
		subgraph cluster_block_5e59e983 {
			block_5e59e983 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_5e59e983 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_5e59e983 -> role_befb005e [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_deac0983 labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_40c87c4b [label=3 color="#b3bc10" fontcolor="#b3bc10" id=edge_72459dce labeltooltip=3 tooltip=3]
		subgraph cluster_block_40c87c4b {
			block_40c87c4b [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_40c87c4b labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_40c87c4b -> role_2ee2fefc [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_2811bd17 labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_66c49e6c [label=4 color="#b3bc10" fontcolor="#b3bc10" id=edge_912900b5 labeltooltip=4 tooltip=4]
		subgraph cluster_block_66c49e6c {
			block_66c49e6c [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_66c49e6c labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_66c49e6c -> role_f316c109 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_d6403627 labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_13c632e6 [label=5 color="#b3bc10" fontcolor="#b3bc10" id=edge_c1a56290 labeltooltip=5 tooltip=5]
		subgraph cluster_block_13c632e6 {
			block_13c632e6 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_13c632e6 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_13c632e6 -> role_fe52d63f [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_f6766287 labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_731dd062 [label=6 color="#b3bc10" fontcolor="#b3bc10" id=edge_ea2fa941 labeltooltip=6 tooltip=6]
		subgraph cluster_block_731dd062 {
			block_731dd062 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_731dd062 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_731dd062 -> role_4c6b7bf1 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_64dd5fad labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_ec2fe87b [label=7 color="#b3bc10" fontcolor="#b3bc10" id=edge_2d295458 labeltooltip=7 tooltip=7]
		subgraph cluster_block_ec2fe87b {
			block_ec2fe87b [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_ec2fe87b labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_ec2fe87b -> role_a4afffe3 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_2d23f6ce labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_55b2cab4 [label=8 color="#b3bc10" fontcolor="#b3bc10" id=edge_9facbd8b labeltooltip=8 tooltip=8]
		subgraph cluster_block_55b2cab4 {
			block_55b2cab4 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_55b2cab4 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_55b2cab4 -> role_17efe89d [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_88374d92 labeltooltip="1 " tooltip="1 "]
		}
		play_1c296373 -> block_3080f8c2 [label=9 color="#b3bc10" fontcolor="#b3bc10" id=edge_af2658f9 labeltooltip=9 tooltip=9]
		subgraph cluster_block_3080f8c2 {
			block_3080f8c2 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#b3bc10" id=block_3080f8c2 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_3080f8c2 -> role_cf626684 [label="1 " color="#b3bc10" fontcolor="#b3bc10" id=edge_3815b80c labeltooltip="1 " tooltip="1 "]
		}
	}
}
