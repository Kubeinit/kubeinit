digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_af25ce2e style=dotted]
	play_71f51ba4 [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9126a6" fontcolor="#ffffff" id=play_71f51ba4 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_71f51ba4 [label="1 " color="#9126a6" fontcolor="#9126a6" id=edge_21068a0b labeltooltip="1 " tooltip="1 "]
	subgraph "Gather kubeinit secrets" {
		role_0783e4b7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#9126a6" id=role_0783e4b7 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_2345fdeb [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#9126a6" id=role_2345fdeb tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c342e8d3 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#9126a6" id=role_c342e8d3 tooltip="Create ssh config file from template"]
	}
	subgraph "task-gather-facts" {
		role_a3e32c5a [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9126a6" id=role_a3e32c5a tooltip="task-gather-facts"]
		role_a3e32c5a -> role_0783e4b7 [label="1 " color="#9126a6" fontcolor="#9126a6" id=edge_ea7de6da labeltooltip="1 " tooltip="1 "]
		role_a3e32c5a -> role_2345fdeb [label="2 " color="#9126a6" fontcolor="#9126a6" id=edge_a6a289f2 labeltooltip="2 " tooltip="2 "]
		role_a3e32c5a -> role_c342e8d3 [label="3 " color="#9126a6" fontcolor="#9126a6" id=edge_c2ac476b labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_d6a30087 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#9126a6" id=role_d6a30087 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_5a1445de [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#9126a6" id=role_5a1445de tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_d543d36f [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#9126a6" id=role_d543d36f tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-hypervisors" {
		role_54bbcb5e [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9126a6" id=role_54bbcb5e tooltip="task-prepare-hypervisors"]
		role_54bbcb5e -> role_d6a30087 [label="1 " color="#9126a6" fontcolor="#9126a6" id=edge_0a67e010 labeltooltip="1 " tooltip="1 "]
		role_54bbcb5e -> role_5a1445de [label="2 " color="#9126a6" fontcolor="#9126a6" id=edge_7ae8e514 labeltooltip="2 " tooltip="2 "]
		role_54bbcb5e -> role_d543d36f [label="3 " color="#9126a6" fontcolor="#9126a6" id=edge_5e04a768 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_71f51ba4 -> block_52b7893d [label=1 color="#9126a6" fontcolor="#9126a6" id=edge_38043f04 labeltooltip=1 tooltip=1]
		subgraph cluster_block_52b7893d {
			block_52b7893d [label="[block] Gather facts about the deployment environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9126a6" id=block_52b7893d labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_52b7893d -> role_a3e32c5a [label="1 " color="#9126a6" fontcolor="#9126a6" id=edge_0e7cd383 labeltooltip="1 " tooltip="1 "]
		}
		play_71f51ba4 -> block_cf0e57f4 [label=2 color="#9126a6" fontcolor="#9126a6" id=edge_d8d0207a labeltooltip=2 tooltip=2]
		subgraph cluster_block_cf0e57f4 {
			block_cf0e57f4 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9126a6" id=block_cf0e57f4 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_cf0e57f4 -> role_54bbcb5e [label="1 " color="#9126a6" fontcolor="#9126a6" id=edge_b9ae963e labeltooltip="1 " tooltip="1 "]
		}
	}
	play_81b9b65b [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9a2ca0" fontcolor="#ffffff" id=play_81b9b65b shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_81b9b65b [label="2 " color="#9a2ca0" fontcolor="#9a2ca0" id=edge_34c60c33 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_bb422e31 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#9a2ca0" id=role_bb422e31 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_f2b1fcdd [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9a2ca0" id=role_f2b1fcdd tooltip="Prepare each hypervisor in the deployment"]
		role_f2b1fcdd -> role_bb422e31 [label="1 " color="#9a2ca0" fontcolor="#9a2ca0" id=edge_a88f1c29 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_81b9b65b -> block_11b5993d [label=1 color="#9a2ca0" fontcolor="#9a2ca0" id=edge_1dd10b37 labeltooltip=1 tooltip=1]
		subgraph cluster_block_11b5993d {
			block_11b5993d [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#9a2ca0" id=block_11b5993d labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_11b5993d -> role_f2b1fcdd [label="1 " color="#9a2ca0" fontcolor="#9a2ca0" id=edge_87ae7e6d labeltooltip="1 " tooltip="1 "]
		}
	}
	play_1ec61ae2 [label="Play: Run cluster deployment on prepared hypervisors (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" fontcolor="#ffffff" id=play_1ec61ae2 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_1ec61ae2 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_e26d9d38 labeltooltip="3 " tooltip="3 "]
	subgraph "Gather kubeinit secrets" {
		role_6284c9a6 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_6284c9a6 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_011b3415 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_011b3415 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_a221836b [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_a221836b tooltip="Create ssh config file from template"]
	}
	subgraph "task-prepare-environment" {
		role_377079d0 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_377079d0 tooltip="task-prepare-environment"]
		role_377079d0 -> role_6284c9a6 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_beea635b labeltooltip="1 " tooltip="1 "]
		role_377079d0 -> role_011b3415 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_2f63c768 labeltooltip="2 " tooltip="2 "]
		role_377079d0 -> role_a221836b [label="3 " color="#c30955" fontcolor="#c30955" id=edge_e758ba12 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_02d5b261 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_02d5b261 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_0a1e26f3 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_0a1e26f3 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_0586ae54 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_0586ae54 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_3b7643dd [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c30955" id=role_3b7643dd tooltip="Prepare environment if not prepared"]
		role_3b7643dd -> role_02d5b261 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_8daa058a labeltooltip="1 " tooltip="1 "]
		role_3b7643dd -> role_0a1e26f3 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_8eee053d labeltooltip="2 " tooltip="2 "]
		role_3b7643dd -> role_0586ae54 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_3660a2d0 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_466ba233 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c30955" id=role_466ba233 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_dbe8735a [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_dbe8735a tooltip="task-cleanup-hypervisors"]
		role_dbe8735a -> role_3b7643dd [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_61a5bb43 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_dbe8735a -> role_466ba233 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_c7021c5f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_dd34eb72 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_dd34eb72 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_b3dd575f [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_b3dd575f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c9359851 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_c9359851 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f4585677 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c30955" id=role_f4585677 tooltip="Prepare environment if not prepared"]
		role_f4585677 -> role_dd34eb72 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_926c899d labeltooltip="1 " tooltip="1 "]
		role_f4585677 -> role_b3dd575f [label="2 " color="#c30955" fontcolor="#c30955" id=edge_43de56be labeltooltip="2 " tooltip="2 "]
		role_f4585677 -> role_c9359851 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_917faab2 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_67a731d1 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c30955" id=role_67a731d1 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_e3ccf936 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#c30955" id=role_e3ccf936 tooltip="Cleanup hypervisors if needed"]
		role_e3ccf936 -> role_f4585677 [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_ba221195 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_e3ccf936 -> role_67a731d1 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_aac2a2d0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_6681c1ad [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_6681c1ad tooltip="task-run-validations"]
		role_6681c1ad -> role_e3ccf936 [label="1 [when: not hypervisors_cleaned]" color="#c30955" fontcolor="#c30955" id=edge_040ed713 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_252a1ffa [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_252a1ffa tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_ade5ae87 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_ade5ae87 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_ed72ab74 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_ed72ab74 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_0abf4116 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c30955" id=role_0abf4116 tooltip="Prepare environment if not prepared"]
		role_0abf4116 -> role_252a1ffa [label="1 " color="#c30955" fontcolor="#c30955" id=edge_2ffd06ca labeltooltip="1 " tooltip="1 "]
		role_0abf4116 -> role_ade5ae87 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_a814f740 labeltooltip="2 " tooltip="2 "]
		role_0abf4116 -> role_ed72ab74 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_6ec11157 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_085574b5 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/cleanup_hypervisors.yml" color="#c30955" id=role_085574b5 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_a084e5d2 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#c30955" id=role_a084e5d2 tooltip="Cleanup hypervisors if needed"]
		role_a084e5d2 -> role_0abf4116 [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_c470db5a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_a084e5d2 -> role_085574b5 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_18115817 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_d0a3912f [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_d0a3912f tooltip="task-create-network"]
		role_d0a3912f -> role_a084e5d2 [label="1 [when: not hypervisors_cleaned]" color="#c30955" fontcolor="#c30955" id=edge_f846d5cf labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_e73a17ab [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_e73a17ab tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_bb1a4be9 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_bb1a4be9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_289395f2 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_289395f2 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_36274a1e [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#c30955" id=role_36274a1e tooltip="Prepare environment if not prepared"]
		role_36274a1e -> role_e73a17ab [label="1 " color="#c30955" fontcolor="#c30955" id=edge_1c79ea9e labeltooltip="1 " tooltip="1 "]
		role_36274a1e -> role_bb1a4be9 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_a3d3f486 labeltooltip="2 " tooltip="2 "]
		role_36274a1e -> role_289395f2 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_d22f1a70 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Prepare podman" {
		role_a2258aa1 [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#c30955" id=role_a2258aa1 tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_200a489a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#c30955" id=role_200a489a tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_f0e78628 [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c30955" id=role_f0e78628 tooltip="Configure Bind"]
		role_f0e78628 -> role_200a489a [label="1 " color="#c30955" fontcolor="#c30955" id=edge_15d8c5b4 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_8e157fa8 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#c30955" id=role_8e157fa8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_e94f12e6 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c30955" id=role_e94f12e6 tooltip="Configure Dnsmasq"]
		role_e94f12e6 -> role_8e157fa8 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_88d8b23f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_19d0c05f [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#c30955" id=role_19d0c05f tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_cf4a8820 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c30955" id=role_cf4a8820 tooltip="Configure HAProxy"]
		role_cf4a8820 -> role_19d0c05f [label="1 " color="#c30955" fontcolor="#c30955" id=edge_3ec02157 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_451880d4 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#c30955" id=role_451880d4 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_7f14f0da [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c30955" id=role_7f14f0da tooltip="Configure Nexus"]
		role_7f14f0da -> role_451880d4 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_f83c0d54 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_306428bd [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#c30955" id=role_306428bd tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_2d8f5b28 [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c30955" id=role_2d8f5b28 tooltip="Configure Apache"]
		role_2d8f5b28 -> role_306428bd [label="1 " color="#c30955" fontcolor="#c30955" id=edge_15c55042 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_f1521e24 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#c30955" id=role_f1521e24 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_59f6ba48 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#c30955" id=role_59f6ba48 tooltip="Configure a local container image registry"]
		role_59f6ba48 -> role_f1521e24 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_0af3979c labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_77610413 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_77610413 tooltip="task-create-services"]
		role_77610413 -> role_36274a1e [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_8655af3a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_77610413 -> role_a2258aa1 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_43aa3f92 labeltooltip="2 " tooltip="2 "]
		role_77610413 -> role_f0e78628 [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#c30955" fontcolor="#c30955" id=edge_02f70bc8 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_77610413 -> role_e94f12e6 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#c30955" fontcolor="#c30955" id=edge_b171996a labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_77610413 -> role_cf4a8820 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#c30955" fontcolor="#c30955" id=edge_69f57c48 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_77610413 -> role_7f14f0da [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#c30955" fontcolor="#c30955" id=edge_a5edcdae labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_77610413 -> role_2d8f5b28 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#c30955" fontcolor="#c30955" id=edge_2b990ec2 labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_77610413 -> role_59f6ba48 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#c30955" fontcolor="#c30955" id=edge_99d49006 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_36818127 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_36818127 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_cd465abd [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_cd465abd tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_249c4c4b [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_249c4c4b tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_7f36c209 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c30955" id=role_7f36c209 tooltip="Prepare environment if needed"]
		role_7f36c209 -> role_36818127 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_b47b9d64 labeltooltip="1 " tooltip="1 "]
		role_7f36c209 -> role_cd465abd [label="2 " color="#c30955" fontcolor="#c30955" id=edge_e4885e5c labeltooltip="2 " tooltip="2 "]
		role_7f36c209 -> role_249c4c4b [label="3 " color="#c30955" fontcolor="#c30955" id=edge_6ef15d03 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_f39fd8e9 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c30955" id=role_f39fd8e9 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_48328e86 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c30955" id=role_48328e86 tooltip="Prepare services if needed"]
		role_48328e86 -> role_7f36c209 [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_52f4745e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_48328e86 -> role_f39fd8e9 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_e1513ffc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_30b91a5a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=role_30b91a5a tooltip="Create systemd service for podman container"]
		task_ffae4df6 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#c30955" id=task_ffae4df6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_30b91a5a -> task_ffae4df6 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_8379a8af labeltooltip="1 " tooltip="1 "]
		task_fa50d7b2 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#c30955" id=task_fa50d7b2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_30b91a5a -> task_fa50d7b2 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_bc6df367 labeltooltip="2 " tooltip="2 "]
		task_0f692b53 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#c30955" id=task_0f692b53 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_30b91a5a -> task_0f692b53 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_3cb938ab labeltooltip="3 " tooltip="3 "]
		task_009e8ba3 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#c30955" id=task_009e8ba3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_30b91a5a -> task_009e8ba3 [label="4 " color="#c30955" fontcolor="#c30955" id=edge_0585b9da labeltooltip="4 " tooltip="4 "]
		task_fdd63192 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#c30955" id=task_fdd63192 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_30b91a5a -> task_fdd63192 [label="5 " color="#c30955" fontcolor="#c30955" id=edge_e67e821b labeltooltip="5 " tooltip="5 "]
		task_c001db0d [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#c30955" id=task_c001db0d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_30b91a5a -> task_c001db0d [label="6 " color="#c30955" fontcolor="#c30955" id=edge_6f342735 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_af107e09 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=role_af107e09 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_32045ccd [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#c30955" id=role_32045ccd tooltip="Setup the cluster provision container"]
		task_7f7af5d4 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_7f7af5d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_32045ccd -> task_7f7af5d4 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_ce14dce2 labeltooltip="1 " tooltip="1 "]
		task_be59ede4 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_be59ede4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_32045ccd -> task_be59ede4 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_8a28eedd labeltooltip="2 " tooltip="2 "]
		task_4926c9f0 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_4926c9f0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_32045ccd -> task_4926c9f0 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#c30955" fontcolor="#c30955" id=edge_171199c8 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_42bfb7ea [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_42bfb7ea shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_32045ccd -> task_42bfb7ea [label="4 [when: kubeinit_deployment_os == 'centos']" color="#c30955" fontcolor="#c30955" id=edge_b7139216 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_30a3888c [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_30a3888c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_32045ccd -> task_30a3888c [label="5 [when: kubeinit_deployment_os == 'centos']" color="#c30955" fontcolor="#c30955" id=edge_b7f80227 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_82edfa25 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_82edfa25 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_32045ccd -> task_82edfa25 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#c30955" fontcolor="#c30955" id=edge_61deb9a5 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_e8cb7a6f [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_e8cb7a6f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_32045ccd -> task_e8cb7a6f [label="7 [when: kubeinit_deployment_os == 'debian']" color="#c30955" fontcolor="#c30955" id=edge_5ad7d83d labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_332bacd1 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_332bacd1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_32045ccd -> task_332bacd1 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#c30955" fontcolor="#c30955" id=edge_42f6afe3 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_f26cc671 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_f26cc671 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_32045ccd -> task_f26cc671 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#c30955" fontcolor="#c30955" id=edge_765c781f labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_202aba18 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_202aba18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_32045ccd -> task_202aba18 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#c30955" fontcolor="#c30955" id=edge_2095f093 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_a10afbb3 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_a10afbb3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_32045ccd -> task_a10afbb3 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#c30955" fontcolor="#c30955" id=edge_d508f2b3 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_6dc06efb [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_6dc06efb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_32045ccd -> task_6dc06efb [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#c30955" fontcolor="#c30955" id=edge_778f5041 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_4ae44f2e [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_4ae44f2e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_32045ccd -> task_4ae44f2e [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#c30955" fontcolor="#c30955" id=edge_91d40ffe labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_c4ea2ac4 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_c4ea2ac4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_32045ccd -> task_c4ea2ac4 [label="14 " color="#c30955" fontcolor="#c30955" id=edge_8e062446 labeltooltip="14 " tooltip="14 "]
		task_f01940dc [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_f01940dc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_32045ccd -> task_f01940dc [label="15 " color="#c30955" fontcolor="#c30955" id=edge_b17acd4e labeltooltip="15 " tooltip="15 "]
		task_5fabb4c3 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_5fabb4c3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_32045ccd -> task_5fabb4c3 [label="16 " color="#c30955" fontcolor="#c30955" id=edge_e1d22a44 labeltooltip="16 " tooltip="16 "]
		task_be4abac2 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_be4abac2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_32045ccd -> task_be4abac2 [label="17 " color="#c30955" fontcolor="#c30955" id=edge_fa403820 labeltooltip="17 " tooltip="17 "]
		task_87519b80 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_87519b80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_32045ccd -> task_87519b80 [label="18 " color="#c30955" fontcolor="#c30955" id=edge_f893cff8 labeltooltip="18 " tooltip="18 "]
		task_36b39fc7 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_36b39fc7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_32045ccd -> task_36b39fc7 [label="19 " color="#c30955" fontcolor="#c30955" id=edge_cd2d79d9 labeltooltip="19 " tooltip="19 "]
		task_6eebe1ed [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_6eebe1ed shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_32045ccd -> task_6eebe1ed [label="20 " color="#c30955" fontcolor="#c30955" id=edge_3a58452f labeltooltip="20 " tooltip="20 "]
		task_6b0076a6 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_6b0076a6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_32045ccd -> task_6b0076a6 [label="21 " color="#c30955" fontcolor="#c30955" id=edge_8d41f26f labeltooltip="21 " tooltip="21 "]
		task_87fd73f5 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_87fd73f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_32045ccd -> task_87fd73f5 [label="22 " color="#c30955" fontcolor="#c30955" id=edge_9cfebe53 labeltooltip="22 " tooltip="22 "]
		role_32045ccd -> role_30b91a5a [label="23 " color="#c30955" fontcolor="#c30955" id=edge_1b396520 labeltooltip="23 " tooltip="23 "]
		task_37221601 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_37221601 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_32045ccd -> task_37221601 [label="24 " color="#c30955" fontcolor="#c30955" id=edge_ce4147b1 labeltooltip="24 " tooltip="24 "]
		task_582f8f7a [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_582f8f7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_32045ccd -> task_582f8f7a [label="25 " color="#c30955" fontcolor="#c30955" id=edge_e14cb2e4 labeltooltip="25 " tooltip="25 "]
		task_af8ae744 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_af8ae744 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_32045ccd -> task_af8ae744 [label="26 " color="#c30955" fontcolor="#c30955" id=edge_44d2f474 labeltooltip="26 " tooltip="26 "]
		task_89de4341 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_89de4341 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_32045ccd -> task_89de4341 [label="27 " color="#c30955" fontcolor="#c30955" id=edge_f7385072 labeltooltip="27 " tooltip="27 "]
		task_efce20f3 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_efce20f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_32045ccd -> task_efce20f3 [label="28 " color="#c30955" fontcolor="#c30955" id=edge_9b44f4e0 labeltooltip="28 " tooltip="28 "]
		task_3a1966e7 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_3a1966e7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_32045ccd -> task_3a1966e7 [label="29 " color="#c30955" fontcolor="#c30955" id=edge_bfcb3074 labeltooltip="29 " tooltip="29 "]
		task_3eb5d8b5 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_3eb5d8b5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_32045ccd -> task_3eb5d8b5 [label="30 " color="#c30955" fontcolor="#c30955" id=edge_88a8c88c labeltooltip="30 " tooltip="30 "]
		task_43f5eee0 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_43f5eee0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_32045ccd -> task_43f5eee0 [label="31 " color="#c30955" fontcolor="#c30955" id=edge_751dc619 labeltooltip="31 " tooltip="31 "]
		task_2cbc492d [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_2cbc492d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_32045ccd -> task_2cbc492d [label="32 " color="#c30955" fontcolor="#c30955" id=edge_fc7be43e labeltooltip="32 " tooltip="32 "]
		task_84f25c0a [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_84f25c0a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_32045ccd -> task_84f25c0a [label="33 " color="#c30955" fontcolor="#c30955" id=edge_b04dfddb labeltooltip="33 " tooltip="33 "]
		task_0804126a [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_0804126a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_32045ccd -> task_0804126a [label="34 " color="#c30955" fontcolor="#c30955" id=edge_6e01cbf3 labeltooltip="34 " tooltip="34 "]
		task_0d073c84 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_0d073c84 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_32045ccd -> task_0d073c84 [label="35 " color="#c30955" fontcolor="#c30955" id=edge_4d64deab labeltooltip="35 " tooltip="35 "]
		task_464f06b2 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_464f06b2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_32045ccd -> task_464f06b2 [label="36 " color="#c30955" fontcolor="#c30955" id=edge_80ec1b61 labeltooltip="36 " tooltip="36 "]
		task_95ede10b [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_95ede10b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_32045ccd -> task_95ede10b [label="37 " color="#c30955" fontcolor="#c30955" id=edge_a9e9239f labeltooltip="37 " tooltip="37 "]
		task_4254fe11 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_4254fe11 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_32045ccd -> task_4254fe11 [label="38 " color="#c30955" fontcolor="#c30955" id=edge_03df7b44 labeltooltip="38 " tooltip="38 "]
		task_7f544dbd [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_7f544dbd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_32045ccd -> task_7f544dbd [label="39 [when: kubeinit_deployment_os == 'centos']" color="#c30955" fontcolor="#c30955" id=edge_58c32657 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_9b6bfc4f [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_9b6bfc4f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_32045ccd -> task_9b6bfc4f [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#c30955" fontcolor="#c30955" id=edge_98b6c787 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_3e186fcf [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_3e186fcf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_32045ccd -> task_3e186fcf [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#c30955" fontcolor="#c30955" id=edge_763c1f40 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_851229a3 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_851229a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_32045ccd -> task_851229a3 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#c30955" fontcolor="#c30955" id=edge_2a500e00 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_be51680a [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_be51680a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_32045ccd -> task_be51680a [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#c30955" fontcolor="#c30955" id=edge_8f4221b1 labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_e07d09ba [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_e07d09ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_32045ccd -> task_e07d09ba [label="44 " color="#c30955" fontcolor="#c30955" id=edge_d4d79a94 labeltooltip="44 " tooltip="44 "]
		task_bd36c62c [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_bd36c62c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_32045ccd -> task_bd36c62c [label="45 " color="#c30955" fontcolor="#c30955" id=edge_35559c66 labeltooltip="45 " tooltip="45 "]
		task_45f0914a [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_45f0914a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_32045ccd -> task_45f0914a [label="46 " color="#c30955" fontcolor="#c30955" id=edge_fcf22007 labeltooltip="46 " tooltip="46 "]
		task_7c0fdb04 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_7c0fdb04 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_32045ccd -> task_7c0fdb04 [label="47 " color="#c30955" fontcolor="#c30955" id=edge_028e65f3 labeltooltip="47 " tooltip="47 "]
		task_a32bed0a [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_a32bed0a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_32045ccd -> task_a32bed0a [label="48 " color="#c30955" fontcolor="#c30955" id=edge_f235f5f1 labeltooltip="48 " tooltip="48 "]
		task_ad4ddd27 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_ad4ddd27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_32045ccd -> task_ad4ddd27 [label="49 " color="#c30955" fontcolor="#c30955" id=edge_9c520a20 labeltooltip="49 " tooltip="49 "]
		task_3cdf6837 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_3cdf6837 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_32045ccd -> task_3cdf6837 [label="50 " color="#c30955" fontcolor="#c30955" id=edge_9d216957 labeltooltip="50 " tooltip="50 "]
		task_e118136c [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_e118136c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_32045ccd -> task_e118136c [label="51 " color="#c30955" fontcolor="#c30955" id=edge_d78e23fe labeltooltip="51 " tooltip="51 "]
		task_dbea4b80 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_dbea4b80 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_32045ccd -> task_dbea4b80 [label="52 " color="#c30955" fontcolor="#c30955" id=edge_6d8566ef labeltooltip="52 " tooltip="52 "]
		task_26ea259a [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#c30955" id=task_26ea259a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
		role_32045ccd -> task_26ea259a [label="53 " color="#c30955" fontcolor="#c30955" id=edge_59767bf8 labeltooltip="53 " tooltip="53 "]
		role_32045ccd -> role_af107e09 [label="54 " color="#c30955" fontcolor="#c30955" id=edge_70df4a41 labeltooltip="54 " tooltip="54 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_8e9fa0b7 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#c30955" id=role_8e9fa0b7 tooltip="Delegate to the distro role to prepare the cluster"]
		role_8e9fa0b7 -> role_32045ccd [label="1 " color="#c30955" fontcolor="#c30955" id=edge_247aacca labeltooltip="1 " tooltip="1 "]
		task_e57455d9 [label="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#c30955" id=task_e57455d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it"]
		role_8e9fa0b7 -> task_e57455d9 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_57285e33 labeltooltip="2 " tooltip="2 "]
		task_cf503ce9 [label="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#c30955" id=task_cf503ce9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes"]
		role_8e9fa0b7 -> task_cf503ce9 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_c49b1de6 labeltooltip="3 " tooltip="3 "]
		task_340d8e67 [label="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file." URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#c30955" id=task_340d8e67 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file."]
		role_8e9fa0b7 -> task_340d8e67 [label="4 " color="#c30955" fontcolor="#c30955" id=edge_0a42bbaa labeltooltip="4 " tooltip="4 "]
		task_5ab3bc2d [label="kubeinit.kubeinit.kubeinit_k8s : Install requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#c30955" id=task_5ab3bc2d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install requirements"]
		role_8e9fa0b7 -> task_5ab3bc2d [label="5 " color="#c30955" fontcolor="#c30955" id=edge_6e01d023 labeltooltip="5 " tooltip="5 "]
		task_0c0eadd7 [label="kubeinit.kubeinit.kubeinit_k8s : Install common requirements" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/prepare_cluster.yml" color="#c30955" id=task_0c0eadd7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install common requirements"]
		role_8e9fa0b7 -> task_0c0eadd7 [label="6 [when: kubeinit_k8s_common_dependencies is defined]" color="#c30955" fontcolor="#c30955" id=edge_4adebf81 labeltooltip="6 [when: kubeinit_k8s_common_dependencies is defined]" tooltip="6 [when: kubeinit_k8s_common_dependencies is defined]"]
	}
	subgraph "task-prepare-cluster" {
		role_744d23de [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_744d23de tooltip="task-prepare-cluster"]
		role_744d23de -> role_48328e86 [label="1 [when: not services_prepared]" color="#c30955" fontcolor="#c30955" id=edge_ffb9a504 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_744d23de -> role_8e9fa0b7 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_988158a9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_df02d311 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_df02d311 tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_0749330f [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_0749330f tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_42c3b55e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_42c3b55e tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if not prepared" {
		role_46a28e9a [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#c30955" id=role_46a28e9a tooltip="Prepare environment if not prepared"]
		role_46a28e9a -> role_df02d311 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_7e1eb0a0 labeltooltip="1 " tooltip="1 "]
		role_46a28e9a -> role_0749330f [label="2 " color="#c30955" fontcolor="#c30955" id=edge_9e6497fd labeltooltip="2 " tooltip="2 "]
		role_46a28e9a -> role_42c3b55e [label="3 " color="#c30955" fontcolor="#c30955" id=edge_1e6ed717 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "task-download-images" {
		role_8839bba8 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_8839bba8 tooltip="task-download-images"]
		role_8839bba8 -> role_46a28e9a [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_0582a980 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Gather kubeinit secrets" {
		role_4f92eaac [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_4f92eaac tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_8cb84ba9 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_8cb84ba9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_1be05105 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_1be05105 tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_a0825ab1 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c30955" id=role_a0825ab1 tooltip="Prepare environment if needed"]
		role_a0825ab1 -> role_4f92eaac [label="1 " color="#c30955" fontcolor="#c30955" id=edge_7b6406fd labeltooltip="1 " tooltip="1 "]
		role_a0825ab1 -> role_8cb84ba9 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_8acd8641 labeltooltip="2 " tooltip="2 "]
		role_a0825ab1 -> role_1be05105 [label="3 " color="#c30955" fontcolor="#c30955" id=edge_f12a9ad8 labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_f8cef9e1 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c30955" id=role_f8cef9e1 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_bba10563 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c30955" id=role_bba10563 tooltip="Prepare services if needed"]
		role_bba10563 -> role_a0825ab1 [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_c609eaf0 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_bba10563 -> role_f8cef9e1 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_7dc477dd labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_5ef1d82a [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/main.yml" color="#c30955" id=role_5ef1d82a tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_fb5873bc [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#c30955" id=role_fb5873bc tooltip="Delegate to the distro role to deploy the cluster"]
		role_fb5873bc -> role_5ef1d82a [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#c30955" fontcolor="#c30955" id=edge_64c357ba labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_f2ae2758 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_f2ae2758 tooltip="task-deploy-cluster"]
		role_f2ae2758 -> role_bba10563 [label="1 [when: not services_prepared]" color="#c30955" fontcolor="#c30955" id=edge_f2efaaa0 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f2ae2758 -> role_fb5873bc [label="2 " color="#c30955" fontcolor="#c30955" id=edge_bc13a633 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Gather kubeinit secrets" {
		role_9a02144d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_9a02144d tooltip="Gather kubeinit secrets"]
	}
	subgraph "Gather additional facts from localhost for kubeinit" {
		role_7df6bea9 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_7df6bea9 tooltip="Gather additional facts from localhost for kubeinit"]
	}
	subgraph "Create ssh config file from template" {
		role_c3c46e0e [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#c30955" id=role_c3c46e0e tooltip="Create ssh config file from template"]
	}
	subgraph "Prepare environment if needed" {
		role_2148ed14 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c30955" id=role_2148ed14 tooltip="Prepare environment if needed"]
		role_2148ed14 -> role_9a02144d [label="1 " color="#c30955" fontcolor="#c30955" id=edge_da977bf7 labeltooltip="1 " tooltip="1 "]
		role_2148ed14 -> role_7df6bea9 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_a18d0cc1 labeltooltip="2 " tooltip="2 "]
		role_2148ed14 -> role_c3c46e0e [label="3 " color="#c30955" fontcolor="#c30955" id=edge_ce9bf64a labeltooltip="3 " tooltip="3 "]
	}
	subgraph "Gather network and host facts for guest" {
		role_e1167a0f [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#c30955" id=role_e1167a0f tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_d25b5364 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c30955" id=role_d25b5364 tooltip="Prepare services if needed"]
		role_d25b5364 -> role_2148ed14 [label="1 [when: not environment_prepared]" color="#c30955" fontcolor="#c30955" id=edge_af7e980e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_d25b5364 -> role_e1167a0f [label="2 " color="#c30955" fontcolor="#c30955" id=edge_c1d97904 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_830ecaa4 [label="[role] Deploy the apps" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#c30955" id=role_830ecaa4 tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_561dd5ef [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/post_deployment_tasks.yml" color="#c30955" id=role_561dd5ef tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_d0a6af00 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#c30955" id=role_d0a6af00 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_d0a6af00 -> role_830ecaa4 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_2ca804d7 labeltooltip="1 " tooltip="1 "]
		role_d0a6af00 -> role_561dd5ef [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#c30955" fontcolor="#c30955" id=edge_8bc0d788 labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_866f1178 [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=role_866f1178 tooltip="task-post-deployment"]
		role_866f1178 -> role_d25b5364 [label="1 [when: not services_prepared]" color="#c30955" fontcolor="#c30955" id=edge_81d732c5 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_866f1178 -> role_d0a6af00 [label="2 " color="#c30955" fontcolor="#c30955" id=edge_392d1a2c labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_1ec61ae2 -> block_ad92e951 [label=1 color="#c30955" fontcolor="#c30955" id=edge_f7249a49 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ad92e951 {
			block_ad92e951 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_ad92e951 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_ad92e951 -> role_377079d0 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_36a6650e labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_d8010114 [label=2 color="#c30955" fontcolor="#c30955" id=edge_48671326 labeltooltip=2 tooltip=2]
		subgraph cluster_block_d8010114 {
			block_d8010114 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_d8010114 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_d8010114 -> role_dbe8735a [label="1 " color="#c30955" fontcolor="#c30955" id=edge_280feef8 labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_bd636dc0 [label=3 color="#c30955" fontcolor="#c30955" id=edge_f025f88e labeltooltip=3 tooltip=3]
		subgraph cluster_block_bd636dc0 {
			block_bd636dc0 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_bd636dc0 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_bd636dc0 -> role_6681c1ad [label="1 " color="#c30955" fontcolor="#c30955" id=edge_b46f2139 labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_71ead164 [label=4 color="#c30955" fontcolor="#c30955" id=edge_29fe1f23 labeltooltip=4 tooltip=4]
		subgraph cluster_block_71ead164 {
			block_71ead164 [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_71ead164 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_71ead164 -> role_d0a3912f [label="1 " color="#c30955" fontcolor="#c30955" id=edge_99d1e0ed labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_05b17b98 [label=5 color="#c30955" fontcolor="#c30955" id=edge_667abe19 labeltooltip=5 tooltip=5]
		subgraph cluster_block_05b17b98 {
			block_05b17b98 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_05b17b98 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_05b17b98 -> role_77610413 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_d32580cd labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_b2f92f29 [label=6 color="#c30955" fontcolor="#c30955" id=edge_4fc1b273 labeltooltip=6 tooltip=6]
		subgraph cluster_block_b2f92f29 {
			block_b2f92f29 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_b2f92f29 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_b2f92f29 -> role_744d23de [label="1 " color="#c30955" fontcolor="#c30955" id=edge_a3915741 labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_8eb29ead [label=7 color="#c30955" fontcolor="#c30955" id=edge_cbfb7614 labeltooltip=7 tooltip=7]
		subgraph cluster_block_8eb29ead {
			block_8eb29ead [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_8eb29ead labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_8eb29ead -> role_8839bba8 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_8f810929 labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_b51d012a [label=8 color="#c30955" fontcolor="#c30955" id=edge_4ebc1627 labeltooltip=8 tooltip=8]
		subgraph cluster_block_b51d012a {
			block_b51d012a [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_b51d012a labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_b51d012a -> role_f2ae2758 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_7b4c39fa labeltooltip="1 " tooltip="1 "]
		}
		play_1ec61ae2 -> block_2daecae3 [label=9 color="#c30955" fontcolor="#c30955" id=edge_136cc2af labeltooltip=9 tooltip=9]
		subgraph cluster_block_2daecae3 {
			block_2daecae3 [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c30955" id=block_2daecae3 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_2daecae3 -> role_866f1178 [label="1 " color="#c30955" fontcolor="#c30955" id=edge_890031b0 labeltooltip="1 " tooltip="1 "]
		}
	}
}
