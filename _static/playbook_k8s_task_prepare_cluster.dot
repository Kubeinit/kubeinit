digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_199af7c6 [label="Play: Initial setup (1)" color="#a68926" fontcolor="#ffffff" id=play_199af7c6 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_199af7c6 [label="1 " color="#a68926" fontcolor="#a68926" id=edge_ee7be275 labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_d61d919a [label="[role] Read podman secrets if running from the container" color="#a68926" id=role_d61d919a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_a4495835 [label="[role] task-gather-facts" color="#a68926" id=role_a4495835 tooltip="task-gather-facts"]
		role_a4495835 -> role_d61d919a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a68926" fontcolor="#a68926" id=edge_6f9d860a labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_e1f7ac27 [label="[role] Read podman secrets if running from the container" color="#a68926" id=role_e1f7ac27 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_2ecf2f25 [label="[role] task-prepare-hypervisors" color="#a68926" id=role_2ecf2f25 tooltip="task-prepare-hypervisors"]
		role_2ecf2f25 -> role_e1f7ac27 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#a68926" fontcolor="#a68926" id=edge_069a8259 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_199af7c6 -> block_5087bcfc [label=1 color="#a68926" fontcolor="#a68926" id=edge_4100bc26 labeltooltip=1 tooltip=1]
		subgraph cluster_block_5087bcfc {
			block_5087bcfc [label="[block] Gather facts about the deployment environment" color="#a68926" id=block_5087bcfc labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_5087bcfc -> role_a4495835 [label="1 " color="#a68926" fontcolor="#a68926" id=edge_ea6a70d9 labeltooltip="1 " tooltip="1 "]
		}
		play_199af7c6 -> block_7ee5b254 [label=2 color="#a68926" fontcolor="#a68926" id=edge_6f5a0d38 labeltooltip=2 tooltip=2]
		subgraph cluster_block_7ee5b254 {
			block_7ee5b254 [label="[block] Prepare the hypervisors" color="#a68926" id=block_7ee5b254 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_7ee5b254 -> role_2ecf2f25 [label="1 " color="#a68926" fontcolor="#a68926" id=edge_b6d05992 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_f3d5f53f [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#2db01c" fontcolor="#ffffff" id=play_f3d5f53f shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_f3d5f53f [label="2 " color="#2db01c" fontcolor="#2db01c" id=edge_f7edfbd1 labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_a2b12941 [label="[role] Provision the libvirt services on the hypervisor" color="#2db01c" id=role_a2b12941 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_85fcc1b7 [label="[role] Prepare each hypervisor in the deployment" color="#2db01c" id=role_85fcc1b7 tooltip="Prepare each hypervisor in the deployment"]
		role_85fcc1b7 -> role_a2b12941 [label="1 " color="#2db01c" fontcolor="#2db01c" id=edge_17154996 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_f3d5f53f -> block_9d81df70 [label=1 color="#2db01c" fontcolor="#2db01c" id=edge_7ea2b707 labeltooltip=1 tooltip=1]
		subgraph cluster_block_9d81df70 {
			block_9d81df70 [label="[block] Prepare individual hypervisors" color="#2db01c" id=block_9d81df70 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_9d81df70 -> role_85fcc1b7 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#2db01c" fontcolor="#2db01c" id=edge_2283ddfb labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_e6d2bf27 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#23ae1e" fontcolor="#ffffff" id=play_e6d2bf27 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_e6d2bf27 [label="3 " color="#23ae1e" fontcolor="#23ae1e" id=edge_9a1c515d labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_e4dd4d1a [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_e4dd4d1a tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_28548e43 [label="[role] task-prepare-environment" color="#23ae1e" id=role_28548e43 tooltip="task-prepare-environment"]
		role_28548e43 -> role_e4dd4d1a [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_6b32c1d8 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3273757c [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_3273757c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9694493f [label="[role] Prepare environment if not prepared" color="#23ae1e" id=role_9694493f tooltip="Prepare environment if not prepared"]
		role_9694493f -> role_3273757c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_c03999d4 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_e10d6d06 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#23ae1e" id=role_e10d6d06 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_27ba0847 [label="[role] task-cleanup-hypervisors" color="#23ae1e" id=role_27ba0847 tooltip="task-cleanup-hypervisors"]
		role_27ba0847 -> role_9694493f [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_08088e16 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_27ba0847 -> role_e10d6d06 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_ec68f30e labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_d33e737d [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_d33e737d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_017bb335 [label="[role] Prepare environment if not prepared" color="#23ae1e" id=role_017bb335 tooltip="Prepare environment if not prepared"]
		role_017bb335 -> role_d33e737d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_884a35ff labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_418362f3 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#23ae1e" id=role_418362f3 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_79e3fc74 [label="[role] Cleanup hypervisors if needed" color="#23ae1e" id=role_79e3fc74 tooltip="Cleanup hypervisors if needed"]
		role_79e3fc74 -> role_017bb335 [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_9c6e5897 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_79e3fc74 -> role_418362f3 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_1ed86b94 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_c58d353b [label="[role] task-run-validations" color="#23ae1e" id=role_c58d353b tooltip="task-run-validations"]
		role_c58d353b -> role_79e3fc74 [label="1 [when: not hypervisors_cleaned]" color="#23ae1e" fontcolor="#23ae1e" id=edge_5b5ee4da labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3cc39fad [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_3cc39fad tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f0a18f66 [label="[role] Prepare environment if not prepared" color="#23ae1e" id=role_f0a18f66 tooltip="Prepare environment if not prepared"]
		role_f0a18f66 -> role_3cc39fad [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_42c947b2 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_19e2a475 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#23ae1e" id=role_19e2a475 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_c9f93914 [label="[role] Cleanup hypervisors if needed" color="#23ae1e" id=role_c9f93914 tooltip="Cleanup hypervisors if needed"]
		role_c9f93914 -> role_f0a18f66 [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_d8c4092e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c9f93914 -> role_19e2a475 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_95202e4a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_66d9f202 [label="[role] task-create-network" color="#23ae1e" id=role_66d9f202 tooltip="task-create-network"]
		role_66d9f202 -> role_c9f93914 [label="1 [when: not hypervisors_cleaned]" color="#23ae1e" fontcolor="#23ae1e" id=edge_bb0e1902 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_4563b568 [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_4563b568 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_f984f9e4 [label="[role] Prepare environment if not prepared" color="#23ae1e" id=role_f984f9e4 tooltip="Prepare environment if not prepared"]
		role_f984f9e4 -> role_4563b568 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_2d1966d0 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_1fbba96b [label="[role] Prepare podman" color="#23ae1e" id=role_1fbba96b tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_9dc54039 [label="[role] Create systemd service for podman container" color="#23ae1e" id=role_9dc54039 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_9de3b82e [label="[role] Configure Bind" color="#23ae1e" id=role_9de3b82e tooltip="Configure Bind"]
		role_9de3b82e -> role_9dc54039 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_02a99298 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_c726342e [label="[role] Create systemd service for podman container" color="#23ae1e" id=role_c726342e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_3ecf56b8 [label="[role] Configure Dnsmasq" color="#23ae1e" id=role_3ecf56b8 tooltip="Configure Dnsmasq"]
		role_3ecf56b8 -> role_c726342e [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_b0ef6001 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a2979649 [label="[role] Create systemd service for podman container" color="#23ae1e" id=role_a2979649 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_87ea5603 [label="[role] Configure HAProxy" color="#23ae1e" id=role_87ea5603 tooltip="Configure HAProxy"]
		role_87ea5603 -> role_a2979649 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_90d7dd61 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_a7c3f70e [label="[role] Create systemd service for podman container" color="#23ae1e" id=role_a7c3f70e tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_3703be5f [label="[role] Configure Nexus" color="#23ae1e" id=role_3703be5f tooltip="Configure Nexus"]
		role_3703be5f -> role_a7c3f70e [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_5020c4fd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_ce8e9cb3 [label="[role] Create systemd service for podman container" color="#23ae1e" id=role_ce8e9cb3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_e465a69b [label="[role] Configure Apache" color="#23ae1e" id=role_e465a69b tooltip="Configure Apache"]
		role_e465a69b -> role_ce8e9cb3 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_2a9458f3 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_005dd3da [label="[role] Create systemd service for podman container" color="#23ae1e" id=role_005dd3da tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_b4885096 [label="[role] Configure a local container image registry" color="#23ae1e" id=role_b4885096 tooltip="Configure a local container image registry"]
		role_b4885096 -> role_005dd3da [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_ca5c8c59 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_4dfd1d93 [label="[role] task-create-services" color="#23ae1e" id=role_4dfd1d93 tooltip="task-create-services"]
		role_4dfd1d93 -> role_f984f9e4 [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_e06f5b0a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4dfd1d93 -> role_1fbba96b [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_00e1aa74 labeltooltip="2 " tooltip="2 "]
		role_4dfd1d93 -> role_9de3b82e [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#23ae1e" fontcolor="#23ae1e" id=edge_d9fc29c1 labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4dfd1d93 -> role_3ecf56b8 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#23ae1e" fontcolor="#23ae1e" id=edge_f6da4209 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4dfd1d93 -> role_87ea5603 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#23ae1e" fontcolor="#23ae1e" id=edge_73709d64 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4dfd1d93 -> role_3703be5f [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#23ae1e" fontcolor="#23ae1e" id=edge_141dab6c labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4dfd1d93 -> role_e465a69b [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#23ae1e" fontcolor="#23ae1e" id=edge_10424f3b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_4dfd1d93 -> role_b4885096 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#23ae1e" fontcolor="#23ae1e" id=edge_0b857f96 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_904f9336 [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_904f9336 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_9a55084e [label="[role] Prepare environment if needed" color="#23ae1e" id=role_9a55084e tooltip="Prepare environment if needed"]
		role_9a55084e -> role_904f9336 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_8aba6fbf labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_6effe2e5 [label="[role] Gather network and host facts for guest" color="#23ae1e" id=role_6effe2e5 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_7d674f29 [label="[role] Prepare services if needed" color="#23ae1e" id=role_7d674f29 tooltip="Prepare services if needed"]
		role_7d674f29 -> role_9a55084e [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_e3771456 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_7d674f29 -> role_6effe2e5 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_8791a1e0 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_73386584 [label="[role] Create systemd service for podman container" color="#23ae1e" id=role_73386584 tooltip="Create systemd service for podman container"]
		task_1b368dfa [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#23ae1e" id=task_1b368dfa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_73386584 -> task_1b368dfa [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_f66e16d4 labeltooltip="1 " tooltip="1 "]
		task_64a50b8e [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#23ae1e" id=task_64a50b8e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_73386584 -> task_64a50b8e [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_5a0fea4f labeltooltip="2 " tooltip="2 "]
		task_1cc7a8c6 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#23ae1e" id=task_1cc7a8c6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_73386584 -> task_1cc7a8c6 [label="3 " color="#23ae1e" fontcolor="#23ae1e" id=edge_8c804cdc labeltooltip="3 " tooltip="3 "]
		task_bee3cabd [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#23ae1e" id=task_bee3cabd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_73386584 -> task_bee3cabd [label="4 " color="#23ae1e" fontcolor="#23ae1e" id=edge_d12262bb labeltooltip="4 " tooltip="4 "]
		task_def62986 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#23ae1e" id=task_def62986 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_73386584 -> task_def62986 [label="5 " color="#23ae1e" fontcolor="#23ae1e" id=edge_25ad1599 labeltooltip="5 " tooltip="5 "]
		task_af9fafa1 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#23ae1e" id=task_af9fafa1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_73386584 -> task_af9fafa1 [label="6 " color="#23ae1e" fontcolor="#23ae1e" id=edge_330b0d48 labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_dd4610c3 [label="[role] Gather network and host facts for provision service" color="#23ae1e" id=role_dd4610c3 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_3ba7d1a0 [label="[role] Setup the cluster provision container" color="#23ae1e" id=role_3ba7d1a0 tooltip="Setup the cluster provision container"]
		task_e9e185e3 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#23ae1e" id=task_e9e185e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_3ba7d1a0 -> task_e9e185e3 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_551cf4f4 labeltooltip="1 " tooltip="1 "]
		task_c99f9056 [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#23ae1e" id=task_c99f9056 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_3ba7d1a0 -> task_c99f9056 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_f060c34a labeltooltip="2 " tooltip="2 "]
		task_25ef09f5 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#23ae1e" id=task_25ef09f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_3ba7d1a0 -> task_25ef09f5 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#23ae1e" fontcolor="#23ae1e" id=edge_cb9174c4 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_0e99cfeb [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#23ae1e" id=task_0e99cfeb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_3ba7d1a0 -> task_0e99cfeb [label="4 [when: kubeinit_deployment_os == 'centos']" color="#23ae1e" fontcolor="#23ae1e" id=edge_936d508a labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_1fec5119 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#23ae1e" id=task_1fec5119 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_3ba7d1a0 -> task_1fec5119 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#23ae1e" fontcolor="#23ae1e" id=edge_2780aff6 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_71d31d76 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#23ae1e" id=task_71d31d76 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_3ba7d1a0 -> task_71d31d76 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#23ae1e" fontcolor="#23ae1e" id=edge_05d69801 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_533b375d [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#23ae1e" id=task_533b375d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_3ba7d1a0 -> task_533b375d [label="7 [when: kubeinit_deployment_os == 'debian']" color="#23ae1e" fontcolor="#23ae1e" id=edge_28a46aa9 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_0980d651 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#23ae1e" id=task_0980d651 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_3ba7d1a0 -> task_0980d651 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#23ae1e" fontcolor="#23ae1e" id=edge_71ad1061 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_dd76d17c [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#23ae1e" id=task_dd76d17c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_3ba7d1a0 -> task_dd76d17c [label="9 [when: kubeinit_deployment_os == 'debian']" color="#23ae1e" fontcolor="#23ae1e" id=edge_7e42b7b0 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_dc0314ac [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#23ae1e" id=task_dc0314ac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_3ba7d1a0 -> task_dc0314ac [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#23ae1e" fontcolor="#23ae1e" id=edge_3cdf0f05 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_84c53ca9 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#23ae1e" id=task_84c53ca9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_3ba7d1a0 -> task_84c53ca9 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#23ae1e" fontcolor="#23ae1e" id=edge_b4970a08 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_337b9363 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#23ae1e" id=task_337b9363 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_3ba7d1a0 -> task_337b9363 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#23ae1e" fontcolor="#23ae1e" id=edge_a678787e labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_68eb11a8 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#23ae1e" id=task_68eb11a8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_3ba7d1a0 -> task_68eb11a8 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#23ae1e" fontcolor="#23ae1e" id=edge_52b31a82 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_564265e2 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#23ae1e" id=task_564265e2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_3ba7d1a0 -> task_564265e2 [label="14 " color="#23ae1e" fontcolor="#23ae1e" id=edge_92d57350 labeltooltip="14 " tooltip="14 "]
		task_071ec020 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#23ae1e" id=task_071ec020 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_3ba7d1a0 -> task_071ec020 [label="15 " color="#23ae1e" fontcolor="#23ae1e" id=edge_f14e6ae8 labeltooltip="15 " tooltip="15 "]
		task_87744d76 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#23ae1e" id=task_87744d76 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_3ba7d1a0 -> task_87744d76 [label="16 " color="#23ae1e" fontcolor="#23ae1e" id=edge_86ab584e labeltooltip="16 " tooltip="16 "]
		task_179eb3ef [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#23ae1e" id=task_179eb3ef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_3ba7d1a0 -> task_179eb3ef [label="17 " color="#23ae1e" fontcolor="#23ae1e" id=edge_87d0c14a labeltooltip="17 " tooltip="17 "]
		task_870e142d [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#23ae1e" id=task_870e142d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_3ba7d1a0 -> task_870e142d [label="18 " color="#23ae1e" fontcolor="#23ae1e" id=edge_91032036 labeltooltip="18 " tooltip="18 "]
		task_e08654ee [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#23ae1e" id=task_e08654ee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_3ba7d1a0 -> task_e08654ee [label="19 " color="#23ae1e" fontcolor="#23ae1e" id=edge_0fc5da96 labeltooltip="19 " tooltip="19 "]
		task_a2c9285e [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#23ae1e" id=task_a2c9285e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_3ba7d1a0 -> task_a2c9285e [label="20 " color="#23ae1e" fontcolor="#23ae1e" id=edge_15577ee0 labeltooltip="20 " tooltip="20 "]
		task_b4f037ba [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#23ae1e" id=task_b4f037ba shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_3ba7d1a0 -> task_b4f037ba [label="21 " color="#23ae1e" fontcolor="#23ae1e" id=edge_2e86e3dd labeltooltip="21 " tooltip="21 "]
		task_e4ed12e3 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#23ae1e" id=task_e4ed12e3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_3ba7d1a0 -> task_e4ed12e3 [label="22 " color="#23ae1e" fontcolor="#23ae1e" id=edge_e689c3fd labeltooltip="22 " tooltip="22 "]
		role_3ba7d1a0 -> role_73386584 [label="23 " color="#23ae1e" fontcolor="#23ae1e" id=edge_e9d44712 labeltooltip="23 " tooltip="23 "]
		task_3f9ecaeb [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#23ae1e" id=task_3f9ecaeb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_3ba7d1a0 -> task_3f9ecaeb [label="24 " color="#23ae1e" fontcolor="#23ae1e" id=edge_eb1627e6 labeltooltip="24 " tooltip="24 "]
		task_e2b6846b [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#23ae1e" id=task_e2b6846b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_3ba7d1a0 -> task_e2b6846b [label="25 " color="#23ae1e" fontcolor="#23ae1e" id=edge_0614ee1c labeltooltip="25 " tooltip="25 "]
		task_b8ec1c5a [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#23ae1e" id=task_b8ec1c5a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_3ba7d1a0 -> task_b8ec1c5a [label="26 " color="#23ae1e" fontcolor="#23ae1e" id=edge_55777a25 labeltooltip="26 " tooltip="26 "]
		task_8dd4f093 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#23ae1e" id=task_8dd4f093 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_3ba7d1a0 -> task_8dd4f093 [label="27 " color="#23ae1e" fontcolor="#23ae1e" id=edge_22e22e90 labeltooltip="27 " tooltip="27 "]
		task_da7d920c [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#23ae1e" id=task_da7d920c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_3ba7d1a0 -> task_da7d920c [label="28 " color="#23ae1e" fontcolor="#23ae1e" id=edge_405c9fae labeltooltip="28 " tooltip="28 "]
		task_8c7de1b2 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#23ae1e" id=task_8c7de1b2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_3ba7d1a0 -> task_8c7de1b2 [label="29 " color="#23ae1e" fontcolor="#23ae1e" id=edge_72416365 labeltooltip="29 " tooltip="29 "]
		task_8fe9642d [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#23ae1e" id=task_8fe9642d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_3ba7d1a0 -> task_8fe9642d [label="30 " color="#23ae1e" fontcolor="#23ae1e" id=edge_0f5cf3b5 labeltooltip="30 " tooltip="30 "]
		task_7393aed3 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#23ae1e" id=task_7393aed3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_3ba7d1a0 -> task_7393aed3 [label="31 " color="#23ae1e" fontcolor="#23ae1e" id=edge_e79b28c9 labeltooltip="31 " tooltip="31 "]
		task_39d20610 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#23ae1e" id=task_39d20610 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_3ba7d1a0 -> task_39d20610 [label="32 " color="#23ae1e" fontcolor="#23ae1e" id=edge_432303b9 labeltooltip="32 " tooltip="32 "]
		task_df283532 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#23ae1e" id=task_df283532 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_3ba7d1a0 -> task_df283532 [label="33 " color="#23ae1e" fontcolor="#23ae1e" id=edge_c9a10c37 labeltooltip="33 " tooltip="33 "]
		task_9badc39a [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#23ae1e" id=task_9badc39a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_3ba7d1a0 -> task_9badc39a [label="34 " color="#23ae1e" fontcolor="#23ae1e" id=edge_baec5b05 labeltooltip="34 " tooltip="34 "]
		task_8867adee [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#23ae1e" id=task_8867adee shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_3ba7d1a0 -> task_8867adee [label="35 " color="#23ae1e" fontcolor="#23ae1e" id=edge_220a0364 labeltooltip="35 " tooltip="35 "]
		task_58d69769 [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#23ae1e" id=task_58d69769 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_3ba7d1a0 -> task_58d69769 [label="36 " color="#23ae1e" fontcolor="#23ae1e" id=edge_70717a13 labeltooltip="36 " tooltip="36 "]
		task_c735741d [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#23ae1e" id=task_c735741d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_3ba7d1a0 -> task_c735741d [label="37 " color="#23ae1e" fontcolor="#23ae1e" id=edge_d52cf136 labeltooltip="37 " tooltip="37 "]
		task_8ff744c2 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#23ae1e" id=task_8ff744c2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_3ba7d1a0 -> task_8ff744c2 [label="38 " color="#23ae1e" fontcolor="#23ae1e" id=edge_215c7995 labeltooltip="38 " tooltip="38 "]
		task_d59f15d1 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#23ae1e" id=task_d59f15d1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_3ba7d1a0 -> task_d59f15d1 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#23ae1e" fontcolor="#23ae1e" id=edge_ed5fc923 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_35cb3086 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#23ae1e" id=task_35cb3086 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_3ba7d1a0 -> task_35cb3086 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#23ae1e" fontcolor="#23ae1e" id=edge_d2b2bdac labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_0b53c424 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#23ae1e" id=task_0b53c424 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_3ba7d1a0 -> task_0b53c424 [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#23ae1e" fontcolor="#23ae1e" id=edge_e1e63287 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_fd4f28f4 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#23ae1e" id=task_fd4f28f4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_3ba7d1a0 -> task_fd4f28f4 [label="42 [when: kubeinit_deployment_os == 'centos']" color="#23ae1e" fontcolor="#23ae1e" id=edge_7b809610 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_681c7889 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#23ae1e" id=task_681c7889 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_3ba7d1a0 -> task_681c7889 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#23ae1e" fontcolor="#23ae1e" id=edge_dd47024c labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_bf0294ca [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#23ae1e" id=task_bf0294ca shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_3ba7d1a0 -> task_bf0294ca [label="44 " color="#23ae1e" fontcolor="#23ae1e" id=edge_001eeee9 labeltooltip="44 " tooltip="44 "]
		task_f37c7254 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#23ae1e" id=task_f37c7254 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_3ba7d1a0 -> task_f37c7254 [label="45 " color="#23ae1e" fontcolor="#23ae1e" id=edge_c365e364 labeltooltip="45 " tooltip="45 "]
		task_0aec70af [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#23ae1e" id=task_0aec70af shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_3ba7d1a0 -> task_0aec70af [label="46 " color="#23ae1e" fontcolor="#23ae1e" id=edge_ba50e66d labeltooltip="46 " tooltip="46 "]
		task_5d8f2779 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#23ae1e" id=task_5d8f2779 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_3ba7d1a0 -> task_5d8f2779 [label="47 " color="#23ae1e" fontcolor="#23ae1e" id=edge_820900da labeltooltip="47 " tooltip="47 "]
		task_934ea82e [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#23ae1e" id=task_934ea82e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_3ba7d1a0 -> task_934ea82e [label="48 " color="#23ae1e" fontcolor="#23ae1e" id=edge_04b03211 labeltooltip="48 " tooltip="48 "]
		task_0b0a2ef9 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#23ae1e" id=task_0b0a2ef9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_3ba7d1a0 -> task_0b0a2ef9 [label="49 " color="#23ae1e" fontcolor="#23ae1e" id=edge_731bcacf labeltooltip="49 " tooltip="49 "]
		task_0a7cb844 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#23ae1e" id=task_0a7cb844 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_3ba7d1a0 -> task_0a7cb844 [label="50 " color="#23ae1e" fontcolor="#23ae1e" id=edge_adf5b8b5 labeltooltip="50 " tooltip="50 "]
		task_eb8f57fc [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#23ae1e" id=task_eb8f57fc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_3ba7d1a0 -> task_eb8f57fc [label="51 " color="#23ae1e" fontcolor="#23ae1e" id=edge_09018325 labeltooltip="51 " tooltip="51 "]
		task_dfbd6650 [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#23ae1e" id=task_dfbd6650 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_3ba7d1a0 -> task_dfbd6650 [label="52 " color="#23ae1e" fontcolor="#23ae1e" id=edge_1f357641 labeltooltip="52 " tooltip="52 "]
		role_3ba7d1a0 -> role_dd4610c3 [label="53 " color="#23ae1e" fontcolor="#23ae1e" id=edge_1710e6dc labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_78d4776b [label="[role] Delegate to the distro role to prepare the cluster" color="#23ae1e" id=role_78d4776b tooltip="Delegate to the distro role to prepare the cluster"]
		role_78d4776b -> role_3ba7d1a0 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_d77bdf3d labeltooltip="1 " tooltip="1 "]
		task_741eba14 [label="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it" color="#23ae1e" id=task_741eba14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Remove repo before adding it"]
		role_78d4776b -> task_741eba14 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_66f4a678 labeltooltip="2 " tooltip="2 "]
		task_2998d3d4 [label="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes" color="#23ae1e" id=task_2998d3d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Creating a repository file for Kubernetes"]
		role_78d4776b -> task_2998d3d4 [label="3 " color="#23ae1e" fontcolor="#23ae1e" id=edge_d24e52cc labeltooltip="3 " tooltip="3 "]
		task_05e68a60 [label="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file." color="#23ae1e" id=task_05e68a60 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Adding repository details in Kubernetes repo file."]
		role_78d4776b -> task_05e68a60 [label="4 " color="#23ae1e" fontcolor="#23ae1e" id=edge_b4ac6588 labeltooltip="4 " tooltip="4 "]
		task_8bcc3415 [label="kubeinit.kubeinit.kubeinit_k8s : Install requirements" color="#23ae1e" id=task_8bcc3415 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install requirements"]
		role_78d4776b -> task_8bcc3415 [label="5 " color="#23ae1e" fontcolor="#23ae1e" id=edge_51aef462 labeltooltip="5 " tooltip="5 "]
		task_0edb3287 [label="kubeinit.kubeinit.kubeinit_k8s : Install common requirements" color="#23ae1e" id=task_0edb3287 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_k8s : Install common requirements"]
		role_78d4776b -> task_0edb3287 [label="6 [when: kubeinit_k8s_common_dependencies is defined]" color="#23ae1e" fontcolor="#23ae1e" id=edge_a781fe02 labeltooltip="6 [when: kubeinit_k8s_common_dependencies is defined]" tooltip="6 [when: kubeinit_k8s_common_dependencies is defined]"]
	}
	subgraph "task-prepare-cluster" {
		role_7757b496 [label="[role] task-prepare-cluster" color="#23ae1e" id=role_7757b496 tooltip="task-prepare-cluster"]
		role_7757b496 -> role_7d674f29 [label="1 [when: not services_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_53f23dfd labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_7757b496 -> role_78d4776b [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_055b83c9 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_7ba71993 [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_7ba71993 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_319c7a1a [label="[role] Prepare environment if not prepared" color="#23ae1e" id=role_319c7a1a tooltip="Prepare environment if not prepared"]
		role_319c7a1a -> role_7ba71993 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_32031594 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_69079f75 [label="[role] task-download-images" color="#23ae1e" id=role_69079f75 tooltip="task-download-images"]
		role_69079f75 -> role_319c7a1a [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_1eaa8168 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_3eb3a409 [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_3eb3a409 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_f855d14e [label="[role] Prepare environment if needed" color="#23ae1e" id=role_f855d14e tooltip="Prepare environment if needed"]
		role_f855d14e -> role_3eb3a409 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_c46e78bb labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_b1c3da7c [label="[role] Gather network and host facts for guest" color="#23ae1e" id=role_b1c3da7c tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_f7a30611 [label="[role] Prepare services if needed" color="#23ae1e" id=role_f7a30611 tooltip="Prepare services if needed"]
		role_f7a30611 -> role_f855d14e [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_4a3d9642 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f7a30611 -> role_b1c3da7c [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_fd737f0a labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_186c94b6 [label="[role] Deploy the cluster nodes" color="#23ae1e" id=role_186c94b6 tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_b49ddf13 [label="[role] Delegate to the distro role to deploy the cluster" color="#23ae1e" id=role_b49ddf13 tooltip="Delegate to the distro role to deploy the cluster"]
		role_b49ddf13 -> role_186c94b6 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#23ae1e" fontcolor="#23ae1e" id=edge_91c70a9a labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_942d92f4 [label="[role] task-deploy-cluster" color="#23ae1e" id=role_942d92f4 tooltip="task-deploy-cluster"]
		role_942d92f4 -> role_f7a30611 [label="1 [when: not services_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_cd293148 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_942d92f4 -> role_b49ddf13 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_e9651114 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_477bcc29 [label="[role] Read podman secrets if running from the container" color="#23ae1e" id=role_477bcc29 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_5e7d7b4c [label="[role] Prepare environment if needed" color="#23ae1e" id=role_5e7d7b4c tooltip="Prepare environment if needed"]
		role_5e7d7b4c -> role_477bcc29 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#23ae1e" fontcolor="#23ae1e" id=edge_4dcccc94 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_9fc3369b [label="[role] Gather network and host facts for guest" color="#23ae1e" id=role_9fc3369b tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_c8ef2d3e [label="[role] Prepare services if needed" color="#23ae1e" id=role_c8ef2d3e tooltip="Prepare services if needed"]
		role_c8ef2d3e -> role_5e7d7b4c [label="1 [when: not environment_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_d0da8404 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c8ef2d3e -> role_9fc3369b [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_a9fc04e4 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the apps" {
		role_1f0d1a2b [label="[role] Deploy the apps" color="#23ae1e" id=role_1f0d1a2b tooltip="Deploy the apps"]
	}
	subgraph "Configure NFS" {
		role_b49a212c [label="[role] Configure NFS" color="#23ae1e" id=role_b49a212c tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_bc825199 [label="[role] Delegate to distro role to run post-deployment tasks" color="#23ae1e" id=role_bc825199 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_bc825199 -> role_1f0d1a2b [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_f4973de7 labeltooltip="1 " tooltip="1 "]
		role_bc825199 -> role_b49a212c [label="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#23ae1e" fontcolor="#23ae1e" id=edge_330d367b labeltooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="2 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_5c183851 [label="[role] task-post-deployment" color="#23ae1e" id=role_5c183851 tooltip="task-post-deployment"]
		role_5c183851 -> role_c8ef2d3e [label="1 [when: not services_prepared]" color="#23ae1e" fontcolor="#23ae1e" id=edge_84311cb2 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_5c183851 -> role_bc825199 [label="2 " color="#23ae1e" fontcolor="#23ae1e" id=edge_c9b8864b labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_e6d2bf27 -> block_d914a455 [label=1 color="#23ae1e" fontcolor="#23ae1e" id=edge_8563c90c labeltooltip=1 tooltip=1]
		subgraph cluster_block_d914a455 {
			block_d914a455 [label="[block] Prepare the environment" color="#23ae1e" id=block_d914a455 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_d914a455 -> role_28548e43 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_d2a40785 labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_64240eba [label=2 color="#23ae1e" fontcolor="#23ae1e" id=edge_e47ea313 labeltooltip=2 tooltip=2]
		subgraph cluster_block_64240eba {
			block_64240eba [label="[block] Cleanup hypervisors" color="#23ae1e" id=block_64240eba labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_64240eba -> role_27ba0847 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_736bb1f5 labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_cbab3dcd [label=3 color="#23ae1e" fontcolor="#23ae1e" id=edge_89c699ae labeltooltip=3 tooltip=3]
		subgraph cluster_block_cbab3dcd {
			block_cbab3dcd [label="[block] Run validations on cluster resources" color="#23ae1e" id=block_cbab3dcd labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_cbab3dcd -> role_c58d353b [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_998330db labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_f008b8c5 [label=4 color="#23ae1e" fontcolor="#23ae1e" id=edge_89a1f393 labeltooltip=4 tooltip=4]
		subgraph cluster_block_f008b8c5 {
			block_f008b8c5 [label="[block] Create the cluster network resources" color="#23ae1e" id=block_f008b8c5 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_f008b8c5 -> role_66d9f202 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_3195e875 labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_e2a55d4f [label=5 color="#23ae1e" fontcolor="#23ae1e" id=edge_3df6d2a0 labeltooltip=5 tooltip=5]
		subgraph cluster_block_e2a55d4f {
			block_e2a55d4f [label="[block] Create services the cluster will need" color="#23ae1e" id=block_e2a55d4f labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_e2a55d4f -> role_4dfd1d93 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_10211754 labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_873975c2 [label=6 color="#23ae1e" fontcolor="#23ae1e" id=edge_8a157dcd labeltooltip=6 tooltip=6]
		subgraph cluster_block_873975c2 {
			block_873975c2 [label="[block] Prepare to deploy the cluster" color="#23ae1e" id=block_873975c2 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_873975c2 -> role_7757b496 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_249b827c labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_1872d5be [label=7 color="#23ae1e" fontcolor="#23ae1e" id=edge_6ea89877 labeltooltip=7 tooltip=7]
		subgraph cluster_block_1872d5be {
			block_1872d5be [label="[block] Download cloud images" color="#23ae1e" id=block_1872d5be labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_1872d5be -> role_69079f75 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_7aee0cb0 labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_22841102 [label=8 color="#23ae1e" fontcolor="#23ae1e" id=edge_e4219e1c labeltooltip=8 tooltip=8]
		subgraph cluster_block_22841102 {
			block_22841102 [label="[block] Deploy the cluster" color="#23ae1e" id=block_22841102 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_22841102 -> role_942d92f4 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_111144f2 labeltooltip="1 " tooltip="1 "]
		}
		play_e6d2bf27 -> block_fc7a6c83 [label=9 color="#23ae1e" fontcolor="#23ae1e" id=edge_f5cc86cb labeltooltip=9 tooltip=9]
		subgraph cluster_block_fc7a6c83 {
			block_fc7a6c83 [label="[block] Run any post-deployment tasks" color="#23ae1e" id=block_fc7a6c83 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_fc7a6c83 -> role_5c183851 [label="1 " color="#23ae1e" fontcolor="#23ae1e" id=edge_57c48f77 labeltooltip="1 " tooltip="1 "]
		}
	}
}
