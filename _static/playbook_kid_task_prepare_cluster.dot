digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_54f6fddc style=dotted]
	"kubeinit/playbook.yml" -> play_40245c0f [label="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#c55907" fontcolor="#c55907" id=edge_play_40245c0f labeltooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" tooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)"]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_40245c0f [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c55907" fontcolor="#ffffff" id=play_40245c0f shape=box style=filled tooltip=localhost]
		play_40245c0f -> block_111be35a [label=1 color="#c55907" fontcolor="#c55907" id=edge_block_111be35a labeltooltip=1 tooltip=1]
		subgraph cluster_block_111be35a {
			block_111be35a [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c55907" id=block_111be35a labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_111be35a -> role_8e7bd220 [label="1 " color="#c55907" fontcolor="#c55907" id=edge_role_8e7bd220 labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_8e7bd220 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c55907" id=role_8e7bd220 tooltip="task-gather-facts"]
				role_8e7bd220 -> role_70133650 [label="1 " color="#c55907" fontcolor="#c55907" id=edge_role_70133650 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_70133650 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c55907" id=role_70133650 tooltip="Gather kubeinit secrets"]
				}
				role_8e7bd220 -> role_32def8bd [label="2 " color="#c55907" fontcolor="#c55907" id=edge_role_32def8bd labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_32def8bd [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c55907" id=role_32def8bd tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_8e7bd220 -> role_87b7b439 [label="3 " color="#c55907" fontcolor="#c55907" id=edge_role_87b7b439 labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_87b7b439 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#c55907" id=role_87b7b439 tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_7eb8d151 [label="2 Play: Gather facts from the cluster hypervisor hosts (0)" color="#3e8e63" fontcolor="#3e8e63" id=edge_play_7eb8d151 labeltooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)" tooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)"]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_7eb8d151 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3e8e63" fontcolor="#ffffff" id=play_7eb8d151 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_7eb8d151 -> block_0368d660 [label=1 color="#3e8e63" fontcolor="#3e8e63" id=edge_block_0368d660 labeltooltip=1 tooltip=1]
		subgraph cluster_block_0368d660 {
			block_0368d660 [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3e8e63" id=block_0368d660 labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_0368d660 -> role_cdbce270 [label="1 " color="#3e8e63" fontcolor="#3e8e63" id=edge_role_cdbce270 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_cdbce270 [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#3e8e63" id=role_cdbce270 tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_edd8630c [label="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" color="#418b7b" fontcolor="#418b7b" id=edge_play_edd8630c labeltooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" tooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)"]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_edd8630c [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#418b7b" fontcolor="#ffffff" id=play_edd8630c shape=box style=filled tooltip=localhost]
		play_edd8630c -> block_ed13504c [label=1 color="#418b7b" fontcolor="#418b7b" id=edge_block_ed13504c labeltooltip=1 tooltip=1]
		subgraph cluster_block_ed13504c {
			block_ed13504c [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#418b7b" id=block_ed13504c labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_ed13504c -> role_57e68189 [label="1 " color="#418b7b" fontcolor="#418b7b" id=edge_role_57e68189 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_57e68189 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#418b7b" id=role_57e68189 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_57e68189 -> role_15e1a44d [label="1 " color="#418b7b" fontcolor="#418b7b" id=edge_role_15e1a44d labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_15e1a44d [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#418b7b" id=role_15e1a44d tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_edd8630c -> block_643e596d [label=2 color="#418b7b" fontcolor="#418b7b" id=edge_block_643e596d labeltooltip=2 tooltip=2]
		subgraph cluster_block_643e596d {
			block_643e596d [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#418b7b" id=block_643e596d labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_643e596d -> role_20fb7bf9 [label="1 " color="#418b7b" fontcolor="#418b7b" id=edge_role_20fb7bf9 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_20fb7bf9 [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#418b7b" id=role_20fb7bf9 tooltip="task-prepare-hypervisors"]
				role_20fb7bf9 -> role_078309a9 [label="1 " color="#418b7b" fontcolor="#418b7b" id=edge_role_078309a9 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_078309a9 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#418b7b" id=role_078309a9 tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_5ff2c697 [label="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" color="#04c808" fontcolor="#04c808" id=edge_play_5ff2c697 labeltooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" tooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
	subgraph "Play: Prepare the infrastructure to deploy service and cluster nodes (0)" {
		play_5ff2c697 [label="Play: Prepare the infrastructure to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#04c808" fontcolor="#ffffff" id=play_5ff2c697 shape=box style=filled tooltip="Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
		play_5ff2c697 -> block_48acba48 [label=1 color="#04c808" fontcolor="#04c808" id=edge_block_48acba48 labeltooltip=1 tooltip=1]
		subgraph cluster_block_48acba48 {
			block_48acba48 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#04c808" id=block_48acba48 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_48acba48 -> role_0507c88a [label="1 " color="#04c808" fontcolor="#04c808" id=edge_role_0507c88a labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_0507c88a [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#04c808" id=role_0507c88a tooltip="Prepare each hypervisor in the deployment"]
				role_0507c88a -> role_4a2699b8 [label="1 " color="#04c808" fontcolor="#04c808" id=edge_role_4a2699b8 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_4a2699b8 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#04c808" id=role_4a2699b8 tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_5fd90731 [label="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" color="#6411bb" fontcolor="#6411bb" id=edge_play_5fd90731 labeltooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" tooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)"]
	subgraph "Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" {
		play_5fd90731 [label="Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" fontcolor="#ffffff" id=play_5fd90731 shape=box style=filled tooltip=localhost]
		play_5fd90731 -> block_ea89e7f1 [label=1 color="#6411bb" fontcolor="#6411bb" id=edge_block_ea89e7f1 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ea89e7f1 {
			block_ea89e7f1 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_ea89e7f1 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_ea89e7f1 -> role_44787c30 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_44787c30 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_44787c30 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_44787c30 tooltip="task-prepare-environment"]
				role_44787c30 -> role_0bbc8aad [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_0bbc8aad labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_0bbc8aad [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_0bbc8aad tooltip="Gather kubeinit secrets"]
				}
				role_44787c30 -> role_9a446750 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_9a446750 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				subgraph "Gather facts from bastion_host if needed" {
					role_9a446750 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_9a446750 tooltip="Gather facts from bastion_host if needed"]
				}
			}
		}
		play_5fd90731 -> block_b4f7a46c [label=2 color="#6411bb" fontcolor="#6411bb" id=edge_block_b4f7a46c labeltooltip=2 tooltip=2]
		subgraph cluster_block_b4f7a46c {
			block_b4f7a46c [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_b4f7a46c labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_b4f7a46c -> role_ed685663 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_ed685663 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_ed685663 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_ed685663 tooltip="task-cleanup-hypervisors"]
				role_ed685663 -> role_89d4b819 [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_89d4b819 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_89d4b819 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#6411bb" id=role_89d4b819 tooltip="Prepare environment if not prepared"]
					role_89d4b819 -> role_2afb20c0 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_2afb20c0 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_2afb20c0 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_2afb20c0 tooltip="Gather kubeinit secrets"]
					}
					role_89d4b819 -> role_b4a07fba [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_b4a07fba labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_b4a07fba [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_b4a07fba tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_ed685663 -> role_0af26116 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_0af26116 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_0af26116 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#6411bb" id=role_0af26116 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_5fd90731 -> block_07d909dc [label=3 color="#6411bb" fontcolor="#6411bb" id=edge_block_07d909dc labeltooltip=3 tooltip=3]
		subgraph cluster_block_07d909dc {
			block_07d909dc [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_07d909dc labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_07d909dc -> role_b1204e96 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_b1204e96 labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_b1204e96 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_b1204e96 tooltip="task-run-validations"]
				role_b1204e96 -> role_9a4070ea [label="1 [when: not hypervisors_cleaned]" color="#6411bb" fontcolor="#6411bb" id=edge_role_9a4070ea labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_9a4070ea [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#6411bb" id=role_9a4070ea tooltip="Cleanup hypervisors if needed"]
					role_9a4070ea -> role_324d9c82 [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_324d9c82 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_324d9c82 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#6411bb" id=role_324d9c82 tooltip="Prepare environment if not prepared"]
						role_324d9c82 -> role_bda181e0 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_bda181e0 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_bda181e0 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_bda181e0 tooltip="Gather kubeinit secrets"]
						}
						role_324d9c82 -> role_abf361e8 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_abf361e8 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_abf361e8 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_abf361e8 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_9a4070ea -> role_2cb5b0df [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_2cb5b0df labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_2cb5b0df [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#6411bb" id=role_2cb5b0df tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_5fd90731 -> block_5958ca6c [label=4 color="#6411bb" fontcolor="#6411bb" id=edge_block_5958ca6c labeltooltip=4 tooltip=4]
		subgraph cluster_block_5958ca6c {
			block_5958ca6c [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_5958ca6c labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_5958ca6c -> role_29bbda27 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_29bbda27 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_29bbda27 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_29bbda27 tooltip="task-create-network"]
				role_29bbda27 -> role_0dc8334b [label="1 [when: not hypervisors_cleaned]" color="#6411bb" fontcolor="#6411bb" id=edge_role_0dc8334b labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_0dc8334b [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#6411bb" id=role_0dc8334b tooltip="Cleanup hypervisors if needed"]
					role_0dc8334b -> role_8731babc [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_8731babc labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_8731babc [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#6411bb" id=role_8731babc tooltip="Prepare environment if not prepared"]
						role_8731babc -> role_85a26fac [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_85a26fac labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_85a26fac [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_85a26fac tooltip="Gather kubeinit secrets"]
						}
						role_8731babc -> role_8a984fc3 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_8a984fc3 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_8a984fc3 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_8a984fc3 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_0dc8334b -> role_9b0853e7 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_9b0853e7 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_9b0853e7 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#6411bb" id=role_9b0853e7 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_5fd90731 -> block_66f5b024 [label=5 color="#6411bb" fontcolor="#6411bb" id=edge_block_66f5b024 labeltooltip=5 tooltip=5]
		subgraph cluster_block_66f5b024 {
			block_66f5b024 [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_66f5b024 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_66f5b024 -> role_10c178f7 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_10c178f7 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_10c178f7 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_10c178f7 tooltip="task-create-services"]
				role_10c178f7 -> role_5c6280ae [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_5c6280ae labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_5c6280ae [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#6411bb" id=role_5c6280ae tooltip="Prepare environment if not prepared"]
					role_5c6280ae -> role_69c9d5e7 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_69c9d5e7 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_69c9d5e7 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_69c9d5e7 tooltip="Gather kubeinit secrets"]
					}
					role_5c6280ae -> role_794bcda6 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_794bcda6 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_794bcda6 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_794bcda6 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_10c178f7 -> role_1d1e48cc [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_1d1e48cc labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_1d1e48cc [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#6411bb" id=role_1d1e48cc tooltip="Prepare podman"]
				}
				role_10c178f7 -> role_e792b5ba [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#6411bb" fontcolor="#6411bb" id=edge_role_e792b5ba labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_e792b5ba [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#6411bb" id=role_e792b5ba tooltip="Configure Bind"]
					role_e792b5ba -> role_e044a1e1 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_e044a1e1 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_e044a1e1 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#6411bb" id=role_e044a1e1 tooltip="Create systemd service for podman container"]
					}
				}
				role_10c178f7 -> role_1297a2f7 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#6411bb" fontcolor="#6411bb" id=edge_role_1297a2f7 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_1297a2f7 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#6411bb" id=role_1297a2f7 tooltip="Configure Dnsmasq"]
					role_1297a2f7 -> role_4b701965 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_4b701965 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_4b701965 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#6411bb" id=role_4b701965 tooltip="Create systemd service for podman container"]
					}
				}
				role_10c178f7 -> role_837d58a9 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#6411bb" fontcolor="#6411bb" id=edge_role_837d58a9 labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_837d58a9 [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#6411bb" id=role_837d58a9 tooltip="Configure HAProxy"]
					role_837d58a9 -> role_527a5c96 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_527a5c96 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_527a5c96 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#6411bb" id=role_527a5c96 tooltip="Create systemd service for podman container"]
					}
				}
				role_10c178f7 -> role_1b89a3fb [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#6411bb" fontcolor="#6411bb" id=edge_role_1b89a3fb labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_1b89a3fb [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#6411bb" id=role_1b89a3fb tooltip="Configure Nexus"]
					role_1b89a3fb -> role_fb0a0bc9 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_fb0a0bc9 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_fb0a0bc9 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#6411bb" id=role_fb0a0bc9 tooltip="Create systemd service for podman container"]
					}
				}
				role_10c178f7 -> role_7dd6f24b [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#6411bb" fontcolor="#6411bb" id=edge_role_7dd6f24b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_7dd6f24b [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#6411bb" id=role_7dd6f24b tooltip="Configure Apache"]
					role_7dd6f24b -> role_4b00c6cf [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_4b00c6cf labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_4b00c6cf [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#6411bb" id=role_4b00c6cf tooltip="Create systemd service for podman container"]
					}
				}
				role_10c178f7 -> role_b540c23a [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#6411bb" fontcolor="#6411bb" id=edge_role_b540c23a labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_b540c23a [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#6411bb" id=role_b540c23a tooltip="Configure a local container image registry"]
					role_b540c23a -> role_13ed4366 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_13ed4366 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_13ed4366 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#6411bb" id=role_13ed4366 tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_5fd90731 -> block_3c8cc84e [label=6 color="#6411bb" fontcolor="#6411bb" id=edge_block_3c8cc84e labeltooltip=6 tooltip=6]
		subgraph cluster_block_3c8cc84e {
			block_3c8cc84e [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_3c8cc84e labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_3c8cc84e -> role_0542c618 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_0542c618 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_0542c618 [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_0542c618 tooltip="task-prepare-cluster"]
				role_0542c618 -> role_e8f09e1b [label="1 [when: not services_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_e8f09e1b labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_e8f09e1b [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#6411bb" id=role_e8f09e1b tooltip="Prepare services if needed"]
					role_e8f09e1b -> role_da455e76 [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_da455e76 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_da455e76 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#6411bb" id=role_da455e76 tooltip="Prepare environment if needed"]
						role_da455e76 -> role_251f863b [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_251f863b labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_251f863b [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_251f863b tooltip="Gather kubeinit secrets"]
						}
						role_da455e76 -> role_d4acbfce [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_d4acbfce labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_d4acbfce [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_d4acbfce tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_e8f09e1b -> role_6205e8a7 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_6205e8a7 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_6205e8a7 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#6411bb" id=role_6205e8a7 tooltip="Gather network and host facts for guest"]
					}
				}
				role_0542c618 -> role_4d058cf2 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_4d058cf2 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_4d058cf2 [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#6411bb" id=role_4d058cf2 tooltip="Delegate to the distro role to prepare the cluster"]
					role_4d058cf2 -> role_dfbe481e [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_dfbe481e labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_dfbe481e [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/prepare_cluster.yml" color="#6411bb" id=role_dfbe481e tooltip="Setup the cluster provision container"]
						task_28728d52 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_28728d52 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
						role_dfbe481e -> task_28728d52 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_task_28728d52 labeltooltip="1 " tooltip="1 "]
						task_d946948e [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d946948e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
						role_dfbe481e -> task_d946948e [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_task_d946948e labeltooltip="2 " tooltip="2 "]
						task_6bb2a073 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_6bb2a073 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
						role_dfbe481e -> task_6bb2a073 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#6411bb" fontcolor="#6411bb" id=edge_task_6bb2a073 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
						task_7cbf0ecd [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_7cbf0ecd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_dfbe481e -> task_7cbf0ecd [label="4 [when: kubeinit_deployment_os == 'centos']" color="#6411bb" fontcolor="#6411bb" id=edge_task_7cbf0ecd labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
						task_87c33ff7 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_87c33ff7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_dfbe481e -> task_87c33ff7 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#6411bb" fontcolor="#6411bb" id=edge_task_87c33ff7 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
						task_72b4f4f5 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_72b4f4f5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_dfbe481e -> task_72b4f4f5 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#6411bb" fontcolor="#6411bb" id=edge_task_72b4f4f5 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
						task_d46cc82e [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d46cc82e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_dfbe481e -> task_d46cc82e [label="7 [when: kubeinit_deployment_os == 'debian']" color="#6411bb" fontcolor="#6411bb" id=edge_task_d46cc82e labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
						task_d495b819 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d495b819 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_dfbe481e -> task_d495b819 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#6411bb" fontcolor="#6411bb" id=edge_task_d495b819 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
						task_c41d8d7b [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_c41d8d7b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
						role_dfbe481e -> task_c41d8d7b [label="9 [when: kubeinit_deployment_os == 'debian']" color="#6411bb" fontcolor="#6411bb" id=edge_task_c41d8d7b labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
						task_d60ff6bf [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d60ff6bf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_dfbe481e -> task_d60ff6bf [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#6411bb" fontcolor="#6411bb" id=edge_task_d60ff6bf labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_bd5f3535 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_bd5f3535 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_dfbe481e -> task_bd5f3535 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#6411bb" fontcolor="#6411bb" id=edge_task_bd5f3535 labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_1013a5c8 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_1013a5c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_dfbe481e -> task_1013a5c8 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#6411bb" fontcolor="#6411bb" id=edge_task_1013a5c8 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_d6446d57 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d6446d57 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
						role_dfbe481e -> task_d6446d57 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#6411bb" fontcolor="#6411bb" id=edge_task_d6446d57 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_47414e82 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_47414e82 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
						role_dfbe481e -> task_47414e82 [label="14 " color="#6411bb" fontcolor="#6411bb" id=edge_task_47414e82 labeltooltip="14 " tooltip="14 "]
						task_d7705b1b [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d7705b1b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
						role_dfbe481e -> task_d7705b1b [label="15 " color="#6411bb" fontcolor="#6411bb" id=edge_task_d7705b1b labeltooltip="15 " tooltip="15 "]
						task_96b088a9 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_96b088a9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
						role_dfbe481e -> task_96b088a9 [label="16 " color="#6411bb" fontcolor="#6411bb" id=edge_task_96b088a9 labeltooltip="16 " tooltip="16 "]
						task_a5904447 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_a5904447 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
						role_dfbe481e -> task_a5904447 [label="17 " color="#6411bb" fontcolor="#6411bb" id=edge_task_a5904447 labeltooltip="17 " tooltip="17 "]
						task_f96ee630 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_f96ee630 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
						role_dfbe481e -> task_f96ee630 [label="18 " color="#6411bb" fontcolor="#6411bb" id=edge_task_f96ee630 labeltooltip="18 " tooltip="18 "]
						task_18f41e52 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_18f41e52 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
						role_dfbe481e -> task_18f41e52 [label="19 " color="#6411bb" fontcolor="#6411bb" id=edge_task_18f41e52 labeltooltip="19 " tooltip="19 "]
						task_65a80efa [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_65a80efa shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
						role_dfbe481e -> task_65a80efa [label="20 " color="#6411bb" fontcolor="#6411bb" id=edge_task_65a80efa labeltooltip="20 " tooltip="20 "]
						task_936fb727 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_936fb727 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
						role_dfbe481e -> task_936fb727 [label="21 " color="#6411bb" fontcolor="#6411bb" id=edge_task_936fb727 labeltooltip="21 " tooltip="21 "]
						task_39c9d252 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_39c9d252 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
						role_dfbe481e -> task_39c9d252 [label="22 " color="#6411bb" fontcolor="#6411bb" id=edge_task_39c9d252 labeltooltip="22 " tooltip="22 "]
						role_dfbe481e -> role_839e41cd [label="23 " color="#6411bb" fontcolor="#6411bb" id=edge_role_839e41cd labeltooltip="23 " tooltip="23 "]
						subgraph "Create systemd service for podman container" {
							role_839e41cd [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=role_839e41cd tooltip="Create systemd service for podman container"]
							task_b207d01a [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#6411bb" id=task_b207d01a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
							role_839e41cd -> task_b207d01a [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_task_b207d01a labeltooltip="1 " tooltip="1 "]
							task_27100da5 [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#6411bb" id=task_27100da5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
							role_839e41cd -> task_27100da5 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_task_27100da5 labeltooltip="2 " tooltip="2 "]
							task_6524ef2c [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#6411bb" id=task_6524ef2c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
							role_839e41cd -> task_6524ef2c [label="3 " color="#6411bb" fontcolor="#6411bb" id=edge_task_6524ef2c labeltooltip="3 " tooltip="3 "]
							task_fbe28d44 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#6411bb" id=task_fbe28d44 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
							role_839e41cd -> task_fbe28d44 [label="4 " color="#6411bb" fontcolor="#6411bb" id=edge_task_fbe28d44 labeltooltip="4 " tooltip="4 "]
							task_87286a88 [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#6411bb" id=task_87286a88 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
							role_839e41cd -> task_87286a88 [label="5 " color="#6411bb" fontcolor="#6411bb" id=edge_task_87286a88 labeltooltip="5 " tooltip="5 "]
							task_4f8d5451 [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#6411bb" id=task_4f8d5451 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
							role_839e41cd -> task_4f8d5451 [label="6 " color="#6411bb" fontcolor="#6411bb" id=edge_task_4f8d5451 labeltooltip="6 " tooltip="6 "]
						}
						task_13391ad6 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_13391ad6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
						role_dfbe481e -> task_13391ad6 [label="24 " color="#6411bb" fontcolor="#6411bb" id=edge_task_13391ad6 labeltooltip="24 " tooltip="24 "]
						task_2ae13601 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_2ae13601 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
						role_dfbe481e -> task_2ae13601 [label="25 " color="#6411bb" fontcolor="#6411bb" id=edge_task_2ae13601 labeltooltip="25 " tooltip="25 "]
						task_3a62a14e [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_3a62a14e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
						role_dfbe481e -> task_3a62a14e [label="26 " color="#6411bb" fontcolor="#6411bb" id=edge_task_3a62a14e labeltooltip="26 " tooltip="26 "]
						task_d9b172cf [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d9b172cf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
						role_dfbe481e -> task_d9b172cf [label="27 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#6411bb" fontcolor="#6411bb" id=edge_task_d9b172cf labeltooltip="27 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="27 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
						task_ab14658d [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_ab14658d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
						role_dfbe481e -> task_ab14658d [label="28 " color="#6411bb" fontcolor="#6411bb" id=edge_task_ab14658d labeltooltip="28 " tooltip="28 "]
						task_76b47f0f [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_76b47f0f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
						role_dfbe481e -> task_76b47f0f [label="29 " color="#6411bb" fontcolor="#6411bb" id=edge_task_76b47f0f labeltooltip="29 " tooltip="29 "]
						task_21ea6fe4 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_21ea6fe4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
						role_dfbe481e -> task_21ea6fe4 [label="30 " color="#6411bb" fontcolor="#6411bb" id=edge_task_21ea6fe4 labeltooltip="30 " tooltip="30 "]
						task_704c0501 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_704c0501 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
						role_dfbe481e -> task_704c0501 [label="31 " color="#6411bb" fontcolor="#6411bb" id=edge_task_704c0501 labeltooltip="31 " tooltip="31 "]
						task_269484f8 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_269484f8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
						role_dfbe481e -> task_269484f8 [label="32 " color="#6411bb" fontcolor="#6411bb" id=edge_task_269484f8 labeltooltip="32 " tooltip="32 "]
						task_bec3a663 [label="kubeinit.kubeinit.kubeinit_services : Add disconnected auth to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_bec3a663 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add disconnected auth to pullsecret"]
						role_dfbe481e -> task_bec3a663 [label="33 " color="#6411bb" fontcolor="#6411bb" id=edge_task_bec3a663 labeltooltip="33 " tooltip="33 "]
						task_46cf5251 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_46cf5251 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
						role_dfbe481e -> task_46cf5251 [label="34 " color="#6411bb" fontcolor="#6411bb" id=edge_task_46cf5251 labeltooltip="34 " tooltip="34 "]
						task_17e1fa19 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_17e1fa19 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
						role_dfbe481e -> task_17e1fa19 [label="35 " color="#6411bb" fontcolor="#6411bb" id=edge_task_17e1fa19 labeltooltip="35 " tooltip="35 "]
						task_1dc091c1 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_1dc091c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
						role_dfbe481e -> task_1dc091c1 [label="36 " color="#6411bb" fontcolor="#6411bb" id=edge_task_1dc091c1 labeltooltip="36 " tooltip="36 "]
						task_6eb9f2eb [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_6eb9f2eb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
						role_dfbe481e -> task_6eb9f2eb [label="37 " color="#6411bb" fontcolor="#6411bb" id=edge_task_6eb9f2eb labeltooltip="37 " tooltip="37 "]
						task_4fc75179 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_4fc75179 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_dfbe481e -> task_4fc75179 [label="38 [when: kubeinit_deployment_os == 'centos']" color="#6411bb" fontcolor="#6411bb" id=edge_task_4fc75179 labeltooltip="38 [when: kubeinit_deployment_os == 'centos']" tooltip="38 [when: kubeinit_deployment_os == 'centos']"]
						task_33e09245 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_33e09245 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_dfbe481e -> task_33e09245 [label="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#6411bb" fontcolor="#6411bb" id=edge_task_33e09245 labeltooltip="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_d2b03271 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_d2b03271 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
						role_dfbe481e -> task_d2b03271 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#6411bb" fontcolor="#6411bb" id=edge_task_d2b03271 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_02a1af71 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_02a1af71 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_dfbe481e -> task_02a1af71 [label="41 [when: kubeinit_deployment_os == 'centos']" color="#6411bb" fontcolor="#6411bb" id=edge_task_02a1af71 labeltooltip="41 [when: kubeinit_deployment_os == 'centos']" tooltip="41 [when: kubeinit_deployment_os == 'centos']"]
						task_7a86b0cb [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_7a86b0cb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_dfbe481e -> task_7a86b0cb [label="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#6411bb" fontcolor="#6411bb" id=edge_task_7a86b0cb labeltooltip="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_933f35d4 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_933f35d4 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
						role_dfbe481e -> task_933f35d4 [label="43 " color="#6411bb" fontcolor="#6411bb" id=edge_task_933f35d4 labeltooltip="43 " tooltip="43 "]
						task_97e22acf [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_97e22acf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
						role_dfbe481e -> task_97e22acf [label="44 " color="#6411bb" fontcolor="#6411bb" id=edge_task_97e22acf labeltooltip="44 " tooltip="44 "]
						task_fdf46873 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_fdf46873 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
						role_dfbe481e -> task_fdf46873 [label="45 " color="#6411bb" fontcolor="#6411bb" id=edge_task_fdf46873 labeltooltip="45 " tooltip="45 "]
						task_8f8823d9 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_8f8823d9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
						role_dfbe481e -> task_8f8823d9 [label="46 " color="#6411bb" fontcolor="#6411bb" id=edge_task_8f8823d9 labeltooltip="46 " tooltip="46 "]
						task_99d72b40 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_99d72b40 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
						role_dfbe481e -> task_99d72b40 [label="47 " color="#6411bb" fontcolor="#6411bb" id=edge_task_99d72b40 labeltooltip="47 " tooltip="47 "]
						task_537803f2 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_537803f2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
						role_dfbe481e -> task_537803f2 [label="48 " color="#6411bb" fontcolor="#6411bb" id=edge_task_537803f2 labeltooltip="48 " tooltip="48 "]
						task_889dfe84 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_889dfe84 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
						role_dfbe481e -> task_889dfe84 [label="49 " color="#6411bb" fontcolor="#6411bb" id=edge_task_889dfe84 labeltooltip="49 " tooltip="49 "]
						task_97831728 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_97831728 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
						role_dfbe481e -> task_97831728 [label="50 " color="#6411bb" fontcolor="#6411bb" id=edge_task_97831728 labeltooltip="50 " tooltip="50 "]
						task_5fa78d56 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_5fa78d56 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
						role_dfbe481e -> task_5fa78d56 [label="51 " color="#6411bb" fontcolor="#6411bb" id=edge_task_5fa78d56 labeltooltip="51 " tooltip="51 "]
						task_6d46da89 [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=task_6d46da89 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
						role_dfbe481e -> task_6d46da89 [label="52 " color="#6411bb" fontcolor="#6411bb" id=edge_task_6d46da89 labeltooltip="52 " tooltip="52 "]
						role_dfbe481e -> role_8c08dc07 [label="53 " color="#6411bb" fontcolor="#6411bb" id=edge_role_8c08dc07 labeltooltip="53 " tooltip="53 "]
						subgraph "Gather network and host facts for provision service" {
							role_8c08dc07 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#6411bb" id=role_8c08dc07 tooltip="Gather network and host facts for provision service"]
						}
					}
					task_04be6b6a [label="kubeinit.kubeinit.kubeinit_kid : Render net info" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/prepare_cluster.yml" color="#6411bb" id=task_04be6b6a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Render net info"]
					role_4d058cf2 -> task_04be6b6a [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_task_04be6b6a labeltooltip="2 " tooltip="2 "]
				}
			}
		}
		play_5fd90731 -> block_6c425939 [label=7 color="#6411bb" fontcolor="#6411bb" id=edge_block_6c425939 labeltooltip=7 tooltip=7]
		subgraph cluster_block_6c425939 {
			block_6c425939 [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_6c425939 labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_6c425939 -> role_29b5ed86 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_29b5ed86 labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_29b5ed86 [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_29b5ed86 tooltip="task-download-images"]
				role_29b5ed86 -> role_a7cbcdf1 [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_a7cbcdf1 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_a7cbcdf1 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#6411bb" id=role_a7cbcdf1 tooltip="Prepare environment if not prepared"]
					role_a7cbcdf1 -> role_9bd64996 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_9bd64996 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_9bd64996 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_9bd64996 tooltip="Gather kubeinit secrets"]
					}
					role_a7cbcdf1 -> role_a002201e [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_a002201e labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_a002201e [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_a002201e tooltip="Gather facts from bastion_host if needed"]
					}
				}
			}
		}
		play_5fd90731 -> block_b9350374 [label=8 color="#6411bb" fontcolor="#6411bb" id=edge_block_b9350374 labeltooltip=8 tooltip=8]
		subgraph cluster_block_b9350374 {
			block_b9350374 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_b9350374 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_b9350374 -> role_f380a28c [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_f380a28c labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_f380a28c [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_f380a28c tooltip="task-deploy-cluster"]
				role_f380a28c -> role_ecc93706 [label="1 [when: not services_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_ecc93706 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_ecc93706 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#6411bb" id=role_ecc93706 tooltip="Prepare services if needed"]
					role_ecc93706 -> role_99a49896 [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_99a49896 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_99a49896 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#6411bb" id=role_99a49896 tooltip="Prepare environment if needed"]
						role_99a49896 -> role_1bc9cbda [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_1bc9cbda labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_1bc9cbda [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_1bc9cbda tooltip="Gather kubeinit secrets"]
						}
						role_99a49896 -> role_8a99b7e6 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_8a99b7e6 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_8a99b7e6 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_8a99b7e6 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_ecc93706 -> role_3d48f8e8 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_3d48f8e8 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_3d48f8e8 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#6411bb" id=role_3d48f8e8 tooltip="Gather network and host facts for guest"]
					}
				}
				role_f380a28c -> role_ccefd739 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_ccefd739 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_ccefd739 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#6411bb" id=role_ccefd739 tooltip="Delegate to the distro role to deploy the cluster"]
					role_ccefd739 -> role_87cf2f15 [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#6411bb" fontcolor="#6411bb" id=edge_role_87cf2f15 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
					subgraph "Deploy the cluster nodes" {
						role_87cf2f15 [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/main.yml" color="#6411bb" id=role_87cf2f15 tooltip="Deploy the cluster nodes"]
					}
				}
			}
		}
		play_5fd90731 -> block_d8c47f9a [label=9 color="#6411bb" fontcolor="#6411bb" id=edge_block_d8c47f9a labeltooltip=9 tooltip=9]
		subgraph cluster_block_d8c47f9a {
			block_d8c47f9a [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=block_d8c47f9a labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_d8c47f9a -> role_d4b440da [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_d4b440da labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_d4b440da [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#6411bb" id=role_d4b440da tooltip="task-post-deployment"]
				role_d4b440da -> role_3001173f [label="1 [when: not services_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_3001173f labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_3001173f [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#6411bb" id=role_3001173f tooltip="Prepare services if needed"]
					role_3001173f -> role_70042f99 [label="1 [when: not environment_prepared]" color="#6411bb" fontcolor="#6411bb" id=edge_role_70042f99 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_70042f99 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#6411bb" id=role_70042f99 tooltip="Prepare environment if needed"]
						role_70042f99 -> role_af195541 [label="1 " color="#6411bb" fontcolor="#6411bb" id=edge_role_af195541 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_af195541 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#6411bb" id=role_af195541 tooltip="Gather kubeinit secrets"]
						}
						role_70042f99 -> role_cdc7fa09 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#6411bb" fontcolor="#6411bb" id=edge_role_cdc7fa09 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_cdc7fa09 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#6411bb" id=role_cdc7fa09 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_3001173f -> role_2fafd39c [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_2fafd39c labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_2fafd39c [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#6411bb" id=role_2fafd39c tooltip="Gather network and host facts for guest"]
					}
				}
				role_d4b440da -> role_878a7707 [label="2 " color="#6411bb" fontcolor="#6411bb" id=edge_role_878a7707 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_878a7707 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#6411bb" id=role_878a7707 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_878a7707 -> role_9f9ab2b4 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#6411bb" fontcolor="#6411bb" id=edge_role_9f9ab2b4 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_9f9ab2b4 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/post_deployment_tasks.yml" color="#6411bb" id=role_9f9ab2b4 tooltip="Configure NFS"]
					}
				}
			}
		}
	}
}
