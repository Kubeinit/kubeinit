digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" id=playbook_3df2195d style=dotted]
	"kubeinit/playbook.yml" -> play_20ed889f [label="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" color="#39936e" fontcolor="#39936e" id=edge_play_20ed889f labeltooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)" tooltip="1 Play: Perform initial setup on ansible-controller host (localhost) (1)"]
	subgraph "Play: Perform initial setup on ansible-controller host (localhost) (1)" {
		play_20ed889f [label="Play: Perform initial setup on ansible-controller host (localhost) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#39936e" fontcolor="#ffffff" id=play_20ed889f shape=box style=filled tooltip=localhost]
		play_20ed889f -> block_a21f26cf [label=1 color="#39936e" fontcolor="#39936e" id=edge_block_a21f26cf labeltooltip=1 tooltip=1]
		subgraph cluster_block_a21f26cf {
			block_a21f26cf [label="[block] Determine which hypervisor hosts will be used in this deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#39936e" id=block_a21f26cf labeltooltip="Determine which hypervisor hosts will be used in this deployment" shape=box tooltip="Determine which hypervisor hosts will be used in this deployment"]
			block_a21f26cf -> role_92b4e032 [label="1 " color="#39936e" fontcolor="#39936e" id=edge_role_92b4e032 labeltooltip="1 " tooltip="1 "]
			subgraph "task-gather-facts" {
				role_92b4e032 [label="[role] task-gather-facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#39936e" id=role_92b4e032 tooltip="task-gather-facts"]
				role_92b4e032 -> role_0e8f087e [label="1 " color="#39936e" fontcolor="#39936e" id=edge_role_0e8f087e labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_0e8f087e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#39936e" id=role_0e8f087e tooltip="Gather kubeinit secrets"]
				}
				role_92b4e032 -> role_08c75f29 [label="2 " color="#39936e" fontcolor="#39936e" id=edge_role_08c75f29 labeltooltip="2 " tooltip="2 "]
				subgraph "Gather additional facts from localhost for kubeinit" {
					role_08c75f29 [label="[role] Gather additional facts from localhost for kubeinit" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#39936e" id=role_08c75f29 tooltip="Gather additional facts from localhost for kubeinit"]
				}
				role_92b4e032 -> role_fc5525b9 [label="3 " color="#39936e" fontcolor="#39936e" id=edge_role_fc5525b9 labeltooltip="3 " tooltip="3 "]
				subgraph "Create ssh config file from template" {
					role_fc5525b9 [label="[role] Create ssh config file from template" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/build_hypervisors_group.yml" color="#39936e" id=role_fc5525b9 tooltip="Create ssh config file from template"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_d52ccd46 [label="2 Play: Gather facts from the cluster hypervisor hosts (0)" color="#c0740c" fontcolor="#c0740c" id=edge_play_d52ccd46 labeltooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)" tooltip="2 Play: Gather facts from the cluster hypervisor hosts (0)"]
	subgraph "Play: Gather facts from the cluster hypervisor hosts (0)" {
		play_d52ccd46 [label="Play: Gather facts from the cluster hypervisor hosts (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c0740c" fontcolor="#ffffff" id=play_d52ccd46 shape=box style=filled tooltip="Play: Gather facts from the cluster hypervisor hosts (0)"]
		play_d52ccd46 -> block_17f1059d [label=1 color="#c0740c" fontcolor="#c0740c" id=edge_block_17f1059d labeltooltip=1 tooltip=1]
		subgraph cluster_block_17f1059d {
			block_17f1059d [label="[block] Gather additional hypervisor facts kubeinit will use during deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c0740c" id=block_17f1059d labeltooltip="Gather additional hypervisor facts kubeinit will use during deployment" shape=box tooltip="Gather additional hypervisor facts kubeinit will use during deployment"]
			block_17f1059d -> role_1dab71fb [label="1 " color="#c0740c" fontcolor="#c0740c" id=edge_role_1dab71fb labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts from each hypervisor in the deployment" {
				role_1dab71fb [label="[role] Gather facts from each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#c0740c" id=role_1dab71fb tooltip="Gather facts from each hypervisor in the deployment"]
			}
		}
	}
	"kubeinit/playbook.yml" -> play_dd718dd6 [label="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" color="#7b5164" fontcolor="#7b5164" id=edge_play_dd718dd6 labeltooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)" tooltip="3 Play: Determine facts needed to prepare all hypervisor hosts (1)"]
	subgraph "Play: Determine facts needed to prepare all hypervisor hosts (1)" {
		play_dd718dd6 [label="Play: Determine facts needed to prepare all hypervisor hosts (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7b5164" fontcolor="#ffffff" id=play_dd718dd6 shape=box style=filled tooltip=localhost]
		play_dd718dd6 -> block_e402a5b9 [label=1 color="#7b5164" fontcolor="#7b5164" id=edge_block_e402a5b9 labeltooltip=1 tooltip=1]
		subgraph cluster_block_e402a5b9 {
			block_e402a5b9 [label="[block] Gather kubeinit facts" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7b5164" id=block_e402a5b9 labeltooltip="Gather kubeinit facts" shape=box tooltip="Gather kubeinit facts"]
			block_e402a5b9 -> role_99a19301 [label="1 " color="#7b5164" fontcolor="#7b5164" id=edge_role_99a19301 labeltooltip="1 " tooltip="1 "]
			subgraph "Gather facts to prepare the cluster hypervisors" {
				role_99a19301 [label="[role] Gather facts to prepare the cluster hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7b5164" id=role_99a19301 tooltip="Gather facts to prepare the cluster hypervisors"]
				role_99a19301 -> role_56cf0253 [label="1 " color="#7b5164" fontcolor="#7b5164" id=edge_role_56cf0253 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_56cf0253 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#7b5164" id=role_56cf0253 tooltip="Gather kubeinit secrets"]
				}
			}
		}
		play_dd718dd6 -> block_df173d80 [label=2 color="#7b5164" fontcolor="#7b5164" id=edge_block_df173d80 labeltooltip=2 tooltip=2]
		subgraph cluster_block_df173d80 {
			block_df173d80 [label="[block] Prepare the hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7b5164" id=block_df173d80 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_df173d80 -> role_7d99fa4a [label="1 " color="#7b5164" fontcolor="#7b5164" id=edge_role_7d99fa4a labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-hypervisors" {
				role_7d99fa4a [label="[role] task-prepare-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#7b5164" id=role_7d99fa4a tooltip="task-prepare-hypervisors"]
				role_7d99fa4a -> role_4ffaae32 [label="1 " color="#7b5164" fontcolor="#7b5164" id=edge_role_4ffaae32 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_4ffaae32 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#7b5164" id=role_4ffaae32 tooltip="Gather kubeinit secrets"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_bad001dd [label="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" color="#463597" fontcolor="#463597" id=edge_play_bad001dd labeltooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)" tooltip="4 Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
	subgraph "Play: Prepare the infrastructure to deploy service and cluster nodes (0)" {
		play_bad001dd [label="Play: Prepare the infrastructure to deploy service and cluster nodes (0)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#463597" fontcolor="#ffffff" id=play_bad001dd shape=box style=filled tooltip="Play: Prepare the infrastructure to deploy service and cluster nodes (0)"]
		play_bad001dd -> block_746d9266 [label=1 color="#463597" fontcolor="#463597" id=edge_block_746d9266 labeltooltip=1 tooltip=1]
		subgraph cluster_block_746d9266 {
			block_746d9266 [label="[block] Prepare individual hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#463597" id=block_746d9266 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_746d9266 -> role_e32b9738 [label="1 " color="#463597" fontcolor="#463597" id=edge_role_e32b9738 labeltooltip="1 " tooltip="1 "]
			subgraph "Prepare each hypervisor in the deployment" {
				role_e32b9738 [label="[role] Prepare each hypervisor in the deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#463597" id=role_e32b9738 tooltip="Prepare each hypervisor in the deployment"]
				role_e32b9738 -> role_80eeb765 [label="1 " color="#463597" fontcolor="#463597" id=edge_role_80eeb765 labeltooltip="1 " tooltip="1 "]
				subgraph "Provision the libvirt services on the hypervisor" {
					role_80eeb765 [label="[role] Provision the libvirt services on the hypervisor" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_hypervisor.yml" color="#463597" id=role_80eeb765 tooltip="Provision the libvirt services on the hypervisor"]
				}
			}
		}
	}
	"kubeinit/playbook.yml" -> play_35375fe5 [label="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" color="#13cb01" fontcolor="#13cb01" id=edge_play_35375fe5 labeltooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" tooltip="5 Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)"]
	subgraph "Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" {
		play_35375fe5 [label="Play: Run the deployment on the target infrastructure (OpenStack/libvirt hypervisors) (1)" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" fontcolor="#ffffff" id=play_35375fe5 shape=box style=filled tooltip=localhost]
		play_35375fe5 -> block_ca28beb1 [label=1 color="#13cb01" fontcolor="#13cb01" id=edge_block_ca28beb1 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ca28beb1 {
			block_ca28beb1 [label="[block] Prepare the environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_ca28beb1 labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_ca28beb1 -> role_fa137008 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_fa137008 labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-environment" {
				role_fa137008 [label="[role] task-prepare-environment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_fa137008 tooltip="task-prepare-environment"]
				role_fa137008 -> role_6cabc114 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_6cabc114 labeltooltip="1 " tooltip="1 "]
				subgraph "Gather kubeinit secrets" {
					role_6cabc114 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_6cabc114 tooltip="Gather kubeinit secrets"]
				}
				role_fa137008 -> role_7bf8ea29 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_7bf8ea29 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
				subgraph "Gather facts from bastion_host if needed" {
					role_7bf8ea29 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_7bf8ea29 tooltip="Gather facts from bastion_host if needed"]
				}
			}
		}
		play_35375fe5 -> block_2ed8d3b1 [label=2 color="#13cb01" fontcolor="#13cb01" id=edge_block_2ed8d3b1 labeltooltip=2 tooltip=2]
		subgraph cluster_block_2ed8d3b1 {
			block_2ed8d3b1 [label="[block] Cleanup hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_2ed8d3b1 labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_2ed8d3b1 -> role_5f1dd435 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_5f1dd435 labeltooltip="1 " tooltip="1 "]
			subgraph "task-cleanup-hypervisors" {
				role_5f1dd435 [label="[role] task-cleanup-hypervisors" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_5f1dd435 tooltip="task-cleanup-hypervisors"]
				role_5f1dd435 -> role_c507c8a2 [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_c507c8a2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c507c8a2 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#13cb01" id=role_c507c8a2 tooltip="Prepare environment if not prepared"]
					role_c507c8a2 -> role_111e0987 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_111e0987 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_111e0987 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_111e0987 tooltip="Gather kubeinit secrets"]
					}
					role_c507c8a2 -> role_53057abd [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_53057abd labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_53057abd [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_53057abd tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_5f1dd435 -> role_aa2def42 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_aa2def42 labeltooltip="2 " tooltip="2 "]
				subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
					role_aa2def42 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#13cb01" id=role_aa2def42 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
				}
			}
		}
		play_35375fe5 -> block_566286b9 [label=3 color="#13cb01" fontcolor="#13cb01" id=edge_block_566286b9 labeltooltip=3 tooltip=3]
		subgraph cluster_block_566286b9 {
			block_566286b9 [label="[block] Run validations on cluster resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_566286b9 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_566286b9 -> role_31365715 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_31365715 labeltooltip="1 " tooltip="1 "]
			subgraph "task-run-validations" {
				role_31365715 [label="[role] task-run-validations" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_31365715 tooltip="task-run-validations"]
				role_31365715 -> role_67000b0e [label="1 [when: not hypervisors_cleaned]" color="#13cb01" fontcolor="#13cb01" id=edge_role_67000b0e labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_67000b0e [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_validations/tasks/main.yml" color="#13cb01" id=role_67000b0e tooltip="Cleanup hypervisors if needed"]
					role_67000b0e -> role_a1c2956a [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_a1c2956a labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_a1c2956a [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#13cb01" id=role_a1c2956a tooltip="Prepare environment if not prepared"]
						role_a1c2956a -> role_0bcef20f [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_0bcef20f labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_0bcef20f [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_0bcef20f tooltip="Gather kubeinit secrets"]
						}
						role_a1c2956a -> role_15d24d7a [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_15d24d7a labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_15d24d7a [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_15d24d7a tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_67000b0e -> role_79b3f3e2 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_79b3f3e2 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_79b3f3e2 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#13cb01" id=role_79b3f3e2 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_35375fe5 -> block_fd34032a [label=4 color="#13cb01" fontcolor="#13cb01" id=edge_block_fd34032a labeltooltip=4 tooltip=4]
		subgraph cluster_block_fd34032a {
			block_fd34032a [label="[block] Create the cluster network resources" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_fd34032a labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_fd34032a -> role_51b60003 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_51b60003 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-network" {
				role_51b60003 [label="[role] task-create-network" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_51b60003 tooltip="task-create-network"]
				role_51b60003 -> role_19b19da3 [label="1 [when: not hypervisors_cleaned]" color="#13cb01" fontcolor="#13cb01" id=edge_role_19b19da3 labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
				subgraph "Cleanup hypervisors if needed" {
					role_19b19da3 [label="[role] Cleanup hypervisors if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/create_network.yml" color="#13cb01" id=role_19b19da3 tooltip="Cleanup hypervisors if needed"]
					role_19b19da3 -> role_b308ed2f [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_b308ed2f labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if not prepared" {
						role_b308ed2f [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#13cb01" id=role_b308ed2f tooltip="Prepare environment if not prepared"]
						role_b308ed2f -> role_f1d9e039 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_f1d9e039 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_f1d9e039 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_f1d9e039 tooltip="Gather kubeinit secrets"]
						}
						role_b308ed2f -> role_e8006518 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_e8006518 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_e8006518 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_e8006518 tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_19b19da3 -> role_b76195c9 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_b76195c9 labeltooltip="2 " tooltip="2 "]
					subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
						role_b76195c9 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/cleanup_hypervisors.yml" color="#13cb01" id=role_b76195c9 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
					}
				}
			}
		}
		play_35375fe5 -> block_90c0473b [label=5 color="#13cb01" fontcolor="#13cb01" id=edge_block_90c0473b labeltooltip=5 tooltip=5]
		subgraph cluster_block_90c0473b {
			block_90c0473b [label="[block] Create services the cluster will need" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_90c0473b labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_90c0473b -> role_130faf18 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_130faf18 labeltooltip="1 " tooltip="1 "]
			subgraph "task-create-services" {
				role_130faf18 [label="[role] task-create-services" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_130faf18 tooltip="task-create-services"]
				role_130faf18 -> role_c9e0985e [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_c9e0985e labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_c9e0985e [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/main.yml" color="#13cb01" id=role_c9e0985e tooltip="Prepare environment if not prepared"]
					role_c9e0985e -> role_95a8b751 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_95a8b751 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_95a8b751 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_95a8b751 tooltip="Gather kubeinit secrets"]
					}
					role_c9e0985e -> role_a9d90b93 [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_a9d90b93 labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_a9d90b93 [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_a9d90b93 tooltip="Gather facts from bastion_host if needed"]
					}
				}
				role_130faf18 -> role_87ea5eec [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_87ea5eec labeltooltip="2 " tooltip="2 "]
				subgraph "Prepare podman" {
					role_87ea5eec [label="[role] Prepare podman" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/00_create_service_pod.yml" color="#13cb01" id=role_87ea5eec tooltip="Prepare podman"]
				}
				role_130faf18 -> role_d4adad5b [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#13cb01" fontcolor="#13cb01" id=edge_role_d4adad5b labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Bind" {
					role_d4adad5b [label="[role] Configure Bind" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#13cb01" id=role_d4adad5b tooltip="Configure Bind"]
					role_d4adad5b -> role_b21ba95c [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_b21ba95c labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_b21ba95c [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_bind/tasks/main.yml" color="#13cb01" id=role_b21ba95c tooltip="Create systemd service for podman container"]
					}
				}
				role_130faf18 -> role_322c4bd1 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#13cb01" fontcolor="#13cb01" id=edge_role_322c4bd1 labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Dnsmasq" {
					role_322c4bd1 [label="[role] Configure Dnsmasq" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#13cb01" id=role_322c4bd1 tooltip="Configure Dnsmasq"]
					role_322c4bd1 -> role_ba30255d [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_ba30255d labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_ba30255d [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_dnsmasq/tasks/main.yml" color="#13cb01" id=role_ba30255d tooltip="Create systemd service for podman container"]
					}
				}
				role_130faf18 -> role_efd4282a [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#13cb01" fontcolor="#13cb01" id=edge_role_efd4282a labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure HAProxy" {
					role_efd4282a [label="[role] Configure HAProxy" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#13cb01" id=role_efd4282a tooltip="Configure HAProxy"]
					role_efd4282a -> role_812b7d46 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_812b7d46 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_812b7d46 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_haproxy/tasks/main.yml" color="#13cb01" id=role_812b7d46 tooltip="Create systemd service for podman container"]
					}
				}
				role_130faf18 -> role_43df8130 [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#13cb01" fontcolor="#13cb01" id=edge_role_43df8130 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Nexus" {
					role_43df8130 [label="[role] Configure Nexus" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#13cb01" id=role_43df8130 tooltip="Configure Nexus"]
					role_43df8130 -> role_5ebacb59 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_5ebacb59 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_5ebacb59 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_nexus/tasks/main.yml" color="#13cb01" id=role_5ebacb59 tooltip="Create systemd service for podman container"]
					}
				}
				role_130faf18 -> role_df527a5b [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#13cb01" fontcolor="#13cb01" id=edge_role_df527a5b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure Apache" {
					role_df527a5b [label="[role] Configure Apache" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#13cb01" id=role_df527a5b tooltip="Configure Apache"]
					role_df527a5b -> role_60b9d922 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_60b9d922 labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_60b9d922 [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_apache/tasks/main.yml" color="#13cb01" id=role_60b9d922 tooltip="Create systemd service for podman container"]
					}
				}
				role_130faf18 -> role_71d3b333 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#13cb01" fontcolor="#13cb01" id=edge_role_71d3b333 labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
				subgraph "Configure a local container image registry" {
					role_71d3b333 [label="[role] Configure a local container image registry" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/start_services_containers.yml" color="#13cb01" id=role_71d3b333 tooltip="Configure a local container image registry"]
					role_71d3b333 -> role_c7adb95a [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_c7adb95a labeltooltip="1 " tooltip="1 "]
					subgraph "Create systemd service for podman container" {
						role_c7adb95a [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_registry/tasks/main.yml" color="#13cb01" id=role_c7adb95a tooltip="Create systemd service for podman container"]
					}
				}
			}
		}
		play_35375fe5 -> block_c8216c84 [label=6 color="#13cb01" fontcolor="#13cb01" id=edge_block_c8216c84 labeltooltip=6 tooltip=6]
		subgraph cluster_block_c8216c84 {
			block_c8216c84 [label="[block] Prepare to deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_c8216c84 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_c8216c84 -> role_0bc9e5dd [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_0bc9e5dd labeltooltip="1 " tooltip="1 "]
			subgraph "task-prepare-cluster" {
				role_0bc9e5dd [label="[role] task-prepare-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_0bc9e5dd tooltip="task-prepare-cluster"]
				role_0bc9e5dd -> role_6fac7e64 [label="1 [when: not services_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_6fac7e64 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_6fac7e64 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#13cb01" id=role_6fac7e64 tooltip="Prepare services if needed"]
					role_6fac7e64 -> role_97207fcc [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_97207fcc labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_97207fcc [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#13cb01" id=role_97207fcc tooltip="Prepare environment if needed"]
						role_97207fcc -> role_f10b4f8e [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_f10b4f8e labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_f10b4f8e [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_f10b4f8e tooltip="Gather kubeinit secrets"]
						}
						role_97207fcc -> role_a3bf1b6a [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_a3bf1b6a labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_a3bf1b6a [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_a3bf1b6a tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_6fac7e64 -> role_b08ad41a [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_b08ad41a labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_b08ad41a [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#13cb01" id=role_b08ad41a tooltip="Gather network and host facts for guest"]
					}
				}
				role_0bc9e5dd -> role_99ab5dda [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_99ab5dda labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to prepare the cluster" {
					role_99ab5dda [label="[role] Delegate to the distro role to prepare the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/prepare_cluster.yml" color="#13cb01" id=role_99ab5dda tooltip="Delegate to the distro role to prepare the cluster"]
					role_99ab5dda -> role_a08a4d6e [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_a08a4d6e labeltooltip="1 " tooltip="1 "]
					subgraph "Setup the cluster provision container" {
						role_a08a4d6e [label="[role] Setup the cluster provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/prepare_cluster.yml" color="#13cb01" id=role_a08a4d6e tooltip="Setup the cluster provision container"]
						task_0c6b6784 [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_0c6b6784 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
						role_a08a4d6e -> task_0c6b6784 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_task_0c6b6784 labeltooltip="1 " tooltip="1 "]
						task_0946596c [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_0946596c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
						role_a08a4d6e -> task_0946596c [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_task_0946596c labeltooltip="2 " tooltip="2 "]
						task_61d17aa2 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_61d17aa2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
						role_a08a4d6e -> task_61d17aa2 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#13cb01" fontcolor="#13cb01" id=edge_task_61d17aa2 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
						task_fae4d324 [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_fae4d324 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_a08a4d6e -> task_fae4d324 [label="4 [when: kubeinit_deployment_os == 'centos']" color="#13cb01" fontcolor="#13cb01" id=edge_task_fae4d324 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
						task_74517abd [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_74517abd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_a08a4d6e -> task_74517abd [label="5 [when: kubeinit_deployment_os == 'centos']" color="#13cb01" fontcolor="#13cb01" id=edge_task_74517abd labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
						task_0fb85729 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_0fb85729 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_a08a4d6e -> task_0fb85729 [label="6 [when: kubeinit_deployment_os == 'debian']" color="#13cb01" fontcolor="#13cb01" id=edge_task_0fb85729 labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
						task_ee4ae12d [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_ee4ae12d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_a08a4d6e -> task_ee4ae12d [label="7 [when: kubeinit_deployment_os == 'debian']" color="#13cb01" fontcolor="#13cb01" id=edge_task_ee4ae12d labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
						task_9093fdac [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_9093fdac shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_a08a4d6e -> task_9093fdac [label="8 [when: kubeinit_deployment_os == 'debian']" color="#13cb01" fontcolor="#13cb01" id=edge_task_9093fdac labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
						task_1a6b6ab8 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_1a6b6ab8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
						role_a08a4d6e -> task_1a6b6ab8 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#13cb01" fontcolor="#13cb01" id=edge_task_1a6b6ab8 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
						task_adb5a4c0 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_adb5a4c0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
						role_a08a4d6e -> task_adb5a4c0 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#13cb01" fontcolor="#13cb01" id=edge_task_adb5a4c0 labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_c02e0c5f [label="kubeinit.kubeinit.kubeinit_services : Update the container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_c02e0c5f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
						role_a08a4d6e -> task_c02e0c5f [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#13cb01" fontcolor="#13cb01" id=edge_task_c02e0c5f labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_146641de [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_146641de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
						role_a08a4d6e -> task_146641de [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#13cb01" fontcolor="#13cb01" id=edge_task_146641de labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_e2db1d93 [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_e2db1d93 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
						role_a08a4d6e -> task_e2db1d93 [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#13cb01" fontcolor="#13cb01" id=edge_task_e2db1d93 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
						task_28231490 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_28231490 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
						role_a08a4d6e -> task_28231490 [label="14 " color="#13cb01" fontcolor="#13cb01" id=edge_task_28231490 labeltooltip="14 " tooltip="14 "]
						task_729c004f [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_729c004f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
						role_a08a4d6e -> task_729c004f [label="15 " color="#13cb01" fontcolor="#13cb01" id=edge_task_729c004f labeltooltip="15 " tooltip="15 "]
						task_098e33e8 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_098e33e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
						role_a08a4d6e -> task_098e33e8 [label="16 " color="#13cb01" fontcolor="#13cb01" id=edge_task_098e33e8 labeltooltip="16 " tooltip="16 "]
						task_5adfb8a3 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_5adfb8a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
						role_a08a4d6e -> task_5adfb8a3 [label="17 " color="#13cb01" fontcolor="#13cb01" id=edge_task_5adfb8a3 labeltooltip="17 " tooltip="17 "]
						task_c508ff14 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_c508ff14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
						role_a08a4d6e -> task_c508ff14 [label="18 " color="#13cb01" fontcolor="#13cb01" id=edge_task_c508ff14 labeltooltip="18 " tooltip="18 "]
						task_d0e51ac2 [label="kubeinit.kubeinit.kubeinit_services : Commit the image" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_d0e51ac2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
						role_a08a4d6e -> task_d0e51ac2 [label="19 " color="#13cb01" fontcolor="#13cb01" id=edge_task_d0e51ac2 labeltooltip="19 " tooltip="19 "]
						task_ba2ab1f3 [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_ba2ab1f3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
						role_a08a4d6e -> task_ba2ab1f3 [label="20 " color="#13cb01" fontcolor="#13cb01" id=edge_task_ba2ab1f3 labeltooltip="20 " tooltip="20 "]
						task_aab2a27d [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_aab2a27d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
						role_a08a4d6e -> task_aab2a27d [label="21 " color="#13cb01" fontcolor="#13cb01" id=edge_task_aab2a27d labeltooltip="21 " tooltip="21 "]
						task_ae868bd6 [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_ae868bd6 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
						role_a08a4d6e -> task_ae868bd6 [label="22 " color="#13cb01" fontcolor="#13cb01" id=edge_task_ae868bd6 labeltooltip="22 " tooltip="22 "]
						role_a08a4d6e -> role_7c2176bf [label="23 " color="#13cb01" fontcolor="#13cb01" id=edge_role_7c2176bf labeltooltip="23 " tooltip="23 "]
						subgraph "Create systemd service for podman container" {
							role_7c2176bf [label="[role] Create systemd service for podman container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=role_7c2176bf tooltip="Create systemd service for podman container"]
							task_b22c2f78 [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#13cb01" id=task_b22c2f78 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
							role_7c2176bf -> task_b22c2f78 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_task_b22c2f78 labeltooltip="1 " tooltip="1 "]
							task_e598d72d [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#13cb01" id=task_e598d72d shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
							role_7c2176bf -> task_e598d72d [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_task_e598d72d labeltooltip="2 " tooltip="2 "]
							task_b3069c54 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#13cb01" id=task_b3069c54 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
							role_7c2176bf -> task_b3069c54 [label="3 " color="#13cb01" fontcolor="#13cb01" id=edge_task_b3069c54 labeltooltip="3 " tooltip="3 "]
							task_76acb43a [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#13cb01" id=task_76acb43a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
							role_7c2176bf -> task_76acb43a [label="4 " color="#13cb01" fontcolor="#13cb01" id=edge_task_76acb43a labeltooltip="4 " tooltip="4 "]
							task_2f37af08 [label="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#13cb01" id=task_2f37af08 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable the service {{ _param_systemd_service_name }}"]
							role_7c2176bf -> task_2f37af08 [label="5 " color="#13cb01" fontcolor="#13cb01" id=edge_task_2f37af08 labeltooltip="5 " tooltip="5 "]
							task_965485e7 [label="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_managed_service.yml" color="#13cb01" id=task_965485e7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start the service: {{ _param_systemd_service_name }}"]
							role_7c2176bf -> task_965485e7 [label="6 " color="#13cb01" fontcolor="#13cb01" id=edge_task_965485e7 labeltooltip="6 " tooltip="6 "]
						}
						task_d2f305ef [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_d2f305ef shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
						role_a08a4d6e -> task_d2f305ef [label="24 " color="#13cb01" fontcolor="#13cb01" id=edge_task_d2f305ef labeltooltip="24 " tooltip="24 "]
						task_8a852af2 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_8a852af2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
						role_a08a4d6e -> task_8a852af2 [label="25 " color="#13cb01" fontcolor="#13cb01" id=edge_task_8a852af2 labeltooltip="25 " tooltip="25 "]
						task_f77b0e50 [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_f77b0e50 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
						role_a08a4d6e -> task_f77b0e50 [label="26 " color="#13cb01" fontcolor="#13cb01" id=edge_task_f77b0e50 labeltooltip="26 " tooltip="26 "]
						task_c573598f [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_c573598f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
						role_a08a4d6e -> task_c573598f [label="27 [when: 'registry' in kubeinit_cluster_hostvars.services]" color="#13cb01" fontcolor="#13cb01" id=edge_task_c573598f labeltooltip="27 [when: 'registry' in kubeinit_cluster_hostvars.services]" tooltip="27 [when: 'registry' in kubeinit_cluster_hostvars.services]"]
						task_40e8d471 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_40e8d471 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
						role_a08a4d6e -> task_40e8d471 [label="28 " color="#13cb01" fontcolor="#13cb01" id=edge_task_40e8d471 labeltooltip="28 " tooltip="28 "]
						task_b77ebfc3 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_b77ebfc3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
						role_a08a4d6e -> task_b77ebfc3 [label="29 " color="#13cb01" fontcolor="#13cb01" id=edge_task_b77ebfc3 labeltooltip="29 " tooltip="29 "]
						task_7d572ed3 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_7d572ed3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
						role_a08a4d6e -> task_7d572ed3 [label="30 " color="#13cb01" fontcolor="#13cb01" id=edge_task_7d572ed3 labeltooltip="30 " tooltip="30 "]
						task_880f54a3 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_880f54a3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
						role_a08a4d6e -> task_880f54a3 [label="31 " color="#13cb01" fontcolor="#13cb01" id=edge_task_880f54a3 labeltooltip="31 " tooltip="31 "]
						task_1aaf9641 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_1aaf9641 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
						role_a08a4d6e -> task_1aaf9641 [label="32 " color="#13cb01" fontcolor="#13cb01" id=edge_task_1aaf9641 labeltooltip="32 " tooltip="32 "]
						task_b5f62b62 [label="kubeinit.kubeinit.kubeinit_services : Add disconnected auth to pullsecret" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_b5f62b62 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add disconnected auth to pullsecret"]
						role_a08a4d6e -> task_b5f62b62 [label="33 " color="#13cb01" fontcolor="#13cb01" id=edge_task_b5f62b62 labeltooltip="33 " tooltip="33 "]
						task_5c928316 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_5c928316 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
						role_a08a4d6e -> task_5c928316 [label="34 " color="#13cb01" fontcolor="#13cb01" id=edge_task_5c928316 labeltooltip="34 " tooltip="34 "]
						task_1d25e76e [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_1d25e76e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
						role_a08a4d6e -> task_1d25e76e [label="35 " color="#13cb01" fontcolor="#13cb01" id=edge_task_1d25e76e labeltooltip="35 " tooltip="35 "]
						task_698fc9f2 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_698fc9f2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
						role_a08a4d6e -> task_698fc9f2 [label="36 " color="#13cb01" fontcolor="#13cb01" id=edge_task_698fc9f2 labeltooltip="36 " tooltip="36 "]
						task_b118d980 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_b118d980 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
						role_a08a4d6e -> task_b118d980 [label="37 " color="#13cb01" fontcolor="#13cb01" id=edge_task_b118d980 labeltooltip="37 " tooltip="37 "]
						task_bd4f2247 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_bd4f2247 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_a08a4d6e -> task_bd4f2247 [label="38 [when: kubeinit_deployment_os == 'centos']" color="#13cb01" fontcolor="#13cb01" id=edge_task_bd4f2247 labeltooltip="38 [when: kubeinit_deployment_os == 'centos']" tooltip="38 [when: kubeinit_deployment_os == 'centos']"]
						task_ec27d650 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_ec27d650 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
						role_a08a4d6e -> task_ec27d650 [label="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#13cb01" fontcolor="#13cb01" id=edge_task_ec27d650 labeltooltip="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="39 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_99ecd3a5 [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_99ecd3a5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
						role_a08a4d6e -> task_99ecd3a5 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#13cb01" fontcolor="#13cb01" id=edge_task_99ecd3a5 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_d46e4e0f [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_d46e4e0f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_a08a4d6e -> task_d46e4e0f [label="41 [when: kubeinit_deployment_os == 'centos']" color="#13cb01" fontcolor="#13cb01" id=edge_task_d46e4e0f labeltooltip="41 [when: kubeinit_deployment_os == 'centos']" tooltip="41 [when: kubeinit_deployment_os == 'centos']"]
						task_ebd867c8 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_ebd867c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
						role_a08a4d6e -> task_ebd867c8 [label="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#13cb01" fontcolor="#13cb01" id=edge_task_ebd867c8 labeltooltip="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="42 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
						task_9ae6d63b [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_9ae6d63b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
						role_a08a4d6e -> task_9ae6d63b [label="43 " color="#13cb01" fontcolor="#13cb01" id=edge_task_9ae6d63b labeltooltip="43 " tooltip="43 "]
						task_7824eea0 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_7824eea0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
						role_a08a4d6e -> task_7824eea0 [label="44 " color="#13cb01" fontcolor="#13cb01" id=edge_task_7824eea0 labeltooltip="44 " tooltip="44 "]
						task_d223257b [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_d223257b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
						role_a08a4d6e -> task_d223257b [label="45 " color="#13cb01" fontcolor="#13cb01" id=edge_task_d223257b labeltooltip="45 " tooltip="45 "]
						task_62fabf1e [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_62fabf1e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
						role_a08a4d6e -> task_62fabf1e [label="46 " color="#13cb01" fontcolor="#13cb01" id=edge_task_62fabf1e labeltooltip="46 " tooltip="46 "]
						task_d78de234 [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_d78de234 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
						role_a08a4d6e -> task_d78de234 [label="47 " color="#13cb01" fontcolor="#13cb01" id=edge_task_d78de234 labeltooltip="47 " tooltip="47 "]
						task_a0f72e18 [label="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_a0f72e18 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Check that local ssh connectivity is working"]
						role_a08a4d6e -> task_a0f72e18 [label="48 " color="#13cb01" fontcolor="#13cb01" id=edge_task_a0f72e18 labeltooltip="48 " tooltip="48 "]
						task_a43f57c7 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_a43f57c7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
						role_a08a4d6e -> task_a43f57c7 [label="49 " color="#13cb01" fontcolor="#13cb01" id=edge_task_a43f57c7 labeltooltip="49 " tooltip="49 "]
						task_b94906a5 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_b94906a5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
						role_a08a4d6e -> task_b94906a5 [label="50 " color="#13cb01" fontcolor="#13cb01" id=edge_task_b94906a5 labeltooltip="50 " tooltip="50 "]
						task_da2f11d5 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_da2f11d5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
						role_a08a4d6e -> task_da2f11d5 [label="51 " color="#13cb01" fontcolor="#13cb01" id=edge_task_da2f11d5 labeltooltip="51 " tooltip="51 "]
						task_2624d93e [label="kubeinit.kubeinit.kubeinit_services : Gather network facts" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=task_2624d93e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Gather network facts"]
						role_a08a4d6e -> task_2624d93e [label="52 " color="#13cb01" fontcolor="#13cb01" id=edge_task_2624d93e labeltooltip="52 " tooltip="52 "]
						role_a08a4d6e -> role_345ab978 [label="53 " color="#13cb01" fontcolor="#13cb01" id=edge_role_345ab978 labeltooltip="53 " tooltip="53 "]
						subgraph "Gather network and host facts for provision service" {
							role_345ab978 [label="[role] Gather network and host facts for provision service" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/create_provision_container.yml" color="#13cb01" id=role_345ab978 tooltip="Gather network and host facts for provision service"]
						}
					}
					task_257d8f28 [label="kubeinit.kubeinit.kubeinit_kid : Render net info" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/prepare_cluster.yml" color="#13cb01" id=task_257d8f28 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Render net info"]
					role_99ab5dda -> task_257d8f28 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_task_257d8f28 labeltooltip="2 " tooltip="2 "]
				}
			}
		}
		play_35375fe5 -> block_e3fdfdbc [label=7 color="#13cb01" fontcolor="#13cb01" id=edge_block_e3fdfdbc labeltooltip=7 tooltip=7]
		subgraph cluster_block_e3fdfdbc {
			block_e3fdfdbc [label="[block] Download cloud images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_e3fdfdbc labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_e3fdfdbc -> role_51ddae5f [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_51ddae5f labeltooltip="1 " tooltip="1 "]
			subgraph "task-download-images" {
				role_51ddae5f [label="[role] task-download-images" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_51ddae5f tooltip="task-download-images"]
				role_51ddae5f -> role_41dfdd53 [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_41dfdd53 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
				subgraph "Prepare environment if not prepared" {
					role_41dfdd53 [label="[role] Prepare environment if not prepared" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_libvirt/tasks/download_cloud_images.yml" color="#13cb01" id=role_41dfdd53 tooltip="Prepare environment if not prepared"]
					role_41dfdd53 -> role_22ee5c54 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_22ee5c54 labeltooltip="1 " tooltip="1 "]
					subgraph "Gather kubeinit secrets" {
						role_22ee5c54 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_22ee5c54 tooltip="Gather kubeinit secrets"]
					}
					role_41dfdd53 -> role_b11722ed [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_b11722ed labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
					subgraph "Gather facts from bastion_host if needed" {
						role_b11722ed [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_b11722ed tooltip="Gather facts from bastion_host if needed"]
					}
				}
			}
		}
		play_35375fe5 -> block_8d0b1cc7 [label=8 color="#13cb01" fontcolor="#13cb01" id=edge_block_8d0b1cc7 labeltooltip=8 tooltip=8]
		subgraph cluster_block_8d0b1cc7 {
			block_8d0b1cc7 [label="[block] Deploy the cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_8d0b1cc7 labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_8d0b1cc7 -> role_fe3a9609 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_fe3a9609 labeltooltip="1 " tooltip="1 "]
			subgraph "task-deploy-cluster" {
				role_fe3a9609 [label="[role] task-deploy-cluster" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_fe3a9609 tooltip="task-deploy-cluster"]
				role_fe3a9609 -> role_53946fbe [label="1 [when: not services_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_53946fbe labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_53946fbe [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#13cb01" id=role_53946fbe tooltip="Prepare services if needed"]
					role_53946fbe -> role_fc1e6039 [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_fc1e6039 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_fc1e6039 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#13cb01" id=role_fc1e6039 tooltip="Prepare environment if needed"]
						role_fc1e6039 -> role_90b22490 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_90b22490 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_90b22490 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_90b22490 tooltip="Gather kubeinit secrets"]
						}
						role_fc1e6039 -> role_eadff57f [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_eadff57f labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_eadff57f [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_eadff57f tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_53946fbe -> role_cc85b6a2 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_cc85b6a2 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_cc85b6a2 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#13cb01" id=role_cc85b6a2 tooltip="Gather network and host facts for guest"]
					}
				}
				role_fe3a9609 -> role_cefc6a17 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_cefc6a17 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to the distro role to deploy the cluster" {
					role_cefc6a17 [label="[role] Delegate to the distro role to deploy the cluster" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/deploy_cluster.yml" color="#13cb01" id=role_cefc6a17 tooltip="Delegate to the distro role to deploy the cluster"]
					role_cefc6a17 -> role_b501177c [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#13cb01" fontcolor="#13cb01" id=edge_role_b501177c labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
					subgraph "Deploy the cluster nodes" {
						role_b501177c [label="[role] Deploy the cluster nodes" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/main.yml" color="#13cb01" id=role_b501177c tooltip="Deploy the cluster nodes"]
					}
				}
			}
		}
		play_35375fe5 -> block_c1f78a1b [label=9 color="#13cb01" fontcolor="#13cb01" id=edge_block_c1f78a1b labeltooltip=9 tooltip=9]
		subgraph cluster_block_c1f78a1b {
			block_c1f78a1b [label="[block] Run any post-deployment tasks" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=block_c1f78a1b labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_c1f78a1b -> role_d9f69e4d [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_d9f69e4d labeltooltip="1 " tooltip="1 "]
			subgraph "task-post-deployment" {
				role_d9f69e4d [label="[role] task-post-deployment" URL="/home/runner/work/kubeinit/kubeinit/kubeinit/playbook.yml" color="#13cb01" id=role_d9f69e4d tooltip="task-post-deployment"]
				role_d9f69e4d -> role_26dc4426 [label="1 [when: not services_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_26dc4426 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
				subgraph "Prepare services if needed" {
					role_26dc4426 [label="[role] Prepare services if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#13cb01" id=role_26dc4426 tooltip="Prepare services if needed"]
					role_26dc4426 -> role_c96ab7d9 [label="1 [when: not environment_prepared]" color="#13cb01" fontcolor="#13cb01" id=edge_role_c96ab7d9 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
					subgraph "Prepare environment if needed" {
						role_c96ab7d9 [label="[role] Prepare environment if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#13cb01" id=role_c96ab7d9 tooltip="Prepare environment if needed"]
						role_c96ab7d9 -> role_64872074 [label="1 " color="#13cb01" fontcolor="#13cb01" id=edge_role_64872074 labeltooltip="1 " tooltip="1 "]
						subgraph "Gather kubeinit secrets" {
							role_64872074 [label="[role] Gather kubeinit secrets" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/gather_kubeinit_facts.yml" color="#13cb01" id=role_64872074 tooltip="Gather kubeinit secrets"]
						}
						role_c96ab7d9 -> role_b62f131e [label="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" color="#13cb01" fontcolor="#13cb01" id=edge_role_b62f131e labeltooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]" tooltip="2 [when: kubeinit_bastion_host not in groups['all_hosts']]"]
						subgraph "Gather facts from bastion_host if needed" {
							role_b62f131e [label="[role] Gather facts from bastion_host if needed" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/main.yml" color="#13cb01" id=role_b62f131e tooltip="Gather facts from bastion_host if needed"]
						}
					}
					role_26dc4426 -> role_74c9c540 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_74c9c540 labeltooltip="2 " tooltip="2 "]
					subgraph "Gather network and host facts for guest" {
						role_74c9c540 [label="[role] Gather network and host facts for guest" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_services/tasks/prepare_services.yml" color="#13cb01" id=role_74c9c540 tooltip="Gather network and host facts for guest"]
					}
				}
				role_d9f69e4d -> role_e06bb966 [label="2 " color="#13cb01" fontcolor="#13cb01" id=edge_role_e06bb966 labeltooltip="2 " tooltip="2 "]
				subgraph "Delegate to distro role to run post-deployment tasks" {
					role_e06bb966 [label="[role] Delegate to distro role to run post-deployment tasks" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_prepare/tasks/post_deployment.yml" color="#13cb01" id=role_e06bb966 tooltip="Delegate to distro role to run post-deployment tasks"]
					role_e06bb966 -> role_47b0f023 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#13cb01" fontcolor="#13cb01" id=edge_role_47b0f023 labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
					subgraph "Configure NFS" {
						role_47b0f023 [label="[role] Configure NFS" URL="/home/runner/.ansible/collections/ansible_collections/kubeinit/kubeinit/roles/kubeinit_kid/tasks/post_deployment_tasks.yml" color="#13cb01" id=role_47b0f023 tooltip="Configure NFS"]
					}
				}
			}
		}
	}
}
