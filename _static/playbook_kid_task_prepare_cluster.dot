digraph {
	graph [concentrate=true ordering=in rankdir=LR ratio=fill]
	edge [esep=5 sep=10]
	"kubeinit/playbook.yml" [id=root_node style=dotted]
	play_88780912 [label="Play: Initial setup (1)" color="#1e6dae" fontcolor="#ffffff" id=play_88780912 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_88780912 [label="1 " color="#1e6dae" fontcolor="#1e6dae" id=edge_2b7c9e0a labeltooltip="1 " tooltip="1 "]
	subgraph "Read podman secrets if running from the container" {
		role_25a1306c [label="[role] Read podman secrets if running from the container" color="#1e6dae" id=role_25a1306c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-gather-facts" {
		role_56f9d2ab [label="[role] task-gather-facts" color="#1e6dae" id=role_56f9d2ab tooltip="task-gather-facts"]
		role_56f9d2ab -> role_25a1306c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1e6dae" fontcolor="#1e6dae" id=edge_c52cf5f3 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_b767d1a6 [label="[role] Read podman secrets if running from the container" color="#1e6dae" id=role_b767d1a6 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-hypervisors" {
		role_a1e9dd96 [label="[role] task-prepare-hypervisors" color="#1e6dae" id=role_a1e9dd96 tooltip="task-prepare-hypervisors"]
		role_a1e9dd96 -> role_b767d1a6 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#1e6dae" fontcolor="#1e6dae" id=edge_05d437fe labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Play: Initial setup (1)" {
		play_88780912 -> block_ea30f0d0 [label=1 color="#1e6dae" fontcolor="#1e6dae" id=edge_ec8236a7 labeltooltip=1 tooltip=1]
		subgraph cluster_block_ea30f0d0 {
			block_ea30f0d0 [label="[block] Gather facts about the deployment environment" color="#1e6dae" id=block_ea30f0d0 labeltooltip="Gather facts about the deployment environment" shape=box tooltip="Gather facts about the deployment environment"]
			block_ea30f0d0 -> role_56f9d2ab [label="1 " color="#1e6dae" fontcolor="#1e6dae" id=edge_77e89f6d labeltooltip="1 " tooltip="1 "]
		}
		play_88780912 -> block_1efca9a6 [label=2 color="#1e6dae" fontcolor="#1e6dae" id=edge_a3402eb7 labeltooltip=2 tooltip=2]
		subgraph cluster_block_1efca9a6 {
			block_1efca9a6 [label="[block] Prepare the hypervisors" color="#1e6dae" id=block_1efca9a6 labeltooltip="Prepare the hypervisors" shape=box tooltip="Prepare the hypervisors"]
			block_1efca9a6 -> role_a1e9dd96 [label="1 " color="#1e6dae" fontcolor="#1e6dae" id=edge_6762e3c6 labeltooltip="1 " tooltip="1 "]
		}
	}
	play_a2d983e7 [label="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" color="#833c90" fontcolor="#ffffff" id=play_a2d983e7 shape=box style=filled tooltip="Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)"]
	"kubeinit/playbook.yml" -> play_a2d983e7 [label="2 " color="#833c90" fontcolor="#833c90" id=edge_fcf7cdbc labeltooltip="2 " tooltip="2 "]
	subgraph "Provision the libvirt services on the hypervisor" {
		role_07aeb820 [label="[role] Provision the libvirt services on the hypervisor" color="#833c90" id=role_07aeb820 tooltip="Provision the libvirt services on the hypervisor"]
	}
	subgraph "Prepare each hypervisor in the deployment" {
		role_b28e0252 [label="[role] Prepare each hypervisor in the deployment" color="#833c90" id=role_b28e0252 tooltip="Prepare each hypervisor in the deployment"]
		role_b28e0252 -> role_07aeb820 [label="1 " color="#833c90" fontcolor="#833c90" id=edge_922af708 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Play: Prepare all hypervisor hosts to deploy service and cluster nodes (0)" {
		play_a2d983e7 -> block_fab6e610 [label=1 color="#833c90" fontcolor="#833c90" id=edge_9183ceff labeltooltip=1 tooltip=1]
		subgraph cluster_block_fab6e610 {
			block_fab6e610 [label="[block] Prepare individual hypervisors" color="#833c90" id=block_fab6e610 labeltooltip="Prepare individual hypervisors" shape=box tooltip="Prepare individual hypervisors"]
			block_fab6e610 -> role_b28e0252 [label="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" color="#833c90" fontcolor="#833c90" id=edge_b176fd43 labeltooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]" tooltip="1 [when: inventory_hostname in hostvars['kubeinit-cluster-facts'].hypervisors]"]
		}
	}
	play_4c912f63 [label="Play: Run cluster deployment on prepared hypervisors (1)" color="#2aa22b" fontcolor="#ffffff" id=play_4c912f63 shape=box style=filled tooltip=localhost]
	"kubeinit/playbook.yml" -> play_4c912f63 [label="3 " color="#2aa22b" fontcolor="#2aa22b" id=edge_5420c14c labeltooltip="3 " tooltip="3 "]
	subgraph "Read podman secrets if running from the container" {
		role_98e18b5d [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_98e18b5d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "task-prepare-environment" {
		role_dfc72cea [label="[role] task-prepare-environment" color="#2aa22b" id=role_dfc72cea tooltip="task-prepare-environment"]
		role_dfc72cea -> role_98e18b5d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_c988f2fc labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_11a88f5c [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_11a88f5c tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_c95e6270 [label="[role] Prepare environment if not prepared" color="#2aa22b" id=role_c95e6270 tooltip="Prepare environment if not prepared"]
		role_c95e6270 -> role_11a88f5c [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_15efae43 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_31500812 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2aa22b" id=role_31500812 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "task-cleanup-hypervisors" {
		role_99041509 [label="[role] task-cleanup-hypervisors" color="#2aa22b" id=role_99041509 tooltip="task-cleanup-hypervisors"]
		role_99041509 -> role_c95e6270 [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_61fa7e00 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_99041509 -> role_31500812 [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_010ab0bc labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_571d8c0e [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_571d8c0e tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_9b8b6493 [label="[role] Prepare environment if not prepared" color="#2aa22b" id=role_9b8b6493 tooltip="Prepare environment if not prepared"]
		role_9b8b6493 -> role_571d8c0e [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_0dd094ab labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_64ca74bb [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2aa22b" id=role_64ca74bb tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_c4ffee73 [label="[role] Cleanup hypervisors if needed" color="#2aa22b" id=role_c4ffee73 tooltip="Cleanup hypervisors if needed"]
		role_c4ffee73 -> role_9b8b6493 [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_79a30ba2 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_c4ffee73 -> role_64ca74bb [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_f12eb584 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-run-validations" {
		role_adf2bbff [label="[role] task-run-validations" color="#2aa22b" id=role_adf2bbff tooltip="task-run-validations"]
		role_adf2bbff -> role_c4ffee73 [label="1 [when: not hypervisors_cleaned]" color="#2aa22b" fontcolor="#2aa22b" id=edge_2b7193ca labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_12bfb518 [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_12bfb518 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_a68a0728 [label="[role] Prepare environment if not prepared" color="#2aa22b" id=role_a68a0728 tooltip="Prepare environment if not prepared"]
		role_a68a0728 -> role_12bfb518 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_9cbca784 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" {
		role_533ca4e9 [label="[role] Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage" color="#2aa22b" id=role_533ca4e9 tooltip="Cleanup the OVN network and other libvirt resources -- hosts, networks, vms, storage"]
	}
	subgraph "Cleanup hypervisors if needed" {
		role_4eada088 [label="[role] Cleanup hypervisors if needed" color="#2aa22b" id=role_4eada088 tooltip="Cleanup hypervisors if needed"]
		role_4eada088 -> role_a68a0728 [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_8c6352a5 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_4eada088 -> role_533ca4e9 [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_be2c727f labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-create-network" {
		role_0c74a7f2 [label="[role] task-create-network" color="#2aa22b" id=role_0c74a7f2 tooltip="task-create-network"]
		role_0c74a7f2 -> role_4eada088 [label="1 [when: not hypervisors_cleaned]" color="#2aa22b" fontcolor="#2aa22b" id=edge_dd9ef89b labeltooltip="1 [when: not hypervisors_cleaned]" tooltip="1 [when: not hypervisors_cleaned]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_9425d755 [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_9425d755 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_203ea704 [label="[role] Prepare environment if not prepared" color="#2aa22b" id=role_203ea704 tooltip="Prepare environment if not prepared"]
		role_203ea704 -> role_9425d755 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_33f96487 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Prepare podman" {
		role_154709df [label="[role] Prepare podman" color="#2aa22b" id=role_154709df tooltip="Prepare podman"]
	}
	subgraph "Create systemd service for podman container" {
		role_ecfbe1c3 [label="[role] Create systemd service for podman container" color="#2aa22b" id=role_ecfbe1c3 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Bind" {
		role_10f43e8a [label="[role] Configure Bind" color="#2aa22b" id=role_10f43e8a tooltip="Configure Bind"]
		role_10f43e8a -> role_ecfbe1c3 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_237a9f81 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_6f5669e8 [label="[role] Create systemd service for podman container" color="#2aa22b" id=role_6f5669e8 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Dnsmasq" {
		role_9e533520 [label="[role] Configure Dnsmasq" color="#2aa22b" id=role_9e533520 tooltip="Configure Dnsmasq"]
		role_9e533520 -> role_6f5669e8 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_7383711f labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_24a517df [label="[role] Create systemd service for podman container" color="#2aa22b" id=role_24a517df tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure HAProxy" {
		role_db0f7e93 [label="[role] Configure HAProxy" color="#2aa22b" id=role_db0f7e93 tooltip="Configure HAProxy"]
		role_db0f7e93 -> role_24a517df [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_4c443d4e labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_86e43595 [label="[role] Create systemd service for podman container" color="#2aa22b" id=role_86e43595 tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Nexus" {
		role_f32fb66e [label="[role] Configure Nexus" color="#2aa22b" id=role_f32fb66e tooltip="Configure Nexus"]
		role_f32fb66e -> role_86e43595 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_34de4fcd labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_60a753dd [label="[role] Create systemd service for podman container" color="#2aa22b" id=role_60a753dd tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure Apache" {
		role_d9e41919 [label="[role] Configure Apache" color="#2aa22b" id=role_d9e41919 tooltip="Configure Apache"]
		role_d9e41919 -> role_60a753dd [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_48b44790 labeltooltip="1 " tooltip="1 "]
	}
	subgraph "Create systemd service for podman container" {
		role_2c5dca7d [label="[role] Create systemd service for podman container" color="#2aa22b" id=role_2c5dca7d tooltip="Create systemd service for podman container"]
	}
	subgraph "Configure a local container image registry" {
		role_6736eb63 [label="[role] Configure a local container image registry" color="#2aa22b" id=role_6736eb63 tooltip="Configure a local container image registry"]
		role_6736eb63 -> role_2c5dca7d [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_3d469f1b labeltooltip="1 " tooltip="1 "]
	}
	subgraph "task-create-services" {
		role_f550a08c [label="[role] task-create-services" color="#2aa22b" id=role_f550a08c tooltip="task-create-services"]
		role_f550a08c -> role_203ea704 [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_eab06817 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_f550a08c -> role_154709df [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_c3b6ddbf labeltooltip="2 " tooltip="2 "]
		role_f550a08c -> role_10f43e8a [label="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" color="#2aa22b" fontcolor="#2aa22b" id=edge_80851e3b labeltooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]" tooltip="3 [when: 'bind' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f550a08c -> role_9e533520 [label="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" color="#2aa22b" fontcolor="#2aa22b" id=edge_8d71c22c labeltooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]" tooltip="4 [when: 'dnsmasq' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f550a08c -> role_db0f7e93 [label="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" color="#2aa22b" fontcolor="#2aa22b" id=edge_a7aeccee labeltooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]" tooltip="5 [when: 'haproxy' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f550a08c -> role_f32fb66e [label="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" color="#2aa22b" fontcolor="#2aa22b" id=edge_8131f106 labeltooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]" tooltip="6 [when: 'nexus' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f550a08c -> role_d9e41919 [label="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" color="#2aa22b" fontcolor="#2aa22b" id=edge_e77b1e1b labeltooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]" tooltip="7 [when: 'apache' in hostvars[kubeinit_deployment_node_name].services]"]
		role_f550a08c -> role_6736eb63 [label="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" color="#2aa22b" fontcolor="#2aa22b" id=edge_4e4ed69c labeltooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]" tooltip="8 [when: 'registry' in hostvars[kubeinit_deployment_node_name].services]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_94792498 [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_94792498 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d0fdb49f [label="[role] Prepare environment if needed" color="#2aa22b" id=role_d0fdb49f tooltip="Prepare environment if needed"]
		role_d0fdb49f -> role_94792498 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_18c1e8a7 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_86641ee5 [label="[role] Gather network and host facts for guest" color="#2aa22b" id=role_86641ee5 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_aff10a81 [label="[role] Prepare services if needed" color="#2aa22b" id=role_aff10a81 tooltip="Prepare services if needed"]
		role_aff10a81 -> role_d0fdb49f [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_1b1fd5e4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_aff10a81 -> role_86641ee5 [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_2b4f9462 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Create systemd service for podman container" {
		role_728e137d [label="[role] Create systemd service for podman container" color="#2aa22b" id=role_728e137d tooltip="Create systemd service for podman container"]
		task_a54572fb [label="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent" color="#2aa22b" id=task_a54572fb shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Ensure user specific systemd instance are persistent"]
		role_728e137d -> task_a54572fb [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_3aee13f4 labeltooltip="1 " tooltip="1 "]
		task_bfcdaf9f [label="kubeinit.kubeinit.kubeinit_services : Create systemd user directory" color="#2aa22b" id=task_bfcdaf9f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create systemd user directory"]
		role_728e137d -> task_bfcdaf9f [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_da3ed632 labeltooltip="2 " tooltip="2 "]
		task_bbe0baf5 [label="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file" color="#2aa22b" id=task_bbe0baf5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy the podman systemd service file"]
		role_728e137d -> task_bbe0baf5 [label="3 " color="#2aa22b" fontcolor="#2aa22b" id=edge_4207f24b labeltooltip="3 " tooltip="3 "]
		task_1638a0c1 [label="kubeinit.kubeinit.kubeinit_services : Reload systemd service" color="#2aa22b" id=task_1638a0c1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Reload systemd service"]
		role_728e137d -> task_1638a0c1 [label="4 " color="#2aa22b" fontcolor="#2aa22b" id=edge_807f08ae labeltooltip="4 " tooltip="4 "]
		task_76d2f239 [label="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service" color="#2aa22b" id=task_76d2f239 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Enable {{ _param_systemd_service_name }}.service"]
		role_728e137d -> task_76d2f239 [label="5 " color="#2aa22b" fontcolor="#2aa22b" id=edge_5902cdf9 labeltooltip="5 " tooltip="5 "]
		task_38775bd3 [label="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service" color="#2aa22b" id=task_38775bd3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Start {{ _param_systemd_service_name }}.service"]
		role_728e137d -> task_38775bd3 [label="6 " color="#2aa22b" fontcolor="#2aa22b" id=edge_f34813ec labeltooltip="6 " tooltip="6 "]
	}
	subgraph "Gather network and host facts for provision service" {
		role_fa3c7b15 [label="[role] Gather network and host facts for provision service" color="#2aa22b" id=role_fa3c7b15 tooltip="Gather network and host facts for provision service"]
	}
	subgraph "Setup the cluster provision container" {
		role_f1cde7f5 [label="[role] Setup the cluster provision container" color="#2aa22b" id=role_f1cde7f5 tooltip="Setup the cluster provision container"]
		task_0fabf74b [label="kubeinit.kubeinit.kubeinit_services : Install buildah if required" color="#2aa22b" id=task_0fabf74b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install buildah if required"]
		role_f1cde7f5 -> task_0fabf74b [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_d51c37c4 labeltooltip="1 " tooltip="1 "]
		task_d5b75fbf [label="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container" color="#2aa22b" id=task_d5b75fbf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any old buildah container"]
		role_f1cde7f5 -> task_d5b75fbf [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_c7a7836f labeltooltip="2 " tooltip="2 "]
		task_9c522434 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)" color="#2aa22b" id=task_9c522434 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image (CentOS)"]
		role_f1cde7f5 -> task_9c522434 [label="3 [when: kubeinit_deployment_os == 'centos']" color="#2aa22b" fontcolor="#2aa22b" id=edge_01971f95 labeltooltip="3 [when: kubeinit_deployment_os == 'centos']" tooltip="3 [when: kubeinit_deployment_os == 'centos']"]
		task_c1f8877c [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2aa22b" id=task_c1f8877c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_f1cde7f5 -> task_c1f8877c [label="4 [when: kubeinit_deployment_os == 'centos']" color="#2aa22b" fontcolor="#2aa22b" id=edge_6e567696 labeltooltip="4 [when: kubeinit_deployment_os == 'centos']" tooltip="4 [when: kubeinit_deployment_os == 'centos']"]
		task_104b65a0 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2aa22b" id=task_104b65a0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_f1cde7f5 -> task_104b65a0 [label="5 [when: kubeinit_deployment_os == 'centos']" color="#2aa22b" fontcolor="#2aa22b" id=edge_a3eebf70 labeltooltip="5 [when: kubeinit_deployment_os == 'centos']" tooltip="5 [when: kubeinit_deployment_os == 'centos']"]
		task_a096f3bd [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#2aa22b" id=task_a096f3bd shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_f1cde7f5 -> task_a096f3bd [label="6 [when: kubeinit_deployment_os == 'debian']" color="#2aa22b" fontcolor="#2aa22b" id=edge_c65d611f labeltooltip="6 [when: kubeinit_deployment_os == 'debian']" tooltip="6 [when: kubeinit_deployment_os == 'debian']"]
		task_69626e7a [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2aa22b" id=task_69626e7a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_f1cde7f5 -> task_69626e7a [label="7 [when: kubeinit_deployment_os == 'debian']" color="#2aa22b" fontcolor="#2aa22b" id=edge_41e5b564 labeltooltip="7 [when: kubeinit_deployment_os == 'debian']" tooltip="7 [when: kubeinit_deployment_os == 'debian']"]
		task_f9350f14 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2aa22b" id=task_f9350f14 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_f1cde7f5 -> task_f9350f14 [label="8 [when: kubeinit_deployment_os == 'debian']" color="#2aa22b" fontcolor="#2aa22b" id=edge_ec1fee43 labeltooltip="8 [when: kubeinit_deployment_os == 'debian']" tooltip="8 [when: kubeinit_deployment_os == 'debian']"]
		task_95119855 [label="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory" color="#2aa22b" id=task_95119855 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Missing privilege separation directory"]
		role_f1cde7f5 -> task_95119855 [label="9 [when: kubeinit_deployment_os == 'debian']" color="#2aa22b" fontcolor="#2aa22b" id=edge_3f7adb66 labeltooltip="9 [when: kubeinit_deployment_os == 'debian']" tooltip="9 [when: kubeinit_deployment_os == 'debian']"]
		task_32cd8859 [label="kubeinit.kubeinit.kubeinit_services : Create a new working container image" color="#2aa22b" id=task_32cd8859 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create a new working container image"]
		role_f1cde7f5 -> task_32cd8859 [label="10 [when: kubeinit_deployment_os == 'ubuntu']" color="#2aa22b" fontcolor="#2aa22b" id=edge_28c926db labeltooltip="10 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="10 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_49afcaa1 [label="kubeinit.kubeinit.kubeinit_services : Update the container" color="#2aa22b" id=task_49afcaa1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the container"]
		role_f1cde7f5 -> task_49afcaa1 [label="11 [when: kubeinit_deployment_os == 'ubuntu']" color="#2aa22b" fontcolor="#2aa22b" id=edge_9aaf3b4a labeltooltip="11 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="11 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_babf3586 [label="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need" color="#2aa22b" id=task_babf3586 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install commands and services we will need"]
		role_f1cde7f5 -> task_babf3586 [label="12 [when: kubeinit_deployment_os == 'ubuntu']" color="#2aa22b" fontcolor="#2aa22b" id=edge_a73228d3 labeltooltip="12 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="12 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_f2136abc [label="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start" color="#2aa22b" id=task_f2136abc shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create folder normally done by service ssh start"]
		role_f1cde7f5 -> task_f2136abc [label="13 [when: kubeinit_deployment_os == 'ubuntu']" color="#2aa22b" fontcolor="#2aa22b" id=edge_6db3f861 labeltooltip="13 [when: kubeinit_deployment_os == 'ubuntu']" tooltip="13 [when: kubeinit_deployment_os == 'ubuntu']"]
		task_debc47b1 [label="kubeinit.kubeinit.kubeinit_services : Set working directory inside container" color="#2aa22b" id=task_debc47b1 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set working directory inside container"]
		role_f1cde7f5 -> task_debc47b1 [label="14 " color="#2aa22b" fontcolor="#2aa22b" id=edge_ba481a7c labeltooltip="14 " tooltip="14 "]
		task_30236da7 [label="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys" color="#2aa22b" id=task_30236da7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate system ssh keys"]
		role_f1cde7f5 -> task_30236da7 [label="15 " color="#2aa22b" fontcolor="#2aa22b" id=edge_37fd7aa6 labeltooltip="15 " tooltip="15 "]
		task_d0fbc996 [label="kubeinit.kubeinit.kubeinit_services : Clear cmd" color="#2aa22b" id=task_d0fbc996 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Clear cmd"]
		role_f1cde7f5 -> task_d0fbc996 [label="16 " color="#2aa22b" fontcolor="#2aa22b" id=edge_f713340d labeltooltip="16 " tooltip="16 "]
		task_0a40db12 [label="kubeinit.kubeinit.kubeinit_services : Set entrypoint" color="#2aa22b" id=task_0a40db12 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set entrypoint"]
		role_f1cde7f5 -> task_0a40db12 [label="17 " color="#2aa22b" fontcolor="#2aa22b" id=edge_a65f06e7 labeltooltip="17 " tooltip="17 "]
		task_58d858c8 [label="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label" color="#2aa22b" id=task_58d858c8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set kubeinit-cluster-name label"]
		role_f1cde7f5 -> task_58d858c8 [label="18 " color="#2aa22b" fontcolor="#2aa22b" id=edge_993a1f84 labeltooltip="18 " tooltip="18 "]
		task_cf33287b [label="kubeinit.kubeinit.kubeinit_services : Commit the image" color="#2aa22b" id=task_cf33287b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Commit the image"]
		role_f1cde7f5 -> task_cf33287b [label="19 " color="#2aa22b" fontcolor="#2aa22b" id=edge_4993ffb4 labeltooltip="19 " tooltip="19 "]
		task_39abff8e [label="kubeinit.kubeinit.kubeinit_services : Remove the buildah container" color="#2aa22b" id=task_39abff8e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove the buildah container"]
		role_f1cde7f5 -> task_39abff8e [label="20 " color="#2aa22b" fontcolor="#2aa22b" id=edge_32943ffa labeltooltip="20 " tooltip="20 "]
		task_eb8b3cc9 [label="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container" color="#2aa22b" id=task_eb8b3cc9 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove any previous provision container"]
		role_f1cde7f5 -> task_eb8b3cc9 [label="21 " color="#2aa22b" fontcolor="#2aa22b" id=edge_ae9178b5 labeltooltip="21 " tooltip="21 "]
		task_d3f14c5b [label="kubeinit.kubeinit.kubeinit_services : Create podman provision container" color="#2aa22b" id=task_d3f14c5b shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create podman provision container"]
		role_f1cde7f5 -> task_d3f14c5b [label="22 " color="#2aa22b" fontcolor="#2aa22b" id=edge_cda3861b labeltooltip="22 " tooltip="22 "]
		role_f1cde7f5 -> role_728e137d [label="23 " color="#2aa22b" fontcolor="#2aa22b" id=edge_7ccf02a7 labeltooltip="23 " tooltip="23 "]
		task_d50a8067 [label="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts" color="#2aa22b" id=task_d50a8067 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add remote container to hosts"]
		role_f1cde7f5 -> task_d50a8067 [label="24 " color="#2aa22b" fontcolor="#2aa22b" id=edge_c4a99e7a labeltooltip="24 " tooltip="24 "]
		task_743b61e2 [label="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container" color="#2aa22b" id=task_743b61e2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for connection to provision container"]
		role_f1cde7f5 -> task_743b61e2 [label="25 " color="#2aa22b" fontcolor="#2aa22b" id=edge_ece43897 labeltooltip="25 " tooltip="25 "]
		task_093237ff [label="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt" color="#2aa22b" id=task_093237ff shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Read in the contents of domain.crt"]
		role_f1cde7f5 -> task_093237ff [label="26 " color="#2aa22b" fontcolor="#2aa22b" id=edge_d1ff3008 labeltooltip="26 " tooltip="26 "]
		task_62a71fa7 [label="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available" color="#2aa22b" id=task_62a71fa7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Wait for registry service to be available"]
		role_f1cde7f5 -> task_62a71fa7 [label="27 " color="#2aa22b" fontcolor="#2aa22b" id=edge_80f5b5c6 labeltooltip="27 " tooltip="27 "]
		task_bc4d0a88 [label="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed" color="#2aa22b" id=task_bc4d0a88 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure packages to generate registry credentials are installed"]
		role_f1cde7f5 -> task_bc4d0a88 [label="28 " color="#2aa22b" fontcolor="#2aa22b" id=edge_e416f7a3 labeltooltip="28 " tooltip="28 "]
		task_ade9c9e8 [label="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli" color="#2aa22b" id=task_ade9c9e8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cryptography, passlib and nexus3-cli"]
		role_f1cde7f5 -> task_ade9c9e8 [label="29 " color="#2aa22b" fontcolor="#2aa22b" id=edge_df557cf6 labeltooltip="29 " tooltip="29 "]
		task_44162ba2 [label="kubeinit.kubeinit.kubeinit_services : Remove nologin marker" color="#2aa22b" id=task_44162ba2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Remove nologin marker"]
		role_f1cde7f5 -> task_44162ba2 [label="30 " color="#2aa22b" fontcolor="#2aa22b" id=edge_6fde829a labeltooltip="30 " tooltip="30 "]
		task_040efbe3 [label="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth" color="#2aa22b" id=task_040efbe3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set disconnected_auth"]
		role_f1cde7f5 -> task_040efbe3 [label="31 " color="#2aa22b" fontcolor="#2aa22b" id=edge_71158c43 labeltooltip="31 " tooltip="31 "]
		task_c41cbdd7 [label="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret" color="#2aa22b" id=task_c41cbdd7 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth for pullsecret"]
		role_f1cde7f5 -> task_c41cbdd7 [label="32 " color="#2aa22b" fontcolor="#2aa22b" id=edge_462c6e63 labeltooltip="32 " tooltip="32 "]
		task_87987817 [label="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret" color="#2aa22b" id=task_87987817 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Append auths to pullsecret"]
		role_f1cde7f5 -> task_87987817 [label="33 " color="#2aa22b" fontcolor="#2aa22b" id=edge_aac18942 labeltooltip="33 " tooltip="33 "]
		task_976e4837 [label="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths" color="#2aa22b" id=task_976e4837 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Override final kubeinit_registry_pullsecret with both auths"]
		role_f1cde7f5 -> task_976e4837 [label="34 " color="#2aa22b" fontcolor="#2aa22b" id=edge_dbc5cdef labeltooltip="34 " tooltip="34 "]
		task_ab621444 [label="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary" color="#2aa22b" id=task_ab621444 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Debug the creds dictionary"]
		role_f1cde7f5 -> task_ab621444 [label="35 " color="#2aa22b" fontcolor="#2aa22b" id=edge_ba735629 labeltooltip="35 " tooltip="35 "]
		task_d1ec343c [label="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details" color="#2aa22b" id=task_d1ec343c shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Write auth for disconnected registry auth details"]
		role_f1cde7f5 -> task_d1ec343c [label="36 " color="#2aa22b" fontcolor="#2aa22b" id=edge_5f65bf29 labeltooltip="36 " tooltip="36 "]
		task_a518d58a [label="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file" color="#2aa22b" id=task_a518d58a shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create registry auth pullsecret file"]
		role_f1cde7f5 -> task_a518d58a [label="37 " color="#2aa22b" fontcolor="#2aa22b" id=edge_dd0aff0e labeltooltip="37 " tooltip="37 "]
		task_c95d1621 [label="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container" color="#2aa22b" id=task_c95d1621 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy domain cert into services container"]
		role_f1cde7f5 -> task_c95d1621 [label="38 " color="#2aa22b" fontcolor="#2aa22b" id=edge_09f4980f labeltooltip="38 " tooltip="38 "]
		task_b1c4d085 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#2aa22b" id=task_b1c4d085 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_f1cde7f5 -> task_b1c4d085 [label="39 [when: kubeinit_deployment_os == 'centos']" color="#2aa22b" fontcolor="#2aa22b" id=edge_8b4d2d56 labeltooltip="39 [when: kubeinit_deployment_os == 'centos']" tooltip="39 [when: kubeinit_deployment_os == 'centos']"]
		task_218e47b5 [label="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory" color="#2aa22b" id=task_218e47b5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Copy cert to pki directory"]
		role_f1cde7f5 -> task_218e47b5 [label="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2aa22b" fontcolor="#2aa22b" id=edge_6f271aa5 labeltooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="40 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_491202cf [label="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu" color="#2aa22b" id=task_491202cf shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install all certs in ubuntu"]
		role_f1cde7f5 -> task_491202cf [label="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2aa22b" fontcolor="#2aa22b" id=edge_d3617221 labeltooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="41 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_159241de [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#2aa22b" id=task_159241de shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_f1cde7f5 -> task_159241de [label="42 [when: kubeinit_deployment_os == 'centos']" color="#2aa22b" fontcolor="#2aa22b" id=edge_27c903f7 labeltooltip="42 [when: kubeinit_deployment_os == 'centos']" tooltip="42 [when: kubeinit_deployment_os == 'centos']"]
		task_28565f54 [label="kubeinit.kubeinit.kubeinit_services : Update the CA trust files" color="#2aa22b" id=task_28565f54 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the CA trust files"]
		role_f1cde7f5 -> task_28565f54 [label="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" color="#2aa22b" fontcolor="#2aa22b" id=edge_f272c87b labeltooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']" tooltip="43 [when: kubeinit_deployment_os == 'ubuntu' or kubeinit_deployment_os == 'debian']"]
		task_5c45a210 [label="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory" color="#2aa22b" id=task_5c45a210 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Create ~/.ssh directory"]
		role_f1cde7f5 -> task_5c45a210 [label="44 " color="#2aa22b" fontcolor="#2aa22b" id=edge_de248181 labeltooltip="44 " tooltip="44 "]
		task_920eac27 [label="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host" color="#2aa22b" id=task_920eac27 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Generate an OpenSSH keypair for provision host"]
		role_f1cde7f5 -> task_920eac27 [label="45 " color="#2aa22b" fontcolor="#2aa22b" id=edge_2464ae33 labeltooltip="45 " tooltip="45 "]
		task_6b0b3f91 [label="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service" color="#2aa22b" id=task_6b0b3f91 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Set authorized_key hostvar for provision service"]
		role_f1cde7f5 -> task_6b0b3f91 [label="46 " color="#2aa22b" fontcolor="#2aa22b" id=edge_372a935d labeltooltip="46 " tooltip="46 "]
		task_c554d8b0 [label="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys" color="#2aa22b" id=task_c554d8b0 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add provision service authorized key to cluster authorized_keys"]
		role_f1cde7f5 -> task_c554d8b0 [label="47 " color="#2aa22b" fontcolor="#2aa22b" id=edge_35ebd4d7 labeltooltip="47 " tooltip="47 "]
		task_a8f15d6e [label="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys" color="#2aa22b" id=task_a8f15d6e shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Install cluster authorized keys"]
		role_f1cde7f5 -> task_a8f15d6e [label="48 " color="#2aa22b" fontcolor="#2aa22b" id=edge_2c2cfea0 labeltooltip="48 " tooltip="48 "]
		task_f286fca3 [label="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys" color="#2aa22b" id=task_f286fca3 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update the cluster authorized_keys"]
		role_f1cde7f5 -> task_f286fca3 [label="49 " color="#2aa22b" fontcolor="#2aa22b" id=edge_3b186ba7 labeltooltip="49 " tooltip="49 "]
		task_ba03f6a2 [label="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars" color="#2aa22b" id=task_ba03f6a2 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Add registry auth info to cluster vars"]
		role_f1cde7f5 -> task_ba03f6a2 [label="50 " color="#2aa22b" fontcolor="#2aa22b" id=edge_1cba87e9 labeltooltip="50 " tooltip="50 "]
		task_061a14d5 [label="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars" color="#2aa22b" id=task_061a14d5 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Update kubeinit_cluster_hostvars"]
		role_f1cde7f5 -> task_061a14d5 [label="51 " color="#2aa22b" fontcolor="#2aa22b" id=edge_6cceefb1 labeltooltip="51 " tooltip="51 "]
		task_77a7a03f [label="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue" color="#2aa22b" id=task_77a7a03f shape=octagon tooltip="kubeinit.kubeinit.kubeinit_services : Make sure we can execute remote commands on {{ kubeinit_deployment_node_name }} before we continue"]
		role_f1cde7f5 -> task_77a7a03f [label="52 " color="#2aa22b" fontcolor="#2aa22b" id=edge_e60d365a labeltooltip="52 " tooltip="52 "]
		role_f1cde7f5 -> role_fa3c7b15 [label="53 " color="#2aa22b" fontcolor="#2aa22b" id=edge_bf82f731 labeltooltip="53 " tooltip="53 "]
	}
	subgraph "Delegate to the distro role to prepare the cluster" {
		role_ac84ac4d [label="[role] Delegate to the distro role to prepare the cluster" color="#2aa22b" id=role_ac84ac4d tooltip="Delegate to the distro role to prepare the cluster"]
		role_ac84ac4d -> role_f1cde7f5 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_164998ff labeltooltip="1 " tooltip="1 "]
		task_8f17dad8 [label="kubeinit.kubeinit.kubeinit_kid : Render net info" color="#2aa22b" id=task_8f17dad8 shape=octagon tooltip="kubeinit.kubeinit.kubeinit_kid : Render net info"]
		role_ac84ac4d -> task_8f17dad8 [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_354fc0d7 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "task-prepare-cluster" {
		role_820a6935 [label="[role] task-prepare-cluster" color="#2aa22b" id=role_820a6935 tooltip="task-prepare-cluster"]
		role_820a6935 -> role_aff10a81 [label="1 [when: not services_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_09b76e37 labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_820a6935 -> role_ac84ac4d [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_a8faecf5 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_7d441317 [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_7d441317 tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if not prepared" {
		role_2e906e88 [label="[role] Prepare environment if not prepared" color="#2aa22b" id=role_2e906e88 tooltip="Prepare environment if not prepared"]
		role_2e906e88 -> role_7d441317 [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_2cd543ae labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "task-download-images" {
		role_cd282e11 [label="[role] task-download-images" color="#2aa22b" id=role_cd282e11 tooltip="task-download-images"]
		role_cd282e11 -> role_2e906e88 [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_79253c9d labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
	}
	subgraph "Read podman secrets if running from the container" {
		role_5fe41c1f [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_5fe41c1f tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_e19aa42c [label="[role] Prepare environment if needed" color="#2aa22b" id=role_e19aa42c tooltip="Prepare environment if needed"]
		role_e19aa42c -> role_5fe41c1f [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_a9fc6961 labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_822bcf52 [label="[role] Gather network and host facts for guest" color="#2aa22b" id=role_822bcf52 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_0838595b [label="[role] Prepare services if needed" color="#2aa22b" id=role_0838595b tooltip="Prepare services if needed"]
		role_0838595b -> role_e19aa42c [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_d02bd338 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_0838595b -> role_822bcf52 [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_7808adfb labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Deploy the cluster nodes" {
		role_a8a1090c [label="[role] Deploy the cluster nodes" color="#2aa22b" id=role_a8a1090c tooltip="Deploy the cluster nodes"]
	}
	subgraph "Delegate to the distro role to deploy the cluster" {
		role_572e5cbb [label="[role] Delegate to the distro role to deploy the cluster" color="#2aa22b" id=role_572e5cbb tooltip="Delegate to the distro role to deploy the cluster"]
		role_572e5cbb -> role_a8a1090c [label="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" color="#2aa22b" fontcolor="#2aa22b" id=edge_9dd42169 labeltooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]" tooltip="1 [when: kubeinit_cluster_nodes_deployed is not defined or not kubeinit_cluster_nodes_deployed]"]
	}
	subgraph "task-deploy-cluster" {
		role_b8a88c2c [label="[role] task-deploy-cluster" color="#2aa22b" id=role_b8a88c2c tooltip="task-deploy-cluster"]
		role_b8a88c2c -> role_0838595b [label="1 [when: not services_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_3264072e labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_b8a88c2c -> role_572e5cbb [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_8ff22fd8 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Read podman secrets if running from the container" {
		role_69ccaa9d [label="[role] Read podman secrets if running from the container" color="#2aa22b" id=role_69ccaa9d tooltip="Read podman secrets if running from the container"]
	}
	subgraph "Prepare environment if needed" {
		role_d3447800 [label="[role] Prepare environment if needed" color="#2aa22b" id=role_d3447800 tooltip="Prepare environment if needed"]
		role_d3447800 -> role_69ccaa9d [label="1 [when: hostvars[kubeinit_facts_name].container_run]" color="#2aa22b" fontcolor="#2aa22b" id=edge_a9de85cd labeltooltip="1 [when: hostvars[kubeinit_facts_name].container_run]" tooltip="1 [when: hostvars[kubeinit_facts_name].container_run]"]
	}
	subgraph "Gather network and host facts for guest" {
		role_63156e55 [label="[role] Gather network and host facts for guest" color="#2aa22b" id=role_63156e55 tooltip="Gather network and host facts for guest"]
	}
	subgraph "Prepare services if needed" {
		role_14c7908b [label="[role] Prepare services if needed" color="#2aa22b" id=role_14c7908b tooltip="Prepare services if needed"]
		role_14c7908b -> role_d3447800 [label="1 [when: not environment_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_2f8e18f4 labeltooltip="1 [when: not environment_prepared]" tooltip="1 [when: not environment_prepared]"]
		role_14c7908b -> role_63156e55 [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_951f9788 labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Configure NFS" {
		role_6791a830 [label="[role] Configure NFS" color="#2aa22b" id=role_6791a830 tooltip="Configure NFS"]
	}
	subgraph "Delegate to distro role to run post-deployment tasks" {
		role_60309159 [label="[role] Delegate to distro role to run post-deployment tasks" color="#2aa22b" id=role_60309159 tooltip="Delegate to distro role to run post-deployment tasks"]
		role_60309159 -> role_6791a830 [label="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" color="#2aa22b" fontcolor="#2aa22b" id=edge_5e8b4b2e labeltooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]" tooltip="1 [when: 'nfs' in kubeinit_cluster_hostvars.services]"]
	}
	subgraph "task-post-deployment" {
		role_f004717f [label="[role] task-post-deployment" color="#2aa22b" id=role_f004717f tooltip="task-post-deployment"]
		role_f004717f -> role_14c7908b [label="1 [when: not services_prepared]" color="#2aa22b" fontcolor="#2aa22b" id=edge_42fd908c labeltooltip="1 [when: not services_prepared]" tooltip="1 [when: not services_prepared]"]
		role_f004717f -> role_60309159 [label="2 " color="#2aa22b" fontcolor="#2aa22b" id=edge_04c444ad labeltooltip="2 " tooltip="2 "]
	}
	subgraph "Play: Run cluster deployment on prepared hypervisors (1)" {
		play_4c912f63 -> block_24a7155f [label=1 color="#2aa22b" fontcolor="#2aa22b" id=edge_0d084e08 labeltooltip=1 tooltip=1]
		subgraph cluster_block_24a7155f {
			block_24a7155f [label="[block] Prepare the environment" color="#2aa22b" id=block_24a7155f labeltooltip="Prepare the environment" shape=box tooltip="Prepare the environment"]
			block_24a7155f -> role_dfc72cea [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_5d5278e1 labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_6bfd5a2d [label=2 color="#2aa22b" fontcolor="#2aa22b" id=edge_7461a344 labeltooltip=2 tooltip=2]
		subgraph cluster_block_6bfd5a2d {
			block_6bfd5a2d [label="[block] Cleanup hypervisors" color="#2aa22b" id=block_6bfd5a2d labeltooltip="Cleanup hypervisors" shape=box tooltip="Cleanup hypervisors"]
			block_6bfd5a2d -> role_99041509 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_766e0252 labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_cc3e4bd4 [label=3 color="#2aa22b" fontcolor="#2aa22b" id=edge_ef287eb9 labeltooltip=3 tooltip=3]
		subgraph cluster_block_cc3e4bd4 {
			block_cc3e4bd4 [label="[block] Run validations on cluster resources" color="#2aa22b" id=block_cc3e4bd4 labeltooltip="Run validations on cluster resources" shape=box tooltip="Run validations on cluster resources"]
			block_cc3e4bd4 -> role_adf2bbff [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_b0541757 labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_44a55c79 [label=4 color="#2aa22b" fontcolor="#2aa22b" id=edge_dc1d2a41 labeltooltip=4 tooltip=4]
		subgraph cluster_block_44a55c79 {
			block_44a55c79 [label="[block] Create the cluster network resources" color="#2aa22b" id=block_44a55c79 labeltooltip="Create the cluster network resources" shape=box tooltip="Create the cluster network resources"]
			block_44a55c79 -> role_0c74a7f2 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_f5942e89 labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_fd21c9d0 [label=5 color="#2aa22b" fontcolor="#2aa22b" id=edge_d7b55726 labeltooltip=5 tooltip=5]
		subgraph cluster_block_fd21c9d0 {
			block_fd21c9d0 [label="[block] Create services the cluster will need" color="#2aa22b" id=block_fd21c9d0 labeltooltip="Create services the cluster will need" shape=box tooltip="Create services the cluster will need"]
			block_fd21c9d0 -> role_f550a08c [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_5862fe01 labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_4b74e057 [label=6 color="#2aa22b" fontcolor="#2aa22b" id=edge_13bb98a5 labeltooltip=6 tooltip=6]
		subgraph cluster_block_4b74e057 {
			block_4b74e057 [label="[block] Prepare to deploy the cluster" color="#2aa22b" id=block_4b74e057 labeltooltip="Prepare to deploy the cluster" shape=box tooltip="Prepare to deploy the cluster"]
			block_4b74e057 -> role_820a6935 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_4b15aeb9 labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_afbea6de [label=7 color="#2aa22b" fontcolor="#2aa22b" id=edge_2b09ef3b labeltooltip=7 tooltip=7]
		subgraph cluster_block_afbea6de {
			block_afbea6de [label="[block] Download cloud images" color="#2aa22b" id=block_afbea6de labeltooltip="Download cloud images" shape=box tooltip="Download cloud images"]
			block_afbea6de -> role_cd282e11 [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_08bc879d labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_5b98b5fd [label=8 color="#2aa22b" fontcolor="#2aa22b" id=edge_f981c0c0 labeltooltip=8 tooltip=8]
		subgraph cluster_block_5b98b5fd {
			block_5b98b5fd [label="[block] Deploy the cluster" color="#2aa22b" id=block_5b98b5fd labeltooltip="Deploy the cluster" shape=box tooltip="Deploy the cluster"]
			block_5b98b5fd -> role_b8a88c2c [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_a3fa183c labeltooltip="1 " tooltip="1 "]
		}
		play_4c912f63 -> block_057bdea1 [label=9 color="#2aa22b" fontcolor="#2aa22b" id=edge_beeac035 labeltooltip=9 tooltip=9]
		subgraph cluster_block_057bdea1 {
			block_057bdea1 [label="[block] Run any post-deployment tasks" color="#2aa22b" id=block_057bdea1 labeltooltip="Run any post-deployment tasks" shape=box tooltip="Run any post-deployment tasks"]
			block_057bdea1 -> role_f004717f [label="1 " color="#2aa22b" fontcolor="#2aa22b" id=edge_837aa118 labeltooltip="1 " tooltip="1 "]
		}
	}
}
