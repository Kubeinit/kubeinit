Changelog
=========


(unreleased)
------------



Documentation
~~~~~~~~~~~~~
- Include all_nodes and fix the task path for cleaning. [Carlos Camacho]

  This commit fixes the documentation about how to clean the
  environment.

Features
~~~~~~~~
- Bump k8s version to 1.20. [Carlos Camacho]

  This commit updates k8s from 1.18 to 1.20
  and configures extra variables for choosing
  the distro and the k8s version to be deployed.
- Update OKD to latest 4.6. [Carlos Camacho]

  This commit updates OKD to the latest version prior 4.7
- Include  submariner in the periodic jobs. [Carlos Camacho]

  This commit includes submariner in the periodic jobs.
- Include a prepare role. [Carlos Camacho]

  This commit includes a prepare role
  agnostic from the distribution or the
  infrastructure provider to be deployed.
- Configure nexus. [Carlos Camacho]

  This commit configures nexus to replace the container registry.
- Include nexus container registry. [Carlos Camacho]

  This commit adds the skeleton templates
  to deploy nexus.
- Run haproxy service from a container. [Glenn Marcy]

  This commit runs the haproxy server from a container instead of installing
  it into the service node virtual machine.
- Run local registry container with podman instead of docker. [Glenn
  Marcy]

  This commit changes the local registry service from running in a
  container with docker to using podman to run the container.
- Run bind9 DNS service from a container. [Glenn Marcy]

  This commit runs the bind9 server from a container instead of installing
  it into the service node virtual machine.
- Run apache http service from a container. [Glenn Marcy]

  This commit runs the http server from a container instead of installing
  it into the service node virtual machine.
- Update service node from centos 8.3.2011 to 8-stream. [Glenn Marcy]

  This commit will switch the VM we create for the service node from
  CentOS 8.3.2011 to CentOS Stream.

Fixes
~~~~~
- Nit fix in the ci script. [Carlos Camacho]

  This commit fixes a nit in the ci scripts.
- Include registry auth in .docker. [Carlos Camacho]

  It is still required to have the authentication
  details in the .docker folder defore pushing
  to the local registry.
- Adjust podman login in secondary cluster. [Carlos Camacho]

  This commit fixes the podman login to configure
  the secondary submariner cluster.
- Addsubmariner periodic to readme. [Carlos Camacho]

  This commit adds the periodic jobs results to the project's readme.
- Adjust submariner make steps. [Carlos Camacho]

  Currently there is a bug when using
  the make module as the submariner make
  file has some errors captured by Ansible.
- Include pending submariner config. [Carlos Camacho]

  This commit adds the pending config details for
  submariner.
- Make submariner playbooks aligned with the other roles. [Carlos
  Camacho]

  This commit aligns submariner role to the pattern used in
  all the other roles.
- Build subctl in the docker cluster. [Carlos Camacho]

  This commit fixes the build of submariner,
  now this is executed in the RKE cluster
  and syncronized to the OKD cluster (docker -> podman).
- Replace wrong ci strings. [Carlos Camacho]

  This commit fixes a nit in the ci scripts
  that causes k8s periodic job to run cdk.
- Remove docker from submariner. [Carlos Camacho]

  This commit removes docker commands from
  the submariner role.
- Move to shell and sort parameters. [Carlos Camacho]

  This commit moves to shell the podman login
  commands as the dont work correctly with
  different OS distros.
- Move docker pass to each role. [Carlos Camacho]

  This commit moves the docker auth file to each
  role using it.
- Login to docker.io from text file auth. [Carlos Camacho]

  This commit changes the docker.io auth from CLI to
  use a text file.
- Move shell to command. [Carlos Camacho]

  This commit moves shell to command.
- Securize podman login. [Carlos Camacho]

  This patch fixes showing the podman login
  password in the Ansible logs.
- Allow requests to wait 1600s. [Carlos Camacho]

  This commit increases the timeout
  for the NFS resources.
- Add a timeout to the imageregistry provider commands. [Carlos Camacho]

  This adds a higher timeout when pathing the imageregistry
  operator.
- Remove docker and create haproxy files. [Carlos Camacho]

  This commit removes the docker bits in the registry role
  and some missing requisites for haproxy to be configured in
  Ubuntu.
- Lint errors. [Glenn Marcy]

  Commit to fix lint errors.
- Add missing cluster name to several places generating cluster FQDNs.
  [Glenn Marcy]

  This commit fixes several locations where the FQDN for a cluster node was
  missing the cluster name.
- Enforce detach parameters. [Carlos Camacho]

  This commit enfoces the parameters
  when calling the detach script.
- Enable or disable master schedulable depending on worker nodes.
  [Carlos Camacho]

  This commit disables or enables the master nodes as schedulable
  depending only if there are or not worker nodes.
- Wait for 60 retries. [Carlos Camacho]

  This commit increases the retries waiting
  for the NFS resources to start.
- Add ignore_errors when waiting for nfs resources to start. [Carlos
  Camacho]

  This commit adds an ignore_errors when waiting for the NFS resources
  to start.
- Enable mastersSchedulable if no workers. [Carlos Camacho]

  This commit enables mastersSchedulable when there
  are no worker nodes in the cluster.


v1.0.2 - Release date: 2021-03-19
---------------------------------



Chore
~~~~~
- Release 1.0.2. [Carlos Camacho]

  This commit releases KubeInit 1.0.2.

Features
~~~~~~~~
- Allow to deploy OpenShift. [Carlos Camacho]

  This commit allows to deploy OpenShift from the
  automation used to deploy OKD.

Fixes
~~~~~
- Wait for image registry resource exists. [Carlos Camacho]

  This commit fixes a race condition in the CI,
  we try to patch resources that might not exists.
- Adjust removing the bootstrap node in single master configs. [Carlos
  Camacho]

  This commit adjust the step of removing the bootstrap
  node in single master configurations.
- Disable NFS if not OKD. [Carlos Camacho]

  This commit disables NFS until the commands
  changes from oc to kubectl.
- Move ansible-lint to args. [Carlos Camacho]

  This commit fixes the way we call ansible-lint.
- Update tox.ini. [Glenn Marcy]

  This commit replaces the -name with -wholename for the roles yaml files
- Update nfs role to latest k8s sig practice. [Glenn Marcy]

  This commit refreshes the way we generate the yaml artifacts for
  managed-nfs-storage and also now uses that storage class to allocate
  the volume for the image registry.
- Include dns server in static ip config. [Carlos Camacho]

  This commit includes the DNS servers when
  configuring the external interface bridge.
- Enable kiextbr0 interface after configuring the static IP. [Carlos
  Camacho]

  This commit enables the interface just afet the manual IP is
  configured.
- Include error for non supported distros. [Carlos Camacho]

  This commit checks that the detach script
  fails if they hypervisors are Ubuntu or
  Debian as they are not yet supported.
- Include NetworkManager OVS package. [Carlos Camacho]

  This commit adds the NetworkManager-ovs
  in CentOS.
- Adjust treeinfo for RHCOS. [Carlos Camacho]

  This commit adds a correct treeinfo file to deploy rhcos
  images.
- Check if the distro is Centos or Fedora in the detach script. [Carlos
  Camacho]

  This commit validates that the detach script install the
  correct packages when creating the OVS bridge.
- Organize pending libvirt files. [Carlos Camacho]

  This commit finishes to organize the
  pending files fomr the libvirt role.
- Backup install manifests. [Carlos Camacho]

  This commit store the install manifests
  before rendering the ignition files for
  having a better debugging.
- Adjust tasks files names. [Carlos Camacho]

  This commit adjust the k8s distros roles file names to be consistent
  about how they run.


v1.0.1 - Release date: 2021-03-10
---------------------------------



Chore
~~~~~
- Release 1.0.1. [Carlos Camacho]

  This commit releases Kubeinit 1.0.1
  with full OVN support for multinode cluster deployments.
- Mirror to GitLab. [Carlos Camacho]

  This commit after every merge, will push the latest version to GitLab.
- Update version of fcos. [sean-m-sullivan]

Documentation
~~~~~~~~~~~~~
- Add the cleanup section. [Carlos Camacho]

  This commit adds a playbook to clean the environment
  in the documentation.

Features
~~~~~~~~
- Render detach script in the external interface host. [Carlos Camacho]

  This commit renders the detach script in the host that needs
  to have external access to the service guest.
- Allow deploying the service node in any chassis. [Carlos Camacho]

  This commit allows to deploy the service machine
  with the exterenal interface in any of the chassis.
- Replace ssh config.kubeinit file with ssh -o ProxyCommand. [Glenn
  Marcy]

  This commit removes the creation (and cleanup) of an ssh config file
  and replaces it with an ssh ProxyCommand option when accessing the
  cluster nodes.
- Collect all of the non-hypervisor nodes into all_nodes group. [Glenn
  Marcy]

  This commit adds a new all_nodes group to make it easier to iterate
  over that list and to prevent confusion when additional items are
  added to the all group after reading the inventory.
- Add view to bind for public bridge network. [Glenn Marcy]

  This commit allows for hosts on the public bridge network to make
  dns requests that will resolve on the service node to internal
  addresses accessible to those hosts.
- Add the external interface to OVN deployment. [Carlos Camacho]

  This commit connects the service external interface
  to the OVN network.
- Split OVN nat rules. [Carlos Camacho]

  This commit splits the OVN iptables rules
  to allow adding the external interface details.
- Validate physical cores per guest. [Carlos Camacho]

  This commit checks that per each physical
  core there can be up to 4 virtual cores.
- Use source based routing in the service node. [Carlos Camacho]

  Now the service node has two interfaces if we require
  to have external access to the cluster resources.
  This commit implements the usage of
  Policy-Based-Routing Rules to ensure
  the traffic from one interface comes out using the
  same interface.
- Include ci scripts. [Carlos Camacho]

  This commit includes the worker node prepare script
  for the GitLab runner and fixes the script to enslave
  the external access interface.
- Include OVN clean tasks in the cleanup file. [Carlos Camacho]

  This PR includes the OVN cleaning tasks and
  install Python3 in the CentOS guests.
- Split the cleanup tasks in a separate file. [Carlos Camacho]

  This PR makes easier to execute only the cleanup tasks.
- Centralize health check in libvirt. [Carlos Camacho]

  This PR centralize all the checks that
  verify that the cluster nodes are up and
  running.
- Add more timeout parameters. [Carlos Camacho]

  This PR adds some additional timeout parameters.

Fixes
~~~~~
- Update when conditions for external bridge checks. [Glenn Marcy]

  This commit changes the conditions so that we only check for the
  correct status return from nmcli con show after we have checked
  the conditions which were used to run those commands.
- Update how we iterate over validation maps. [Glenn Marcy]

  This commit changes the way we iterate over resources when we are
  checking them.  Check that for each resource that we need that the
  hypervisor providing those has sufficient capacity.
- Replace stricthostkeychecking with StrictHostKeyChecking. [Glenn
  Marcy]

  This commit updates all the hosts inventory files to use the same
  case convention as the rest of the project for ssh options.
- Patch the external interface to the OVS bridge. [Carlos Camacho]

  This commit is the last step to have
  access to the external cluster interface.
  This patches both OVS bridges from the
  cluster network and the host physical interface.
- Add enslaver helpers. [Carlos Camacho]

  This commir helps to enslave the
  physical interface.
- Update ansible in the docs release job. [Carlos Camacho]

  This commit updates ansible in the job that
  publishes the docs.
- Make sure we use latest ansible in CI. [Carlos Camacho]

  Because of https://github.com/ansible/ansible/pull/71824
  we need to make sure we use the latest version of
  Ansible in the CI.
- Move haproxy port to 9090 and disable ipv6. [Carlos Camacho]

  This commit shifts the default 9000 port to
  9090 because it might conflict with the default
  cockpit port and disables ipv6 by default in
  the guests.
- Parse correctly args. [Carlos Camacho]

  This commit parses correctly the
  arguments.
- Split periodic job in multiple smaller jobs. [Carlos Camacho]

  This commit splits the periodic job into multiple
  jobs because it takes too much time to execute all the
  posible scenarios in a single run.
- Wait for bootstrap to complete. [Carlos Camacho]

  This commit force the deployment
  to wait until the bootstrap step completes.
- Detect the external interface. [Carlos Camacho]

  This commit replaces eno1 with the
  correct interface nem of the router gateway in
  the OVN deployment.
- Run bridge check only in the external host. [Carlos Camacho]

  This PR checks that the external bridge is only
  created in the node with the service node.
- Fetching all branches returns 1 if they already exists. [Carlos
  Camacho]

  This commit makes sure fetching the branches never returns 1.
- Move GitLab mirror to sw release. [Carlos Camacho]

  This commit moves the repo sync to the correct place.
- Fix ansible lint issues. [Carlos Camacho]

  This commit fixes some ansible-lint issues in the code.
- Include ansible-lint checks again. [Carlos Camacho]

  This PR enables back the ansible-lint check
  that was failing in the past.
- Cleanup and configure ssh proxy once and wait for guest. [Carlos
  Camacho]

  This PR makes sure we ssh proxy is configured once, also, cleaned
  once in the first hypervisor.

  Also makes sure each guest boots before continue, if we
  create multiple guests at the same time libvirt may crash.
- Use local ssh config instead of proxy settings. [Carlos Camacho]

  This patch configures the SSH config file instead
  of the Ansible proxy settings, Ansible for some
  reason is not honoring them anymore.
- Adjust inventory to honor the ssh proxy. [Carlos Camacho]

  This PR fixes a breakage in the way the collection
  connects to the guests. The previous approach is not
  honored by Ansible anymore so we can not connect to the
  guests. We now use ansible_ssh_extra_args instead of
  ansible_ssh_common_args.
- Align OVN network parameters with inventory variables. [Carlos
  Camacho]

  This PR aligns the OVN network parameters
  with the values from the inventory files, currently
  they are hardwired.
- Name check nodes correctly. [Carlos Camacho]

  This PR renames correctly a task that checks that nodes are ready.
- Replace wait_for by wait_for_connection. [Carlos Camacho]

  Listening to port 22 do not guarantee that ansible is able to login
  so we can hit race conditions.


v1.0.0 - Release date: 2021-02-05
---------------------------------



Chore
~~~~~
- Release 1.0.0. [Carlos Camacho]

  This PR releases kubeinit 1.0.0
  with mutiple features amongs them
  support for 5 kubernetes distributions,
  multicluster and multinode deployments.
- Template updates and logo img. [Carlos Camacho]

  This patch updates some templates and logos.

Documentation
~~~~~~~~~~~~~
- Update link. [Carlos Camacho]

  Change links to GH repo

Features
~~~~~~~~
- Make OVN available for multinode deployments. [Carlos Camacho]

  This PR makes available to deploy kubeinit in a multinode
  environment.
- Add more OVN steps. [Carlos Camacho]

  This PR adds more steps for the OVN
  configuration NAT+DHCP
- Add post OVN deployment steps. [Carlos Camacho]

  This patch adds a post deployment step for OVN.
- Allow deployments using OVN. [Carlos Camacho]

  This patch allows to deploy
  Kubeinit using OVN.
- Lint the fqcn playbooks. [Carlos Camacho]

  This patch checks that all tasks use fqcn

   Please enter the commit message for your changes. Lines starting
- Convert to fqcn. [Carlos Camacho]

  This patch converts the roles content to fqcn
- Use fqcn in skeleton and playbooks. [Carlos Camacho]

  This is the first iteration to use the fqcn in the project.
- Make OVN parameters available from the role defaults. [Carlos Camacho]

  This patch adds the OVN configuration parameters
  available from the role defaults.
- Include OVN configuration steps. [Carlos Camacho]

  This PR includes the steps for configuring OVN
  in a multi-HV environment.
- Add more changes to support multiple hypervisors. [Carlos Camacho]

  This is anoter patch to support multiple HVs in any
  distro deployment.
- Include initial support for multiple hypervisors. [Carlos Camacho]

  This is the first series of patches to add support for
  multiple hypervisors.

  This updates the inventory files and updates the
  disk space validation.
- Include initial ui PoC. [Carlos Camacho]

  This patch reuse a PoC I had from the
  past.

Fixes
~~~~~
- Allow not waiting for okd to converge. [Carlos Camacho]

  This includes a variable to wait or not until
  the cluster converges, mostly the autoupdate
  can take more than 1 hour to finish.
- Allow bind to forward requests. [Carlos Camacho]

  This patch allows to forward requests
  between multiple clusters.
- Include internal dns in CI deployments. [Carlos Camacho]

  This PR includes a missing parameter to update
  an internal DNS.
- Do not enable OVN yet. [Carlos Camacho]

  OVN is no ready yet, so dont enable it.
- Adjust OVN config deployment. [Carlos Camacho]

  Added some minor fixes for the OVN deployment.
- Register correctly eks worker nodes. [Carlos Camacho]

  There is a wrong conditional breaking eks
  deployments with a single master node.
- Make sure libvirtd is enabled. [Carlos Camacho]

  By default libvirtd is not enabled
  so the deployments might fail.

  Also add a failsafe path for libvirt default
  folder.

  And label the eks nodes at the end of the
  deployment.
- Install docker everywhere in cdk. [Carlos Camacho]

  Execute the common steps in all the cdk nodes.
- Remove unneeded tasks and tags. [Carlos Camacho]

  This patch removes a few unneeded tags and tasks.
- Adjust playbook files to avoid duplicated steps. [Carlos Camacho]

  This PR fixes a duplication step when configuring the
  services nodes.
- Adjust missing inventory files. [Carlos Camacho]

  We missed to comment the hypervisors in
  some distros, breaking the disk space validation.
- Update variables. [Carlos Camacho]

  This patch updates some misc variables
- Openshift sdk is not required. [Carlos Camacho]

  This patch removes the openshift requirement which is
  not necesary.


v0.6.5 - Release date: 2020-12-15
---------------------------------



Chore
~~~~~
- Keep ara version. [Carlos Camacho]

  Latest ara is faulty.
- Update readme content. [Carlos Camacho]

  This patch simplifies the project's
  readme file.

Features
~~~~~~~~
- Add simple agent skeleton. [Carlos Camacho]

  This patch adds a simple skeleton code for the agent
- Trigger submariner jobs. [Carlos Camacho]

  This patch triggers submariner jobs
  and update its labels and status
  accordingly.
- Deploy OKD 4.6. [Carlos Camacho]

  This patch bumps the default deployed version
  of OKD to 4.6

Fixes
~~~~~
- Do not update logs link if cant upload to GitHub. [Carlos Camacho]

  This patch makes the jobs in GH to keep
  the original link if the file upload
  failed pushing the logs to GitHub.
- Add workarounds for 1 master OKD cluster. [Carlos Camacho]

  There are some missing parameters that
  needs to be adjusted in OKD 4.6 to deploy
  single node clusters.


v0.6.4 - Release date: 2020-12-09
---------------------------------



Chore
~~~~~
- Release 0.6.4. [Carlos Camacho]

  This patch releases v0.6.4

Documentation
~~~~~~~~~~~~~
- Fix link. [Carlos Camacho]

  Fix broken link
- Remove unneeded notes. [Carlos Camacho]

  This patch removes some unneeded notes

Fixes
~~~~~
- Fix template indentation. [Carlos Camacho]

  This patch fixes somw wrong identation
  in the NFS templates.
- Replace okd by service regex. [Carlos Camacho]

  This patch changes a hardwired okd
  in the NFS templates for a regex.

  Do not merge this.

Refactor
~~~~~~~~
- Refines task clause naming and removes obsolete code. [Brendan Boyd]
- Adds changed_when and when clauses to nfs provisioner. [Brendan Boyd]
- Adds nfs storage class and moves nfs config to post deployment.
  [Brendan Boyd]


v0.6.3 - Release date: 2020-12-08
---------------------------------



Chore
~~~~~
- Release and update docs. [Carlos Camacho]

  This patch builds a new release
  and amends the documentation.

Features
~~~~~~~~
- Include eks as a new distro. [Carlos Camacho]

  The following patch allows the deployment of EKS-d

Fixes
~~~~~
- Remove common.yml from the inventory grapher. [Carlos Camacho]

  This patch excludes common.yml from the
  docs graphing tooling.
- Include pending variables. [Carlos Camacho]

  This patch adds some pending variables to configure
  EKS correctly.
- Allow insecure registry with docker in OKD. [Carlos Camacho]

  This patch enables insecure registries in OKD when using with
  docker.
- Allow insecure registry with docker in OKD. [Carlos Camacho]

  This patch enables insecure registries in OKD when using with
  docker.


v0.6.2 - Release date: 2020-12-04
---------------------------------



Chore
~~~~~
- Release 0.6.2. [Carlos Camacho]

  This patch releases 0.6.2 fix a major fix
  for the new podman version breaking all distros
  deployments.
- Pre-deploy OKD 4.6. [Carlos Camacho]

  This patch configures the
  requirements to deploy OKD 4.6.
- Include date in job name. [Carlos Camacho]

  This patch includes the date
  in the patch names.
- Clean unneeded titles. [Carlos Camacho]

  This patch cleans up some unneeded titles
  in the roles.
- Sync all ci scripts. [Carlos Camacho]

  This patch syncs both CI scripts
- Docs fix. [Carlos Camacho]

  2 simple empty lines
- Update readme. [Carlos Camacho]

  This patch updates the readme
  with the way to run kubeinit
  from a quay container and a
  docs update.

Documentation
~~~~~~~~~~~~~
- Add readme as part of docs. [Carlos Camacho]

  This patch adds the readme file as part of the documentation.

Features
~~~~~~~~
- Include subctl verify as a new playbook. [Carlos Camacho]

  This patch adds an new playbook for running
  subctl verify so the CI logs are in a different
  section.
- Include ara in the ci results. [Carlos Camacho]

  This path includes ara as part of the CI jobs
  execution

Fixes
~~~~~
- Allow docker and podman in the local registry container. [Carlos
  Camacho]

  This patch allows choosing between docker or podman in the
  service machine when installing the local registry.
- Merge CI logs in a single commit. [Carlos Camacho]

  WE had issues to push the CI logs with binary
  files, this patch fix that issue and commits only
  one change.
- Pull from local registry explicitly. [Carlos Camacho]

  When deploying submariner the newly created
  container images need to be tagged and pointed
  to the local registry.


v0.6.1 - Release date: 2020-11-23
---------------------------------



Chore
~~~~~
- Add container image in quay. [Carlos Camacho]

  After each release we push a new tag to quay
- Split code for better readability. [Carlos Camacho]

  This patch splits a few tasks for better readability.
- Print PR inf in the submariner playbook. [Carlos Camacho]

  This patch adds some debung information
  when getting the submariner operator code

Fixes
~~~~~
- Adjust operator image overrides. [Carlos Camacho]

  This patch fix the parameter to override the submariner operator
- Remove quotes from eof. [Carlos Camacho]

  Quotes in OEF blocks variable expansion which is the
  default behavior inside of here-docs.
  This was disabled by quoting the label (with single or double quotes).


v0.6.0 - Release date: 2020-11-20
---------------------------------



Chore
~~~~~
- Cut 0.6.0. [Carlos Camacho]

  This releases KubeInit's 0.6.0

Documentation
~~~~~~~~~~~~~
- Add inventory and playbook diagrams. [Carlos Camacho]

  This patch renders automatically the
  inventory and supported playbooks
  for the supported scenarios.
- Add syntax check docs for commits. [Carlos Camacho]

  This patch updates the docs for adding a
  https://www.conventionalcommits.org reference

Features
~~~~~~~~
- Add fixed mac address to the external interface. [BK, Carlos Camacho]

  This patch adds support for adding a fixed mac
  address to the external interface in the service node.
- Include submariner container image build deployments. [Carlos Camacho]

  This patch adds a PoC for building the container
  images for the submariner-operator repo based on a PR.
- Enable the container registry by default. [Carlos Camacho]

  This patch synchronize the remote registry with the local
  registry instance for the current supported Kubernetes
  distributions.
- Include a local disconnected registry. [Carlos Camacho]

  This patch enables the ability to use
  a disconnected local container image
  registry to speed up the deployments.
- Add vcpus configurable for okd bootstrap. [cgoguyer]
- Make vcpus configurable. [cgoguyer]
- Make globalnet configurable. [Carlos Camacho]

  This patch adds a new role variable to make
  globalnet optinal.
- Use fqdn in cluster definition. [Carlos Camacho]

  This patch introduces the FQDN usage in the Ubuntu based
  clusters, also, triggers cloud-init in every node after the
  initial package update.
- Include submariner job. [Carlos Camacho]

  This patch adds the submariner job.
- Include submariner playbook. [Carlos Camacho]

  This patch includes the Ansible
  automation to connect two KubeInit
  clusters with OKD and RKE.
- Include a commitlint check. [Carlos Camacho]

  This patch adds a commitlint check for
  every pull request.
- Include submariner and registry roles. [Carlos Camacho]

  This patch adds the skeleton of the new roles to be integrated

Fixes
~~~~~
- Include --image-override in the submariner playbook. [Carlos Camacho]

  This patch makes fully usable the submariner job and the
  CI deployment.
- Adjust ci job variables and insecure registries. [Carlos Camacho]

  This patch fixes some CI job variables not validated
  properly and the RKE insecure registry deployment.
- Appends okd pullsecret to disconnected install. [Carlos Camacho]

  This patch appends the disconnected install auth token
  to the pullsecrets variable so its added to the pullSecret
  install-config variable when deploying the OKD cluster.
- Stop install on CentOS7. [Juan Badia Payno]
- Solve masquerade issues. [Carlos Camacho]

  This patch solves some masquerading issues in the hypervisor.
- Adjust subctl commands. [Carlos Camacho]

  This patch adjust both broker and secondary
  cluster deployment.
- Include no-label and remove comment from script. [Carlos Camacho]

  This patch makes the join cluster command non interactive.
  Also removes some comments in the scrips first line.
- Adjust subctl commands. [Carlos Camacho]

  This patch adjust both broker and secondary
  cluster deployment.
- Swapped variable names within kubeinit_okd_dependencies. [Bilal
  Khoukhi]

  Swaps the variables within kubeinit_okd_dependencies.
  Client was given the Installer's URL, and vice versa.
- Move from virt-resize to qemu-img resize. [Carlos Camacho]

  Current libguestfs 1.40.2 fails with
  virt-resize: error: libguestfs error: f2fs: unknown group
- Fix permalinks in theme. [Carlos Camacho]

Refactor
~~~~~~~~
- Move auth pullsecret as a role variable. [Carlos Camacho]

  This change moves the pullsecret JSON data in
  the OKD role as a variable.
- Code split. [Carlos Camacho]

  This patch organizes better the
  template configs for deploying okd and rke.
- Add regexp for changelog. [Carlos Camacho]

  This adds the correct regular expressions for the
  changelog.


v0.5.7 - Release date: 2020-10-21
---------------------------------


- Prune changelog, add job dependency, and release. [Carlos Camacho]


v0.5.6 - Release date: 2020-10-21
---------------------------------


- Fetch all history. [Carlos Camacho]


v0.5.4 - Release date: 2020-10-21
---------------------------------


- Build with changelog. [Carlos Camacho]

  This patch renders the buildlog and
  creates automatically the project's first release
- Update jobs and render first GH release. [Carlos Camacho]
- Pass env var. [Carlos Camacho]
- Update script. [Carlos Camacho]
- Auto release. [Carlos Camacho]
- Release to galaxy. [Carlos Camacho]
- Bad. [Carlos Camacho]
- Test. [Carlos Camacho]
- Test. [Carlos Camacho]
- Test job. [Carlos Camacho]
- Fix bundle. [Carlos Camacho]
- Deploy cdk 3 master nodes. [Carlos Camacho]
- Fix report path. [Carlos Camacho]
- Podman to docker. [Carlos Camacho]
- Fix molecule. [Carlos Camacho]
- Clean. [Carlos Camacho]
- Cdk content. [Carlos Camacho]
- New roles. [Carlos Camacho]
- Ubuntu. [Carlos Camacho]
- Upgrade. [Carlos Camacho]
- Add haproxy role. [Carlos Camacho]
- Split bind. [Carlos Camacho]
- Split nfs. [Carlos Camacho]
- Include apache role. [Carlos Camacho]
- Ha k8s. [Carlos Camacho]
- Include raw k8s. [Carlos Camacho]
- Include stale job. [Carlos Camacho]
- Include ci envs. [Carlos Camacho]
- Allow multiple clusters per host. [Carlos Camacho]
- Rem bootstrap node. [Carlos Camacho]
- Match PV-PVC. [Carlos Camacho]
- Slides. [Carlos Camacho]
- Add firewalld rules. [Carlos Camacho]
- From container. [Carlos Camacho]
- Add dockerfile. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Roles refactor. [Carlos Camacho]
- Partial organization. [Carlos Camacho]
- Include readme in docs. [Carlos Camacho]
- Update README. [Carlos Camacho]
- Add manifests for day 1 autoapprover. [Yolanda Robla]
- Add modifications for rhcos download. [Yolanda Robla]
- Add changes to move to 4.6 and full iso. [Yolanda Robla]
- Changes for using new full ISO image. [Yolanda Robla]
- Changes needed for 4.6 and customizing iso. [Yolanda Robla]
- Add new script to prepare iso for offline install. [Yolanda Robla]
- Add pipeline to deploy a cluster. [Yolanda Robla]
- Add fixes for ignition configuration. [Yolanda Robla]
- Add login command to produce image. [Yolanda Robla]
- Add fixes for libvirt dns. [Yolanda Robla]
- Add ci for building image. [Yolanda Robla]
- Add modifications for local dns. [Yolanda Robla]
- Add README.md file. [Yolanda Robla]
- Remove inventory/hosts file. [Yolanda Robla]
- Upload sample inventory.hosts with all settings. [Yolanda Robla]
- Add fixes for worker vms. [Yolanda Robla]
- Add new changes for bootstrap. [Yolanda Robla]
- Add fixes to create addresses for hosts. [Yolanda Robla]
- Add changes for iso install. [Yolanda Robla]
- Add changes in coreos installer service. [Yolanda Robla]
- Add management of bootstrap vm. [Yolanda Robla]
- Add new task to prepare the isos to be installed. [Yolanda Robla]
- Add tasks for generating ignition files. [Yolanda Robla]
- Add new changes for pulling live cd. [Yolanda Robla]
- Add steps for configuring installer. [Yolanda Robla]
- New changes for preparing install. [Yolanda Robla]
- Add initial preparation tasks. [Yolanda Robla]
- Initial commit. [Yolanda Robla]
- Add collection. [Carlos Camacho]
- Fix lints. [Carlos Camacho]
- Include CI scripts. [Carlos Camacho]
- Fix logo link. [Carlos Camacho]
- Add sanity galaxy check. [Carlos Camacho]
- Tetst Galaxy automation. [Carlos Camacho]
- Update galaxy file. [Carlos Camacho]
- Reduce RAM reqs and add RAM validation. [Carlos Camacho]
- Add tool to publish to Galaxy. [Carlos Camacho]
- Fix vars prefix. [Carlos Camacho]
- Include validations role. [Carlos Camacho]
- Replace pending old ref. [Carlos Camacho]
- Replace ccamacho with Kubeinit where applicable. [Glenn Marcy]
- Add HowTo's to readme. [Carlos Camacho]
- Adjust external variable. [Carlos Camacho]
- Allow DNS queries for external view. [Carlos Camacho]
- WIP external interface, multizone bind, and remove template in
  conditionals. [Carlos Camacho]
- Allow Debian/Ubuntu hosts + Kubevirt. [Carlos Camacho]
- Cleanup KubeVirt role. [Carlos Camacho]
- Add Kubevirt support. [Carlos Camacho]
- Fix lint. [Carlos Camacho]
- Add kubevirt steps. [Carlos Camacho]
- Replace hyphens by underscore. [Carlos Camacho]
- Kubevirt changes. [Carlos Camacho]
- Add kubevirt WIP. [Carlos Camacho]
- Update logo. [Carlos Camacho]
- Minor fixes. [Carlos Camacho]
- Fix lint nits. [Carlos Camacho]
- Testing basic molecule coverage. [Carlos Camacho]
- REadme fix. [Carlos Camacho]
- Include html badges. [Carlos Camacho]
- Include badges in readme. [Carlos Camacho]
- Install ansible in docs build. [Carlos Camacho]
- Include render autodoc. [Carlos Camacho]
- Force push pages. [Carlos Camacho]
- Link docs. [Carlos Camacho]
- Add symlink. [Carlos Camacho]
- Create docs. [Carlos Camacho]
- Print final debug information. [Carlos Camacho]
- Get some final details. [Carlos Camacho]
- Adjust ignition files. [Carlos Camacho]
- Fix nits. [Carlos Camacho]
- Nits. [Carlos Camacho]
- REsize disk. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Deploy correctly okd4.5. [Carlos Camacho]
- Clean. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Okd4.5. [Carlos Camacho]
- Fixed ip and workaround. [Carlos Camacho]
- Include ifc renaming. [Carlos Camacho]
- Include OKD draft. [Carlos Camacho]
- Fix deplot crio 1.18 and kubeadm 1.18 in centos 8. [Carlos Camacho]
- Update tasks. [Carlos Camacho]
- Passing lint. [Carlos Camacho]
- Update deps. [Carlos Camacho]
- Lint cleanup. [Carlos Camacho]
- Readme. [Carlos Camacho]
- New readme. [Carlos Camacho]
- Group linters. [Carlos Camacho]
- Yamllint. [Carlos Camacho]
- Rename job. [Carlos Camacho]
- Move to cri-o and centos 8. [Carlos Camacho]
- Push howto and minor templates fixes. [Carlos Camacho]
- Adjust VM templates. [Carlos Camacho]
- Adjust ram and hypervisor IP. [Carlos Camacho]
- Forgot minor fixes push. [Carlos Camacho]
- Fix templates, first verison done. [Carlos Camacho]
- Clean lint. [Carlos Camacho]
- Comment socond reboot. [Carlos Camacho]
- Fix req file. [Carlos Camacho]
- Ansible execution fixes. [Carlos Camacho]
- Add more fixes. [Carlos Camacho]
- Fix zombi guests. [Carlos Camacho]
- Fix/finish provisioning templates. [Carlos Camacho]
- Introduce Ansible automation. [Carlos Camacho]
- Initial commit. [Carlos Camacho]


