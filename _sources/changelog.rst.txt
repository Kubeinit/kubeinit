Changelog
=========


(unreleased)
------------



Fixes
~~~~~
- Openshift sdk is not required. [Carlos Camacho]

  This patch removes the openshift requirement which is
  not necesary.


v0.6.5 - Release date: 2020-12-15
---------------------------------



Chore
~~~~~
- Keep ara version. [Carlos Camacho]

  Latest ara is faulty.
- Update readme content. [Carlos Camacho]

  This patch simplifies the project's
  readme file.

Features
~~~~~~~~
- Add simple agent skeleton. [Carlos Camacho]

  This patch adds a simple skeleton code for the agent
- Trigger submariner jobs. [Carlos Camacho]

  This patch triggers submariner jobs
  and update its labels and status
  accordingly.
- Deploy OKD 4.6. [Carlos Camacho]

  This patch bumps the default deployed version
  of OKD to 4.6

Fixes
~~~~~
- Do not update logs link if cant upload to GitHub. [Carlos Camacho]

  This patch makes the jobs in GH to keep
  the original link if the file upload
  failed pushing the logs to GitHub.
- Add workarounds for 1 master OKD cluster. [Carlos Camacho]

  There are some missing parameters that
  needs to be adjusted in OKD 4.6 to deploy
  single node clusters.


v0.6.4 - Release date: 2020-12-09
---------------------------------



Chore
~~~~~
- Release 0.6.4. [Carlos Camacho]

  This patch releases v0.6.4

Documentation
~~~~~~~~~~~~~
- Fix link. [Carlos Camacho]

  Fix broken link
- Remove unneeded notes. [Carlos Camacho]

  This patch removes some unneeded notes

Fixes
~~~~~
- Fix template indentation. [Carlos Camacho]

  This patch fixes somw wrong identation
  in the NFS templates.
- Replace okd by service regex. [Carlos Camacho]

  This patch changes a hardwired okd
  in the NFS templates for a regex.

  Do not merge this.

Refactor
~~~~~~~~
- Refines task clause naming and removes obsolete code. [Brendan Boyd]
- Adds changed_when and when clauses to nfs provisioner. [Brendan Boyd]
- Adds nfs storage class and moves nfs config to post deployment.
  [Brendan Boyd]


v0.6.3 - Release date: 2020-12-08
---------------------------------



Chore
~~~~~
- Release and update docs. [Carlos Camacho]

  This patch builds a new release
  and amends the documentation.

Features
~~~~~~~~
- Include eks as a new distro. [Carlos Camacho]

  The following patch allows the deployment of EKS-d

Fixes
~~~~~
- Remove common.yml from the inventory grapher. [Carlos Camacho]

  This patch excludes common.yml from the
  docs graphing tooling.
- Include pending variables. [Carlos Camacho]

  This patch adds some pending variables to configure
  EKS correctly.
- Allow insecure registry with docker in OKD. [Carlos Camacho]

  This patch enables insecure registries in OKD when using with
  docker.
- Allow insecure registry with docker in OKD. [Carlos Camacho]

  This patch enables insecure registries in OKD when using with
  docker.


v0.6.2 - Release date: 2020-12-04
---------------------------------



Chore
~~~~~
- Release 0.6.2. [Carlos Camacho]

  This patch releases 0.6.2 fix a major fix
  for the new podman version breaking all distros
  deployments.
- Pre-deploy OKD 4.6. [Carlos Camacho]

  This patch configures the
  requirements to deploy OKD 4.6.
- Include date in job name. [Carlos Camacho]

  This patch includes the date
  in the patch names.
- Clean unneeded titles. [Carlos Camacho]

  This patch cleans up some unneeded titles
  in the roles.
- Sync all ci scripts. [Carlos Camacho]

  This patch syncs both CI scripts
- Docs fix. [Carlos Camacho]

  2 simple empty lines
- Update readme. [Carlos Camacho]

  This patch updates the readme
  with the way to run kubeinit
  from a quay container and a
  docs update.

Documentation
~~~~~~~~~~~~~
- Add readme as part of docs. [Carlos Camacho]

  This patch adds the readme file as part of the documentation.

Features
~~~~~~~~
- Include subctl verify as a new playbook. [Carlos Camacho]

  This patch adds an new playbook for running
  subctl verify so the CI logs are in a different
  section.
- Include ara in the ci results. [Carlos Camacho]

  This path includes ara as part of the CI jobs
  execution

Fixes
~~~~~
- Allow docker and podman in the local registry container. [Carlos
  Camacho]

  This patch allows choosing between docker or podman in the
  service machine when installing the local registry.
- Merge CI logs in a single commit. [Carlos Camacho]

  WE had issues to push the CI logs with binary
  files, this patch fix that issue and commits only
  one change.
- Pull from local registry explicitly. [Carlos Camacho]

  When deploying submariner the newly created
  container images need to be tagged and pointed
  to the local registry.


v0.6.1 - Release date: 2020-11-23
---------------------------------



Chore
~~~~~
- Add container image in quay. [Carlos Camacho]

  After each release we push a new tag to quay
- Split code for better readability. [Carlos Camacho]

  This patch splits a few tasks for better readability.
- Print PR inf in the submariner playbook. [Carlos Camacho]

  This patch adds some debung information
  when getting the submariner operator code

Fixes
~~~~~
- Adjust operator image overrides. [Carlos Camacho]

  This patch fix the parameter to override the submariner operator
- Remove quotes from eof. [Carlos Camacho]

  Quotes in OEF blocks variable expansion which is the
  default behavior inside of here-docs.
  This was disabled by quoting the label (with single or double quotes).


v0.6.0 - Release date: 2020-11-20
---------------------------------



Chore
~~~~~
- Cut 0.6.0. [Carlos Camacho]

  This releases KubeInit's 0.6.0

Documentation
~~~~~~~~~~~~~
- Add inventory and playbook diagrams. [Carlos Camacho]

  This patch renders automatically the
  inventory and supported playbooks
  for the supported scenarios.
- Add syntax check docs for commits. [Carlos Camacho]

  This patch updates the docs for adding a
  https://www.conventionalcommits.org reference

Features
~~~~~~~~
- Add fixed mac address to the external interface. [BK, Carlos Camacho]

  This patch adds support for adding a fixed mac
  address to the external interface in the service node.
- Include submariner container image build deployments. [Carlos Camacho]

  This patch adds a PoC for building the container
  images for the submariner-operator repo based on a PR.
- Enable the container registry by default. [Carlos Camacho]

  This patch synchronize the remote registry with the local
  registry instance for the current supported Kubernetes
  distributions.
- Include a local disconnected registry. [Carlos Camacho]

  This patch enables the ability to use
  a disconnected local container image
  registry to speed up the deployments.
- Add vcpus configurable for okd bootstrap. [cgoguyer]
- Make vcpus configurable. [cgoguyer]
- Make globalnet configurable. [Carlos Camacho]

  This patch adds a new role variable to make
  globalnet optinal.
- Use fqdn in cluster definition. [Carlos Camacho]

  This patch introduces the FQDN usage in the Ubuntu based
  clusters, also, triggers cloud-init in every node after the
  initial package update.
- Include submariner job. [Carlos Camacho]

  This patch adds the submariner job.
- Include submariner playbook. [Carlos Camacho]

  This patch includes the Ansible
  automation to connect two KubeInit
  clusters with OKD and RKE.
- Include a commitlint check. [Carlos Camacho]

  This patch adds a commitlint check for
  every pull request.
- Include submariner and registry roles. [Carlos Camacho]

  This patch adds the skeleton of the new roles to be integrated

Fixes
~~~~~
- Include --image-override in the submariner playbook. [Carlos Camacho]

  This patch makes fully usable the submariner job and the
  CI deployment.
- Adjust ci job variables and insecure registries. [Carlos Camacho]

  This patch fixes some CI job variables not validated
  properly and the RKE insecure registry deployment.
- Appends okd pullsecret to disconnected install. [Carlos Camacho]

  This patch appends the disconnected install auth token
  to the pullsecrets variable so its added to the pullSecret
  install-config variable when deploying the OKD cluster.
- Stop install on CentOS7. [Juan Badia Payno]
- Solve masquerade issues. [Carlos Camacho]

  This patch solves some masquerading issues in the hypervisor.
- Adjust subctl commands. [Carlos Camacho]

  This patch adjust both broker and secondary
  cluster deployment.
- Include no-label and remove comment from script. [Carlos Camacho]

  This patch makes the join cluster command non interactive.
  Also removes some comments in the scrips first line.
- Adjust subctl commands. [Carlos Camacho]

  This patch adjust both broker and secondary
  cluster deployment.
- Swapped variable names within kubeinit_okd_dependencies. [Bilal
  Khoukhi]

  Swaps the variables within kubeinit_okd_dependencies.
  Client was given the Installer's URL, and vice versa.
- Move from virt-resize to qemu-img resize. [Carlos Camacho]

  Current libguestfs 1.40.2 fails with
  virt-resize: error: libguestfs error: f2fs: unknown group
- Fix permalinks in theme. [Carlos Camacho]

Refactor
~~~~~~~~
- Move auth pullsecret as a role variable. [Carlos Camacho]

  This change moves the pullsecret JSON data in
  the OKD role as a variable.
- Code split. [Carlos Camacho]

  This patch organizes better the
  template configs for deploying okd and rke.
- Add regexp for changelog. [Carlos Camacho]

  This adds the correct regular expressions for the
  changelog.


v0.5.7 - Release date: 2020-10-21
---------------------------------


- Prune changelog, add job dependency, and release. [Carlos Camacho]


v0.5.6 - Release date: 2020-10-21
---------------------------------


- Fetch all history. [Carlos Camacho]


v0.5.4 - Release date: 2020-10-21
---------------------------------


- Build with changelog. [Carlos Camacho]

  This patch renders the buildlog and
  creates automatically the project's first release
- Update jobs and render first GH release. [Carlos Camacho]
- Pass env var. [Carlos Camacho]
- Update script. [Carlos Camacho]
- Auto release. [Carlos Camacho]
- Release to galaxy. [Carlos Camacho]
- Bad. [Carlos Camacho]
- Test. [Carlos Camacho]
- Test. [Carlos Camacho]
- Test job. [Carlos Camacho]
- Fix bundle. [Carlos Camacho]
- Deploy cdk 3 master nodes. [Carlos Camacho]
- Fix report path. [Carlos Camacho]
- Podman to docker. [Carlos Camacho]
- Fix molecule. [Carlos Camacho]
- Clean. [Carlos Camacho]
- Cdk content. [Carlos Camacho]
- New roles. [Carlos Camacho]
- Ubuntu. [Carlos Camacho]
- Upgrade. [Carlos Camacho]
- Add haproxy role. [Carlos Camacho]
- Split bind. [Carlos Camacho]
- Split nfs. [Carlos Camacho]
- Include apache role. [Carlos Camacho]
- Ha k8s. [Carlos Camacho]
- Include raw k8s. [Carlos Camacho]
- Include stale job. [Carlos Camacho]
- Include ci envs. [Carlos Camacho]
- Allow multiple clusters per host. [Carlos Camacho]
- Rem bootstrap node. [Carlos Camacho]
- Match PV-PVC. [Carlos Camacho]
- Slides. [Carlos Camacho]
- Add firewalld rules. [Carlos Camacho]
- From container. [Carlos Camacho]
- Add dockerfile. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Roles refactor. [Carlos Camacho]
- Partial organization. [Carlos Camacho]
- Include readme in docs. [Carlos Camacho]
- Update README. [Carlos Camacho]
- Add manifests for day 1 autoapprover. [Yolanda Robla]
- Add modifications for rhcos download. [Yolanda Robla]
- Add changes to move to 4.6 and full iso. [Yolanda Robla]
- Changes for using new full ISO image. [Yolanda Robla]
- Changes needed for 4.6 and customizing iso. [Yolanda Robla]
- Add new script to prepare iso for offline install. [Yolanda Robla]
- Add pipeline to deploy a cluster. [Yolanda Robla]
- Add fixes for ignition configuration. [Yolanda Robla]
- Add login command to produce image. [Yolanda Robla]
- Add fixes for libvirt dns. [Yolanda Robla]
- Add ci for building image. [Yolanda Robla]
- Add modifications for local dns. [Yolanda Robla]
- Add README.md file. [Yolanda Robla]
- Remove inventory/hosts file. [Yolanda Robla]
- Upload sample inventory.hosts with all settings. [Yolanda Robla]
- Add fixes for worker vms. [Yolanda Robla]
- Add new changes for bootstrap. [Yolanda Robla]
- Add fixes to create addresses for hosts. [Yolanda Robla]
- Add changes for iso install. [Yolanda Robla]
- Add changes in coreos installer service. [Yolanda Robla]
- Add management of bootstrap vm. [Yolanda Robla]
- Add new task to prepare the isos to be installed. [Yolanda Robla]
- Add tasks for generating ignition files. [Yolanda Robla]
- Add new changes for pulling live cd. [Yolanda Robla]
- Add steps for configuring installer. [Yolanda Robla]
- New changes for preparing install. [Yolanda Robla]
- Add initial preparation tasks. [Yolanda Robla]
- Initial commit. [Yolanda Robla]
- Add collection. [Carlos Camacho]
- Fix lints. [Carlos Camacho]
- Include CI scripts. [Carlos Camacho]
- Fix logo link. [Carlos Camacho]
- Add sanity galaxy check. [Carlos Camacho]
- Tetst Galaxy automation. [Carlos Camacho]
- Update galaxy file. [Carlos Camacho]
- Reduce RAM reqs and add RAM validation. [Carlos Camacho]
- Add tool to publish to Galaxy. [Carlos Camacho]
- Fix vars prefix. [Carlos Camacho]
- Include validations role. [Carlos Camacho]
- Replace pending old ref. [Carlos Camacho]
- Replace ccamacho with Kubeinit where applicable. [Glenn Marcy]
- Add HowTo's to readme. [Carlos Camacho]
- Adjust external variable. [Carlos Camacho]
- Allow DNS queries for external view. [Carlos Camacho]
- WIP external interface, multizone bind, and remove template in
  conditionals. [Carlos Camacho]
- Allow Debian/Ubuntu hosts + Kubevirt. [Carlos Camacho]
- Cleanup KubeVirt role. [Carlos Camacho]
- Add Kubevirt support. [Carlos Camacho]
- Fix lint. [Carlos Camacho]
- Add kubevirt steps. [Carlos Camacho]
- Replace hyphens by underscore. [Carlos Camacho]
- Kubevirt changes. [Carlos Camacho]
- Add kubevirt WIP. [Carlos Camacho]
- Update logo. [Carlos Camacho]
- Minor fixes. [Carlos Camacho]
- Fix lint nits. [Carlos Camacho]
- Testing basic molecule coverage. [Carlos Camacho]
- REadme fix. [Carlos Camacho]
- Include html badges. [Carlos Camacho]
- Include badges in readme. [Carlos Camacho]
- Install ansible in docs build. [Carlos Camacho]
- Include render autodoc. [Carlos Camacho]
- Force push pages. [Carlos Camacho]
- Link docs. [Carlos Camacho]
- Add symlink. [Carlos Camacho]
- Create docs. [Carlos Camacho]
- Print final debug information. [Carlos Camacho]
- Get some final details. [Carlos Camacho]
- Adjust ignition files. [Carlos Camacho]
- Fix nits. [Carlos Camacho]
- Nits. [Carlos Camacho]
- REsize disk. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Deploy correctly okd4.5. [Carlos Camacho]
- Clean. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Cleanup. [Carlos Camacho]
- Okd4.5. [Carlos Camacho]
- Fixed ip and workaround. [Carlos Camacho]
- Include ifc renaming. [Carlos Camacho]
- Include OKD draft. [Carlos Camacho]
- Fix deplot crio 1.18 and kubeadm 1.18 in centos 8. [Carlos Camacho]
- Update tasks. [Carlos Camacho]
- Passing lint. [Carlos Camacho]
- Update deps. [Carlos Camacho]
- Lint cleanup. [Carlos Camacho]
- Readme. [Carlos Camacho]
- New readme. [Carlos Camacho]
- Group linters. [Carlos Camacho]
- Yamllint. [Carlos Camacho]
- Rename job. [Carlos Camacho]
- Move to cri-o and centos 8. [Carlos Camacho]
- Push howto and minor templates fixes. [Carlos Camacho]
- Adjust VM templates. [Carlos Camacho]
- Adjust ram and hypervisor IP. [Carlos Camacho]
- Forgot minor fixes push. [Carlos Camacho]
- Fix templates, first verison done. [Carlos Camacho]
- Clean lint. [Carlos Camacho]
- Comment socond reboot. [Carlos Camacho]
- Fix req file. [Carlos Camacho]
- Ansible execution fixes. [Carlos Camacho]
- Add more fixes. [Carlos Camacho]
- Fix zombi guests. [Carlos Camacho]
- Fix/finish provisioning templates. [Carlos Camacho]
- Introduce Ansible automation. [Carlos Camacho]
- Initial commit. [Carlos Camacho]


